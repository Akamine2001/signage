"use strict";(self.webpackChunkmeio_classroom_info=self.webpackChunkmeio_classroom_info||[]).push([[179],{2011:(gt,we,P)=>{P.d(we,{Dh:()=>de,GT:()=>Q,cc:()=>xe,hO:()=>je,on:()=>z,pX:()=>re,xv:()=>ue});var l=P(4650),J=P(9260),N=P(2122);gt=P.hmd(gt);const ie=["ngOnDestroy"],re=(De,Se,Ne,Ee={})=>new Proxy(De,{get:(be,Ae)=>Ne.runOutsideAngular(()=>{var Ve;if(De[Ae])return!(null===(Ve=Ee?.spy)||void 0===Ve)&&Ve.get&&Ee.spy.get(Ae,De[Ae]),De[Ae];if(ie.indexOf(Ae)>-1)return()=>{};const Fe=Se.toPromise().then(H=>{const ye=H&&H[Ae];return"function"==typeof ye?ye.bind(H):ye&&ye.then?ye.then(Ue=>Ne.run(()=>Ue)):Ne.run(()=>ye)});return new Proxy(()=>{},{get:(H,ye)=>Fe[ye],apply:(H,ye,Ue)=>Fe.then(Ze=>{var _t;const rt=Ze&&Ze(...Ue);return!(null===(_t=Ee?.spy)||void 0===_t)&&_t.apply&&Ee.spy.apply(Ae,Ue,rt),rt})})})}),Q=(De,Se)=>{Se.forEach(Ne=>{Object.getOwnPropertyNames(Ne.prototype||Ne).forEach(Ee=>{Object.defineProperty(De.prototype,Ee,Object.getOwnPropertyDescriptor(Ne.prototype||Ne,Ee))})})};class me{constructor(Se){return Se}}const de=new l.OlP("angularfire2.app.options"),ue=new l.OlP("angularfire2.app.name");function z(De,Se,Ne){const be="object"==typeof Ne&&Ne||{};be.name=be.name||"string"==typeof Ne&&Ne||"[DEFAULT]";const Ve=J.Z.apps.filter(Fe=>Fe&&Fe.name===be.name)[0]||Se.runOutsideAngular(()=>J.Z.initializeApp(De,be));try{JSON.stringify(De)!==JSON.stringify(Ve.options)&&q("error",`${Ve.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(Ve)}const q=(De,...Se)=>{(0,l.X6Q)()&&typeof console<"u"&&console[De](...Se)},K={provide:me,useFactory:z,deps:[de,l.R0b,[new l.FiY,ue]]};let je=(()=>{class De{constructor(Ne){J.Z.registerVersion("angularfire",N.q4.full,"core"),J.Z.registerVersion("angularfire",N.q4.full,"app-compat"),J.Z.registerVersion("angular",l.q4F.full,Ne.toString())}static initializeApp(Ne,Ee){return{ngModule:De,providers:[{provide:de,useValue:Ne},{provide:ue,useValue:Ee}]}}}return De.\u0275fac=function(Ne){return new(Ne||De)(l.LFG(l.Lbi))},De.\u0275mod=l.oAB({type:De}),De.\u0275inj=l.cJS({providers:[K]}),De})();function xe(De,Se,Ne,Ee,be){const[,Ae,Ve]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===De)||[];if(Ae)return function Ge(De,Se){try{return De.toString()===Se.toString()}catch{return De===Se}}(be,Ve)||(fe("error",`${Se} was already initialized on the ${Ne} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:be,was:Ve})),Ae;{const Fe=Ee();return globalThis.\u0275AngularfireInstanceCache.push([De,Fe,be]),Fe}}const dt=!!gt.hot,fe=(De,...Se)=>{(0,l.X6Q)()&&typeof console<"u"&&console[De](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(gt,we,P)=>{P.d(we,{q4:()=>pa,iC:()=>ma,HU:()=>os,vb:()=>qe,JM:()=>ao});var l=P(4650),J=P(259),N=P(5861),ie=P(9681),re=P(2090),Q=P(4859),me=P(1877),de=P(8766);const ue="@firebase/installations",z="0.6.4",q=1e4,K=`w:${z}`,je="FIS_v2",xe="https://firebaseinstallations.googleapis.com/v1",Ge=36e5,Se=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ne(D){return D instanceof re.ZR&&D.code.includes("request-failed")}function Ee({projectId:D}){return`${xe}/projects/${D}/installations`}function be(D){return{token:D.token,requestStatus:2,expiresIn:Ze(D.expiresIn),creationTime:Date.now()}}function Ae(D,S){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,N.Z)(function*(D,S){const V=(yield S.json()).error;return Se.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Fe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ye(D){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,N.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function Ze(D){return Number(D.replace("s","000"))}function se(){return(se=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:R}){const V=Ee(D),W=Fe(D),ne=S.getImmediate({optional:!0});if(ne){const mt=yield ne.getHeartbeatsHeader();mt&&W.append("x-firebase-client",mt)}const ct={method:"POST",headers:W,body:JSON.stringify({fid:R,authVersion:je,appId:D.appId,sdkVersion:K})},ut=yield ye(()=>fetch(V,ct));if(ut.ok){const mt=yield ut.json();return{fid:mt.fid||R,registrationStatus:2,refreshToken:mt.refreshToken,authToken:be(mt.authToken)}}throw yield Ae("Create Installation",ut)})).apply(this,arguments)}function he(D){return new Promise(S=>{setTimeout(S,D)})}const Re=/^[cdef][\w-]{21}$/,Le="";function ze(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function et(D){return function ve(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Re.test(R)?R:Le}catch{return Le}}function Qe(D){return`${D.appName}!${D.appId}`}const un=new Map;function St(D,S){const R=Qe(D);Rt(R,S),function Jn(D,S){const R=function Mn(){return!vn&&"BroadcastChannel"in self&&(vn=new BroadcastChannel("[Firebase] FID Change"),vn.onmessage=D=>{Rt(D.data.key,D.data.fid)}),vn}();R&&R.postMessage({key:D,fid:S}),function Fn(){0===un.size&&vn&&(vn.close(),vn=null)}()}(R,S)}function Rt(D,S){const R=un.get(D);if(R)for(const V of R)V(S)}let vn=null;const Er="firebase-installations-database",fs=1,xr="firebase-installations-store";let lr=null;function qo(){return lr||(lr=(0,de.X3)(Er,fs,{upgrade:(D,S)=>{0===S&&D.createObjectStore(xr)}})),lr}function An(D,S){return cr.apply(this,arguments)}function cr(){return(cr=(0,N.Z)(function*(D,S){const R=Qe(D),W=(yield qo()).transaction(xr,"readwrite"),ne=W.objectStore(xr),Ie=yield ne.get(R);return yield ne.put(S,R),yield W.done,(!Ie||Ie.fid!==S.fid)&&St(D,S.fid),S})).apply(this,arguments)}function bt(D){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,N.Z)(function*(D){const S=Qe(D),V=(yield qo()).transaction(xr,"readwrite");yield V.objectStore(xr).delete(S),yield V.done})).apply(this,arguments)}function zr(D,S){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,N.Z)(function*(D,S){const R=Qe(D),W=(yield qo()).transaction(xr,"readwrite"),ne=W.objectStore(xr),Ie=yield ne.get(R),ct=S(Ie);return void 0===ct?yield ne.delete(R):yield ne.put(ct,R),yield W.done,ct&&(!Ie||Ie.fid!==ct.fid)&&St(D,ct.fid),ct})).apply(this,arguments)}function Mi(D){return ps.apply(this,arguments)}function ps(){return ps=(0,N.Z)(function*(D){let S;const R=yield zr(D.appConfig,V=>{const W=function Bt(D){return Ai(D||{fid:ze(),registrationStatus:0})}(V),ne=function xt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Se.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function kt(D,S){return ms.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Dn(D)}:{installationEntry:S}}(D,W);return S=ne.registrationPromise,ne.installationEntry});return R.fid===Le?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}}),ps.apply(this,arguments)}function ms(){return ms=(0,N.Z)(function*(D,S){try{const R=yield function rt(D,S){return se.apply(this,arguments)}(D,S);return An(D.appConfig,R)}catch(R){throw Ne(R)&&409===R.customData.serverCode?yield bt(D.appConfig):yield An(D.appConfig,{fid:S.fid,registrationStatus:0}),R}}),ms.apply(this,arguments)}function Dn(D){return ei.apply(this,arguments)}function ei(){return(ei=(0,N.Z)(function*(D){let S=yield Gi(D.appConfig);for(;1===S.registrationStatus;)yield he(100),S=yield Gi(D.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:V}=yield Mi(D);return V||R}return S})).apply(this,arguments)}function Gi(D){return zr(D,S=>{if(!S)throw Se.create("installation-not-found");return Ai(S)})}function Ai(D){return function Pa(D){return 1===D.registrationStatus&&D.registrationTime+q<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Co(){return(Co=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:S},R){const V=function nn(D,{fid:S}){return`${Ee(D)}/${S}/authTokens:generate`}(D,R),W=function H(D,{refreshToken:S}){const R=Fe(D);return R.append("Authorization",function _t(D){return`${je} ${D}`}(S)),R}(D,R),ne=S.getImmediate({optional:!0});if(ne){const mt=yield ne.getHeartbeatsHeader();mt&&W.append("x-firebase-client",mt)}const ct={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:K,appId:D.appId}})},ut=yield ye(()=>fetch(V,ct));if(ut.ok)return be(yield ut.json());throw yield Ae("Generate Auth Token",ut)})).apply(this,arguments)}function qi(D){return Jr.apply(this,arguments)}function Jr(){return Jr=(0,N.Z)(function*(D,S=!1){let R;const V=yield zr(D.appConfig,ne=>{if(!$t(ne))throw Se.create("not-registered");const Ie=ne.authToken;if(!S&&function Ri(D){return 2===D.requestStatus&&!function j(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+Ge}(D)}(Ie))return ne;if(1===Ie.requestStatus)return R=function $e(D,S){return Ce.apply(this,arguments)}(D,S),ne;{if(!navigator.onLine)throw Se.create("app-offline");const ct=function U(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}(ne);return R=function At(D,S){return Lt.apply(this,arguments)}(D,ct),ct}});return R?yield R:V.authToken}),Jr.apply(this,arguments)}function Ce(){return(Ce=(0,N.Z)(function*(D,S){let R=yield ot(D.appConfig);for(;1===R.authToken.requestStatus;)yield he(100),R=yield ot(D.appConfig);const V=R.authToken;return 0===V.requestStatus?qi(D,S):V})).apply(this,arguments)}function ot(D){return zr(D,S=>{if(!$t(S))throw Se.create("not-registered");return function Z(D){return 1===D.requestStatus&&D.requestTime+q<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Lt(){return Lt=(0,N.Z)(function*(D,S){try{const R=yield function fn(D,S){return Co.apply(this,arguments)}(D,S),V=Object.assign(Object.assign({},S),{authToken:R});return yield An(D.appConfig,V),R}catch(R){if(!Ne(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield An(D.appConfig,V)}else yield bt(D.appConfig);throw R}}),Lt.apply(this,arguments)}function $t(D){return void 0!==D&&2===D.registrationStatus}function te(){return(te=(0,N.Z)(function*(D){const S=D,{installationEntry:R,registrationPromise:V}=yield Mi(S);return V?V.catch(console.error):qi(S).catch(console.error),R.fid})).apply(this,arguments)}function Ye(){return Ye=(0,N.Z)(function*(D,S=!1){const R=D;return yield function gn(D){return Nn.apply(this,arguments)}(R),(yield qi(R,S)).token}),Ye.apply(this,arguments)}function Nn(){return(Nn=(0,N.Z)(function*(D){const{registrationPromise:S}=yield Mi(D);S&&(yield S)})).apply(this,arguments)}function Ol(D){return Se.create("missing-app-config-values",{valueName:D})}const Fl="installations",jn=D=>{const S=D.getProvider("app").getImmediate(),R=function zc(D){if(!D||!D.options)throw Ol("App Configuration");if(!D.name)throw Ol("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!D.options[R])throw Ol(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,ie._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},$c=D=>{const S=D.getProvider("app").getImmediate(),R=(0,ie._getProvider)(S,Fl).getImmediate();return{getId:()=>function _e(D){return te.apply(this,arguments)}(R),getToken:W=>function it(D){return Ye.apply(this,arguments)}(R,W)}};(function Gc(){(0,ie._registerComponent)(new Q.wA(Fl,jn,"PUBLIC")),(0,ie._registerComponent)(new Q.wA("installations-internal",$c,"PRIVATE"))})(),(0,ie.registerVersion)(ue,z),(0,ie.registerVersion)(ue,z,"esm2017");const rn="@firebase/remote-config",ki=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zs{constructor(S,R,V,W){this.client=S,this.storage=R,this.storageCache=V,this.logger=W}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-R,W=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${W}.`),W}fetch(S){var R=this;return(0,N.Z)(function*(){const[V,W]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(W&&R.isCachedDataFresh(S.cacheMaxAgeMillis,V))return W;S.eTag=W&&W.eTag;const ne=yield R.client.fetch(S),Ie=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&Ie.push(R.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(Ie),ne})()}}function Ko(D=navigator){return D.languages&&D.languages[0]||D.language}class Zi{constructor(S,R,V,W,ne,Ie){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=V,this.projectId=W,this.apiKey=ne,this.appId=Ie}fetch(S){var R=this;return(0,N.Z)(function*(){const[V,W]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},ut={sdk_version:R.sdkVersion,app_instance_id:V,app_instance_id_token:W,app_id:R.appId,language_code:Ko()},mt={method:"POST",headers:ct,body:JSON.stringify(ut)},Kt=fetch(Ie,mt),Tt=new Promise((Yn,On)=>{S.signal.addEventListener(()=>{const $n=new Error("The operation was aborted.");$n.name="AbortError",On($n)})});let Bn;try{yield Promise.race([Kt,Tt]),Bn=yield Kt}catch(Yn){let On="fetch-client-network";throw"AbortError"===Yn?.name&&(On="fetch-timeout"),ki.create(On,{originalErrorMessage:Yn?.message})}let Vn=Bn.status;const nl=Bn.headers.get("ETag")||void 0;let Qi,qr;if(200===Bn.status){let Yn;try{Yn=yield Bn.json()}catch(On){throw ki.create("fetch-client-parse",{originalErrorMessage:On?.message})}Qi=Yn.entries,qr=Yn.state}if("INSTANCE_STATE_UNSPECIFIED"===qr?Vn=500:"NO_CHANGE"===qr?Vn=304:("NO_TEMPLATE"===qr||"EMPTY_CONFIG"===qr)&&(Qi={}),304!==Vn&&200!==Vn)throw ki.create("fetch-status",{httpStatus:Vn});return{status:Vn,eTag:nl,config:Qi}})()}}class en{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,N.Z)(function*(){const V=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:V}){var W=this;return(0,N.Z)(function*(){yield function Yi(D,S){return new Promise((R,V)=>{const W=Math.max(S-Date.now(),0),ne=setTimeout(R,W);D.addEventListener(()=>{clearTimeout(ne),V(ki.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const ne=yield W.client.fetch(S);return yield W.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function qc(D){if(!(D instanceof re.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ne))throw ne;const Ie={throttleEndTimeMillis:Date.now()+(0,re.$s)(V),backoffCount:V+1};return yield W.storage.setThrottleMetadata(Ie),W.attemptFetch(S,Ie)}})()}}class Pl{constructor(S,R,V,W,ne){this.app=S,this._client=R,this._storageCache=V,this._storage=W,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function vs(D,S){const R=D.target.error||void 0;return ki.create(S,{originalErrorMessage:R&&R?.message})}const Sr="app_namespace_store";class dr{constructor(S,R,V,W=function Sm(){return new Promise((D,S)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=V=>{S(vs(V,"storage-open"))},R.onsuccess=V=>{D(V.target.result)},R.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Sr,{keyPath:"compositeKey"})}}catch(R){S(ki.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=S,this.appName=R,this.namespace=V,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((W,ne)=>{const ct=V.transaction([Sr],"readonly").objectStore(Sr),ut=R.createCompositeKey(S);try{const mt=ct.get(ut);mt.onerror=Kt=>{ne(vs(Kt,"storage-get"))},mt.onsuccess=Kt=>{const Tt=Kt.target.result;W(Tt?Tt.value:void 0)}}catch(mt){ne(ki.create("storage-get",{originalErrorMessage:mt?.message}))}})})()}set(S,R){var V=this;return(0,N.Z)(function*(){const W=yield V.openDbPromise;return new Promise((ne,Ie)=>{const ut=W.transaction([Sr],"readwrite").objectStore(Sr),mt=V.createCompositeKey(S);try{const Kt=ut.put({compositeKey:mt,value:R});Kt.onerror=Tt=>{Ie(vs(Tt,"storage-set"))},Kt.onsuccess=()=>{ne()}}catch(Kt){Ie(ki.create("storage-set",{originalErrorMessage:Kt?.message}))}})})()}delete(S){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((W,ne)=>{const ct=V.transaction([Sr],"readwrite").objectStore(Sr),ut=R.createCompositeKey(S);try{const mt=ct.delete(ut);mt.onerror=Kt=>{ne(vs(Kt,"storage-delete"))},mt.onsuccess=()=>{W()}}catch(mt){ne(ki.create("storage-delete",{originalErrorMessage:mt?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class hr{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,N.Z)(function*(){const R=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),W=S.storage.getActiveConfig(),ne=yield R;ne&&(S.lastFetchStatus=ne);const Ie=yield V;Ie&&(S.lastSuccessfulFetchTimestampMillis=Ie);const ct=yield W;ct&&(S.activeConfig=ct)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Oi(){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,N.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function xo(){(0,ie._registerComponent)(new Q.wA("remote-config",function D(S,{instanceIdentifier:R}){const V=S.getProvider("app").getImmediate(),W=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ki.create("registration-window");if(!(0,re.hl)())throw ki.create("indexed-db-unavailable");const{projectId:ne,apiKey:Ie,appId:ct}=V.options;if(!ne)throw ki.create("registration-project-id");if(!Ie)throw ki.create("registration-api-key");if(!ct)throw ki.create("registration-app-id");const ut=new dr(ct,V.name,R=R||"firebase"),mt=new hr(ut),Kt=new me.Yd(rn);Kt.logLevel=me.in.ERROR;const Tt=new Zi(W,ie.SDK_VERSION,R,ne,Ie,ct),Bn=new en(Tt,ut),Vn=new Zs(Bn,ut,mt,Kt),nl=new Pl(V,Vn,mt,ut,Kt);return function _s(D){const S=(0,re.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(nl),nl},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(rn,"0.4.4"),(0,ie.registerVersion)(rn,"0.4.4","esm2017")}();const xd="/firebase-messaging-sw.js",Do="/firebase-cloud-messaging-push-scope",ws="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Va="https://fcmregistrations.googleapis.com/v1",Zc="google.c.a.c_id",sf="google.c.a.c_l",af="google.c.a.ts",Im="google.c.a.e";var Cs=(()=>{return(D=Cs||(Cs={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Cs;var D})();function no(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Tm(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(R),W=new Uint8Array(V.length);for(let ne=0;ne<V.length;++ne)W[ne]=V.charCodeAt(ne);return W}const io="fcm_token_details_db",Yc=5,Ir="fcm_token_object_Store";function Ll(){return Ll=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(io))return null;let S=null;return(yield(0,de.X3)(io,Yc,{upgrade:(V=(0,N.Z)(function*(W,ne,Ie,ct){var ut;if(ne<2||!W.objectStoreNames.contains(Ir))return;const mt=ct.objectStore(Ir),Kt=yield mt.index("fcmSenderId").get(D);if(yield mt.clear(),Kt)if(2===ne){const Tt=Kt;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;S={token:Tt.fcmToken,createTime:null!==(ut=Tt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:no(Tt.vapidKey)}}}else if(3===ne){const Tt=Kt;S={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:no(Tt.auth),p256dh:no(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:no(Tt.vapidKey)}}}else if(4===ne){const Tt=Kt;S={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:no(Tt.auth),p256dh:no(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:no(Tt.vapidKey)}}}}),function(ne,Ie,ct,ut){return V.apply(this,arguments)})})).close(),yield(0,de.Lj)(io),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),function Dd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var V}),Ll.apply(this,arguments)}const Bl="firebase-messaging-database",Mm=1,fr="firebase-messaging-store";let Sd=null;function Es(){return Sd||(Sd=(0,de.X3)(Bl,Mm,{upgrade:(D,S)=>{0===S&&D.createObjectStore(fr)}})),Sd}function Ua(D){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,N.Z)(function*(D){const S=Qo(D),V=yield(yield Es()).transaction(fr).objectStore(fr).get(S);if(V)return V;{const W=yield function Kc(D){return Ll.apply(this,arguments)}(D.appConfig.senderId);if(W)return yield Xs(D,W),W}}),Qs.apply(this,arguments)}function Xs(D,S){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,N.Z)(function*(D,S){const R=Qo(D),W=(yield Es()).transaction(fr,"readwrite");return yield W.objectStore(fr).put(S,R),yield W.done,S})).apply(this,arguments)}function Ul(){return(Ul=(0,N.Z)(function*(D){const S=Qo(D),V=(yield Es()).transaction(fr,"readwrite");yield V.objectStore(fr).delete(S),yield V.done})).apply(this,arguments)}function Qo({appConfig:D}){return D.appId}const ln=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hl(D,S){return ja.apply(this,arguments)}function ja(){return(ja=(0,N.Z)(function*(D,S){const R=yield Qc(D),V=ci(S),W={method:"POST",headers:R,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(za(D.appConfig),W)).json()}catch(Ie){throw ln.create("token-subscribe-failed",{errorInfo:Ie?.toString()})}if(ne.error)throw ln.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw ln.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function jl(){return(jl=(0,N.Z)(function*(D,S){const R=yield Qc(D),V=ci(S.subscriptionOptions),W={method:"PATCH",headers:R,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(`${za(D.appConfig)}/${S.token}`,W)).json()}catch(Ie){throw ln.create("token-update-failed",{errorInfo:Ie?.toString()})}if(ne.error)throw ln.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw ln.create("token-update-no-token");return ne.token})).apply(this,arguments)}function ro(D,S){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,N.Z)(function*(D,S){const V={method:"DELETE",headers:yield Qc(D)};try{const ne=yield(yield fetch(`${za(D.appConfig)}/${S}`,V)).json();if(ne.error)throw ln.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(W){throw ln.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function za({projectId:D}){return`${Va}/projects/${D}/registrations`}function Qc(D){return oo.apply(this,arguments)}function oo(){return(oo=(0,N.Z)(function*({appConfig:D,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ci({p256dh:D,auth:S,endpoint:R,vapidKey:V}){const W={web:{endpoint:R,auth:S,p256dh:D}};return V!==ws&&(W.web.applicationPubKey=V),W}const Xc=6048e5;function $a(){return $a=(0,N.Z)(function*(D){const S=yield function Md(D,S){return Ga.apply(this,arguments)}(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:no(S.getKey("auth")),p256dh:no(S.getKey("p256dh"))},V=yield Ua(D.firebaseDependencies);if(V){if(function lf(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}(V.subscriptionOptions,R))return Date.now()>=V.createTime+Xc?function Jc(D,S){return Ot.apply(this,arguments)}(D,{token:V.token,createTime:Date.now(),subscriptionOptions:R}):V.token;try{yield ro(D.firebaseDependencies,V.token)}catch(W){console.warn(W)}return Td(D.firebaseDependencies,R)}return Td(D.firebaseDependencies,R)}),$a.apply(this,arguments)}function ea(){return ea=(0,N.Z)(function*(D){const S=yield Ua(D.firebaseDependencies);S&&(yield ro(D.firebaseDependencies,S.token),yield function Vl(D){return Ul.apply(this,arguments)}(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),ea.apply(this,arguments)}function Ot(){return Ot=(0,N.Z)(function*(D,S){try{const R=yield function Ln(D,S){return jl.apply(this,arguments)}(D.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield Xs(D.firebaseDependencies,V),R}catch(R){throw yield function So(D){return ea.apply(this,arguments)}(D),R}}),Ot.apply(this,arguments)}function Td(D,S){return zl.apply(this,arguments)}function zl(){return(zl=(0,N.Z)(function*(D,S){const V={token:yield Hl(D,S),createTime:Date.now(),subscriptionOptions:S};return yield Xs(D,V),V.token})).apply(this,arguments)}function Ga(){return(Ga=(0,N.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Tm(S)})})).apply(this,arguments)}function $l(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function cf(D,S){if(!S.notification)return;D.notification={};const R=S.notification.title;R&&(D.notification.title=R);const V=S.notification.body;V&&(D.notification.body=V);const W=S.notification.image;W&&(D.notification.image=W);const ne=S.notification.icon;ne&&(D.notification.icon=ne)}(S,D),function kn(D,S){S.data&&(D.data=S.data)}(S,D),function Me(D,S){var R,V,W,ne,Ie;if(!(S.fcmOptions||null!==(R=S.notification)&&void 0!==R&&R.click_action))return;D.fcmOptions={};const ct=null!==(W=null===(V=S.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==W?W:null===(ne=S.notification)||void 0===ne?void 0:ne.click_action;ct&&(D.fcmOptions.link=ct);const ut=null===(Ie=S.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;ut&&(D.fcmOptions.analyticsLabel=ut)}(S,D),S}function Gl(D,S){const R=[];for(let V=0;V<D.length;V++)R.push(D.charAt(V)),V<S.length&&R.push(S.charAt(V));return R.join("")}function ui(D){return ln.create("missing-app-config-values",{valueName:D})}Gl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Gl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class eu{constructor(S,R,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function uf(D){if(!D||!D.options)throw ui("App Configuration Object");if(!D.name)throw ui("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const V of S)if(!R[V])throw ui(V);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:W,installations:R,analyticsProvider:V}}_delete(){return Promise.resolve()}}function ta(D){return pr.apply(this,arguments)}function pr(){return(pr=(0,N.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(xd,{scope:Do}),D.swRegistration.update().catch(()=>{})}catch(S){throw ln.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function na(){return(na=(0,N.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield ta(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw ln.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function ql(){return(ql=(0,N.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=ws)})).apply(this,arguments)}function zn(){return zn=(0,N.Z)(function*(D,S){if(!navigator)throw ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ln.create("permission-blocked");return yield function Rd(D,S){return ql.apply(this,arguments)}(D,S?.vapidKey),yield function Ad(D,S){return na.apply(this,arguments)}(D,S?.serviceWorkerRegistration),function Js(D){return $a.apply(this,arguments)}(D)}),zn.apply(this,arguments)}function qa(){return(qa=(0,N.Z)(function*(D,S,R){const V=function Wa(D){switch(D){case Cs.NOTIFICATION_CLICKED:return"notification_open";case Cs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:R[Zc],message_name:R[sf],message_time:R[af],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wl(){return Wl=(0,N.Z)(function*(D,S){const R=S.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===Cs.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler($l(R)):D.onMessageHandler.next($l(R)));const V=R.data;(function on(D){return"object"==typeof D&&!!D&&Zc in D})(V)&&"1"===V[Im]&&(yield function mr(D,S,R){return qa.apply(this,arguments)}(D,R.messageType,V))}),Wl.apply(this,arguments)}const kd="@firebase/messaging",nu=D=>{const S=new eu(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Tr(D,S){return Wl.apply(this,arguments)}(S,R)),S},Zl=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:V=>function tu(D,S){return zn.apply(this,arguments)}(S,V)}};function iu(){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,N.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xs(){(0,ie._registerComponent)(new Q.wA("messaging",nu,"PUBLIC")),(0,ie._registerComponent)(new Q.wA("messaging-internal",Zl,"PRIVATE")),(0,ie.registerVersion)(kd,"0.12.4"),(0,ie.registerVersion)(kd,"0.12.4","esm2017")}();const Pd="analytics",Om="firebase_id",Ki="origin",Za=6e4,Sn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Io="https://www.googletagmanager.com/gtag/js",ni=new me.Yd("@firebase/analytics"),gr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Pm(D){if(!D.startsWith(Io)){const S=gr.create("invalid-gtag-resource",{gtagURL:D});return ni.warn(S.message),""}return D}function Nm(D){return Promise.all(D.map(S=>S.catch(R=>R)))}function Xo(){return(Xo=(0,N.Z)(function*(D,S,R,V,W,ne){const Ie=V[W];try{if(Ie)yield S[Ie];else{const ut=(yield Nm(R)).find(mt=>mt.measurementId===W);ut&&(yield S[ut.appId])}}catch(ct){ni.error(ct)}D("config",W,ne)})).apply(this,arguments)}function Mr(){return(Mr=(0,N.Z)(function*(D,S,R,V,W){try{let ne=[];if(W&&W.send_to){let Ie=W.send_to;Array.isArray(Ie)||(Ie=[Ie]);const ct=yield Nm(R);for(const ut of Ie){const mt=ct.find(Tt=>Tt.measurementId===ut),Kt=mt&&S[mt.appId];if(!Kt){ne=[];break}ne.push(Kt)}}0===ne.length&&(ne=Object.values(S)),yield Promise.all(ne),D("event",V,W||{})}catch(ne){ni.error(ne)}})).apply(this,arguments)}const Ld=30,Ar=new class Bm{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function cu(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function so(){return(so=(0,N.Z)(function*(D){var S;const{appId:R,apiKey:V}=D,W={method:"GET",headers:cu(V)},ne=Sn.replace("{app-id}",R),Ie=yield fetch(ne,W);if(200!==Ie.status&&304!==Ie.status){let ct="";try{const ut=yield Ie.json();null!==(S=ut.error)&&void 0!==S&&S.message&&(ct=ut.error.message)}catch{}throw gr.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:ct})}return Ie.json()})).apply(this,arguments)}function In(){return(In=(0,N.Z)(function*(D,S=Ar,R){const{appId:V,apiKey:W,measurementId:ne}=D.options;if(!V)throw gr.create("no-app-id");if(!W){if(ne)return{measurementId:ne,appId:V};throw gr.create("no-api-key")}const Ie=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new ff;return setTimeout((0,N.Z)(function*(){ct.abort()}),void 0!==R?R:Za),Jo({appId:V,apiKey:W,measurementId:ne},Ie,ct,S)})).apply(this,arguments)}function Jo(D,S,R){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,N.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:R},V,W=Ar){var ne;const{appId:Ie,measurementId:ct}=D;try{yield function uu(D,S){return new Promise((R,V)=>{const W=Math.max(S-Date.now(),0),ne=setTimeout(R,W);D.addEventListener(()=>{clearTimeout(ne),V(gr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(V,S)}catch(ut){if(ct)return ni.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:Ie,measurementId:ct};throw ut}try{const ut=yield function hf(D){return so.apply(this,arguments)}(D);return W.deleteThrottleMetadata(Ie),ut}catch(ut){const mt=ut;if(!function oa(D){if(!(D instanceof re.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(mt)){if(W.deleteThrottleMetadata(Ie),ct)return ni.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:Ie,measurementId:ct};throw ut}const Kt=503===Number(null===(ne=mt?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,re.$s)(R,W.intervalMillis,Ld):(0,re.$s)(R,W.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+Kt,backoffCount:R+1};return W.setThrottleMetadata(Ie,Tt),ni.debug(`Calling attemptFetch again in ${Kt} millis`),Jo(D,Tt,V,W)}}),Ss.apply(this,arguments)}class ff{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let sa,Ql;function aa(){return(aa=(0,N.Z)(function*(D,S,R,V,W){if(W&&W.global)D("event",R,V);else{const ne=yield S;D("event",R,Object.assign(Object.assign({},V),{send_to:ne}))}})).apply(this,arguments)}function Xa(){return(Xa=(0,N.Z)(function*(){if(!(0,re.hl)())return ni.warn(gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(D){return ni.warn(gr.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function Mo(){return Mo=(0,N.Z)(function*(D,S,R,V,W,ne,Ie){var ct;const ut=function ra(D){return In.apply(this,arguments)}(D);ut.then(Vn=>{R[Vn.measurementId]=Vn.appId,D.options.measurementId&&Vn.measurementId!==D.options.measurementId&&ni.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Vn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vn=>ni.error(Vn)),S.push(ut);const mt=function pf(){return Xa.apply(this,arguments)}().then(Vn=>{if(Vn)return V.getId()}),[Kt,Tt]=yield Promise.all([ut,mt]);(function Lm(D){const S=window.document.getElementsByTagName("script");for(const R of Object.values(S))if(R.src&&R.src.includes(Io)&&R.src.includes(D))return R;return null})(ne)||function au(D,S){const R=function su(D,S){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(D,S)),R}("firebase-js-sdk-policy",{createScriptURL:Pm}),V=document.createElement("script"),W=`${Io}?l=${D}&id=${S}`;V.src=R?R?.createScriptURL(W):W,V.async=!0,document.head.appendChild(V)}(ne,Kt.measurementId),Ql&&(W("consent","default",Ql),function ts(D){Ql=D}(void 0)),W("js",new Date);const Bn=null!==(ct=Ie?.config)&&void 0!==ct?ct:{};return Bn[Ki]="firebase",Bn.update=!0,null!=Tt&&(Bn[Om]=Tt),W("config",Kt.measurementId,Bn),sa&&(W("set",sa),function ua(D){sa=D}(void 0)),Kt.measurementId}),Mo.apply(this,arguments)}class Bd{constructor(S){this.app=S}_delete(){return delete Gr[this.app.options.appId],Promise.resolve()}}let Gr={},Xl=[];const Ts={};let Jl,Pi,Ms="dataLayer",Vd="gtag",hu=!1;function Hd(D,S,R){!function da(){const D=[];if((0,re.ru)()&&D.push("This is a browser extension environment."),(0,re.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((V,W)=>`(${W+1}) ${V}`).join(" "),R=gr.create("invalid-analytics-context",{errorInfo:S});ni.warn(R.message)}}();const V=D.options.appId;if(!V)throw gr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw gr.create("no-api-key");ni.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gr[V])throw gr.create("already-exists",{id:V});if(!hu){!function ia(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(Ms);const{wrappedGtag:ne,gtagCore:Ie}=function Nd(D,S,R,V,W){let ne=function(...Ie){window[V].push(arguments)};return window[W]&&"function"==typeof window[W]&&(ne=window[W]),window[W]=function Ya(D,S,R,V){function ne(){return ne=(0,N.Z)(function*(Ie,ct,ut){try{"event"===Ie?yield function Kl(D,S,R,V,W){return Mr.apply(this,arguments)}(D,S,R,ct,ut):"config"===Ie?yield function Ds(D,S,R,V,W,ne){return Xo.apply(this,arguments)}(D,S,R,V,ct,ut):"consent"===Ie?D("consent","update",ut):D("set",ct)}catch(mt){ni.error(mt)}}),ne.apply(this,arguments)}return function W(Ie,ct,ut){return ne.apply(this,arguments)}}(ne,D,S,R),{gtagCore:ne,wrappedGtag:window[W]}}(Gr,Xl,Ts,Ms,Vd);Pi=ne,Jl=Ie,hu=!0}return Gr[V]=function mf(D,S,R,V,W,ne,Ie){return Mo.apply(this,arguments)}(D,Xl,Ts,S,Jl,Ms,R),new Bd(D)}function Ao(){return As.apply(this,arguments)}function As(){return(As=(0,N.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const _f="@firebase/analytics";!function yf(){(0,ie._registerComponent)(new Q.wA(Pd,(S,{options:R})=>Hd(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ie._registerComponent)(new Q.wA("analytics-internal",function D(S){try{const R=S.getProvider(Pd).getImmediate();return{logEvent:(V,W,ne)=>function ns(D,S,R,V){D=(0,re.m9)(D),function Ka(D,S,R,V,W){return aa.apply(this,arguments)}(Pi,Gr[D.app.options.appId],S,R,V).catch(W=>ni.error(W))}(R,V,W,ne)}}catch(R){throw gr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ie.registerVersion)(_f,"0.9.5"),(0,ie.registerVersion)(_f,"0.9.5","esm2017")}();var vf=P(4408),bf=P(7565);const fa=new class Um extends bf.v{}(class Py extends vf.o{constructor(S,R){super(S,R),this.scheduler=S,this.work=R}schedule(S,R=0){return R>0?super.schedule(S,R):(this.delay=R,this.state=S,this.scheduler.flush(this),this)}execute(S,R){return R>0||this.closed?super.execute(S,R):this._execute(S,R)}requestAsyncId(S,R,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,R,V):(S.flush(this),0)}});var Cf=P(4986),di=P(8505),tc=P(9468),Ro=P(5363);const pa=new l.GfV("7.5.0"),Ni="__angularfire_symbol__analyticsIsSupportedValue",is="__angularfire_symbol__analyticsIsSupported",fu="__angularfire_symbol__remoteConfigIsSupportedValue",tl="__angularfire_symbol__remoteConfigIsSupported",rs="__angularfire_symbol__messagingIsSupportedValue",Rs="__angularfire_symbol__messagingIsSupported";function ao(D,S,R){if(S){if(1===S.length)return S[0];const ne=S.filter(Ie=>Ie.app===R);if(1===ne.length)return ne[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[is]||(globalThis[is]=Ao().then(D=>globalThis[Ni]=D).catch(()=>globalThis[Ni]=!1)),globalThis[Rs]||(globalThis[Rs]=iu().then(D=>globalThis[rs]=D).catch(()=>globalThis[rs]=!1)),globalThis[tl]||(globalThis[tl]=Oi().then(D=>globalThis[fu]=D).catch(()=>globalThis[fu]=!1));const qe=(D,S)=>{const R=S?[S]:(0,J.C6)(),V=[];return R.forEach(W=>{W.container.getProvider(D).instances.forEach(Ie=>{V.includes(Ie)||V.push(Ie)})}),V};function It(){}class Zn{constructor(S,R=fa){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,V){const W=this.zone;return this.delegate.schedule(function(Ie){W.runGuarded(()=>{S.apply(this,[Ie])})},R,V)}}class xf{constructor(S){this.zone=S,this.task=null}call(S,R){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",It,{},It,It)),R.pipe((0,di.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let os=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Zn(Zone.current)),this.insideAngular=R.run(()=>new Zn(Zone.current,Cf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(l.LFG(l.R0b))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Tn(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function ma(D){return Tn(),function ga(D){return function(R){return(R=R.lift(new xf(D.ngZone))).pipe((0,tc.R)(D.outsideAngular),(0,Ro.Q)(D.insideAngular))}}(Tn())(D)}},2090:(gt,we,P)=>{P.d(we,{$s:()=>At,BH:()=>Ae,G6:()=>Re,L:()=>ue,LL:()=>St,Pz:()=>be,Sg:()=>Ve,UG:()=>ye,US:()=>Q,ZB:()=>K,ZR:()=>un,aH:()=>Ee,b$:()=>_t,eu:()=>ze,hl:()=>Le,jU:()=>Ue,m9:()=>Ri,ne:()=>Bt,pd:()=>Mi,r3:()=>xr,ru:()=>Ze,tV:()=>z,uI:()=>H,vZ:()=>cr,w1:()=>se,xO:()=>zr,xb:()=>qo,z$:()=>Fe,zI:()=>et,zd:()=>Pn});const ie=function(j){const U=[];let Z=0;for(let _e=0;_e<j.length;_e++){let te=j.charCodeAt(_e);te<128?U[Z++]=te:te<2048?(U[Z++]=te>>6|192,U[Z++]=63&te|128):55296==(64512&te)&&_e+1<j.length&&56320==(64512&j.charCodeAt(_e+1))?(te=65536+((1023&te)<<10)+(1023&j.charCodeAt(++_e)),U[Z++]=te>>18|240,U[Z++]=te>>12&63|128,U[Z++]=te>>6&63|128,U[Z++]=63&te|128):(U[Z++]=te>>12|224,U[Z++]=te>>6&63|128,U[Z++]=63&te|128)}return U},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,U){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let te=0;te<j.length;te+=3){const it=j[te],Ye=te+1<j.length,gn=Ye?j[te+1]:0,Nn=te+2<j.length,Hn=Nn?j[te+2]:0;let Wi=(15&gn)<<2|Hn>>6,eo=63&Hn;Nn||(eo=64,Ye||(Wi=64)),_e.push(Z[it>>2],Z[(3&it)<<4|gn>>4],Z[Wi],Z[eo])}return _e.join("")},encodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(j):this.encodeByteArray(ie(j),U)},decodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(j):function(j){const U=[];let Z=0,_e=0;for(;Z<j.length;){const te=j[Z++];if(te<128)U[_e++]=String.fromCharCode(te);else if(te>191&&te<224){const it=j[Z++];U[_e++]=String.fromCharCode((31&te)<<6|63&it)}else if(te>239&&te<365){const Nn=((7&te)<<18|(63&j[Z++])<<12|(63&j[Z++])<<6|63&j[Z++])-65536;U[_e++]=String.fromCharCode(55296+(Nn>>10)),U[_e++]=String.fromCharCode(56320+(1023&Nn))}else{const it=j[Z++],Ye=j[Z++];U[_e++]=String.fromCharCode((15&te)<<12|(63&it)<<6|63&Ye)}}return U.join("")}(this.decodeStringToByteArray(j,U))},decodeStringToByteArray(j,U){this.init_();const Z=U?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let te=0;te<j.length;){const it=Z[j.charAt(te++)],gn=te<j.length?Z[j.charAt(te)]:0;++te;const Hn=te<j.length?Z[j.charAt(te)]:64;++te;const Vt=te<j.length?Z[j.charAt(te)]:64;if(++te,null==it||null==gn||null==Hn||null==Vt)throw new me;_e.push(it<<2|gn>>4),64!==Hn&&(_e.push(gn<<4&240|Hn>>2),64!==Vt&&_e.push(Hn<<6&192|Vt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ue=function(j){return function(j){const U=ie(j);return Q.encodeByteArray(U,!0)}(j).replace(/\./g,"")},z=function(j){try{return Q.decodeString(j,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function K(j,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return U}for(const Z in U)!U.hasOwnProperty(Z)||!je(Z)||(j[Z]=K(j[Z],U[Z]));return j}function je(j){return"__proto__"!==j}const De=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=j&&z(j[1]);return U&&JSON.parse(U)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},Ee=()=>{var j;return null===(j=De())||void 0===j?void 0:j.config},be=j=>{var U;return null===(U=De())||void 0===U?void 0:U[`_${j}`]};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,Z)=>{this.resolve=U,this.reject=Z})}wrapCallback(U){return(Z,_e)=>{Z?this.reject(Z):this.resolve(_e),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(Z):U(Z,_e))}}}function Ve(j,U){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=U||"demo-project",te=j.iat||0,it=j.sub||j.user_id;if(!it)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:te,exp:te+3600,auth_time:te,sub:it,user_id:it,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Ye)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function H(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function ye(){var j;const U=null===(j=De())||void 0===j?void 0:j.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ue(){return"object"==typeof self&&self.self===self}function Ze(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function _t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function se(){const j=Fe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Re(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function ze(){return new Promise((j,U)=>{try{let Z=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(_e);te.onsuccess=()=>{te.result.close(),Z||self.indexedDB.deleteDatabase(_e),j(!0)},te.onupgradeneeded=()=>{Z=!1},te.onerror=()=>{var it;U((null===(it=te.error)||void 0===it?void 0:it.message)||"")}}catch(Z){U(Z)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class un extends Error{constructor(U,Z,_e){super(Z),this.code=U,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(U,Z,_e){this.service=U,this.serviceName=Z,this.errors=_e}create(U,...Z){const _e=Z[0]||{},te=`${this.service}/${U}`,it=this.errors[U],Ye=it?function sn(j,U){return j.replace(nt,(Z,_e)=>{const te=U[_e];return null!=te?String(te):`<${_e}?>`})}(it,_e):"Error";return new un(te,`${this.serviceName}: ${Ye} (${te}).`,_e)}}const nt=/\{\$([^}]+)}/g;function xr(j,U){return Object.prototype.hasOwnProperty.call(j,U)}function qo(j){for(const U in j)if(Object.prototype.hasOwnProperty.call(j,U))return!1;return!0}function cr(j,U){if(j===U)return!0;const Z=Object.keys(j),_e=Object.keys(U);for(const te of Z){if(!_e.includes(te))return!1;const it=j[te],Ye=U[te];if(bt(it)&&bt(Ye)){if(!cr(it,Ye))return!1}else if(it!==Ye)return!1}for(const te of _e)if(!Z.includes(te))return!1;return!0}function bt(j){return null!==j&&"object"==typeof j}function zr(j){const U=[];for(const[Z,_e]of Object.entries(j))Array.isArray(_e)?_e.forEach(te=>{U.push(encodeURIComponent(Z)+"="+encodeURIComponent(te))}):U.push(encodeURIComponent(Z)+"="+encodeURIComponent(_e));return U.length?"&"+U.join("&"):""}function Pn(j){const U={};return j.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[te,it]=_e.split("=");U[decodeURIComponent(te)]=decodeURIComponent(it)}}),U}function Mi(j){const U=j.indexOf("?");if(!U)return"";const Z=j.indexOf("#",U);return j.substring(U,Z>0?Z:void 0)}function Bt(j,U){const Z=new xt(j,U);return Z.subscribe.bind(Z)}class xt{constructor(U,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{U(this)}).catch(_e=>{this.error(_e)})}next(U){this.forEachObserver(Z=>{Z.next(U)})}error(U){this.forEachObserver(Z=>{Z.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,Z,_e){let te;if(void 0===U&&void 0===Z&&void 0===_e)throw new Error("Missing Observer.");te=function ms(j,U){if("object"!=typeof j||null===j)return!1;for(const Z of U)if(Z in j&&"function"==typeof j[Z])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:Z,complete:_e},void 0===te.next&&(te.next=Dn),void 0===te.error&&(te.error=Dn),void 0===te.complete&&(te.complete=Dn);const it=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch{}}),this.observers.push(te),it}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,U)}sendOne(U,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{Z(this.observers[U])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}const Jr=1e3,$e=2,Ce=144e5,ot=.5;function At(j,U=Jr,Z=$e){const _e=U*Math.pow(Z,j),te=Math.round(ot*_e*(Math.random()-.5)*2);return Math.min(Ce,_e+te)}function Ri(j){return j&&j._delegate?j._delegate:j}},3783:(gt,we,P)=>{var l=P(4650);let J=null;function N(){return J}class re{}const Q=new l.OlP("DocumentToken");let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function de(){return(0,l.LFG)(z)}()},providedIn:"platform"}),n})();const ue=new l.OlP("Location Initialized");let z=(()=>{class n extends me{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){q()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){q()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function K(){return new z((0,l.LFG)(Q))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function je(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function xe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ge(n){return n&&"?"!==n[0]?"?"+n:n}let dt=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(De)},providedIn:"root"}),n})();const fe=new l.OlP("appBaseHref");let De=(()=>{class n extends dt{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(Q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return je(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ge(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const u=this.prepareExternalUrl(r+Ge(s));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){const u=this.prepareExternalUrl(r+Ge(s));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(me),l.LFG(fe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n extends dt{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=je(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let u=this.prepareExternalUrl(r+Ge(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){let u=this.prepareExternalUrl(r+Ge(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(me),l.LFG(fe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Ve(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(xe(Ae(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ge(i))}normalize(e){return n.stripTrailingSlash(function be(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Ae(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ge(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ge(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ge,n.joinWithSlash=je,n.stripTrailingSlash=xe,n.\u0275fac=function(e){return new(e||n)(l.LFG(dt))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ee(){return new Ne((0,l.LFG)(dt))}()},providedIn:"root"}),n})();function Ae(n){return n.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),Ze=(()=>((Ze=Ze||{})[Ze.Narrow=0]="Narrow",Ze[Ze.Abbreviated=1]="Abbreviated",Ze[Ze.Wide=2]="Wide",Ze[Ze.Short=3]="Short",Ze))(),_t=(()=>((_t=_t||{})[_t.Short=0]="Short",_t[_t.Medium=1]="Medium",_t[_t.Long=2]="Long",_t[_t.Full=3]="Full",_t))(),rt=(()=>((rt=rt||{})[rt.Decimal=0]="Decimal",rt[rt.Group=1]="Group",rt[rt.List=2]="List",rt[rt.PercentSign=3]="PercentSign",rt[rt.PlusSign=4]="PlusSign",rt[rt.MinusSign=5]="MinusSign",rt[rt.Exponential=6]="Exponential",rt[rt.SuperscriptingExponent=7]="SuperscriptingExponent",rt[rt.PerMille=8]="PerMille",rt[rt.Infinity=9]="Infinity",rt[rt.NaN=10]="NaN",rt[rt.TimeSeparator=11]="TimeSeparator",rt[rt.CurrencyDecimal=12]="CurrencyDecimal",rt[rt.CurrencyGroup=13]="CurrencyGroup",rt))();function un(n,t){return An((0,l.cg1)(n)[l.wAp.DateFormat],t)}function St(n,t){return An((0,l.cg1)(n)[l.wAp.TimeFormat],t)}function sn(n,t){return An((0,l.cg1)(n)[l.wAp.DateTimeFormat],t)}function nt(n,t){const e=(0,l.cg1)(n),i=e[l.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===rt.CurrencyDecimal)return e[l.wAp.NumberSymbols][rt.Decimal];if(t===rt.CurrencyGroup)return e[l.wAp.NumberSymbols][rt.Group]}return i}function fs(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function An(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function cr(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Pn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mi={},ps=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bt=(()=>((Bt=Bt||{})[Bt.Short=0]="Short",Bt[Bt.ShortGMT=1]="ShortGMT",Bt[Bt.Long=2]="Long",Bt[Bt.Extended=3]="Extended",Bt))(),xt=(()=>((xt=xt||{})[xt.FullYear=0]="FullYear",xt[xt.Month=1]="Month",xt[xt.Date=2]="Date",xt[xt.Hours=3]="Hours",xt[xt.Minutes=4]="Minutes",xt[xt.Seconds=5]="Seconds",xt[xt.FractionalSeconds=6]="FractionalSeconds",xt[xt.Day=7]="Day",xt))(),kt=(()=>((kt=kt||{})[kt.DayPeriods=0]="DayPeriods",kt[kt.Days=1]="Days",kt[kt.Months=2]="Months",kt[kt.Eras=3]="Eras",kt))();function ms(n,t,e,i){let r=function te(n){if(Ye(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,u=1]=n.split("-").map(h=>+h);return Dn(r,s-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Pn))return function it(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,_=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,u,h,_,b),t}(i)}const t=new Date(n);if(!Ye(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=ei(e,t)||t;let h,u=[];for(;t;){if(h=ps.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const E=u.pop();if(!E)break;t=E}}let _=r.getTimezoneOffset();i&&(_=U(i,_),r=function _e(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Z(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(U(t,r)-r))}(r,i,!0));let b="";return u.forEach(E=>{const M=function j(n){if(Ri[n])return Ri[n];let t;switch(n){case"G":case"GG":case"GGG":t=nn(kt.Eras,Ze.Abbreviated);break;case"GGGG":t=nn(kt.Eras,Ze.Wide);break;case"GGGGG":t=nn(kt.Eras,Ze.Narrow);break;case"y":t=fn(xt.FullYear,1,0,!1,!0);break;case"yy":t=fn(xt.FullYear,2,0,!0,!0);break;case"yyy":t=fn(xt.FullYear,3,0,!1,!0);break;case"yyyy":t=fn(xt.FullYear,4,0,!1,!0);break;case"Y":t=$t(1);break;case"YY":t=$t(2,!0);break;case"YYY":t=$t(3);break;case"YYYY":t=$t(4);break;case"M":case"L":t=fn(xt.Month,1,1);break;case"MM":case"LL":t=fn(xt.Month,2,1);break;case"MMM":t=nn(kt.Months,Ze.Abbreviated);break;case"MMMM":t=nn(kt.Months,Ze.Wide);break;case"MMMMM":t=nn(kt.Months,Ze.Narrow);break;case"LLL":t=nn(kt.Months,Ze.Abbreviated,Ue.Standalone);break;case"LLLL":t=nn(kt.Months,Ze.Wide,Ue.Standalone);break;case"LLLLL":t=nn(kt.Months,Ze.Narrow,Ue.Standalone);break;case"w":t=Lt(1);break;case"ww":t=Lt(2);break;case"W":t=Lt(1,!0);break;case"d":t=fn(xt.Date,1);break;case"dd":t=fn(xt.Date,2);break;case"c":case"cc":t=fn(xt.Day,1);break;case"ccc":t=nn(kt.Days,Ze.Abbreviated,Ue.Standalone);break;case"cccc":t=nn(kt.Days,Ze.Wide,Ue.Standalone);break;case"ccccc":t=nn(kt.Days,Ze.Narrow,Ue.Standalone);break;case"cccccc":t=nn(kt.Days,Ze.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":t=nn(kt.Days,Ze.Abbreviated);break;case"EEEE":t=nn(kt.Days,Ze.Wide);break;case"EEEEE":t=nn(kt.Days,Ze.Narrow);break;case"EEEEEE":t=nn(kt.Days,Ze.Short);break;case"a":case"aa":case"aaa":t=nn(kt.DayPeriods,Ze.Abbreviated);break;case"aaaa":t=nn(kt.DayPeriods,Ze.Wide);break;case"aaaaa":t=nn(kt.DayPeriods,Ze.Narrow);break;case"b":case"bb":case"bbb":t=nn(kt.DayPeriods,Ze.Abbreviated,Ue.Standalone,!0);break;case"bbbb":t=nn(kt.DayPeriods,Ze.Wide,Ue.Standalone,!0);break;case"bbbbb":t=nn(kt.DayPeriods,Ze.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":t=nn(kt.DayPeriods,Ze.Abbreviated,Ue.Format,!0);break;case"BBBB":t=nn(kt.DayPeriods,Ze.Wide,Ue.Format,!0);break;case"BBBBB":t=nn(kt.DayPeriods,Ze.Narrow,Ue.Format,!0);break;case"h":t=fn(xt.Hours,1,-12);break;case"hh":t=fn(xt.Hours,2,-12);break;case"H":t=fn(xt.Hours,1);break;case"HH":t=fn(xt.Hours,2);break;case"m":t=fn(xt.Minutes,1);break;case"mm":t=fn(xt.Minutes,2);break;case"s":t=fn(xt.Seconds,1);break;case"ss":t=fn(xt.Seconds,2);break;case"S":t=fn(xt.FractionalSeconds,1);break;case"SS":t=fn(xt.FractionalSeconds,2);break;case"SSS":t=fn(xt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Jr(Bt.Short);break;case"ZZZZZ":t=Jr(Bt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Jr(Bt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Jr(Bt.Long);break;default:return null}return Ri[n]=t,t}(E);b+=M?M(r,e,_):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Dn(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function ei(n,t){const e=function he(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Mi[e]=Mi[e]||{},Mi[e][t])return Mi[e][t];let i="";switch(t){case"shortDate":i=un(n,_t.Short);break;case"mediumDate":i=un(n,_t.Medium);break;case"longDate":i=un(n,_t.Long);break;case"fullDate":i=un(n,_t.Full);break;case"shortTime":i=St(n,_t.Short);break;case"mediumTime":i=St(n,_t.Medium);break;case"longTime":i=St(n,_t.Long);break;case"fullTime":i=St(n,_t.Full);break;case"short":const r=ei(n,"shortTime"),s=ei(n,"shortDate");i=Gi(sn(n,_t.Short),[r,s]);break;case"medium":const u=ei(n,"mediumTime"),h=ei(n,"mediumDate");i=Gi(sn(n,_t.Medium),[u,h]);break;case"long":const _=ei(n,"longTime"),b=ei(n,"longDate");i=Gi(sn(n,_t.Long),[_,b]);break;case"full":const E=ei(n,"fullTime"),M=ei(n,"fullDate");i=Gi(sn(n,_t.Full),[E,M])}return i&&(Mi[e][t]=i),i}function Gi(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Ai(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),s+u}function fn(n,t,e=0,i=!1,r=!1){return function(s,u){let h=function Co(n,t){switch(n){case xt.FullYear:return t.getFullYear();case xt.Month:return t.getMonth();case xt.Date:return t.getDate();case xt.Hours:return t.getHours();case xt.Minutes:return t.getMinutes();case xt.Seconds:return t.getSeconds();case xt.FractionalSeconds:return t.getMilliseconds();case xt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||h>-e)&&(h+=e),n===xt.Hours)0===h&&-12===e&&(h=12);else if(n===xt.FractionalSeconds)return function Pa(n,t){return Ai(n,3).substring(0,t)}(h,t);const _=nt(u,rt.MinusSign);return Ai(h,t,_,i,r)}}function nn(n,t,e=Ue.Format,i=!1){return function(r,s){return function qi(n,t,e,i,r,s){switch(e){case kt.Months:return function Le(n,t,e){const i=(0,l.cg1)(n),s=An([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],t);return An(s,e)}(t,r,i)[n.getMonth()];case kt.Days:return function Re(n,t,e){const i=(0,l.cg1)(n),s=An([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],t);return An(s,e)}(t,r,i)[n.getDay()];case kt.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(s){const b=function xr(n){const t=(0,l.cg1)(n);return fs(t),(t[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?cr(i):[cr(i[0]),cr(i[1])])}(t),E=function lr(n,t,e){const i=(0,l.cg1)(n);fs(i);const s=An([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],t)||[];return An(s,e)||[]}(t,r,i),M=b.findIndex(F=>{if(Array.isArray(F)){const[B,G]=F,X=u>=B.hours&&h>=B.minutes,le=u<G.hours||u===G.hours&&h<G.minutes;if(B.hours<G.hours){if(X&&le)return!0}else if(X||le)return!0}else if(F.hours===u&&F.minutes===h)return!0;return!1});if(-1!==M)return E[M]}return function ve(n,t,e){const i=(0,l.cg1)(n),s=An([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],t);return An(s,e)}(t,r,i)[u<12?0:1];case kt.Eras:return function ze(n,t){return An((0,l.cg1)(n)[l.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Jr(n){return function(t,e,i){const r=-1*i,s=nt(e,rt.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Bt.Short:return(r>=0?"+":"")+Ai(u,2,s)+Ai(Math.abs(r%60),2,s);case Bt.ShortGMT:return"GMT"+(r>=0?"+":"")+Ai(u,1,s);case Bt.Long:return"GMT"+(r>=0?"+":"")+Ai(u,2,s)+":"+Ai(Math.abs(r%60),2,s);case Bt.Extended:return 0===i?"Z":(r>=0?"+":"")+Ai(u,2,s)+":"+Ai(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const $e=0,Ce=4;function At(n){return Dn(n.getFullYear(),n.getMonth(),n.getDate()+(Ce-n.getDay()))}function Lt(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+s)/7)}else{const s=At(e),u=function ot(n){const t=Dn(n,$e,1).getDay();return Dn(n,0,1+(t<=Ce?Ce:Ce+7)-t)}(s.getFullYear()),h=s.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Ai(r,n,nt(i,rt.MinusSign))}}function $t(n,t=!1){return function(e,i){return Ai(At(e).getFullYear(),n,nt(i,rt.MinusSign),t)}}const Ri={};function U(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Ye(n){return n instanceof Date&&!isNaN(n.valueOf())}function Na(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const gs=/\s+/,Dr=[];let Je=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=Dr,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(gs):Dr}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(gs):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(gs).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})(),$r=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new La,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Wt("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Wt("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class La{constructor(){this.$implicit=null,this.ngIf=null}}function Wt(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class Ws{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ys=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Yo=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ws(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ys,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Yi=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,s,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();const xo=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Nl=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let bs=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return ms(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw function en(n,t){return new l.vHH(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.soG,16),l.Y36(xo,24),l.Y36(Nl,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),io=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Yc="browser",Ir="server";function Bl(n){return n===Ir}let Es=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Ua((0,l.LFG)(Q),window)}),n})();class Ua{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Xs(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Qs(this.window.history)||Qs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Vl{}class ia extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ds extends ia{static makeCurrent(){!function ie(n){J||(J=n)}(new Ds)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Kl(){return Xo=Xo||document.querySelector("base"),Xo?Xo.getAttribute("href"):null}();return null==e?null:function Ya(n){Mr=Mr||document.createElement("a"),Mr.setAttribute("href",n);const t=Mr.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Xo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Na(document.cookie,t)}}let Mr,Xo=null;const Nd=new l.OlP("TRANSITION_ID"),Ld=[{provide:l.ip1,useFactory:function Lm(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Nd,Q,l.zs3],multi:!0}];let Bm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ar=new l.OlP("EventManagerPlugins");let cu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ar),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class hf{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let so=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let s=r.get(e)??0;return s+=i,s>0?r.set(e,s):r.delete(e),s}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ra=(()=>{class n extends so{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(s=>s.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const In={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jo=/%COMP%/g,Ka=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function la(n,t){return t.flat(100).map(e=>e.replace(Jo,n))}function Is(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let To=(()=>{class n{constructor(e,i,r,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Rr(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof ua?r.applyToHost(e):r instanceof ts&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const u=this.eventManager,h=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(i.encapsulation){case l.ifc.Emulated:s=new ua(u,h,i,this.appId,_);break;case l.ifc.ShadowDom:return new Ql(u,h,e,i);default:s=new ts(u,h,i,_)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(cu),l.LFG(ra),l.LFG(l.AFp),l.LFG(Ka))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Rr{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(In[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(es(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(es(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=In[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=In[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Is(i)):this.eventManager.addEventListener(t,e,Is(i))}}function es(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ql extends Rr{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=la(r.id,r.styles);for(const u of s){const h=document.createElement("style");h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ts extends Rr{constructor(t,e,i,r,s=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=la(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ua extends ts{constructor(t,e,i,r,s){const u=r+"-"+i.id;super(t,e,i,s,u),this.contentAttr=function aa(n){return"_ngcontent-%COMP%".replace(Jo,n)}(u),this.hostAttr=function du(n){return"_nghost-%COMP%".replace(Jo,n)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let pf=(()=>{class n extends hf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Xa=["alt","control","meta","shift"],mf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bd=(()=>{class n extends hf{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,s.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),Xa.forEach(b=>{const E=i.indexOf(b);E>-1&&(i.splice(E,1),u+=b+".")}),u+=s,0!=i.length||0===s.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(e,i){let r=mf[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Xa.forEach(u=>{u!==r&&(0,Mo[u])(e)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const da=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Yc},{provide:l.g9A,useValue:function Jl(){Ds.makeCurrent()},multi:!0},{provide:Q,useFactory:function hu(){return(0,l.RDi)(document),document},deps:[]}]),Hd=new l.OlP(""),jd=[{provide:l.rWj,useClass:class lu{addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(_){u=u||_,s--,0==s&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],ec=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Pi(){return new l.qLn},deps:[]},{provide:Ar,useClass:pf,multi:!0,deps:[Q,l.R0b,l.Lbi]},{provide:Ar,useClass:Bd,multi:!0,deps:[Q]},{provide:To,useClass:To,deps:[cu,ra,l.AFp,Ka]},{provide:l.FYo,useExisting:To},{provide:so,useExisting:ra},{provide:ra,useClass:ra,deps:[Q]},{provide:cu,useClass:cu,deps:[Ar,l.R0b]},{provide:Vl,useClass:Bm,deps:[]},[]];let Ao=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:Nd,useExisting:l.AFp},Ld]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Hd,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...ec,...jd],imports:[io,l.hGG]}),n})(),ha=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function zd(){return new ha((0,l.LFG)(Q))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Rs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):l.LFG(Ef),i},providedIn:"root"}),n})(),Ef=(()=>{class n extends Rs{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${l.JZr})`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function $d(n){return new Ef(n.get(Q))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var Qt=P(8996),ao=P(3269);function qe(...n){const t=(0,ao.yG)(n);return(0,Qt.D)(n,t)}var It=P(7579);class Zn extends It.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const os=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Tn=P(9751);const{isArray:Df}=Array,{getPrototypeOf:ko,prototype:Gd,keys:nc}=Object;function ma(n){if(1===n.length){const t=n[0];if(Df(t))return{args:t,keys:null};if(function ga(n){return n&&"object"==typeof n&&ko(n)===Gd}(t)){const e=nc(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var lo=P(4671),st=P(4004);const{isArray:D}=Array;function R(n){return(0,st.U)(t=>function S(n,t){return D(t)?n(...t):n(t)}(n,t))}function V(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var W=P(5403),ne=P(9672);function Ie(...n){const t=(0,ao.yG)(n),e=(0,ao.jO)(n),{args:i,keys:r}=ma(n);if(0===i.length)return(0,Qt.D)([],t);const s=new Tn.y(function ct(n,t,e=lo.y){return i=>{ut(t,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)ut(t,()=>{const b=(0,Qt.D)(n[_],t);let E=!1;b.subscribe((0,W.x)(i,M=>{s[_]=M,E||(E=!0,h--),h||i.next(e(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>V(r,u):lo.y));return e?s.pipe(R(e)):s}function ut(n,t,e){n?(0,ne.f)(e,n,t):t()}var mt=P(8189);function Tt(...n){return function Kt(){return(0,mt.J)(1)}()((0,Qt.D)(n,(0,ao.yG)(n)))}var Bn=P(8421);function Vn(n){return new Tn.y(t=>{(0,Bn.Xf)(n()).subscribe(t)})}var nl=P(9635),Qi=P(576);function qr(n,t){const e=(0,Qi.m)(n)?n:()=>n,i=r=>r.error(e());return new Tn.y(t?r=>t.schedule(i,0,r):i)}var Yn=P(515),On=P(727),$n=P(4482);function qd(){return(0,$n.e)((n,t)=>{let e=null;n._refCount++;const i=(0,W.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class ic extends Tn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,$n.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new On.w0;const e=this.getSubject();t.add(this.source.subscribe((0,W.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=On.w0.EMPTY)}return t}refCount(){return qd()(this)}}function Kn(n,t){return(0,$n.e)((e,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,W.x)(i,_=>{r?.unsubscribe();let b=0;const E=s++;(0,Bn.Xf)(n(_,E)).subscribe(r=(0,W.x)(i,M=>i.next(t?t(_,M,E,b++):M),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function Gn(n){return n<=0?()=>Yn.E:(0,$n.e)((t,e)=>{let i=0;t.subscribe((0,W.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Oo(...n){const t=(0,ao.yG)(n);return(0,$n.e)((e,i)=>{(t?Tt(n,e,t):Tt(n,e)).subscribe(i)})}function bn(n,t){return(0,$n.e)((e,i)=>{let r=0;e.subscribe((0,W.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Li=P(5577);function rc(n){return(0,$n.e)((t,e)=>{let i=!1;t.subscribe((0,W.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function jm(n=ww){return(0,$n.e)((t,e)=>{let i=!1;t.subscribe((0,W.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function ww(){return new os}function kr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?bn((r,s)=>n(r,s,i)):lo.y,Gn(1),e?rc(t):jm(()=>new os))}function il(n,t){return(0,Qi.m)(t)?(0,Li.z)(n,t,1):(0,Li.z)(n,1)}var hi=P(8505);function _a(n){return(0,$n.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,W.x)(e,void 0,void 0,u=>{s=(0,Bn.Xf)(n(u,_a(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Wd(n,t){return(0,$n.e)(function Cw(n,t,e,i,r){return(s,u)=>{let h=e,_=t,b=0;s.subscribe((0,W.x)(u,E=>{const M=b++;_=h?n(_,E,M):(h=!0,E),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}(n,t,arguments.length>=2,!0))}function Sf(n){return n<=0?()=>Yn.E:(0,$n.e)((t,e)=>{let i=[];t.subscribe((0,W.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function If(n,t){const e=arguments.length>=2;return i=>i.pipe(n?bn((r,s)=>n(r,s,i)):lo.y,Sf(1),e?rc(t):jm(()=>new os))}function pu(n){return(0,st.U)(()=>n)}function mu(n){return(0,$n.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const jt="primary",Or=Symbol("RouteTitle");class Ny{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function oc(n){return new Ny(n)}function zm(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function co(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Gm(n[r],t[r]))return!1;return!0}function Gm(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function qm(n){return Array.prototype.concat.apply([],n)}function Zd(n){return n.length>0?n[n.length-1]:null}function wi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ya(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Qt.D)(Promise.resolve(n)):qe(n)}const Di=!1,Mf={exact:function va(n,t,e){if(!rl(n.segments,t.segments)||!ac(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!va(n.children[i],t.children[i],e))return!1;return!0},subset:sc},gu={exact:function _r(n,t){return co(n,t)},subset:function Af(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Gm(n[e],t[e]))},ignored:()=>!0};function Yd(n,t,e){return Mf[e.paths](n.root,t.root,e.matrixParams)&&gu[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function sc(n,t,e){return Rf(n,t,t.segments,e)}function Rf(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!rl(r,e)||t.hasChildren()||!ac(r,e,i))}if(n.segments.length===e.length){if(!rl(n.segments,e)||!ac(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!sc(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(rl(n.segments,r)&&ac(n.segments,r,i)&&n.children[jt])&&Rf(n.children[jt],t,s,i)}}function ac(n,t,e){return t.every((i,r)=>gu[e](n[r].parameters,i.parameters))}class ba{constructor(t=new Xt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oc(this.queryParams)),this._queryParamMap}toString(){return sl.serialize(this)}}class Xt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,wi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wa(this)}}class _u{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=oc(this.parameters)),this._parameterMap}toString(){return kf(this)}}function rl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let ol=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Kd},providedIn:"root"}),n})();class Kd{parse(t){const e=new eh(t);return new ba(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${yu(t.root,!0)}`,i=function bu(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${lc(e)}=${lc(r)}`).join("&"):`${lc(e)}=${lc(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function vu(n){return encodeURI(n)}(t.fragment)}`:""}`}}const sl=new Kd;function wa(n){return n.segments.map(t=>kf(t)).join("/")}function yu(n,t){if(!n.hasChildren())return wa(n);if(t){const e=n.children[jt]?yu(n.children[jt],!1):"",i=[];return wi(n.children,(r,s)=>{s!==jt&&i.push(`${s}:${yu(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Zm(n,t){let e=[];return wi(n.children,(i,r)=>{r===jt&&(e=e.concat(t(i,r)))}),wi(n.children,(i,r)=>{r!==jt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===jt?[yu(n.children[jt],!1)]:[`${r}:${yu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jt]?`${wa(n)}/${e[0]}`:`${wa(n)}/(${e.join("//")})`}}function Qd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lc(n){return Qd(n).replace(/%3B/gi,";")}function Xd(n){return Qd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ks(n){return decodeURIComponent(n)}function cc(n){return ks(n.replace(/\+/g,"%20"))}function kf(n){return`${Xd(n.path)}${function By(n){return Object.keys(n).map(t=>`;${Xd(t)}=${Xd(n[t])}`).join("")}(n.parameters)}`}const Vy=/^[^\/()?;=#]+/;function Jd(n){const t=n.match(Vy);return t?t[0]:""}const Uy=/^[^=?&#]+/,jy=/^[^&#]+/;class eh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[jt]=new Xt(t,e)),i}parseSegment(){const t=Jd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.vHH(4009,Di);return this.capture(t),new _u(ks(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Jd(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Jd(this.remaining);r&&(i=r,this.capture(i))}t[ks(e)]=ks(i)}parseQueryParam(t){const e=function Hy(n){const t=n.match(Uy);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Ym(n){const t=n.match(jy);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=cc(e),s=cc(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Jd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,Di);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=jt);const u=this.parseChildren();e[s]=1===Object.keys(u).length?u[jt]:new Xt([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.vHH(4011,Di)}}function wu(n){return n.segments.length>0?new Xt([],{[jt]:n}):n}function Cu(n){const t={};for(const i of Object.keys(n.children)){const s=Cu(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Eu(n){if(1===n.numberOfChildren&&n.children[jt]){const t=n.children[jt];return new Xt(n.segments.concat(t.segments),t.children)}return n}(new Xt(n.segments,t))}function Os(n){return n instanceof ba}const Of=!1;function Km(n,t,e,i,r){if(0===e.length)return xu(t.root,t.root,t.root,i,r);const s=function Ff(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Qm(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return wi(s.outlets,(_,b)=>{h[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new Qm(e,t,i)}(e);return s.toRoot()?xu(t.root,t.root,new Xt([],{}),i,r):function u(_){const b=function th(n,t,e,i){if(n.isAbsolute)return new Fo(t.root,!0,0);if(-1===i)return new Fo(e,e===t.root,0);return function Pf(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,Of&&"Invalid number of '../'");r=i.segments.length}return new Fo(i,!1,r-s)}(e,i+(dc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,_),E=b.processChildren?al(b.segmentGroup,b.index,s.commands):fc(b.segmentGroup,b.index,s.commands);return xu(t.root,b.segmentGroup,E,i,r)}(n.snapshot?._lastPathIndex)}function dc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hc(n){return"object"==typeof n&&null!=n&&n.outlets}function xu(n,t,e,i,r){let u,s={};i&&wi(i,(_,b)=>{s[b]=Array.isArray(_)?_.map(E=>`${E}`):`${_}`}),u=n===t?e:Du(n,t,e);const h=wu(Cu(u));return new ba(h,s,r)}function Du(n,t,e){const i={};return wi(n.children,(r,s)=>{i[s]=r===t?e:Du(r,t,e)}),new Xt(n.segments,i)}class Qm{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&dc(i[0]))throw new l.vHH(4003,Of&&"Root segment cannot have matrix parameters");const r=i.find(hc);if(r&&r!==Zd(i))throw new l.vHH(4004,Of&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fo{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function fc(n,t,e){if(n||(n=new Xt([],{})),0===n.segments.length&&n.hasChildren())return al(n,t,e);const i=function ih(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const u=n.segments[r],h=e[i];if(hc(h))break;const _=`${h}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Jm(_,b,u))return s;i+=2}else{if(!Jm(_,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Xt(n.segments.slice(0,i.pathIndex),{});return s.children[jt]=new Xt(n.segments.slice(i.pathIndex),n.children),al(s,0,r)}return i.match&&0===r.length?new Xt(n.segments,{}):i.match&&!n.hasChildren()?ll(n,t,e):i.match?al(n,0,r):ll(n,t,e)}function al(n,t,e){if(0===e.length)return new Xt(n.segments,{});{const i=function nh(n){return hc(n[0])?n[0].outlets:{[jt]:n}}(e),r={};return!i[jt]&&n.children[jt]&&1===n.numberOfChildren&&0===n.children[jt].segments.length?al(n.children[jt],t,e):(wi(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=fc(n.children[u],t,s))}),wi(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new Xt(n.segments,r))}}function ll(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(hc(s)){const _=Su(s.outlets);return new Xt(i,_)}if(0===r&&dc(e[0])){i.push(new _u(n.segments[t].path,cl(e[0]))),r++;continue}const u=hc(s)?s.outlets[jt]:`${s}`,h=r<e.length-1?e[r+1]:null;u&&h&&dc(h)?(i.push(new _u(u,cl(h))),r+=2):(i.push(new _u(u,{})),r++)}return new Xt(i,{})}function Su(n){const t={};return wi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=ll(new Xt([],{}),0,e))}),t}function cl(n){const t={};return wi(n,(e,i)=>t[i]=`${e}`),t}function Jm(n,t,e){return n==e.path&&co(t,e.parameters)}const Ea="imperative";class ss{constructor(t,e){this.id=t,this.url=e}}class yr extends ss{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Po extends ss{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pc extends ss{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Iu extends ss{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class xa extends ss{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tu extends ss{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mc extends ss{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eg extends ss{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $y extends ss{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ul extends ss{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tg{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nf{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gy{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ng{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mu{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xi{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Au{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let vr=(()=>{class n{createUrlTree(e,i,r,s,u,h){return Km(e||i.root,r,s,u,h)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),rg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){return vr.\u0275fac(t)},providedIn:"root"}),n})();class Lf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Bf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Bf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ku(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return ku(t,this._root).map(e=>e.value)}}function Bf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Bf(n,e);if(i)return i}return null}function ku(n,t){if(n===t.value)return[t];for(const e of t.children){const i=ku(n,e);if(i.length)return i.unshift(t),i}return[]}class Bi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function No(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class og extends Lf{constructor(t,e){super(t),this.snapshot=e,Y(this,t)}toString(){return this.snapshot.toString()}}function sg(n,t){const e=function y(n,t){const u=new I([],{},{},"",{},jt,t,null,n.root,-1,{});return new O("",new Bi(u,[]))}(n,t),i=new Zn([new _u("",{})]),r=new Zn({}),s=new Zn({}),u=new Zn({}),h=new Zn(""),_=new p(i,r,u,h,s,jt,t,e.root);return _.snapshot=e.root,new og(new Bi(_,[]),e)}class p{constructor(t,e,i,r,s,u,h,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,st.U)(b=>b[Or]))??qe(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(t=>oc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(t=>oc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function m(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function w(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class I{get title(){return this.data?.[Or]}constructor(t,e,i,r,s,u,h,_,b,E,M){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=E,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class O extends Lf{constructor(t,e){super(e),this.url=t,Y(this,e)}toString(){return ce(this._root)}}function Y(n,t){t.value._routerState=n,t.children.forEach(e=>Y(n,e))}function ce(n){const t=n.children.length>0?` { ${n.children.map(ce).join(", ")} } `:"";return`${n.value}${t}`}function He(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,co(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),co(t.params,e.params)||n.params.next(e.params),function $m(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!co(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),co(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function tt(n,t){const e=co(n.params,t.params)&&function Wm(n,t){return rl(n,t)&&n.every((e,i)=>co(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||tt(n.parent,t.parent))}function pt(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function fi(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return pt(n,i,r);return pt(n,i)})}(n,t,e);return new Bi(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>pt(n,h)),u}}const i=function uo(n){return new p(new Zn(n.url),new Zn(n.params),new Zn(n.queryParams),new Zn(n.fragment),new Zn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>pt(n,s));return new Bi(i,r)}}const dl="ngNavigationCancelingError";function ag(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Os(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Vf(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Vf(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[dl]=!0,i.cancellationCode=t,e&&(i.url=e),i}function lg(n){return Ou(n)&&Os(n.url)}function Ou(n){return n&&n[dl]}class Fu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Pu,this.attachRef=null}}let Pu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Fu,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oh=!1;let gc=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Pu),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,oh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,oh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,oh);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l.vHH(4013,oh);this._activatedRoute=e;const r=this.location,u=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,_=new cg(e,h,r.injector);if(i&&function qy(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(u);this.activated=r.createComponent(b,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class cg{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===p?this.route:t===Pu?this.childContexts:this.parent.get(t,e)}}let Nu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},dependencies:[gc],encapsulation:2}),n})();function ug(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Uf(n){const t=n.children&&n.children.map(Uf),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==jt&&(e.component=Nu),e}function Lo(n){return n.outlet||jt}function xw(n,t){const e=n.filter(i=>Lo(i)===t);return e.push(...n.filter(i=>Lo(i)!==t)),e}function Hf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class kS{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),He(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=No(e);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),wi(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=No(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=No(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=No(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Xi(s.value.snapshot))}),t.children.length&&this.forwardEvent(new ng(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(He(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),He(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=Hf(r.snapshot),_=h?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class Yy{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ky{constructor(t,e){this.component=t,this.route=e}}function Vk(n,t,e){const i=n._root;return sh(i,t?t._root:null,e,[i.value])}function _c(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,l.Z0I)(n)?t.get(n):n:i}function sh(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=No(t);return n.children.forEach(u=>{(function Dw(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const _=function Sw(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!rl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!rl(n.url,t.url)||!co(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tt(n,t)||!co(n.queryParams,t.queryParams);default:return!tt(n,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Yy(i)):(s.data=u.data,s._resolvedData=u._resolvedData),sh(n,t,s.component?h?h.children:null:e,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Ky(h.outlet.component,u))}else u&&zf(t,h,r),r.canActivateChecks.push(new Yy(i)),sh(n,null,s.component?h?h.children:null:e,i,r)})(u,s[u.value.outlet],e,i.concat([u.value]),r),delete s[u.value.outlet]}),wi(s,(u,h)=>zf(u,e.getContext(h),r)),r}function zf(n,t,e){const i=No(n),r=n.value;wi(i,(s,u)=>{zf(s,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Ky(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function $f(n){return"function"==typeof n}function dg(n){return n instanceof os||"EmptyError"===n?.name}const Da=Symbol("INITIAL_VALUE");function ah(){return Kn(n=>Ie(n.map(t=>t.pipe(Gn(1),Oo(Da)))).pipe((0,st.U)(t=>{for(const e of t)if(!0!==e){if(e===Da)return Da;if(!1===e||e instanceof ba)return e}return!0}),bn(t=>t!==Da),Gn(1)))}function kw(n){return(0,nl.z)((0,hi.b)(t=>{if(Os(t))throw ag(0,t)}),(0,st.U)(t=>!0===t))}const yc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fw(n,t,e,i,r){const s=nv(n,t,e);return s.matched?function Ow(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?qe(r.map(u=>{const h=_c(u,n);return ya(function OS(n){return n&&$f(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(ah(),kw()):qe(!0)}(i=ug(t,i),t,e).pipe((0,st.U)(u=>!0===u?s:{...yc})):qe(s)}function nv(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...yc}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||zm)(e,n,t);if(!r)return{...yc};const s={};wi(r.posParams,(h,_)=>{s[_]=h.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function pg(n,t,e,i){if(e.length>0&&function Pw(n,t,e){return e.some(i=>Gf(n,t,i)&&Lo(i)!==jt)}(n,e,i)){const s=new Xt(t,function NS(n,t,e,i){const r={};r[jt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Lo(s)!==jt){const u=new Xt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[Lo(s)]=u}return r}(n,t,i,new Xt(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function LS(n,t,e){return e.some(i=>Gf(n,t,i))}(n,e,i)){const s=new Xt(n.segments,function iv(n,t,e,i,r){const s={};for(const u of i)if(Gf(n,e,u)&&!r[Lo(u)]){const h=new Xt([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,s[Lo(u)]=h}return{...r,...s}}(n,t,e,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const r=new Xt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function Gf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function BS(n,t,e,i){return!!(Lo(n)===i||i!==jt&&Gf(t,e,n))&&("**"===n.path||nv(t,n,e).matched)}function Nw(n,t,e){return 0===t.length&&!n.children[e]}const vc=!1;class mg{constructor(t){this.segmentGroup=t||null}}class Bu{constructor(t){this.urlTree=t}}function hl(n){return qr(new mg(n))}function Lw(n){return qr(new Bu(n))}class HS{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=pg(this.urlTree.root,[],[],this.config).segmentGroup,e=new Xt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,jt).pipe((0,st.U)(s=>this.createUrlTree(Cu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_a(s=>{if(s instanceof Bu)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof mg?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,jt).pipe((0,st.U)(r=>this.createUrlTree(Cu(r),t.queryParams,t.fragment))).pipe(_a(r=>{throw r instanceof mg?this.noMatchError(r):r}))}noMatchError(t){return new l.vHH(4002,vc)}createUrlTree(t,e,i){const r=wu(t);return new ba(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,st.U)(s=>new Xt([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Qt.D)(r).pipe(il(s=>{const u=i.children[s],h=xw(e,s);return this.expandSegmentGroup(t,h,u,s).pipe((0,st.U)(_=>({segment:_,outlet:s})))}),Wd((s,u)=>(s[u.outlet]=u.segment,s),{}),If())}expandSegment(t,e,i,r,s,u){return(0,Qt.D)(i).pipe(il(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,s,u).pipe(_a(b=>{if(b instanceof mg)return qe(null);throw b}))),kr(h=>!!h),_a((h,_)=>{if(dg(h))return Nw(e,r,s)?qe(new Xt([],{})):hl(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,s,u,h){return BS(r,e,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u):hl(e):hl(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Lw(s):this.lineralizeSegments(i,s).pipe((0,Li.z)(u=>{const h=new Xt(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){const{matched:h,consumedSegments:_,remainingSegments:b,positionalParamSegments:E}=nv(e,r,s);if(!h)return hl(e);const M=this.applyRedirectCommands(_,r.redirectTo,E);return r.redirectTo.startsWith("/")?Lw(M):this.lineralizeSegments(r,M).pipe((0,Li.z)(F=>this.expandSegment(t,e,i,F.concat(b),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=ug(i,t),i.loadChildren?(i._loadedRoutes?qe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,st.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Xt(r,{})))):qe(new Xt(r,{}))):Fw(e,i,r,t).pipe(Kn(({matched:u,consumedSegments:h,remainingSegments:_})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Li.z)(E=>{const M=E.injector??t,F=E.routes,{segmentGroup:B,slicedSegments:G}=pg(e,h,_,F),X=new Xt(B.segments,B.children);if(0===G.length&&X.hasChildren())return this.expandChildren(M,F,X).pipe((0,st.U)(ft=>new Xt(h,ft)));if(0===F.length&&0===G.length)return qe(new Xt(h,{}));const le=Lo(i)===s;return this.expandSegment(M,X,F,G,le?jt:s,!0).pipe((0,st.U)(ht=>new Xt(h.concat(ht.segments),ht.children)))})):hl(e)))}getChildConfig(t,e,i){return e.children?qe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?qe({routes:e._loadedRoutes,injector:e._loadedInjector}):function PS(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?qe(!0):qe(r.map(u=>{const h=_c(u,n);return ya(function Tw(n){return n&&$f(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(ah(),kw())}(t,e,i).pipe((0,Li.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,hi.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function VS(n){return qr(Vf(vc,3))}())):qe({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return qe(i);if(r.numberOfChildren>1||!r.children[jt])return t.redirectTo,qr(new l.vHH(4e3,vc));r=r.children[jt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new ba(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return wi(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=e[h]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let u={};return wi(e.children,(h,_)=>{u[_]=this.createSegmentGroup(t,h,i,r)}),new Xt(s,u)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new l.vHH(4001,vc);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class ov{}class av{constructor(t,e,i,r,s,u,h){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const t=pg(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,jt).pipe((0,st.U)(e=>{if(null===e)return null;const i=new I([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Bi(i,e),s=new O(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=m(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Qt.D)(Object.keys(i.children)).pipe(il(r=>{const s=i.children[r],u=xw(e,r);return this.processSegmentGroup(t,u,s,r)}),Wd((r,s)=>r&&s?(r.push(...s),r):null),function Tf(n,t=!1){return(0,$n.e)((e,i)=>{let r=0;e.subscribe((0,W.x)(i,s=>{const u=n(s,r++);(u||t)&&i.next(s),!u&&i.complete()}))})}(r=>null!==r),rc(null),If(),(0,st.U)(r=>{if(null===r)return null;const s=Uw(r);return function qf(n){n.sort((t,e)=>t.value.outlet===jt?-1:e.value.outlet===jt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,Qt.D)(e).pipe(il(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,s)),kr(u=>!!u),_a(u=>{if(dg(u))return Nw(i,r,s)?qe([]):qe(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!BS(e,i,r,s))return qe(null);let u;if("**"===e.path){const h=r.length>0?Zd(r).parameters:{},_=jw(i)+r.length;u=qe({snapshot:new I(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vu(e),Lo(e),e.component??e._loadedComponent??null,e,Hw(i),_,Sa(e)),consumedSegments:[],remainingSegments:[]})}else u=Fw(i,e,r,t).pipe((0,st.U)(({matched:h,consumedSegments:_,remainingSegments:b,parameters:E})=>{if(!h)return null;const M=jw(i)+_.length;return{snapshot:new I(_,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vu(e),Lo(e),e.component??e._loadedComponent??null,e,Hw(i),M,Sa(e)),consumedSegments:_,remainingSegments:b}}));return u.pipe(Kn(h=>{if(null===h)return qe(null);const{snapshot:_,consumedSegments:b,remainingSegments:E}=h;t=e._injector??t;const M=e._loadedInjector??t,F=function zS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:B,slicedSegments:G}=pg(i,b,E,F.filter(le=>void 0===le.redirectTo));if(0===G.length&&B.hasChildren())return this.processChildren(M,F,B).pipe((0,st.U)(le=>null===le?null:[new Bi(_,le)]));if(0===F.length&&0===G.length)return qe([new Bi(_,[])]);const X=Lo(e)===s;return this.processSegment(M,F,B,G,X?jt:s).pipe((0,st.U)(le=>null===le?null:[new Bi(_,le)]))}))}}function $S(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Uw(n){const t=[],e=new Set;for(const i of n){if(!$S(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Uw(i.children);t.push(new Bi(i.value,r))}return t.filter(i=>!e.has(i))}function Hw(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function jw(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Vu(n){return n.data||{}}function Sa(n){return n.resolve||{}}function lv(n){return"string"==typeof n.title||null===n.title}function gg(n){return Kn(t=>{const e=n(t);return e?(0,Qt.D)(e).pipe((0,st.U)(()=>t)):qe(t)})}const Uu=new l.OlP("ROUTES");let cv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return qe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ya(e.loadComponent()).pipe((0,st.U)(as),(0,hi.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),mu(()=>{this.componentLoaders.delete(e)})),r=new ic(i,()=>new It.x).pipe(qd());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,st.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b,E=!1;Array.isArray(h)?b=h:(_=h.create(e).injector,b=qm(_.get(Uu,[],l.XFs.Self|l.XFs.Optional)));return{routes:b.map(Uf),injector:_}}),mu(()=>{this.childrenLoaders.delete(i)})),u=new ic(s,()=>new It.x).pipe(qd());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return ya(e()).pipe((0,st.U)(as),(0,Li.z)(i=>i instanceof l.YKP||Array.isArray(i)?qe(i):(0,Qt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function as(n){return function ZS(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Wf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new It.x,this.configLoader=(0,l.f3M)(cv),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(ol),this.rootContexts=(0,l.f3M)(Pu),this.navigationId=0,this.afterPreactivation=()=>qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Nf(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new tg(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Zn({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ea,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bn(i=>0!==i.id),(0,st.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Kn(i=>{let r=!1,s=!1;return qe(i).pipe((0,hi.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Kn(u=>{const h=e.browserUrlTree.toString(),_=!e.navigated||u.extractedUrl.toString()!==h||h!==e.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const E="";return this.events.next(new Iu(u.id,e.serializeUrl(i.rawUrl),E,0)),e.rawUrlTree=u.rawUrl,u.resolve(null),Yn.E}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Gw(u.source)&&(e.browserUrlTree=u.extractedUrl),qe(u).pipe(Kn(E=>{const M=this.transitions?.getValue();return this.events.next(new yr(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),M!==this.transitions?.getValue()?Yn.E:Promise.resolve(E)}),function Vw(n,t,e,i){return Kn(r=>function US(n,t,e,i,r){return new HS(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,st.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,hi.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},i.urlAfterRedirects=E.urlAfterRedirects}),function qS(n,t,e,i,r){return(0,Li.z)(s=>function jS(n,t,e,i,r,s,u="emptyOnly"){return new av(n,t,e,i,r,u,s).recognize().pipe(Kn(h=>null===h?function sv(n){return new Tn.y(t=>t.error(n))}(new ov):qe(h)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,st.U)(u=>({...s,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,hi.b)(E=>{if(i.targetSnapshot=E.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!E.extras.skipLocationChange){const F=e.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);e.setBrowserUrl(F,E)}e.browserUrlTree=E.urlAfterRedirects}const M=new Tu(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(M)}));if(_&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:E,extractedUrl:M,source:F,restoredState:B,extras:G}=u,X=new yr(E,this.urlSerializer.serialize(M),F,B);this.events.next(X);const le=sg(M,this.rootComponentType).snapshot;return qe(i={...u,targetSnapshot:le,urlAfterRedirects:M,extras:{...G,skipLocationChange:!1,replaceUrl:!1}})}{const E="";return this.events.next(new Iu(u.id,e.serializeUrl(i.extractedUrl),E,1)),e.rawUrlTree=u.rawUrl,u.resolve(null),Yn.E}}),(0,hi.b)(u=>{const h=new mc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),(0,st.U)(u=>i={...u,guards:Vk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function Jy(n,t){return(0,Li.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=e;return 0===u.length&&0===s.length?qe({...e,guardsResult:!0}):function hg(n,t,e,i){return(0,Qt.D)(n).pipe((0,Li.z)(r=>function tv(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?qe(s.map(h=>{const _=Hf(t)??r,b=_c(h,_);return ya(function Xy(n){return n&&$f(n.canDeactivate)}(b)?b.canDeactivate(n,t,e,i):_.runInContext(()=>b(n,t,e,i))).pipe(kr())})).pipe(ah()):qe(!0)}(r.component,r.route,e,t,i)),kr(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Li.z)(h=>h&&function Iw(n){return"boolean"==typeof n}(h)?function FS(n,t,e,i){return(0,Qt.D)(t).pipe(il(r=>Tt(function fg(n,t){return null!==n&&t&&t(new Gy(n)),qe(!0)}(r.route.parent,i),function ev(n,t){return null!==n&&t&&t(new Mu(n)),qe(!0)}(r.route,i),function Rw(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function jf(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Vn(()=>qe(u.guards.map(_=>{const b=Hf(u.node)??e,E=_c(_,b);return ya(function Uk(n){return n&&$f(n.canActivateChild)}(E)?E.canActivateChild(i,n):b.runInContext(()=>E(i,n))).pipe(kr())})).pipe(ah())));return qe(s).pipe(ah())}(n,r.path,e),function Lu(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return qe(!0);const r=i.map(s=>Vn(()=>{const u=Hf(t)??e,h=_c(s,u);return ya(function Qy(n){return n&&$f(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(kr())}));return qe(r).pipe(ah())}(n,r.route,e))),kr(r=>!0!==r,!0))}(i,s,n,t):qe(h)),(0,st.U)(h=>({...e,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),(0,hi.b)(u=>{if(i.guardsResult=u.guardsResult,Os(u.guardsResult))throw ag(0,u.guardsResult);const h=new eg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),bn(u=>!!u.guardsResult||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),gg(u=>{if(u.guards.canActivateChecks.length)return qe(u).pipe((0,hi.b)(h=>{const _=new $y(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(_)}),Kn(h=>{let _=!1;return qe(h).pipe(function WS(n,t){return(0,Li.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return qe(e);let s=0;return(0,Qt.D)(r).pipe(il(u=>function jk(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!lv(r)&&(s[Or]=r.title),function zk(n,t,e,i){const r=function zw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return qe({});const s={};return(0,Qt.D)(r).pipe((0,Li.z)(u=>function $k(n,t,e,i){const r=Hf(t)??i,s=_c(n,r);return ya(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[u],t,e,i).pipe(kr(),(0,hi.b)(h=>{s[u]=h}))),Sf(1),pu(s),_a(u=>dg(u)?Yn.E:qr(u)))}(s,n,t,i).pipe((0,st.U)(u=>(n._resolvedData=u,n.data=m(n,e).resolve,r&&lv(r)&&(n.data[Or]=r.title),null)))}(u.route,i,n,t)),(0,hi.b)(()=>s++),Sf(1),(0,Li.z)(u=>s===r.length?qe(e):Yn.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,hi.b)({next:()=>_=!0,complete:()=>{_||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,hi.b)(h=>{const _=new ul(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(_)}))}),gg(u=>{const h=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,hi.b)(E=>{_.component=E}),(0,st.U)(()=>{})));for(const E of _.children)b.push(...h(E));return b};return Ie(h(u.targetSnapshot.root)).pipe(rc(),Gn(1))}),gg(()=>this.afterPreactivation()),(0,st.U)(u=>{const h=function yt(n,t,e){const i=pt(n,t._root,e?e._root:void 0);return new og(i,t)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:h}}),(0,hi.b)(u=>{e.currentUrlTree=u.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),e.routerState=u.targetRouterState,"deferred"===e.urlUpdateStrategy&&(u.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,u),e.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>(0,st.U)(i=>(new kS(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u)),(0,hi.b)({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Po(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),mu(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),_a(u=>{if(s=!0,Ou(u)){lg(u)||(e.navigated=!0,e.restoreHistory(i,!0));const h=new pc(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),lg(u)){const _=e.urlHandlingStrategy.merge(u.url,e.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Gw(i.source)};e.scheduleNavigation(_,Ea,null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const h=new xa(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(e.errorHandler(u))}catch(_){i.reject(_)}}return Yn.E}))}))}cancelNavigationTransition(e,i,r){const s=new pc(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gw(n){return n!==Ea}let qw=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===jt);return i}getResolvedTitleForRoute(e){return e.data[Or]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(YS)},providedIn:"root"}),n})(),YS=(()=>{class n extends qw{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ha))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(QS)},providedIn:"root"}),n})();class Ww{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let QS=(()=>{class n extends Ww{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yg=new l.OlP("",{providedIn:"root",factory:()=>({})});let Zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Zw)},providedIn:"root"}),n})(),Zw=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yw(n){throw n}function JS(n,t,e){return t.parse("/")}const eI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(yg,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Yw,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||JS,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Zt),this.routeReuseStrategy=(0,l.f3M)(KS),this.urlCreationStrategy=(0,l.f3M)(rg),this.titleStrategy=(0,l.f3M)(qw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=qm((0,l.f3M)(Uu,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(Wf),this.urlSerializer=(0,l.f3M)(ol),this.location=(0,l.f3M)(Ne),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ba,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sg(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ea,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(s.state=_)}const h=this.parseUrl(e);this.scheduleNavigation(h,i,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Uf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,b=_?this.currentUrlTree.fragment:u;let E=null;switch(h){case"merge":E={...this.currentUrlTree.queryParams,...s};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=s||null}return null!==E&&(E=this.removeEmptyProps(E)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,E,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Os(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Ea,null,i)}navigate(e,i={skipLocationChange:!1}){return function Qw(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new l.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...eI}:!1===i?{...Kw}:i,Os(e))return Yd(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Yd(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let h,_,b,E;return u?(h=u.resolve,_=u.reject,b=u.promise):b=new Promise((M,F)=>{h=M,_=F}),E="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:E,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:h,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(M=>Promise.reject(M))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bg=(()=>{class n{constructor(e,i,r,s,u,h){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=u,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new It.x;const _=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=e.events.subscribe(b=>{b instanceof Po&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,l.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,l.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,l.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Wr),l.Y36(p),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(dt))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&l.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&l.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class uv{}let iI=(()=>{class n{constructor(e,i,r,s,u){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(bn(e=>e instanceof Po),il(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,e,`Route: ${s.path}`));const u=s._injector??e,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,Qt.D)(r).pipe((0,mt.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):qe(null);const s=r.pipe((0,Li.z)(u=>null===u?qe(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Qt.D)([s,u]).pipe((0,mt.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(uv),l.LFG(cv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zf=new l.OlP("");let wg=(()=>{class n{constructor(e,i,r,s,u={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Po&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Au&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Au(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var Bo=(()=>((Bo=Bo||{})[Bo.COMPLETE=0]="COMPLETE",Bo[Bo.FAILED=1]="FAILED",Bo[Bo.REDIRECTING=2]="REDIRECTING",Bo))();const Yf=!1;function fl(n,t){return{\u0275kind:n,\u0275providers:t}}const Jw=new l.OlP("",{providedIn:"root",factory:()=>!1});function dv(){const n=(0,l.f3M)(l.zs3);return t=>{const e=n.get(l.z2F);if(t!==e.components[0])return;const i=n.get(Wr),r=n.get(Qf);1===n.get(hv)&&i.initialNavigation(),n.get(tC,null,l.XFs.Optional)?.setUpPreloading(),n.get(Zf,null,l.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Qf=new l.OlP(Yf?"bootstrap done indicator":"",{factory:()=>new It.x}),hv=new l.OlP(Yf?"initial navigation":"",{providedIn:"root",factory:()=>1});function sI(){let n=[];return n=Yf?[{provide:l.Xts,multi:!0,useFactory:()=>{const t=(0,l.f3M)(Wr);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function rh(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],fl(1,n)}const tC=new l.OlP(Yf?"router preloader":"");function aI(n){return fl(0,[{provide:tC,useExisting:iI},{provide:uv,useExisting:n}])}const ch=!1,Cg=new l.OlP(ch?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Kk=[Ne,{provide:ol,useClass:Kd},Wr,Pu,{provide:p,useFactory:function Xw(n){return n.routerState.root},deps:[Wr]},cv,ch?{provide:Jw,useValue:!0}:[]];function fv(){return new l.PXZ("Router",Wr)}let nC=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Kk,ch&&i?.enableTracing?sI().\u0275providers:[],{provide:Uu,multi:!0,useValue:e},{provide:Cg,useFactory:uI,deps:[[Wr,new l.FiY,new l.tp0]]},{provide:yg,useValue:i||{}},i?.useHash?{provide:dt,useClass:Se}:{provide:dt,useClass:De},{provide:Zf,useFactory:()=>{const n=(0,l.f3M)(Es),t=(0,l.f3M)(l.R0b),e=(0,l.f3M)(yg),i=(0,l.f3M)(Wf),r=(0,l.f3M)(ol);return e.scrollOffset&&n.setOffset(e.scrollOffset),new wg(r,i,n,t,e)}},i?.preloadingStrategy?aI(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:fv},i?.initialNavigation?rC(i):[],[{provide:oC,useFactory:dv},{provide:l.tb,multi:!0,useExisting:oC}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Uu,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Cg,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Nu]}),n})();function uI(n){if(ch&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function rC(n){return["disabled"===n.initialNavigation?fl(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const t=(0,l.f3M)(Wr);return()=>{t.setUpLocationChangeListener()}}},{provide:hv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?fl(2,[{provide:hv,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:t=>{const e=t.get(ue,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Wr),s=t.get(Qf);(function qk(n,t){n.events.pipe(bn(e=>e instanceof Po||e instanceof pc||e instanceof xa||e instanceof Iu),(0,st.U)(e=>e instanceof Po||e instanceof Iu?Bo.COMPLETE:e instanceof pc&&(0===e.code||1===e.code)?Bo.REDIRECTING:Bo.FAILED),bn(e=>e!==Bo.REDIRECTING),Gn(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(Wf).afterPreactivation=()=>(i(!0),s.closed?qe(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const oC=new l.OlP(ch?"Router Initializer":"");function Hu(...n){const t=(0,ao.jO)(n),{args:e,keys:i}=ma(n),r=new Tn.y(s=>{const{length:u}=e;if(!u)return void s.complete();const h=new Array(u);let _=u,b=u;for(let E=0;E<u;E++){let M=!1;(0,Bn.Xf)(e[E]).subscribe((0,W.x)(s,F=>{M||(M=!0,b--),h[E]=F},()=>_--,void 0,()=>{(!_||!M)&&(b||s.next(i?V(i,h):h),s.complete())}))}});return t?r.pipe(R(t)):r}let Eg=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Fs=(()=>{class n extends Eg{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const ho=new l.OlP("NgValueAccessor"),gv={provide:ho,useExisting:(0,l.Gpc)(()=>dh),multi:!0},yv=new l.OlP("CompositionEventMode");let dh=(()=>{class n extends Eg{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _v(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(yv,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([gv]),l.qOj]}),n})();const vv=!1;function bc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function sC(n){return null!=n&&"number"==typeof n.length}const br=new l.OlP("NgValidators"),wc=new l.OlP("NgAsyncValidators"),aC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lC{static min(t){return function cC(n){return t=>{if(bc(t.value)||bc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function uC(n){return t=>{if(bc(t.value)||bc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function fo(n){return bc(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function bv(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function dC(n){return bc(n.value)||aC.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function hI(n){return t=>bc(t.value)||!sC(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Dg(n){return t=>sC(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function wv(n){if(!n)return Sg;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(bc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return mC(t)}static composeAsync(t){return gC(t)}}function Sg(n){return null}function hC(n){return null!=n}function fC(n){const t=(0,l.QGY)(n)?(0,Qt.D)(n):n;if(vv&&!(0,l.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,e)}return t}function Cv(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function pC(n,t){return t.map(e=>e(n))}function Ig(n){return n.map(t=>function fI(n){return!n.validate}(t)?t:e=>t.validate(e))}function mC(n){if(!n)return null;const t=n.filter(hC);return 0==t.length?null:function(e){return Cv(pC(e,t))}}function Ev(n){return null!=n?mC(Ig(n)):null}function gC(n){if(!n)return null;const t=n.filter(hC);return 0==t.length?null:function(e){return Hu(pC(e,t).map(fC)).pipe((0,st.U)(Cv))}}function xv(n){return null!=n?gC(Ig(n)):null}function _C(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Ps(n){return n._rawValidators}function Tg(n){return n._rawAsyncValidators}function Dv(n){return n?Array.isArray(n)?n:[n]:[]}function Mg(n,t){return Array.isArray(n)?n.includes(t):n===t}function Sv(n,t){const e=Dv(t);return Dv(n).forEach(r=>{Mg(e,r)||e.push(r)}),e}function yC(n,t){return Dv(t).filter(e=>!Mg(n,e))}class vC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ev(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Zr extends vC{get formDirective(){return null}get path(){return null}}class Ns extends vC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bC{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xf=(()=>{class n extends bC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ns,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})();function Av(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const ju=!1,Jf="VALID",Rv="INVALID",fh="PENDING",ep="DISABLED";function kv(n){return(Og(n)?n.validators:n)||null}function Ov(n,t){return(Og(t)?t.asyncValidators:n)||null}function Og(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class DC{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Jf}get invalid(){return this.status===Rv}get pending(){return this.status==fh}get disabled(){return this.status===ep}get enabled(){return this.status!==ep}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Sv(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Sv(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(yC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(yC(t,this._rawAsyncValidators))}hasValidator(t){return Mg(this._rawValidators,t)}hasAsyncValidator(t){return Mg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=fh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ep,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Jf,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jf||this.status===fh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ep:Jf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=fh,this._hasOwnPendingAsyncValidator=!0;const e=fC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ep:this.errors?Rv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fh)?fh:this._anyControlsHaveStatus(Rv)?Rv:Jf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Og(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function vI(n){return Array.isArray(n)?Ev(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function bI(n){return Array.isArray(n)?xv(n):n||null}(this._rawAsyncValidators)}}class tp extends DC{constructor(t,e,i){super(kv(e),Ov(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Fg(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,ju?function yI(n,t){return`Must supply a value for form control ${Av(n,t)}`}(t,r):"")})})(this,!0,t),Object.keys(t).forEach(i=>{(function Fv(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,ju?function xC(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new l.vHH(1001,ju?function _I(n,t){return`Cannot find form control ${Av(n,t)}`}(t,e):"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const zu=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>np}),np="always";function ph(n,t,e=np){Lg(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Bg(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&SC(n,t)})}(n,t),function Nv(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function CI(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&SC(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function iO(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function ip(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Pv(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ng(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Lg(n,t){const e=Ps(n);null!==t.validator?n.setValidators(_C(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Tg(n);null!==t.asyncValidator?n.setAsyncValidators(_C(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ng(t._rawValidators,r),Ng(t._rawAsyncValidators,r)}function Pv(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Ps(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=Tg(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Ng(t._rawValidators,i),Ng(t._rawAsyncValidators,i),e}function SC(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function IC(n,t){Lg(n,t)}function rp(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function $u(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Ec(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===dh?e=s:function mh(n){return Object.getPrototypeOf(n.constructor)===Fs}(s)?i=s:r=s}),r||i||e||null}const _h={provide:Zr,useExisting:(0,l.Gpc)(()=>ml)},Ta=(()=>Promise.resolve())();let ml=(()=>{class n extends Zr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new tp({},Ev(e),xv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ta.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ph(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ta.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ta.then(()=>{const i=this._findContainer(e.path),r=new tp({});IC(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ta.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Ta.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,$u(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(br,10),l.Y36(wc,10),l.Y36(zu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([_h]),l.qOj]}),n})();function Gu(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Bv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const sp=class extends DC{constructor(t=null,e,i){super(kv(e),Ov(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Og(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Bv(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Gu(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Gu(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Bv(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},AC={provide:Ns,useExisting:(0,l.Gpc)(()=>Ug)},RC=(()=>Promise.resolve())();let Ug=(()=>{class n extends Ns{constructor(e,i,r,s,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new sp,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ec(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),rp(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ph(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){RC.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);RC.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Pg(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Zr,9),l.Y36(br,10),l.Y36(wc,10),l.Y36(ho,10),l.Y36(l.sBO,8),l.Y36(zu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([AC]),l.qOj,l.TTD]}),n})(),jg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Gg=new l.OlP("NgModelWithFormControlWarning"),zv={provide:Ns,useExisting:(0,l.Gpc)(()=>qg)};let qg=(()=>{class n extends Ns{set isDisabled(e){}constructor(e,i,r,s,u){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=u,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=Ec(0,r)}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&ip(i,this,!1),ph(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}rp(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ip(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(br,10),l.Y36(wc,10),l.Y36(ho,10),l.Y36(Gg,8),l.Y36(zu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([zv]),l.qOj,l.TTD]}),n})();const OC={provide:Zr,useExisting:(0,l.Gpc)(()=>yh)};let yh=(()=>{class n extends Zr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return ph(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){ip(e.control||null,e,!1),function gh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,$u(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(ip(i||null,e),(n=>n instanceof sp)(r)&&(ph(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);IC(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Ia(n,t){return Pv(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lg(this.form,this),this._oldForm&&Pv(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(br,10),l.Y36(wc,10),l.Y36(zu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([OC]),l.qOj,l.TTD]}),n})(),Xv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[jg]}),n})(),Jv=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:zu,useValue:e.callSetDisabledState??np}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xv]}),n})(),eb=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Gg,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:zu,useValue:e.callSetDisabledState??np}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xv]}),n})();var mo=P(4986),Ji=P(2122);function tb(){return(0,$n.e)((n,t)=>{let e,i=!1;n.subscribe((0,W.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function Bs(n,t=lo.y){return n=n??Vs,(0,$n.e)((e,i)=>{let r,s=!0;e.subscribe((0,W.x)(i,u=>{const h=t(u);(s||!n(r,h))&&(s=!1,r=h,i.next(u))}))})}function Vs(n,t){return n===t}var vt,Ei=P(2011),YC=(P(9800),P(3942)),pe=P(5861),qu=P(9681),Yg=P(4859),Dc=P(1877),dn=P(2090),hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gl={},nb=nb||{},zt=hp||self;function fp(){}function Wu(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function pp(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Kg="closure_uid_"+(1e9*Math.random()>>>0),ib=0;function Qg(n,t,e){return n.call.apply(n.bind,arguments)}function rb(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function wr(n,t,e){return(wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qg:rb).apply(null,arguments)}function mp(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function er(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function _l(){this.s=this.s,this.o=this.o}_l.prototype.s=!1,_l.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function KC(n){Object.prototype.hasOwnProperty.call(n,Kg)&&n[Kg]||(n[Kg]=++ib)}(this)},_l.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ob=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Xg(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function XC(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Wu(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function Pr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Pr.prototype.h=function(){this.defaultPrevented=!0};var UI=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",fp,t),zt.removeEventListener("test",fp,t)}catch{}return n}();function Jg(n){return/^[\s\xa0]*$/.test(n)}var JC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function sb(n,t){return n<t?-1:n>t?1:0}function e_(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function Ma(n){return-1!=e_().indexOf(n)}function ab(n){return ab[" "](n),n}ab[" "]=fp;var t_,n,jI=Ma("Opera"),vh=Ma("Trident")||Ma("MSIE"),eE=Ma("Edge"),lb=eE||vh,tE=Ma("Gecko")&&!(-1!=e_().toLowerCase().indexOf("webkit")&&!Ma("Edge"))&&!(Ma("Trident")||Ma("MSIE"))&&!Ma("Edge"),zI=-1!=e_().toLowerCase().indexOf("webkit")&&!Ma("Edge");function nE(){var n=zt.document;return n?n.documentMode:void 0}e:{var n_="",i_=(n=e_(),tE?/rv:([^\);]+)(\)|;)/.exec(n):eE?/Edge\/([\d\.]+)/.exec(n):vh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zI?/WebKit\/(\S+)/.exec(n):jI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(i_&&(n_=i_?i_[1]:""),vh){var r_=nE();if(null!=r_&&r_>parseFloat(n_)){t_=String(r_);break e}}t_=n_}var iE={};var oE=zt.document&&vh&&(nE()||parseInt(t_,10))||void 0;function bh(n,t){if(Pr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(tE){e:{try{ab(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ub[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bh.X.h.call(this)}}er(bh,Pr);var ub={2:"touch",3:"pen",4:"mouse"};bh.prototype.h=function(){bh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wh="closure_listenable_"+(1e6*Math.random()|0),Zu=0;function $I(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++Zu,this.ba=this.ea=!1}function s_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Sc(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function GI(n){const t={};for(const e in n)t[e]=n[e];return t}const a_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qI(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<a_.length;s++)e=a_[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function gp(n){this.src=n,this.g={},this.h=0}function l_(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=ob(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(s_(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function sE(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}gp.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=sE(n,t,i,r);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new $I(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var Mt="closure_lm_"+(1e6*Math.random()|0),db={};function aE(n,t,e,i,r){if(i&&i.once)return cE(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)aE(n,t[s],e,i,r);return null}return e=hb(e),n&&n[wh]?n.N(t,e,pp(i)?!!i.capture:!!i,r):lE(n,t,e,!1,i,r)}function lE(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var u=pp(r)?!!r.capture:!!r,h=c_(n);if(h||(n[Mt]=h=new gp(n)),(e=h.add(t,e,i,u,s)).proxy)return e;if(i=function Ch(){const t=uO;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)UI||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(ii(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function cE(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)cE(n,t[s],e,i,r);return null}return e=hb(e),n&&n[wh]?n.O(t,e,pp(i)?!!i.capture:!!i,r):lE(n,t,e,!0,i,r)}function _p(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)_p(n,t[s],e,i,r);else i=pp(i)?!!i.capture:!!i,e=hb(e),n&&n[wh]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=sE(s=n.g[t],e,i,r))&&(s_(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=c_(n))&&(t=n.g[t.toString()],n=-1,t&&(n=sE(t,e,i,r)),(e=-1<n?t[n]:null)&&Eh(e))}function Eh(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[wh])l_(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(ii(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=c_(t))?(l_(e,n),0==e.h&&(e.src=null,t[Mt]=null)):s_(n)}}}function ii(n){return n in db?db[n]:db[n]="on"+n}function uO(n,t){if(n.ba)n=!0;else{t=new bh(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&Eh(n),n=e.call(i,t)}return n}function c_(n){return(n=n[Mt])instanceof gp?n:null}var u_="__closure_events_fn_"+(1e9*Math.random()>>>0);function hb(n){return"function"==typeof n?n:(n[u_]||(n[u_]=function(t){return n.handleEvent(t)}),n[u_])}function Vi(){_l.call(this),this.i=new gp(this),this.P=this,this.I=null}function tr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Pr(t,n);else if(t instanceof Pr)t.target=t.target||n;else{var r=t;qI(t=new Pr(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var u=t.g=e[s];r=yp(u,i,!0,t)&&r}if(r=yp(u=t.g=n,i,!0,t)&&r,r=yp(u,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=yp(u=t.g=e[s],i,!1,t)&&r}function yp(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ba&&u.capture==e){var h=u.listener,_=u.ha||u.src;u.ea&&l_(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}er(Vi,_l),Vi.prototype[wh]=!0,Vi.prototype.removeEventListener=function(n,t,e,i){_p(this,n,t,e,i)},Vi.prototype.M=function(){if(Vi.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)s_(e[i]);delete n.g[t],n.h--}}this.I=null},Vi.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Vi.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var d_=zt.JSON.stringify;function WI(){var n=pb;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var fb,uE=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new vp,n=>n.reset());class vp{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function YI(n){zt.setTimeout(()=>{throw n},0)}function dE(n,t){fb||function h_(){var n=zt.Promise.resolve(void 0);fb=function(){n.then(hE)}}(),f_||(fb(),f_=!0),pb.add(n,t)}var f_=!1,pb=new class ZI{constructor(){this.h=this.g=null}add(t,e){const i=uE.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function hE(){for(var n;n=WI();){try{n.h.call(n.g)}catch(e){YI(e)}var t=uE;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}f_=!1}function p_(n,t){Vi.call(this),this.h=n||1,this.g=t||zt,this.j=wr(this.lb,this),this.l=Date.now()}function Yu(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Ku(n,t,e){if("function"==typeof n)e&&(n=wr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=wr(n.handleEvent,n)}return 2147483647<Number(t)?-1:zt.setTimeout(n,t||0)}function fE(n){n.g=Ku(()=>{n.g=null,n.i&&(n.i=!1,fE(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}er(p_,Vi),(vt=p_.prototype).ca=!1,vt.R=null,vt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),tr(this,"tick"),this.ca&&(Yu(this),this.start()))}},vt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vt.M=function(){p_.X.M.call(this),Yu(this),delete this.g};class KI extends _l{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:fE(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bp(n){_l.call(this),this.h=n,this.g={}}er(bp,_l);var mb=[];function gb(n,t,e,i){Array.isArray(e)||(e&&(mb[0]=e.toString()),e=mb);for(var r=0;r<e.length;r++){var s=aE(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function _b(n){Sc(n.g,function(t,e){this.g.hasOwnProperty(e)&&Eh(t)},n),n.g={}}function m_(){this.g=!0}function xh(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function hO(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return d_(e)}catch{return t}}(n,e)+(i?" "+i:"")})}bp.prototype.M=function(){bp.X.M.call(this),_b(this)},bp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},m_.prototype.Aa=function(){this.g=!1},m_.prototype.info=function(){};var Dh={},XI=null;function wp(){return XI=XI||new Vi}function Cp(n){Pr.call(this,Dh.Pa,n)}function Ep(n){const t=wp();tr(t,new Cp(t))}function mE(n,t){Pr.call(this,Dh.STAT_EVENT,n),this.stat=t}function Nr(n){const t=wp();tr(t,new mE(t,n))}function Sh(n,t){Pr.call(this,Dh.Qa,n),this.size=t}function xp(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},t)}Dh.Pa="serverreachability",er(Cp,Pr),Dh.STAT_EVENT="statevent",er(mE,Pr),Dh.Qa="timingevent",er(Sh,Pr);var g_={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},gE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function yb(){}function _E(){}yb.prototype.h=null;var Qu,Ih={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function vb(){Pr.call(this,"d")}function bb(){Pr.call(this,"c")}function __(){}function Th(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new bp(this),this.O=vE,this.T=new p_(n=lb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new yE}function yE(){this.i=null,this.g="",this.h=!1}er(vb,Pr),er(bb,Pr),er(__,yb),__.prototype.g=function(){return new XMLHttpRequest},__.prototype.i=function(){return{}},Qu=new __;var vE=45e3,wb={},Dp={};function Cb(n,t,e){n.K=1,n.v=C_(yl(t)),n.s=e,n.P=!0,y_(n,null)}function y_(n,t){n.F=Date.now(),Sp(n),n.A=yl(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),Tb(e.i,"t",i),n.C=0,e=n.l.H,n.h=new yE,n.g=Rh(n.l,e?t:null,!n.s),0<n.N&&(n.L=new KI(wr(n.La,n,n.g),n.N)),gb(n.S,n.g,"readystatechange",n.ib),t=n.H?GI(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),Ep(),function pE(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),_=0;_<h.length;_++){var b=h[_].split("=");if(1<b.length){var E=b[0];b=b[1];var M=E.split("_");u=2<=M.length&&"type"==M[1]?u+(E+"=")+b+"&":u+(E+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function bE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Eb(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=wE(n,e),r==Dp){4==t&&(n.o=4,Nr(14),i=!1),xh(n.j,n.m,null,"[Incomplete Response]");break}if(r==wb){n.o=4,Nr(15),xh(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}xh(n.j,n.m,r,null),b_(n,r)}bE(n)&&r!=Dp&&r!=wb&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Nr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),Vb(t),t.K=!0,Nr(11))):(xh(n.j,n.m,e,"[Invalid Chunked Response]"),Ju(n),Xu(n))}function wE(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Dp:(e=Number(t.substring(e,i)),isNaN(e)?wb:(i+=1)+e>t.length?Dp:(t=t.substr(i,e),n.C=i+e,t))}function Sp(n){n.V=Date.now()+n.O,CE(n,n.O)}function CE(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xp(wr(n.gb,n),t)}function v_(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function Xu(n){0==n.l.G||n.I||zE(n.l,n)}function Ju(n){v_(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Yu(n.T),_b(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function b_(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Ap(e.h,n)))if(!n.J&&Ap(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;Tc(e),kp(e)}Bb(e),Nr(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=xp(wr(e.cb,e),6e3));if(1>=AE(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Lr(e,11)}else if((n.J||e.g==n)&&Tc(e),!Jg(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.T=b[0],b=b[1],2==e.G)if("c"==b[0]){e.I=b[1],e.ka=b[2];const E=b[3];null!=E&&(e.ma=E,e.j.info("VER="+e.ma));const M=b[4];null!=M&&(e.Ca=M,e.j.info("SVER="+e.Ca));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(e.J=i=1.5*F,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var s=i.h;s.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Mb(s,s.h),s.h=null))}if(i.D){const X=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;X&&(i.za=X,Qn(i.F,i.D,X))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((i=e).sa=Fp(i,i.H?i.ka:null,i.V),u.J){Ab(i.h,u);var h=u,_=i.J;_&&h.setTimeout(_),h.B&&(v_(h),Sp(h)),i.g=u}else Lb(i);0<e.i.length&&Op(e)}else"stop"!=b[0]&&"close"!=b[0]||Lr(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Lr(e,7):R_(e):"noop"!=b[0]&&e.l&&e.l.wa(b),e.A=0)}Ep()}catch{}}function EE(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Wu(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function tT(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wu(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function eT(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wu(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(vt=Th.prototype).setTimeout=function(n){this.O=n},vt.ib=function(n){n=n.target;const t=this.L;t&&3==vl(n)?t.l():this.La(n)},vt.La=function(n){try{if(n==this.g)e:{const E=vl(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>E)&&(3!=E||lb||this.g&&(this.h.h||this.g.fa()||LE(this.g)))){this.I||4!=E||7==t||Ep(),v_(this);var e=this.g.aa();this.Y=e;t:if(bE(this)){var i=LE(this.g);n="";var r=i.length,s=4==vl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ju(this),Xu(this);var u="";break t}this.h.i=new zt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function QI(n,t,e,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.U,E,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jg(h)){var b=h;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,Nr(12),Ju(this),Xu(this);break e}xh(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,b_(this,e)}this.P?(Eb(this,E,u),lb&&this.i&&3==E&&(gb(this.S,this.T,"tick",this.hb),this.T.start())):(xh(this.j,this.m,u,null),b_(this,u)),4==E&&Ju(this),this.i&&!this.I&&(4==E?zE(this.l,this):(this.i=!1,Sp(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Nr(12)):(this.o=0,Nr(13)),Ju(this),Xu(this)}}}catch{}},vt.hb=function(){if(this.g){var n=vl(this.g),t=this.g.fa();this.C<t.length&&(v_(this),Eb(this,n,t),this.i&&4!=n&&Sp(this))}},vt.cancel=function(){this.I=!0,Ju(this)},vt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function dO(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Ep(),Nr(17)),Ju(this),this.o=2,Xu(this)):CE(this,this.V-n)};var xE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ed(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ed){this.h=void 0!==t?t:n.h,w_(this,n.j),this.s=n.s,this.g=n.g,Ip(this,n.m),this.l=n.l,t=n.i;var e=new Mp;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),xb(this,e),this.o=n.o}else n&&(e=String(n).match(xE))?(this.h=!!t,w_(this,e[1]||"",!0),this.s=Mh(e[2]||""),this.g=Mh(e[3]||"",!0),Ip(this,e[4]),this.l=Mh(e[5]||"",!0),xb(this,e[6]||"",!0),this.o=Mh(e[7]||"")):(this.h=!!t,this.i=new Mp(null,this.h))}function yl(n){return new ed(n)}function w_(n,t,e){n.j=e?Mh(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Ip(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function xb(n,t,e){t instanceof Mp?(n.i=t,function TE(n,t){t&&!n.j&&(Ic(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(E_(this,i),Tb(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Tp(t,SE)),n.i=new Mp(t,n.h))}function Qn(n,t,e){n.i.set(t,e)}function C_(n){return Qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mh(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Tp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,iT),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function iT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ed.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Tp(t,DE,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Tp(t,DE,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Tp(e,"/"==e.charAt(0)?Sb:Db,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Tp(e,Ib)),n.join("")};var DE=/[#\/\?@]/g,Db=/[#\?:]/g,Sb=/[#\?]/g,SE=/[#\?@]/g,Ib=/#/g;function Mp(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ic(n){n.g||(n.g=new Map,n.h=0,n.i&&function nT(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function E_(n,t){Ic(n),t=Us(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function IE(n,t){return Ic(n),t=Us(n,t),n.g.has(t)}function Tb(n,t,e){E_(n,t),0<e.length&&(n.i=null,n.g.set(Us(n,t),Xg(e)),n.h+=e.length)}function Us(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function oT(n){this.l=n||ME,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ga&&zt.g.Ga()&&zt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(vt=Mp.prototype).add=function(n,t){Ic(this),this.i=null,n=Us(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},vt.forEach=function(n,t){Ic(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},vt.oa=function(){Ic(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},vt.W=function(n){Ic(this);let t=[];if("string"==typeof n)IE(this,n)&&(t=t.concat(this.g.get(Us(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},vt.set=function(n,t){return Ic(this),this.i=null,IE(this,n=Us(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},vt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var ME=10;function x_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AE(n){return n.h?1:n.g?n.g.size:0}function Ap(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Mb(n,t){n.g?n.g.add(t):n.h=t}function Ab(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function D_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Xg(n.i)}function S_(){}function RE(){this.g=new S_}function kE(n,t,e){const i=e||"";try{EE(n,function(r,s){let u=r;pp(r)&&(u=d_(r)),t.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function I_(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Rp(n){this.l=n.ac||null,this.j=n.jb||!1}function T_(n,t){Vi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Rb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}oT.prototype.cancel=function(){if(this.i=D_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},S_.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},S_.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},er(Rp,yb),Rp.prototype.g=function(){return new T_(this.l,this.j)},Rp.prototype.i=function(n){return function(){return n}}({}),er(T_,Vi);var Rb=0;function kb(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function M_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ah(n)}function Ah(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(vt=T_.prototype).open=function(n,t){if(this.readyState!=Rb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Ah(this)},vt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||zt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,M_(this)),this.readyState=Rb},vt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ah(this)),this.g&&(this.readyState=3,Ah(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kb(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},vt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?M_(this):Ah(this),3==this.readyState&&kb(this)}},vt.Va=function(n){this.g&&(this.response=this.responseText=n,M_(this))},vt.Ua=function(n){this.g&&(this.response=n,M_(this))},vt.ga=function(){this.g&&M_(this)},vt.setRequestHeader=function(n,t){this.v.append(n,t)},vt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},vt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(T_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var sT=zt.JSON.parse;function pi(n){Vi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=aT,this.K=this.L=!1}er(pi,Vi);var aT="",lT=/^https?$/i,cT=["POST","PUT"];function Ob(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,FE(n),A_(n)}function FE(n){n.D||(n.D=!0,tr(n,"complete"),tr(n,"error"))}function PE(n){if(n.h&&typeof nb<"u"&&(!n.C[1]||4!=vl(n)||2!=n.aa()))if(n.v&&4==vl(n))Ku(n.Ha,0,n);else if(tr(n,"readystatechange"),4==vl(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(xE)[1]||null;if(!r&&zt.self&&zt.self.location){var s=zt.self.location.protocol;r=s.substr(0,s.length-1)}i=!lT.test(r?r.toLowerCase():"")}e=i}if(e)tr(n,"complete"),tr(n,"success");else{n.m=6;try{var u=2<vl(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",FE(n)}}finally{A_(n)}}}function A_(n,t){if(n.g){NE(n);const e=n.g,i=n.C[0]?fp:null;n.g=null,n.C=null,t||tr(n,"ready");try{e.onreadystatechange=i}catch{}}}function NE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function vl(n){return n.g?n.g.readyState:0}function LE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case aT:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function BE(n){let t="";return Sc(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function Fb(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=BE(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Qn(n,t,e))}function bl(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Pb(n){this.Ca=0,this.i=[],this.j=new m_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=bl("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=bl("baseRetryDelayMs",5e3,n),this.bb=bl("retryDelaySeedMs",1e4,n),this.$a=bl("forwardChannelMaxRetries",2,n),this.ta=bl("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new oT(n&&n.concurrentRequestLimit),this.Fa=new RE,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function R_(n){if(Nb(n),3==n.G){var t=n.U++,e=yl(n.F);Qn(e,"SID",n.I),Qn(e,"RID",t),Qn(e,"TYPE","terminate"),k_(n,e),(t=new Th(n,n.j,t,void 0)).K=2,t.v=C_(yl(e)),e=!1,zt.navigator&&zt.navigator.sendBeacon&&(e=zt.navigator.sendBeacon(t.v.toString(),"")),!e&&zt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Rh(t.l,null),t.g.da(t.v)),t.F=Date.now(),Sp(t)}$E(n)}function kp(n){n.g&&(Vb(n),n.g.cancel(),n.g=null)}function Nb(n){kp(n),n.u&&(zt.clearTimeout(n.u),n.u=null),Tc(n),n.h.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function Op(n){x_(n.h)||n.m||(n.m=!0,dE(n.Ja,n),n.C=0)}function UE(n,t){var e;e=t?t.m:n.U++;const i=yl(n.F);Qn(i,"SID",n.I),Qn(i,"RID",e),Qn(i,"AID",n.T),k_(n,i),n.o&&n.s&&Fb(i,n.o,n.s),e=new Th(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=HE(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Mb(n.h,e),Cb(e,i,t)}function k_(n,t){n.ia&&Sc(n.ia,function(e,i){Qn(t,i,e)}),n.l&&EE({},function(e,i){Qn(t,i,e)})}function HE(n,t,e){e=Math.min(n.i.length,e);var i=n.l?wr(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const u=["count="+e];-1==s?0<e?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let _=0;_<e;_++){let b=r[_].h;const E=r[_].g;if(b-=s,0>b)s=Math.max(0,r[_].h-100),h=!1;else try{kE(E,u,"req"+b+"_")}catch{i&&i(E)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function Lb(n){n.g||n.u||(n.Z=1,dE(n.Ia,n),n.A=0)}function Bb(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=xp(wr(n.Ia,n),O_(n,n.A)),n.A++,0))}function Vb(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function jE(n){n.g=new Th(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=yl(n.sa);Qn(t,"RID","rpc"),Qn(t,"SID",n.I),Qn(t,"CI",n.L?"0":"1"),Qn(t,"AID",n.T),Qn(t,"TYPE","xmlhttp"),k_(n,t),n.o&&n.s&&Fb(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=C_(yl(t)),e.s=null,e.P=!0,y_(e,n)}function Tc(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function zE(n,t){var e=null;if(n.g==t){Tc(n),Vb(n),n.g=null;var i=2}else{if(!Ap(n.h,t))return;e=t.D,Ab(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;tr(i=wp(),new Sh(i,e)),Op(n)}else Lb(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function VE(n,t){return!(AE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=xp(wr(n.Ja,n,t),O_(n,n.C)),n.C++,0)))}(n,t)||2==i&&Bb(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Lr(n,5);break;case 4:Lr(n,10);break;case 3:Lr(n,6);break;default:Lr(n,2)}}function O_(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Lr(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=wr(n.kb,n);e||(e=new ed("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||w_(e,"https"),C_(e)),function OE(n,t){const e=new m_;if(zt.Image){const i=new Image;i.onload=mp(I_,e,i,"TestLoadImage: loaded",!0,t),i.onerror=mp(I_,e,i,"TestLoadImage: error",!1,t),i.onabort=mp(I_,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=mp(I_,e,i,"TestLoadImage: timeout",!1,t),zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Nr(2);n.G=0,n.l&&n.l.va(t),$E(n),Nb(n)}function $E(n){if(n.G=0,n.la=[],n.l){const t=D_(n.h);(0!=t.length||0!=n.i.length)&&(XC(n.la,t),XC(n.la,n.i),n.h.i.length=0,Xg(n.i),n.i.length=0),n.l.ua()}}function Fp(n,t,e){var i=e instanceof ed?yl(e):new ed(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Ip(i,i.m);else{var r=zt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new ed(null,void 0);i&&w_(s,i),t&&(s.g=t),r&&Ip(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&Qn(i,e,t),Qn(i,"VER",n.ma),k_(n,i),i}function Rh(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new pi(e&&n.Da&&!n.ra?new Rp({jb:!0}):n.ra)).Ka(n.H),t}function GE(){}function F_(){if(vh&&!(10<=Number(oE)))throw Error("Environmental error: no available transport.")}function Vo(n,t){Vi.call(this),this.g=new Pb(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!Jg(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jg(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new kh(this)}function Pp(n){vb.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Np(){bb.call(this),this.status=1}function kh(n){this.g=n}(vt=pi.prototype).Ka=function(n){this.L=n},vt.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qu.g(),this.C=function JI(n){return n.h||(n.h=n.i())}(this.u?this.u:Qu),this.g.onreadystatechange=wr(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void Ob(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=zt.FormData&&n instanceof zt.FormData,!(0<=ob(cT,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of e)this.g.setRequestHeader(s,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{NE(this),0<this.B&&((this.K=function uT(n){return vh&&function rE(){return function HI(n){var t=iE;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=JC(String(t_)).split("."),e=JC("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",s=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=sb(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||sb(0==r[2].length,0==s[2].length)||sb(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wr(this.qa,this)):this.A=Ku(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Ob(this,s)}},vt.qa=function(){typeof nb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tr(this,"timeout"),this.abort(8))},vt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,tr(this,"complete"),tr(this,"abort"),A_(this))},vt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),A_(this,!0)),pi.X.M.call(this)},vt.Ha=function(){this.s||(this.F||this.v||this.l?PE(this):this.fb())},vt.fb=function(){PE(this)},vt.aa=function(){try{return 2<vl(this)?this.g.status:-1}catch{return-1}},vt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},vt.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),sT(t)}},vt.Ea=function(){return this.m},vt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(vt=Pb.prototype).ma=8,vt.G=1,vt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Th(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=GI(s),qI(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=HE(this,r,t),Qn(e=yl(this.F),"RID",n),Qn(e,"CVER",22),this.D&&Qn(e,"X-HTTP-Session-Id",this.D),k_(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(BE(s)))+"&"+t:this.o&&Fb(e,this.o,s)),Mb(this.h,r),this.Ya&&Qn(e,"TYPE","init"),this.O?(Qn(e,"$req",t),Qn(e,"SID","null"),r.Z=!0,Cb(r,e,null)):Cb(r,e,t),this.G=2}}else 3==this.G&&(n?UE(this,n):0==this.i.length||x_(this.h)||UE(this))},vt.Ia=function(){if(this.u=null,jE(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=xp(wr(this.eb,this),n)}},vt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Nr(10),kp(this),jE(this))},vt.cb=function(){null!=this.v&&(this.v=null,kp(this),Bb(this),Nr(19))},vt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Nr(2)):(this.j.info("Failed to ping google.com"),Nr(1))},(vt=GE.prototype).xa=function(){},vt.wa=function(){},vt.va=function(){},vt.ua=function(){},vt.Ra=function(){},F_.prototype.g=function(n,t){return new Vo(n,t)},er(Vo,Vi),Vo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Nr(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=Fp(n,null,n.V),Op(n)},Vo.prototype.close=function(){R_(this.g)},Vo.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=d_(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&Op(t)},Vo.prototype.M=function(){this.g.l=null,delete this.j,R_(this.g),delete this.g,Vo.X.M.call(this)},er(Pp,vb),er(Np,bb),er(kh,GE),kh.prototype.xa=function(){tr(this.g,"a")},kh.prototype.wa=function(n){tr(this.g,new Pp(n))},kh.prototype.va=function(n){tr(this.g,new Np)},kh.prototype.ua=function(){tr(this.g,"b")},F_.prototype.createWebChannel=F_.prototype.g,Vo.prototype.send=Vo.prototype.u,Vo.prototype.open=Vo.prototype.m,Vo.prototype.close=Vo.prototype.close,g_.NO_ERROR=0,g_.TIMEOUT=8,g_.HTTP_ERROR=6,gE.COMPLETE="complete",_E.EventType=Ih,Ih.OPEN="a",Ih.CLOSE="b",Ih.ERROR="c",Ih.MESSAGE="d",Vi.prototype.listen=Vi.prototype.N,pi.prototype.listenOnce=pi.prototype.O,pi.prototype.getLastError=pi.prototype.Oa,pi.prototype.getLastErrorCode=pi.prototype.Ea,pi.prototype.getStatus=pi.prototype.aa,pi.prototype.getResponseJson=pi.prototype.Sa,pi.prototype.getResponseText=pi.prototype.fa,pi.prototype.send=pi.prototype.da,pi.prototype.setWithCredentials=pi.prototype.Ka;var dT=gl.createWebChannelTransport=function(){return new F_},qE=gl.getStatEventTarget=function(){return wp()},P_=gl.ErrorCode=g_,Ub=gl.EventType=gE,WE=gl.Event=Dh,N_=gl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Hb=gl.FetchXmlHttpFactory=Rp,Lp=gl.WebChannel=_E,jb=gl.XhrIo=pi;const L_="@firebase/firestore";class nr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");let Oh="9.19.0";const Mc=new Dc.Yd("@firebase/firestore");function zb(){return Mc.logLevel}function Oe(n,...t){if(Mc.logLevel<=Dc.in.DEBUG){const e=t.map(B_);Mc.debug(`Firestore (${Oh}): ${n}`,...e)}}function mi(n,...t){if(Mc.logLevel<=Dc.in.ERROR){const e=t.map(B_);Mc.error(`Firestore (${Oh}): ${n}`,...e)}}function Hs(n,...t){if(Mc.logLevel<=Dc.in.WARN){const e=t.map(B_);Mc.warn(`Firestore (${Oh}): ${n}`,...e)}}function B_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const t=`FIRESTORE (${Oh}) INTERNAL ASSERTION FAILED: `+n;throw mi(t),new Error(t)}function Ct(n,t){n||at()}function Ke(n,t){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends dn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Br{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Fh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(nr.UNAUTHENTICATED))}shutdown(){}}class hT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class fT{constructor(t){this.t=t,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let u=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ii,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const b=u;t.enqueueRetryable((0,pe.Z)(function*(){yield b.promise,yield s(i.currentUser)}))},_=b=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ii)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct("string"==typeof i.accessToken),new Br(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ct(null===t||"string"==typeof t),new nr(t)}}class fO{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class pO{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new fO(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $b{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gb{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.T;return this.T=s.token,Oe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ct("string"==typeof e.token),this.T=e.token,new $b(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pT(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class U_{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=pT(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Gt(n,t){return n<t?-1:n>t?1:0}function td(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function KE(n){return n+"\0"}class Xn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Xn.fromMillis(Date.now())}static fromDate(t){return Xn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Xn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new Xn(0,0))}static max(){return new Dt(new Xn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nd{constructor(t,e,i){void 0===e?e=0:e>t.length&&at(),void 0===i?i=t.length-e:i>t.length-e&&at(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===nd.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof nd?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),u=e.get(r);if(s<u)return-1;if(s>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class cn extends nd{construct(t,e,i){return new cn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new cn(e)}static emptyPath(){return new cn([])}}const QE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends nd{construct(t,e,i){return new qn(t,e,i)}static isValidIdentifier(t){return QE.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qn(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Te(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Te(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new Te(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qn(e)}static emptyPath(){return new qn([])}}class We{constructor(t){this.path=t}static fromPath(t){return new We(cn.fromString(t))}static fromName(t){return new We(cn.fromString(t).popFirst(5))}static empty(){return new We(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===cn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return cn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new We(new cn(t.slice()))}}class qb{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function H_(n){return n.fields.find(t=>2===t.kind)}function id(n){return n.fields.filter(t=>2!==t.kind)}qb.UNKNOWN_ID=-1;class wl{constructor(t,e){this.fieldPath=t,this.kind=e}}class Ph{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Ph(0,Uo.min())}}function j_(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(1e9===i?new Xn(e+1,0):new Xn(e,i));return new Uo(r,We.empty(),t)}function gT(n){return new Uo(n.readTime,n.key,-1)}class Uo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Uo(Dt.min(),We.empty(),-1)}static max(){return new Uo(Dt.max(),We.empty(),-1)}}function JE(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=We.comparator(n.documentKey,t.documentKey),0!==e?e:Gt(n.largestBatchId,t.largestBatchId))}const ex="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ac(n){return z_.apply(this,arguments)}function z_(){return z_=(0,pe.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==ex)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),z_.apply(this,arguments)}class oe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new oe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof oe?e:oe.resolve(e)}catch(e){return oe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):oe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):oe.reject(e)}static resolve(t){return new oe((e,i)=>{e(t)})}static reject(t){return new oe((e,i)=>{i(t)})}static waitFor(t){return new oe((e,i)=>{let r=0,s=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&e()},_=>i(_))}),u=!0,s===r&&e()})}static or(t){let e=oe.resolve(!1);for(const i of t)e=e.next(r=>r?oe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new oe((i,r)=>{const s=t.length,u=new Array(s);let h=0;for(let _=0;_<s;_++){const b=_;e(t[b]).next(E=>{u[b]=E,++h,h===s&&i(u)},E=>r(E))}})}static doWhile(t,e){return new oe((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class $_{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.R=new Ii,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{e.error?this.R.reject(new Bp(t,e.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=G_(i.target.error);this.R.reject(new Bp(t,r))}}static open(t,e,i,r){try{return new $_(e,t.transaction(r,i))}catch(s){throw new Bp(e,s)}}get v(){return this.R.promise}abort(t){t&&this.R.reject(t),this.aborted||(Oe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new ix(e)}}class ls{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===ls.S((0,dn.z$)())&&mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Oe("SimpleDb","Removing database:",t),rd(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,dn.hl)())return!1;if(ls.C())return!0;const t=(0,dn.z$)(),e=ls.S(t),i=0<e&&e<10,r=ls.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static O(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,pe.Z)(function*(){return e.db||(Oe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new Bp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Te(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Te(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Bp(t,h))},s.onupgradeneeded=u=>{Oe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.V.M(u.target.result,s.transaction,u.oldVersion,e.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,pe.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{s.db=yield s.$(t);const _=$_.open(s.db,t,u?"readonly":"readwrite",i),b=r(_).next(E=>(_.P(),E)).catch(E=>(_.abort(E),oe.reject(E))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,E="FirebaseError"!==b.name&&h<3;if(Oe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),s.close(),!E)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nx{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return rd(this.L.delete())}}class Bp extends Te{constructor(t,e){super(ae.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Rc(n){return"IndexedDbTransactionError"===n.name}class ix{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Oe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),rd(i)}add(t){return Oe("SimpleDb","ADD",this.store.name,t,t),rd(this.store.add(t))}get(t){return rd(this.store.get(t)).next(e=>(void 0===e&&(e=null),Oe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Oe("SimpleDb","DELETE",this.store.name,t),rd(this.store.delete(t))}count(){return Oe("SimpleDb","COUNT",this.store.name),rd(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(u,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new oe((s,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new oe((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(t,e){Oe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,u,h)=>h.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}X(t){const e=this.cursor({});return new oe((i,r)=>{e.onerror=s=>{const u=G_(s.target.error);r(u)},e.onsuccess=s=>{const u=s.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}W(t,e){const i=[];return new oe((r,s)=>{t.onerror=u=>{s(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new nx(h),b=e(h.primaryKey,h.value,_);if(b instanceof oe){const E=b.catch(M=>(_.done(),oe.reject(M)));i.push(E)}_.isDone?r():null===_.K?h.continue():h.continue(_.K)}}).next(()=>oe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function rd(n){return new oe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=G_(i.target.error);e(r)}})}let Wb=!1;function G_(n){const t=ls.S((0,dn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Wb||(Wb=!0,setTimeout(()=>{throw i},0)),i}}return n}class rx{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Oe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,pe.Z)(function*(){e.task=null;try{Oe("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){Rc(i)?Oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ac(i)}yield e.et(6e4)}))}}class ox{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,pe.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return oe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Oe("IndexBackiller",`Processing collection: ${u}`),this.it(t,u,r).next(h=>{r-=h,i.add(u)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.rt(r,s)).next(h=>(Oe("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const u=gT(s);JE(u,i)>0&&(i=u)}),new Uo(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Ho=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function Vp(n){return null==n}function q_(n){return 0===n&&1/n==-1/0}function Zb(n){return"number"==typeof n&&Number.isInteger(n)&&!q_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function go(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=_T(t)),t=mO(n.get(e),t);return _T(t)}function mO(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function _T(n){return n+"\x01\x01"}function Cl(n){const t=n.length;if(Ct(t>=2),2===t)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const u=n.indexOf("\x01",s);switch((u<0||u>e)&&at(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:at()}s=u+2}return new cn(i)}const yT=["userId","batchId"];function Yb(n,t){return[n,go(t)]}function vT(n,t,e){return[n,go(t),e]}const gO={},W_=["prefixPath","collectionGroup","readTime","documentId"],_O=["prefixPath","collectionGroup","documentId"],sx=["collectionGroup","readTime","prefixPath","documentId"],Z_=["canonicalId","targetId"],ax=["targetId","path"],lx=["path","targetId"],yO=["collectionId","parent"],Kb=["indexId","uid"],cx=["uid","sequenceNumber"],bT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],vO=["indexId","uid","orderedDocumentKey"],wT=["userId","collectionPath","documentId"],CT=["userId","collectionPath","largestBatchId"],ET=["userId","collectionGroup","largestBatchId"],Up=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xT=[...Up,"documentOverlays"],DT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ST=DT,bO=[...ST,"indexConfiguration","indexState","indexEntries"];class Qb extends tx{constructor(t,e){super(),this.at=t,this.currentSequenceNumber=e}}function ir(n,t){const e=Ke(n);return ls.O(e.at,t)}function ux(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Nh(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function dx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ri{constructor(t,e){this.comparator=t,this.root=e||Vr.EMPTY}insert(t,e){return new ri(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(t){return new ri(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hp(this.root,t,this.comparator,!0)}}class Hp{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Vr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Vr.RED,this.left=r??Vr.EMPTY,this.right=s??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Vr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Vr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const t=this.left.check();if(t!==this.right.check())throw at();return t+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1,Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Vr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(t){this.comparator=t,this.data=new ri(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new hx(this.data.getIterator())}getIteratorFrom(t){return new hx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof tn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new tn(this.comparator);return e.data=t,e}}class hx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kc(n){return n.hasNext()?n.getNext():void 0}class _o{constructor(t){this.fields=t,t.sort(qn.comparator)}static empty(){return new _o([])}unionWith(t){let e=new tn(qn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new _o(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return td(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class wO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new wO("Invalid base64 string: "+r):r}}(t);return new Ui(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Ui(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const Xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oc(n){if(Ct(!!n),"string"==typeof n){let t=0;const e=Xb.exec(n);if(Ct(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:gi(n.seconds),nanos:gi(n.nanos)}}function gi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function El(n){return"string"==typeof n?Ui.fromBase64String(n):Ui.fromUint8Array(n)}function Y_(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Jb(n){const t=n.mapValue.fields.__previous_value__;return Y_(t)?Jb(t):t}function jp(n){const t=Oc(n.mapValue.fields.__local_write_time__.timestampValue);return new Xn(t.seconds,t.nanos)}class fx{constructor(t,e,i,r,s,u,h,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class xl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new xl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}const Fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zp={nullValue:"NULL_VALUE"};function od(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Y_(n)?4:IT(n)?9007199254740991:10:at()}function us(n,t){if(n===t)return!0;const e=od(n);if(e!==od(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return jp(n).isEqual(jp(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Oc(i.timestampValue),u=Oc(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,El(n.bytesValue).isEqual(El(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return gi(i.geoPointValue.latitude)===gi(r.geoPointValue.latitude)&&gi(i.geoPointValue.longitude)===gi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return gi(i.integerValue)===gi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=gi(i.doubleValue),u=gi(r.doubleValue);return s===u?q_(s)===q_(u):isNaN(s)&&isNaN(u)}return!1}(n,t);case 9:return td(n.arrayValue.values||[],t.arrayValue.values||[],us);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(ux(s)!==ux(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!us(s[h],u[h])))return!1;return!0}(n,t);default:return at()}var r}function jo(n,t){return void 0!==(n.values||[]).find(e=>us(e,t))}function Yr(n,t){if(n===t)return 0;const e=od(n),i=od(t);if(e!==i)return Gt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const u=gi(r.integerValue||r.doubleValue),h=gi(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return e0(n.timestampValue,t.timestampValue);case 4:return e0(jp(n),jp(t));case 5:return Gt(n.stringValue,t.stringValue);case 6:return function(r,s){const u=El(r),h=El(s);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let _=0;_<u.length&&_<h.length;_++){const b=Gt(u[_],h[_]);if(0!==b)return b}return Gt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const u=Gt(gi(r.latitude),gi(s.latitude));return 0!==u?u:Gt(gi(r.longitude),gi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let _=0;_<u.length&&_<h.length;++_){const b=Yr(u[_],h[_]);if(b)return b}return Gt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Fc.mapValue&&s===Fc.mapValue)return 0;if(r===Fc.mapValue)return 1;if(s===Fc.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),_=s.fields||{},b=Object.keys(_);h.sort(),b.sort();for(let E=0;E<h.length&&E<b.length;++E){const M=Gt(h[E],b[E]);if(0!==M)return M;const F=Yr(u[h[E]],_[b[E]]);if(0!==F)return F}return Gt(h.length,b.length)}(n.mapValue,t.mapValue);default:throw at()}}function e0(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Gt(n,t);const e=Oc(n),i=Oc(t),r=Gt(e.seconds,i.seconds);return 0!==r?r:Gt(e.nanos,i.nanos)}function Pc(n){return K_(n)}function K_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Oc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?El(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=K_(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${K_(i.fields[h])}`;return s+"}"}(n.mapValue):at();var t}function sd(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function px(n){return!!n&&"integerValue"in n}function $p(n){return!!n&&"arrayValue"in n}function mx(n){return!!n&&"nullValue"in n}function gx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Q_(n){return!!n&&"mapValue"in n}function Lh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Nh(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Lh(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Lh(n.arrayValue.values[e]);return t}return Object.assign({},n)}function IT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _x(n){return"nullValue"in n?zp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?sd(xl.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function TT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?sd(xl.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Fc:at()}function t0(n,t){const e=Yr(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function MT(n,t){const e=Yr(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Ti{constructor(t){this.value=t}static empty(){return new Ti({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Q_(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lh(e)}setAll(t){let e=qn.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Lh(u):r.push(h.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Q_(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return us(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Q_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Nh(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ti(Lh(this.value))}}function n0(n){const t=[];return Nh(n.fields,(e,i)=>{const r=new qn([e]);if(Q_(i)){const s=n0(i.mapValue).fields;if(0===s.length)t.push(r);else for(const u of s)t.push(r.child(u))}else t.push(r)}),new _o(t)}class Un{constructor(t,e,i,r,s,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=u,this.documentState=h}static newInvalidDocument(t){return new Un(t,0,Dt.min(),Dt.min(),Dt.min(),Ti.empty(),0)}static newFoundDocument(t,e,i,r){return new Un(t,1,e,Dt.min(),i,r,0)}static newNoDocument(t,e){return new Un(t,2,e,Dt.min(),Dt.min(),Ti.empty(),0)}static newUnknownDocument(t,e){return new Un(t,3,e,Dt.min(),Dt.min(),Ti.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dl{constructor(t,e){this.position=t,this.inclusive=e}}function r0(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],u=n.position[r];if(i=s.field.isKeyField()?We.comparator(We.fromName(u.referenceValue),e.key):Yr(u,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function o0(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!us(n.position[e],t.position[e]))return!1;return!0}class Sl{constructor(t,e="asc"){this.field=t,this.dir=e}}function X_(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class s0{}class an extends s0{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new CO(t,e,i):"array-contains"===e?new kT(t,i):"in"===e?new qp(t,i):"not-in"===e?new OT(t,i):"array-contains-any"===e?new FT(t,i):new an(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new EO(t,i):new xO(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Yr(e,this.value)):null!==e&&od(this.value)===od(e)&&this.matchesComparison(Yr(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class En extends s0{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new En(t,e)}matches(t){return Gp(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Gp(n){return"and"===n.op}function yx(n){return"or"===n.op}function vx(n){return a0(n)&&Gp(n)}function a0(n){for(const t of n.filters)if(t instanceof En)return!1;return!0}function l0(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+Pc(n.value);if(vx(n))return n.filters.map(t=>l0(t)).join(",");{const t=n.filters.map(e=>l0(e)).join(",");return`${n.op}(${t})`}}function bx(n,t){return n instanceof an?(e=n,(i=t)instanceof an&&e.op===i.op&&e.field.isEqual(i.field)&&us(e.value,i.value)):n instanceof En?function(e,i){return i instanceof En&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,u)=>r&&bx(s,i.filters[u]),!0)}(n,t):void at();var e,i}function wx(n,t){const e=n.filters.concat(t);return En.create(e,n.op)}function AT(n){return n instanceof an?`${(t=n).field.canonicalString()} ${t.op} ${Pc(t.value)}`:n instanceof En?function(t){return t.op.toString()+" {"+t.getFilters().map(AT).join(" ,")+"}"}(n):"Filter";var t}class CO extends an{constructor(t,e,i){super(t,e,i),this.key=We.fromName(i.referenceValue)}matches(t){const e=We.comparator(t.key,this.key);return this.matchesComparison(e)}}class EO extends an{constructor(t,e){super(t,"in",e),this.keys=RT(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class xO extends an{constructor(t,e){super(t,"not-in",e),this.keys=RT(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function RT(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>We.fromName(i.referenceValue))}class kT extends an{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return $p(e)&&jo(e.arrayValue,this.value)}}class qp extends an{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&jo(this.value.arrayValue,e)}}class OT extends an{constructor(t,e){super(t,"not-in",e)}matches(t){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!jo(this.value.arrayValue,e)}}class FT extends an{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!$p(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>jo(this.value.arrayValue,i))}}class Cx{constructor(t,e=null,i=[],r=[],s=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this.ft=null}}function Il(n,t=null,e=[],i=[],r=null,s=null,u=null){return new Cx(n,t,e,i,r,s,u)}function Nc(n){const t=Ke(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>l0(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Vp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Pc(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Pc(i)).join(",")),t.ft=e}return t.ft}function ad(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!X_(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!bx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!o0(n.startAt,t.startAt)&&o0(n.endAt,t.endAt)}function Bh(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function J_(n,t){return n.filters.filter(e=>e instanceof an&&e.field.isEqual(t))}function ey(n,t,e){let i=zp,r=!0;for(const s of J_(n,t)){let u=zp,h=!0;switch(s.op){case"<":case"<=":u=_x(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=zp}t0({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];t0({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function ty(n,t,e){let i=Fc,r=!0;for(const s of J_(n,t)){let u=Fc,h=!0;switch(s.op){case">=":case">":u=TT(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=Fc}MT({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const u=e.position[s];MT({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class ds{constructor(t,e=null,i=[],r=[],s=null,u="F",h=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=_,this.dt=null,this.wt=null}}function PT(n,t,e,i,r,s,u,h){return new ds(n,t,e,i,r,s,u,h)}function Wp(n){return new ds(n)}function NT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ex(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Zp(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function c0(n){return null!==n.collectionGroup}function ld(n){const t=Ke(n);if(null===t.dt){t.dt=[];const e=Zp(t),i=Ex(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new Sl(e)),t.dt.push(new Sl(qn.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Sl(qn.keyField(),s))}}}return t.dt}function Kr(n){const t=Ke(n);if(!t.wt)if("F"===t.limitType)t.wt=Il(t.path,t.collectionGroup,ld(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of ld(t))e.push(new Sl(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Dl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dl(t.startAt.position,t.startAt.inclusive):null;t.wt=Il(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function u0(n,t){t.getFirstInequalityField(),Zp(n);const e=n.filters.concat([t]);return new ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Yp(n,t,e){return new ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Vh(n,t){return ad(Kr(n),Kr(t))&&n.limitType===t.limitType}function d0(n){return`${Nc(Kr(n))}|lt:${n.limitType}`}function h0(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>AT(i)).join(", ")}]`),Vp(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Pc(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Pc(i)).join(",")),`Target(${e})`}(Kr(n))}; limitType=${n.limitType})`}function Kp(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):We.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of ld(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,u){const h=r0(r,s,u);return r.inclusive?h<=0:h<0}(e.startAt,ld(e),i)||e.endAt&&!function(r,s,u){const h=r0(r,s,u);return r.inclusive?h>=0:h>0}(e.endAt,ld(e),i)));var e,i}function f0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ny(n){return(t,e)=>{let i=!1;for(const r of ld(n)){const s=DO(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function DO(n,t,e){const i=n.field.isKeyField()?We.comparator(t.key,e.key):function(r,s,u){const h=s.data.field(r),_=u.data.field(r);return null!==h&&null!==_?Yr(h,_):at()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return at()}}class Tl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Nh(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return dx(this.inner)}size(){return this.innerSize}}const p0=new ri(We.comparator);function yo(){return p0}const xx=new ri(We.comparator);function iy(...n){let t=xx;for(const e of n)t=t.insert(e.key,e);return t}function LT(n){let t=xx;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Aa(){return Qp()}function Dx(){return Qp()}function Qp(){return new Tl(n=>n.toString(),(n,t)=>n.isEqual(t))}const SO=new ri(We.comparator),IO=new tn(We.comparator);function Jt(...n){let t=IO;for(const e of n)t=t.add(e);return t}const TO=new tn(Gt);function ry(){return TO}function BT(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:q_(t)?"-0":t}}function VT(n){return{integerValue:""+n}}function UT(n,t){return Zb(t)?VT(t):BT(n,t)}class m0{constructor(){this._=void 0}}function MO(n,t,e){return n instanceof a?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof c?d(n,t):n instanceof f?g(n,t):function(i,r){const s=o(i,r),u=C(s)+C(i._t);return px(s)&&px(i._t)?VT(u):BT(i.serializer,u)}(n,t)}function AO(n,t,e){return n instanceof c?d(n,t):n instanceof f?g(n,t):e}function o(n,t){return n instanceof v?px(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class a extends m0{}class c extends m0{constructor(t){super(),this.elements=t}}function d(n,t){const e=x(t);for(const i of n.elements)e.some(r=>us(r,i))||e.push(i);return{arrayValue:{values:e}}}class f extends m0{constructor(t){super(),this.elements=t}}function g(n,t){let e=x(t);for(const i of n.elements)e=e.filter(r=>!us(r,i));return{arrayValue:{values:e}}}class v extends m0{constructor(t,e){super(),this.serializer=t,this._t=e}}function C(n){return gi(n.integerValue||n.doubleValue)}function x(n){return $p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class T{constructor(t,e){this.field=t,this.transform=e}}class L{constructor(t,e){this.version=t,this.transformResults=e}}class ${constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new $}static exists(t){return new $(void 0,t)}static updateTime(t){return new $(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ee(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class ge{}function Be(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new oy(n.key,$.none()):new Nt(n.key,n.data,$.none());{const e=n.data,i=Ti.empty();let r=new tn(qn.comparator);for(let s of t.fields)if(!r.has(s)){let u=e.field(s);null===u&&s.length>1&&(s=s.popLast(),u=e.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new pn(n.key,i,new _o(r.toArray()),$.none())}}function Xe(n,t,e){n instanceof Nt?function(i,r,s){const u=i.value.clone(),h=HT(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):n instanceof pn?function(i,r,s){if(!ee(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=HT(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(_i(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function lt(n,t,e,i){return n instanceof Nt?function(r,s,u,h){if(!ee(r.precondition,s))return u;const _=r.value.clone(),b=RO(r.fieldTransforms,h,s);return _.setAll(b),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null}(n,t,e,i):n instanceof pn?function(r,s,u,h){if(!ee(r.precondition,s))return u;const _=RO(r.fieldTransforms,h,s),b=s.data;return b.setAll(_i(r)),b.setAll(_),s.convertToFoundDocument(s.version,b).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,t,e,i):(u=e,ee(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function Ft(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=o(i.transform,r||null);null!=s&&(null===e&&(e=Ti.empty()),e.set(i.field,s))}return e||null}function ke(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&td(e,i,(r,s)=>function k(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof c&&i instanceof c||e instanceof f&&i instanceof f?td(e.elements,i.elements,us):e instanceof v&&i instanceof v?us(e._t,i._t):e instanceof a&&i instanceof a);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Nt extends ge{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pn extends ge{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _i(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function HT(n,t,e){const i=new Map;Ct(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],u=s.transform,h=t.data.field(s.field);i.set(s.field,AO(u,h,e[r]))}return i}function RO(n,t,e){const i=new Map;for(const r of n){const s=r.transform,u=e.data.field(r.field);i.set(r.field,MO(s,u,t))}return i}class oy extends ge{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jT extends ge{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zT{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&Xe(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=lt(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=lt(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Dx();return this.mutations.forEach(r=>{const s=t.get(r.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=e.has(r.key)?null:h;const _=Be(u,h);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(Dt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Jt())}isEqual(t){return this.batchId===t.batchId&&td(this.mutations,t.mutations,(e,i)=>ke(e,i))&&td(this.baseMutations,t.baseMutations,(e,i)=>ke(e,i))}}class $T{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ct(t.mutations.length===i.length);let r=SO;const s=t.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new $T(t,e,i,r)}}class GT{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class F2{constructor(t){this.count=t}}var rr,mn;function kO(n){switch(n){default:return at();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function OO(n){if(void 0===n)return mi("GRPC error has no .code"),ae.UNKNOWN;switch(n){case rr.OK:return ae.OK;case rr.CANCELLED:return ae.CANCELLED;case rr.UNKNOWN:return ae.UNKNOWN;case rr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case rr.INTERNAL:return ae.INTERNAL;case rr.UNAVAILABLE:return ae.UNAVAILABLE;case rr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case rr.NOT_FOUND:return ae.NOT_FOUND;case rr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case rr.ABORTED:return ae.ABORTED;case rr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case rr.DATA_LOSS:return ae.DATA_LOSS;default:return at()}}(mn=rr||(rr={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class WT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Sx}static getOrCreateInstance(){return null===Sx&&(Sx=new WT),Sx}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let Sx=null;class g0{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,_0.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new g0(Dt.min(),r,ry(),yo(),Jt())}}class _0{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new _0(i,e,Jt(),Jt(),Jt())}}class Ix{constructor(t,e,i,r){this.It=t,this.removedTargetIds=e,this.key=i,this.Tt=r}}class FO{constructor(t,e){this.targetId=t,this.Et=e}}class PO{constructor(t,e,i=Ui.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class NO{constructor(){this.At=0,this.Rt=BO(),this.vt=Ui.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(t){t.approximateByteSize()>0&&(this.Pt=!0,this.vt=t)}Ct(){let t=Jt(),e=Jt(),i=Jt();return this.Rt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:at()}}),new _0(this.vt,this.bt,t,e,i)}xt(){this.Pt=!1,this.Rt=BO()}Nt(t,e){this.Pt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.Pt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class P2{constructor(t){this.Ft=t,this.Bt=new Map,this.Lt=yo(),this.qt=LO(),this.Ut=new tn(Gt)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}zt(t){this.forEachTarget(t,e=>{const i=this.jt(e);switch(t.state){case 0:this.Wt(e)&&i.Dt(t.resumeToken);break;case 1:i.$t(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.$t(),i.Vt||this.removeTarget(e);break;case 3:this.Wt(e)&&(i.Mt(),i.Dt(t.resumeToken));break;case 4:this.Wt(e)&&(this.Ht(e),i.Dt(t.resumeToken));break;default:at()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((i,r)=>{this.Wt(r)&&e(r)})}Jt(t){var e;const i=t.targetId,r=t.Et.count,s=this.Yt(i);if(s){const u=s.target;if(Bh(u))if(0===r){const h=new We(u.path);this.Qt(i,h,Un.newNoDocument(h,Dt.min()))}else Ct(1===r);else{const h=this.Zt(i);h!==r&&(this.Ht(i),this.Ut=this.Ut.add(i),null===(e=WT.instance)||void 0===e||e.notifyOnExistenceFilterMismatch({localCacheCount:h,existenceFilterCount:t.Et.count}))}}}Xt(t){const e=new Map;this.Bt.forEach((s,u)=>{const h=this.Yt(u);if(h){if(s.current&&Bh(h.target)){const _=new We(h.target.path);null!==this.Lt.get(_)||this.te(u,_)||this.Qt(u,_,Un.newNoDocument(_,t))}s.St&&(e.set(u,s.Ct()),s.xt())}});let i=Jt();this.qt.forEach((s,u)=>{let h=!0;u.forEachWhile(_=>{const b=this.Yt(_);return!b||2===b.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.Lt.forEach((s,u)=>u.setReadTime(t));const r=new g0(t,e,this.Ut,this.Lt,i);return this.Lt=yo(),this.qt=LO(),this.Ut=new tn(Gt),r}Gt(t,e){if(!this.Wt(t))return;const i=this.te(t,e.key)?2:0;this.jt(t).Nt(e.key,i),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,i){if(!this.Wt(t))return;const r=this.jt(t);this.te(t,e)?r.Nt(e,1):r.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),i&&(this.Lt=this.Lt.insert(e,i))}removeTarget(t){this.Bt.delete(t)}Zt(t){const e=this.jt(t).Ct();return this.Ft.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.jt(t).Ot()}jt(t){let e=this.Bt.get(t);return e||(e=new NO,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new tn(Gt),this.qt=this.qt.insert(t,e)),e}Wt(t){const e=null!==this.Yt(t);return e||Oe("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.Ft.ne(t)}Ht(t){this.Bt.set(t,new NO),this.Ft.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.Ft.getRemoteKeysForTarget(t).has(e)}}function LO(){return new ri(We.comparator)}function BO(){return new ri(We.comparator)}const N2={asc:"ASCENDING",desc:"DESCENDING"},L2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B2={and:"AND",or:"OR"};class V2{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function sy(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VO(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function U2(n,t){return sy(n,t.toTimestamp())}function Hi(n){return Ct(!!n),Dt.fromTimestamp(function(t){const e=Oc(t);return new Xn(e.seconds,e.nanos)}(n))}function ZT(n,t){return(e=n,new cn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function UO(n){const t=cn.fromString(n);return Ct(YO(t)),t}function y0(n,t){return ZT(n.databaseId,t.path)}function Lc(n,t){const e=UO(t);if(e.get(1)!==n.databaseId.projectId)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new We(jO(e))}function YT(n,t){return ZT(n.databaseId,t)}function HO(n){const t=UO(n);return 4===t.length?cn.emptyPath():jO(t)}function v0(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jO(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function zO(n,t,e){return{name:y0(n,t),fields:e.value.mapValue.fields}}function $O(n,t,e){const i=Lc(n,t.name),r=Hi(t.updateTime),s=t.createTime?Hi(t.createTime):Dt.min(),u=new Ti({mapValue:{fields:t.fields}}),h=Un.newFoundDocument(i,r,s,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function b0(n,t){let e;if(t instanceof Nt)e={update:zO(n,t.key,t.value)};else if(t instanceof oy)e={delete:y0(n,t.key)};else if(t instanceof pn)e={update:zO(n,t.key,t.data),updateMask:Z2(t.fieldMask)};else{if(!(t instanceof jT))return at();e={verify:y0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof a)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof c)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof f)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof v)return{fieldPath:s.field.canonicalString(),increment:u._t};throw at()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:U2(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:at()),e;var r}function KT(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?$.updateTime(Hi(r.updateTime)):void 0!==r.exists?$.exists(r.exists):$.none():$.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,u){let h=null;"setToServerValue"in u?(Ct("REQUEST_TIME"===u.setToServerValue),h=new a):"appendMissingElements"in u?h=new c(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new f(u.removeAllFromArray.values||[]):"increment"in u?h=new v(s,u.increment):at();const _=qn.fromServerFormat(u.fieldPath);return new T(_,h)}(n,r)):[];var r;if(t.update){const r=Lc(n,t.update.name),s=new Ti({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new _o((t.updateMask.fieldPaths||[]).map(b=>qn.fromServerFormat(b)));return new pn(r,s,u,e,i)}return new Nt(r,s,e,i)}if(t.delete){const r=Lc(n,t.delete);return new oy(r,e)}if(t.verify){const r=Lc(n,t.verify);return new jT(r,e)}return at()}function GO(n,t){return{documents:[YT(n,t.path)]}}function QT(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=YT(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=YT(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return ZO(En.create(_,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(_){if(0!==_.length)return _.map(b=>{return{field:Uh((E=b).field),direction:G2(E.dir)};var E})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const u=(b=t.limit,n.useProto3Json||Vp(b)?b:{value:b});var b,h,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function qO(n){let t=HO(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ct(1===i);const E=e.from[0];E.allDescendants?r=E.collectionId:t=t.child(E.collectionId)}let s=[];e.where&&(s=function(E){const M=WO(E);return M instanceof En&&vx(M)?M.getFilters():[M]}(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(E=>{return new Sl(ay((M=E).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let h=null;e.limit&&(h=function(E){let M;return M="object"==typeof E?E.value:E,Vp(M)?null:M}(e.limit));let _=null;var E;e.startAt&&(_=new Dl((E=e.startAt).values||[],!!E.before));let b=null;return e.endAt&&(b=function(E){return new Dl(E.values||[],!E.before)}(e.endAt)),PT(t,r,u,s,h,"F",_,b)}function WO(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ay(t.unaryFilter.field);return an.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=ay(t.unaryFilter.field);return an.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ay(t.unaryFilter.field);return an.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ay(t.unaryFilter.field);return an.create(s,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):void 0!==n.fieldFilter?an.create(ay((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return En.create(t.compositeFilter.filters.map(e=>WO(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return at()}}(t.compositeFilter.op))}(n):at();var t}function G2(n){return N2[n]}function q2(n){return L2[n]}function W2(n){return B2[n]}function Uh(n){return{fieldPath:n.canonicalString()}}function ay(n){return qn.fromServerFormat(n.fieldPath)}function ZO(n){return n instanceof an?function(t){if("=="===t.op){if(gx(t.value))return{unaryFilter:{field:Uh(t.field),op:"IS_NAN"}};if(mx(t.value))return{unaryFilter:{field:Uh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(gx(t.value))return{unaryFilter:{field:Uh(t.field),op:"IS_NOT_NAN"}};if(mx(t.value))return{unaryFilter:{field:Uh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uh(t.field),op:q2(t.op),value:t.value}}}(n):n instanceof En?function(t){const e=t.getFilters().map(i=>ZO(i));return 1===e.length?e[0]:{compositeFilter:{op:W2(t.op),filters:e}}}(n):at()}function Z2(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function YO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Hh{constructor(t,e,i,r,s=Dt.min(),u=Dt.min(),h=Ui.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new Hh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Hh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Hh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class KO{constructor(t){this.se=t}}function QO(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Tx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:y0(r=n.se,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:sy(r,s.version.toTimestamp()),createTime:sy(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Xp(t.version)};else{if(!t.isUnknownDocument())return at();i.unknownDocument={path:e.path.toArray(),version:Xp(t.version)}}var r,s;return i}function Tx(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Xp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Jp(n){const t=new Xn(n.seconds,n.nanoseconds);return Dt.fromTimestamp(t)}function em(n,t){const e=(t.baseMutations||[]).map(s=>KT(n.se,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>KT(n.se,s)),r=Xn.fromMillis(t.localWriteTimeMs);return new zT(t.batchId,r,e,i)}function w0(n){const t=Jp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Jp(n.lastLimboFreeSnapshotVersion):Dt.min();let i;var r;return void 0!==n.query.documents?(Ct(1===(r=n.query).documents.length),i=Kr(Wp(HO(r.documents[0])))):i=Kr(qO(n.query)),new Hh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Ui.fromBase64String(n.resumeToken))}function XO(n,t){const e=Xp(t.snapshotVersion),i=Xp(t.lastLimboFreeSnapshotVersion);let r;r=Bh(t.target)?GO(n.se,t.target):QT(n.se,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Nc(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function XT(n){const t=qO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Yp(t,t.limit,"L"):t}function JT(n,t){return new GT(t.largestBatchId,KT(n.se,t.overlayMutation))}function JO(n,t){const e=t.path.lastSegment();return[n,go(t.path.popLast()),e]}function e1(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Xp(i.readTime),documentKey:go(i.documentKey.path),largestBatchId:i.largestBatchId}}class K2{getBundleMetadata(t,e){return t1(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Jp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return t1(t).put({bundleId:(i=e).id,createTime:Xp(Hi(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return n1(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:XT(r.bundledQuery),readTime:Jp(r.readTime)};var r})}saveNamedQuery(t,e){return n1(t).put({name:(i=e).name,readTime:Xp(Hi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function t1(n){return ir(n,"bundles")}function n1(n){return ir(n,"namedQueries")}class Mx{constructor(t,e){this.serializer=t,this.userId=e}static ie(t,e){return new Mx(t,e.uid||"")}getOverlay(t,e){return C0(t).get(JO(this.userId,e)).next(i=>i?JT(this.serializer,i):null)}getOverlays(t,e){const i=Aa();return oe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,u)=>{const h=new GT(e,u);r.push(this.re(t,h))}),oe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(go(u.getCollectionPath())));const s=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(C0(t).J("collectionPathOverlayIndex",h))}),oe.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Aa(),s=go(e),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return C0(t).j("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const b=JT(this.serializer,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Aa();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return C0(t).Z({index:"collectionGroupOverlayIndex",range:h},(_,b,E)=>{const M=JT(this.serializer,b);s.size()<r||M.largestBatchId===u?(s.set(M.getKey(),M),u=M.largestBatchId):E.done()}).next(()=>s)}re(t,e){return C0(t).put(function(i,r,s){const[u,h,_]=JO(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:b0(i.se,s.mutation)}}(this.serializer,this.userId,e))}}function C0(n){return ir(n,"documentOverlays")}class tm{constructor(){}oe(t,e){this.ue(t,e),e.ce()}ue(t,e){if("nullValue"in t)this.ae(e,5);else if("booleanValue"in t)this.ae(e,10),e.he(t.booleanValue?1:0);else if("integerValue"in t)this.ae(e,15),e.he(gi(t.integerValue));else if("doubleValue"in t){const i=gi(t.doubleValue);isNaN(i)?this.ae(e,13):(this.ae(e,15),q_(i)?e.he(0):e.he(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ae(e,20),"string"==typeof i?e.le(i):(e.le(`${i.seconds||""}`),e.he(i.nanos||0))}else if("stringValue"in t)this.fe(t.stringValue,e),this.de(e);else if("bytesValue"in t)this.ae(e,30),e.we(El(t.bytesValue)),this.de(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ae(e,45),e.he(i.latitude||0),e.he(i.longitude||0)}else"mapValue"in t?IT(t)?this.ae(e,Number.MAX_SAFE_INTEGER):(this.me(t.mapValue,e),this.de(e)):"arrayValue"in t?(this.ge(t.arrayValue,e),this.de(e)):at()}fe(t,e){this.ae(e,25),this.ye(t,e)}ye(t,e){e.le(t)}me(t,e){const i=t.fields||{};this.ae(e,55);for(const r of Object.keys(i))this.fe(r,e),this.ue(i[r],e)}ge(t,e){const i=t.values||[];this.ae(e,50);for(const r of i)this.ue(r,e)}_e(t,e){this.ae(e,37),We.fromName(t).path.forEach(i=>{this.ae(e,60),this.ye(i,e)})}ae(t,e){t.he(e)}de(t){t.he(2)}}function Q2(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function r1(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=Q2(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}tm.pe=new tm;class X2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Te(i.value),i=e.next();this.Ee()}Ae(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Re(i.value),i=e.next();this.ve()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{const r=e.codePointAt(0);this.Te(240|r>>>18),this.Te(128|63&r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r)}}this.Ee()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=e.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.ve()}Ve(t){const e=this.Se(t),i=r1(e);this.De(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ce(t){const e=this.Se(t),i=r1(e);this.De(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(t){this.De(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Se(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Te(t){const e=255&t;0===e?(this.Ne(0),this.Ne(255)):255===e?(this.Ne(255),this.Ne(0)):this.Ne(e)}Re(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(t)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(t){this.De(1),this.buffer[this.position++]=t}Oe(t){this.De(1),this.buffer[this.position++]=~t}De(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class J2{constructor(t){this.Me=t}we(t){this.Me.Ie(t)}le(t){this.Me.be(t)}he(t){this.Me.Ve(t)}ce(){this.Me.xe()}}class eB{constructor(t){this.Me=t}we(t){this.Me.Ae(t)}le(t){this.Me.Pe(t)}he(t){this.Me.Ce(t)}ce(){this.Me.ke()}}class E0{constructor(){this.Me=new X2,this.Fe=new J2(this.Me),this.Be=new eB(this.Me)}seed(t){this.Me.seed(t)}Le(t){return 0===t?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class nm{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}qe(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new nm(this.indexId,this.documentKey,this.arrayValue,i)}}function jh(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=o1(n.arrayValue,t.arrayValue),0!==e?e:(e=o1(n.directionalValue,t.directionalValue),0!==e?e:We.comparator(n.documentKey,t.documentKey)))}function o1(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class tB{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.Ke=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ge=i:this.Ke.push(i)}}Qe(t){Ct(t.collectionGroup===this.collectionId);const e=H_(t);if(void 0!==e&&!this.ze(e))return!1;const i=id(t);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ge){const u=i[r];if(!this.je(this.Ge,u)||!this.We(this.Ue[s++],u))return!1;++r}for(;r<i.length;++r)if(s>=this.Ue.length||!this.We(this.Ue[s++],i[r]))return!1;return!0}ze(t){for(const e of this.Ke)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function s1(n){var t,e;if(Ct(n instanceof an||n instanceof En),n instanceof an){if(n instanceof qp){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>an.create(n.field,"==",s)))||[];return En.create(r,"or")}return n}const i=n.filters.map(r=>s1(r));return En.create(i,n.op)}function nB(n){if(0===n.getFilters().length)return[];const t=nM(s1(n));return Ct(a1(t)),eM(t)||tM(t)?[t]:t.getFilters()}function eM(n){return n instanceof an}function tM(n){return n instanceof En&&vx(n)}function a1(n){return eM(n)||tM(n)||function(t){if(t instanceof En&&yx(t)){for(const e of t.getFilters())if(!eM(e)&&!tM(e))return!1;return!0}return!1}(n)}function nM(n){if(Ct(n instanceof an||n instanceof En),n instanceof an)return n;if(1===n.filters.length)return nM(n.filters[0]);const t=n.filters.map(i=>nM(i));let e=En.create(t,n.op);return e=Ax(e),a1(e)?e:(Ct(e instanceof En),Ct(Gp(e)),Ct(e.filters.length>1),e.filters.reduce((i,r)=>iM(i,r)))}function iM(n,t){let e;return Ct(n instanceof an||n instanceof En),Ct(t instanceof an||t instanceof En),e=n instanceof an?t instanceof an?En.create([n,t],"and"):l1(n,t):t instanceof an?l1(t,n):function(i,r){if(Ct(i.filters.length>0&&r.filters.length>0),Gp(i)&&Gp(r))return wx(i,r.getFilters());const s=yx(i)?i:r,u=yx(i)?r:i,h=s.filters.map(_=>iM(_,u));return En.create(h,"or")}(n,t),Ax(e)}function l1(n,t){if(Gp(t))return wx(t,n.getFilters());{const e=t.filters.map(i=>iM(n,i));return En.create(e,"or")}}function Ax(n){if(Ct(n instanceof an||n instanceof En),n instanceof an)return n;const t=n.getFilters();if(1===t.length)return Ax(t[0]);if(a0(n))return n;const e=t.map(r=>Ax(r)),i=[];return e.forEach(r=>{r instanceof an?i.push(r):r instanceof En&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:En.create(i,n.op)}class iB{constructor(){this.He=new rM}addToCollectionParentIndex(t,e){return this.He.add(e),oe.resolve()}getCollectionParents(t,e){return oe.resolve(this.He.getEntries(e))}addFieldIndex(t,e){return oe.resolve()}deleteFieldIndex(t,e){return oe.resolve()}getDocumentsMatchingTarget(t,e){return oe.resolve(null)}getIndexType(t,e){return oe.resolve(0)}getFieldIndexes(t,e){return oe.resolve([])}getNextCollectionGroupToUpdate(t){return oe.resolve(null)}getMinOffset(t,e){return oe.resolve(Uo.min())}getMinOffsetFromCollectionGroup(t,e){return oe.resolve(Uo.min())}updateCollectionGroup(t,e,i){return oe.resolve()}updateIndexEntries(t,e){return oe.resolve()}}class rM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new tn(cn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new tn(cn.comparator)).toArray()}}const Rx=new Uint8Array(0);class rB{constructor(t,e){this.user=t,this.databaseId=e,this.Je=new rM,this.Ye=new Tl(i=>Nc(i),(i,r)=>ad(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Je.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Je.add(e)});const s={collectionId:i,parent:go(r)};return c1(t).put(s)}return oe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[KE(e),""],!1,!0);return c1(t).j(r).next(s=>{for(const u of s){if(u.collectionId!==e)break;i.push(Cl(u.parent))}return i})}addFieldIndex(t,e){const i=kx(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const s=i.add(r);if(e.indexState){const u=D0(t);return s.next(h=>{u.put(e1(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=kx(t),r=D0(t),s=x0(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=x0(t);let r=!0;const s=new Map;return oe.forEach(this.Ze(e),u=>this.Xe(t,u).next(h=>{r&&(r=!!h),s.set(u,h)})).next(()=>{if(r){let u=Jt();const h=[];return oe.forEach(s,(_,b)=>{var E;Oe("IndexedDbIndexManager",`Using index ${E=_,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(ft=>`${ft.fieldPath}:${ft.kind}`).join(",")}`} to execute ${Nc(e)}`);const M=function(ft,Et){const qt=H_(Et);if(void 0===qt)return null;for(const Yt of J_(ft,qt.fieldPath))switch(Yt.op){case"array-contains-any":return Yt.value.arrayValue.values||[];case"array-contains":return[Yt.value]}return null}(b,_),F=function(ft,Et){const qt=new Map;for(const Yt of id(Et))for(const xn of J_(ft,Yt.fieldPath))switch(xn.op){case"==":case"in":qt.set(Yt.fieldPath.canonicalString(),xn.value);break;case"not-in":case"!=":return qt.set(Yt.fieldPath.canonicalString(),xn.value),Array.from(qt.values())}return null}(b,_),B=function(ft,Et){const qt=[];let Yt=!0;for(const xn of id(Et)){const Hr=0===xn.kind?ey(ft,xn.fieldPath,ft.startAt):ty(ft,xn.fieldPath,ft.startAt);qt.push(Hr.value),Yt&&(Yt=Hr.inclusive)}return new Dl(qt,Yt)}(b,_),G=function(ft,Et){const qt=[];let Yt=!0;for(const xn of id(Et)){const Hr=0===xn.kind?ty(ft,xn.fieldPath,ft.endAt):ey(ft,xn.fieldPath,ft.endAt);qt.push(Hr.value),Yt&&(Yt=Hr.inclusive)}return new Dl(qt,Yt)}(b,_),X=this.tn(_,b,B),le=this.tn(_,b,G),Pe=this.en(_,b,F),ht=this.nn(_.indexId,M,X,B.inclusive,le,G.inclusive,Pe);return oe.forEach(ht,ft=>i.H(ft,e.limit).next(Et=>{Et.forEach(qt=>{const Yt=We.fromSegments(qt.documentKey);u.has(Yt)||(u=u.add(Yt),h.push(Yt))})}))}).next(()=>h)}return oe.resolve(null)})}Ze(t){let e=this.Ye.get(t);return e||(e=0===t.filters.length?[t]:nB(En.create(t.filters,"and")).map(i=>Il(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.Ye.set(t,e),e)}nn(t,e,i,r,s,u,h){const _=(null!=e?e.length:1)*Math.max(i.length,s.length),b=_/(null!=e?e.length:1),E=[];for(let M=0;M<_;++M){const F=e?this.sn(e[M/b]):Rx,B=this.rn(t,F,i[M%b],r),G=this.on(t,F,s[M%b],u),X=h.map(le=>this.rn(t,F,le,!0));E.push(...this.createRange(B,G,X))}return E}rn(t,e,i,r){const s=new nm(t,We.empty(),e,i);return r?s:s.qe()}on(t,e,i,r){const s=new nm(t,We.empty(),e,i);return r?s.qe():s}Xe(t,e){const i=new tB(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let u=null;for(const h of s)i.Qe(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;const r=this.Ze(e);return oe.forEach(r,s=>this.Xe(t,s).next(u=>{u?0!==i&&u.fields.length<function(h){let _=new tn(qn.comparator),b=!1;for(const E of h.filters)for(const M of E.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?b=!0:_=_.add(M.field));for(const E of h.orderBy)E.field.isKeyField()||(_=_.add(E.field));return _.size+(b?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}un(t,e){const i=new E0;for(const r of id(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const u=i.Le(r.kind);tm.pe.oe(s,u)}return i.$e()}sn(t){const e=new E0;return tm.pe.oe(t,e.Le(0)),e.$e()}cn(t,e){const i=new E0;return tm.pe.oe(sd(this.databaseId,e),i.Le(function(r){const s=id(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.$e()}en(t,e,i){if(null===i)return[];let r=[];r.push(new E0);let s=0;for(const u of id(t)){const h=i[s++];for(const _ of r)if(this.an(e,u.fieldPath)&&$p(h))r=this.hn(r,u,h);else{const b=_.Le(u.kind);tm.pe.oe(h,b)}}return this.ln(r)}tn(t,e,i){return this.en(t,e,i.position)}ln(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}hn(t,e,i){const r=[...t],s=[];for(const u of i.arrayValue.values||[])for(const h of r){const _=new E0;_.seed(h.$e()),tm.pe.oe(u,_.Le(e.kind)),s.push(_)}return s}an(t,e){return!!t.filters.find(i=>i instanceof an&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=kx(t),r=D0(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const u=[];return oe.forEach(s,h=>r.get([h.indexId,this.uid]).next(_=>{u.push(function(b,E){const M=E?new Ph(E.sequenceNumber,new Uo(Jp(E.readTime),new We(Cl(E.documentKey)),E.largestBatchId)):Ph.empty(),F=b.fields.map(([B,G])=>new wl(qn.fromServerFormat(B),G));return new qb(b.indexId,b.collectionGroup,F,M)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Gt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=kx(t),s=D0(t);return this.fn(t).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>oe.forEach(h,_=>s.put(e1(_.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return oe.forEach(e,(r,s)=>{const u=i.get(r.collectionGroup);return(u?oe.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),oe.forEach(h,_=>this.dn(t,r,_).next(b=>{const E=this.wn(s,_);return b.isEqual(E)?oe.resolve():this._n(t,s,_,b,E)}))))})}mn(t,e,i,r){return x0(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(i,e.key),documentKey:e.key.path.toArray()})}gn(t,e,i,r){return x0(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(i,e.key),e.key.path.toArray()])}dn(t,e,i){const r=x0(t);let s=new tn(jh);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.cn(i,e)])},(u,h)=>{s=s.add(new nm(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>s)}wn(t,e){let i=new tn(jh);const r=this.un(e,t);if(null==r)return i;const s=H_(e);if(null!=s){const u=t.data.field(s.fieldPath);if($p(u))for(const h of u.arrayValue.values||[])i=i.add(new nm(e.indexId,t.key,this.sn(h),r))}else i=i.add(new nm(e.indexId,t.key,Rx,r));return i}_n(t,e,i,r,s){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,_,b,E,M){const F=h.getIterator(),B=_.getIterator();let G=kc(F),X=kc(B);for(;G||X;){let le=!1,Pe=!1;if(G&&X){const ht=b(G,X);ht<0?Pe=!0:ht>0&&(le=!0)}else null!=G?Pe=!0:le=!0;le?(E(X),X=kc(B)):Pe?(M(G),G=kc(F)):(G=kc(F),X=kc(B))}}(r,s,jh,h=>{u.push(this.mn(t,e,i,h))},h=>{u.push(this.gn(t,e,i,h))}),oe.waitFor(u)}fn(t){let e=1;return D0(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>jh(u,h)).filter((u,h,_)=>!h||0!==jh(u,_[h-1]));const r=[];r.push(t);for(const u of i){const h=jh(u,t),_=jh(u,e);if(0===h)r[0]=t.qe();else if(h>0&&_<0)r.push(u),r.push(u.qe());else if(_>0)break}r.push(e);const s=[];for(let u=0;u<r.length;u+=2){if(this.yn(r[u],r[u+1]))return[];s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,Rx,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,Rx,[]]))}return s}yn(t,e){return jh(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(u1)}getMinOffset(t,e){return oe.mapArray(this.Ze(e),i=>this.Xe(t,i).next(r=>r||at())).next(u1)}}function c1(n){return ir(n,"collectionParents")}function x0(n){return ir(n,"indexEntries")}function kx(n){return ir(n,"indexConfiguration")}function D0(n){return ir(n,"indexState")}function u1(n){Ct(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;JE(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Uo(t.readTime,t.documentKey,e)}const d1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hs{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new hs(t,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function h1(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(e.batchId);let h=0;const _=i.Z({range:u},(E,M,F)=>(h++,F.delete()));s.push(_.next(()=>{Ct(1===h)}));const b=[];for(const E of e.mutations){const M=vT(t,E.key.path,e.batchId);s.push(r.delete(M)),b.push(E.key)}return oe.waitFor(s).next(()=>b)}function Ox(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw at();t=n.noDocument}return JSON.stringify(t).length}hs.DEFAULT_COLLECTION_PERCENTILE=10,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hs.DEFAULT=new hs(41943040,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hs.DISABLED=new hs(-1,0,0);class Fx{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.pn={}}static ie(t,e,i,r){Ct(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new Fx(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zh(t).Z({index:"userMutationsIndex",range:i},(r,s,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=ly(t),u=zh(t);return u.add({}).next(h=>{Ct("number"==typeof h);const _=new zT(h,e,i,r),b=function(F,B,G){const X=G.baseMutations.map(Pe=>b0(F.se,Pe)),le=G.mutations.map(Pe=>b0(F.se,Pe));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:X,mutations:le}}(this.serializer,this.userId,_),E=[];let M=new tn((F,B)=>Gt(F.canonicalString(),B.canonicalString()));for(const F of r){const B=vT(this.userId,F.key.path,h);M=M.add(F.key.path.popLast()),E.push(u.put(b)),E.push(s.put(B,gO))}return M.forEach(F=>{E.push(this.indexManager.addToCollectionParentIndex(t,F))}),t.addOnCommittedListener(()=>{this.pn[h]=_.keys()}),oe.waitFor(E).next(()=>_)})}lookupMutationBatch(t,e){return zh(t).get(e).next(i=>i?(Ct(i.userId===this.userId),em(this.serializer,i)):null)}In(t,e){return this.pn[e]?oe.resolve(this.pn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.pn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return zh(t).Z({index:"userMutationsIndex",range:r},(u,h,_)=>{h.userId===this.userId&&(Ct(h.batchId>=i),s=em(this.serializer,h)),_.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return zh(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zh(t).j("userMutationsIndex",e).next(i=>i.map(r=>em(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Yb(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return ly(t).Z({range:r},(u,h,_)=>{const[b,E,M]=u,F=Cl(E);if(b===this.userId&&e.path.isEqual(F))return zh(t).get(M).next(B=>{if(!B)throw at();Ct(B.userId===this.userId),s.push(em(this.serializer,B))});_.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new tn(Gt);const r=[];return e.forEach(s=>{const u=Yb(this.userId,s.path),h=IDBKeyRange.lowerBound(u),_=ly(t).Z({range:h},(b,E,M)=>{const[F,B,G]=b,X=Cl(B);F===this.userId&&s.path.isEqual(X)?i=i.add(G):M.done()});r.push(_)}),oe.waitFor(r).next(()=>this.Tn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=Yb(this.userId,i),u=IDBKeyRange.lowerBound(s);let h=new tn(Gt);return ly(t).Z({range:u},(_,b,E)=>{const[M,F,B]=_,G=Cl(F);M===this.userId&&i.isPrefixOf(G)?G.length===r&&(h=h.add(B)):E.done()}).next(()=>this.Tn(t,h))}Tn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(zh(t).get(s).next(u=>{if(null===u)throw at();Ct(u.userId===this.userId),i.push(em(this.serializer,u))}))}),oe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return h1(t.at,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.En(e.batchId)}),oe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}En(t){delete this.pn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return oe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ly(t).Z({range:i},(s,u,h)=>{if(s[0]===this.userId){const _=Cl(s[1]);r.push(_)}else h.done()}).next(()=>{Ct(0===r.length)})})}containsKey(t,e){return f1(t,this.userId,e)}An(t){return p1(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function f1(n,t,e){const i=Yb(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return ly(n).Z({range:s,Y:!0},(h,_,b)=>{const[E,M,F]=h;E===t&&M===r&&(u=!0),b.done()}).next(()=>u)}function zh(n){return ir(n,"mutations")}function ly(n){return ir(n,"documentMutations")}function p1(n){return ir(n,"mutationQueues")}class im{constructor(t){this.Rn=t}next(){return this.Rn+=2,this.Rn}static vn(){return new im(0)}static bn(){return new im(-1)}}class oB{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Pn(t).next(e=>{const i=new im(e.highestTargetId);return e.highestTargetId=i.next(),this.Vn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Pn(t).next(e=>Dt.fromTimestamp(new Xn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Pn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Vn(t,r)))}addTargetData(t,e){return this.Sn(t,e).next(()=>this.Pn(t).next(i=>(i.targetCount+=1,this.Dn(e,i),this.Vn(t,i))))}updateTargetData(t,e){return this.Sn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>cy(t).delete(e.targetId)).next(()=>this.Pn(t)).next(i=>(Ct(i.targetCount>0),i.targetCount-=1,this.Vn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return cy(t).Z((u,h)=>{const _=w0(h);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,s.push(this.removeTargetData(t,_)))}).next(()=>oe.waitFor(s)).next(()=>r)}forEachTarget(t,e){return cy(t).Z((i,r)=>{const s=w0(r);e(s)})}Pn(t){return m1(t).get("targetGlobalKey").next(e=>(Ct(null!==e),e))}Vn(t,e){return m1(t).put("targetGlobalKey",e)}Sn(t,e){return cy(t).put(XO(this.serializer,e))}Dn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Pn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Nc(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return cy(t).Z({range:r,index:"queryTargetsIndex"},(u,h,_)=>{const b=w0(h);ad(e,b.target)&&(s=b,_.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=$h(t);return e.forEach(u=>{const h=go(u.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),oe.waitFor(r)}removeMatchingKeys(t,e,i){const r=$h(t);return oe.forEach(e,s=>{const u=go(s.path);return oe.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=$h(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=$h(t);let s=Jt();return r.Z({range:i,Y:!0},(u,h,_)=>{const b=Cl(u[1]),E=new We(b);s=s.add(E)}).next(()=>s)}containsKey(t,e){const i=go(e.path),r=IDBKeyRange.bound([i],[KE(i)],!1,!0);let s=0;return $h(t).Z({index:"documentTargetsIndex",Y:!0,range:r},([u,h],_,b)=>{0!==u&&(s++,b.done())}).next(()=>s>0)}ne(t,e){return cy(t).get(e).next(i=>i?w0(i):null)}}function cy(n){return ir(n,"targets")}function m1(n){return ir(n,"targetGlobal")}function $h(n){return ir(n,"targetDocuments")}function g1([n,t],[e,i]){const r=Gt(n,e);return 0===r?Gt(t,i):r}class sB{constructor(t){this.Cn=t,this.buffer=new tn(g1),this.xn=0}Nn(){return++this.xn}kn(t){const e=[t,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();g1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class aB{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(t){var e=this;Oe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,pe.Z)(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Rc(i)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ac(i)}yield e.$n(3e5)}))}}class lB{constructor(t,e){this.Mn=t,this.params=e}calculateTargetCount(t,e){return this.Mn.Fn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return oe.resolve(Ho.ct);const i=new sB(e);return this.Mn.forEachTarget(t,r=>i.kn(r.sequenceNumber)).next(()=>this.Mn.Bn(t,r=>i.kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Mn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Mn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(d1)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d1):this.Ln(t,e))}getCacheSize(t){return this.Mn.getCacheSize(t)}Ln(t,e){let i,r,s,u,h,_,b;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(t,r))).next(M=>(i=M,h=Date.now(),this.removeTargets(t,i,e))).next(M=>(s=M,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(M=>(b=Date.now(),zb()<=Dc.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(_-h)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-E}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:M})))}}class cB{constructor(t,e){this.db=t,this.garbageCollector=new lB(this,e)}Fn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Bn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Bn(t,e){return this.Un(t,(i,r)=>e(r))}addReference(t,e,i){return Px(t,i)}removeReference(t,e,i){return Px(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Px(t,e)}Kn(t,e){return function(i,r){let s=!1;return p1(i).X(u=>f1(i,u,r).next(h=>(h&&(s=!0),oe.resolve(!h)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Un(t,(u,h)=>{if(h<=e){const _=this.Kn(t,u).next(b=>{if(!b)return s++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Dt.min()),$h(t).delete([0,go(u.path)])))});r.push(_)}}).next(()=>oe.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Px(t,e)}Un(t,e){const i=$h(t);let r,s=Ho.ct;return i.Z({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:b})=>{0===u?(s!==Ho.ct&&e(new We(Cl(r)),s),s=b,r=_):s=Ho.ct}).next(()=>{s!==Ho.ct&&e(new We(Cl(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Px(n,t){return $h(n).put((i=n.currentSequenceNumber,{targetId:0,path:go(t.path),sequenceNumber:i}));var i}class _1{constructor(){this.changes=new Tl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?oe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class uB{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return rm(t).put(i)}removeEntry(t,e,i){return rm(t).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Tx(s),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Gn(t,i)))}getEntry(t,e){let i=Un.newInvalidDocument(e);return rm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(S0(e))},(r,s)=>{i=this.Qn(e,s)}).next(()=>i)}zn(t,e){let i={size:0,document:Un.newInvalidDocument(e)};return rm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(S0(e))},(r,s)=>{i={document:this.Qn(e,s),size:Ox(s)}}).next(()=>i)}getEntries(t,e){let i=yo();return this.jn(t,e,(r,s)=>{const u=this.Qn(r,s);i=i.insert(r,u)}).next(()=>i)}Wn(t,e){let i=yo(),r=new ri(We.comparator);return this.jn(t,e,(s,u)=>{const h=this.Qn(s,u);i=i.insert(s,h),r=r.insert(s,Ox(u))}).next(()=>({documents:i,Hn:r}))}jn(t,e,i){if(e.isEmpty())return oe.resolve();let r=new tn(w1);e.forEach(_=>r=r.add(_));const s=IDBKeyRange.bound(S0(r.first()),S0(r.last())),u=r.getIterator();let h=u.getNext();return rm(t).Z({index:"documentKeyIndex",range:s},(_,b,E)=>{const M=We.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&w1(h,M)<0;)i(h,null),h=u.getNext();h&&h.isEqual(M)&&(i(h,b),h=u.hasNext()?u.getNext():null),h?E.G(S0(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,u=[s.popLast().toArray(),s.lastSegment(),Tx(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rm(t).j(IDBKeyRange.bound(u,h,!0)).next(_=>{let b=yo();for(const E of _){const M=this.Qn(We.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);M.isFoundDocument()&&(Kp(e,M)||r.has(M.key))&&(b=b.insert(M.key,M))}return b})}getAllFromCollectionGroup(t,e,i,r){let s=yo();const u=b1(e,i),h=b1(e,Uo.max());return rm(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,b,E)=>{const M=this.Qn(We.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);s=s.insert(M.key,M),s.size===r&&E.done()}).next(()=>s)}newChangeBuffer(t){return new dB(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return v1(t).get("remoteDocumentGlobalKey").next(e=>(Ct(!!e),e))}Gn(t,e){return v1(t).put("remoteDocumentGlobalKey",e)}Qn(t,e){if(e){const i=function Y2(n,t){let e;if(t.document)e=$O(n.se,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=We.fromSegments(t.noDocument.path),r=Jp(t.noDocument.readTime);e=Un.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return at();{const i=We.fromSegments(t.unknownDocument.path),r=Jp(t.unknownDocument.version);e=Un.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Xn(i[0],i[1]);return Dt.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Dt.min()))return i}return Un.newInvalidDocument(t)}}function y1(n){return new uB(n)}class dB extends _1{constructor(t,e){super(),this.Jn=t,this.trackRemovals=e,this.Yn=new Tl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new tn((s,u)=>Gt(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.Yn.get(s);if(e.push(this.Jn.removeEntry(t,s,h.readTime)),u.isValidDocument()){const _=QO(this.Jn.serializer,u);r=r.add(s.path.popLast());const b=Ox(_);i+=b-h.size,e.push(this.Jn.addEntry(t,s,_))}else if(i-=h.size,this.trackRemovals){const _=QO(this.Jn.serializer,u.convertToNoDocument(Dt.min()));e.push(this.Jn.addEntry(t,s,_))}}),r.forEach(s=>{e.push(this.Jn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Jn.updateMetadata(t,i)),oe.waitFor(e)}getFromCache(t,e){return this.Jn.zn(t,e).next(i=>(this.Yn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Jn.Wn(t,e).next(({documents:i,Hn:r})=>(r.forEach((s,u)=>{this.Yn.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function v1(n){return ir(n,"remoteDocumentGlobal")}function rm(n){return ir(n,"remoteDocumentsV14")}function S0(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function b1(n,t){const e=t.documentKey.path.toArray();return[n,Tx(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function w1(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Gt(e[s],i[s]),r)return r;return r=Gt(e.length,i.length),r||(r=Gt(e[e.length-2],i[i.length-2]),r||Gt(e[e.length-1],i[i.length-1]))}class hB{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class C1{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&lt(i.mutation,r,_o.empty(),Xn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Jt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Jt()){const r=Aa();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let u=iy();return s.forEach((h,_)=>{u=u.insert(h,_.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=Aa();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Jt()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let s=yo();const u=Qp(),h=Qp();return e.forEach((_,b)=>{const E=i.get(b.key);r.has(b.key)&&(void 0===E||E.mutation instanceof pn)?s=s.insert(b.key,b):void 0!==E?(u.set(b.key,E.mutation.getFieldMask()),lt(E.mutation,b,E.mutation.getFieldMask(),Xn.now())):u.set(b.key,_o.empty())}),this.recalculateAndSaveOverlays(t,s).next(_=>(_.forEach((b,E)=>u.set(b,E)),e.forEach((b,E)=>{var M;return h.set(b,new hB(E,null!==(M=u.get(b))&&void 0!==M?M:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Qp();let r=new ri((u,h)=>u-h),s=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(_=>{const b=e.get(_);if(null===b)return;let E=i.get(_)||_o.empty();E=h.applyToLocalView(b,E),i.set(_,E);const M=(r.get(h.batchId)||Jt()).add(_);r=r.insert(h.batchId,M)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),b=_.key,E=_.value,M=Dx();E.forEach(F=>{if(!s.has(F)){const B=Be(e.get(F),i.get(F));null!==B&&M.set(F,B),s=s.add(F)}}),u.push(this.documentOverlayCache.saveOverlays(t,b,M))}return oe.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return We.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):c0(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):oe.resolve(Aa());let h=-1,_=s;return u.next(b=>oe.forEach(b,(E,M)=>(h<M.largestBatchId&&(h=M.largestBatchId),s.get(E)?oe.resolve():this.remoteDocumentCache.getEntry(t,E).next(F=>{_=_.insert(E,F)}))).next(()=>this.populateOverlays(t,b,s)).next(()=>this.computeViews(t,_,b,Jt())).next(E=>({batchId:h,changes:LT(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new We(e)).next(i=>{let r=iy();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=iy();return this.indexManager.getCollectionParents(t,r).next(u=>oe.forEach(u,h=>{const _=(b=e,E=h.child(r),new ds(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,E;return this.getDocumentsMatchingCollectionQuery(t,_,i).next(b=>{b.forEach((E,M)=>{s=s.insert(E,M)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((h,_)=>{const b=_.getKey();null===s.get(b)&&(s=s.insert(b,Un.newInvalidDocument(b)))});let u=iy();return s.forEach((h,_)=>{const b=r.get(h);void 0!==b&&lt(b.mutation,_,_o.empty(),Xn.now()),Kp(e,_)&&(u=u.insert(h,_))}),u})}}class fB{constructor(t){this.serializer=t,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return oe.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Hi(i.createTime)}),oe.resolve()}getNamedQuery(t,e){return oe.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,{name:(i=e).name,query:XT(i.bundledQuery),readTime:Hi(i.readTime)}),oe.resolve();var i}}class pB{constructor(){this.overlays=new ri(We.comparator),this.ts=new Map}getOverlay(t,e){return oe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Aa();return oe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.re(t,e,s)}),oe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ts.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(i)),oe.resolve()}getOverlaysForCollection(t,e,i){const r=Aa(),s=e.length+1,u=new We(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,b=_.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===s&&_.largestBatchId>i&&r.set(_.getKey(),_)}return oe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ri((b,E)=>b-E);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>i){let E=s.get(b.largestBatchId);null===E&&(E=Aa(),s=s.insert(b.largestBatchId,E)),E.set(b.getKey(),b)}}const h=Aa(),_=s.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,E)=>h.set(b,E)),!(h.size()>=r)););return oe.resolve(h)}re(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ts.get(r.largestBatchId).delete(i.key);this.ts.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new GT(e,i));let s=this.ts.get(e);void 0===s&&(s=Jt(),this.ts.set(e,s)),this.ts.set(e,s.add(i.key))}}class oM{constructor(){this.es=new tn(Ur.ns),this.ss=new tn(Ur.rs)}isEmpty(){return this.es.isEmpty()}addReference(t,e){const i=new Ur(t,e);this.es=this.es.add(i),this.ss=this.ss.add(i)}os(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.us(new Ur(t,e))}cs(t,e){t.forEach(i=>this.removeReference(i,e))}hs(t){const e=new We(new cn([])),i=new Ur(e,t),r=new Ur(e,t+1),s=[];return this.ss.forEachInRange([i,r],u=>{this.us(u),s.push(u.key)}),s}ls(){this.es.forEach(t=>this.us(t))}us(t){this.es=this.es.delete(t),this.ss=this.ss.delete(t)}fs(t){const e=new We(new cn([])),i=new Ur(e,t),r=new Ur(e,t+1);let s=Jt();return this.ss.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(t){const e=new Ur(t,0),i=this.es.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ur{constructor(t,e){this.key=t,this.ds=e}static ns(t,e){return We.comparator(t.key,e.key)||Gt(t.ds,e.ds)}static rs(t,e){return Gt(t.ds,e.ds)||We.comparator(t.key,e.key)}}class mB{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this._s=new tn(Ur.ns)}checkEmpty(t){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const u=new zT(s,e,i,r);this.mutationQueue.push(u);for(const h of r)this._s=this._s.add(new Ur(h.key,s)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(t,e){return oe.resolve(this.gs(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ys(e+1),s=r<0?0:r;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ur(e,0),r=new Ur(e,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([i,r],u=>{const h=this.gs(u.ds);s.push(h)}),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new tn(Gt);return e.forEach(r=>{const s=new Ur(r,0),u=new Ur(r,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,u],h=>{i=i.add(h.ds)})}),oe.resolve(this.ps(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;We.isDocumentKey(s)||(s=s.child(""));const u=new Ur(new We(s),0);let h=new tn(Gt);return this._s.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(h=h.add(_.ds)),!0)},u),oe.resolve(this.ps(h))}ps(t){const e=[];return t.forEach(i=>{const r=this.gs(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ct(0===this.Is(e.batchId,"removed")),this.mutationQueue.shift();let i=this._s;return oe.forEach(e.mutations,r=>{const s=new Ur(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this._s=i})}En(t){}containsKey(t,e){const i=new Ur(e,0),r=this._s.firstAfterOrEqual(i);return oe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return oe.resolve()}Is(t,e){return this.ys(t)}ys(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}gs(t){const e=this.ys(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class gB{constructor(t){this.Ts=t,this.docs=new ri(We.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,u=this.Ts(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return oe.resolve(i?i.document.mutableCopy():Un.newInvalidDocument(e))}getEntries(t,e){let i=yo();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Un.newInvalidDocument(r))}),oe.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=yo();const u=e.path,h=new We(u.child("")),_=this.docs.getIteratorFrom(h);for(;_.hasNext();){const{key:b,value:{document:E}}=_.getNext();if(!u.isPrefixOf(b.path))break;b.path.length>u.length+1||JE(gT(E),i)<=0||(r.has(E.key)||Kp(e,E))&&(s=s.insert(E.key,E.mutableCopy()))}return oe.resolve(s)}getAllFromCollectionGroup(t,e,i,r){at()}Es(t,e){return oe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new _B(this)}getSize(t){return oe.resolve(this.size)}}class _B extends _1{constructor(t){super(),this.Jn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Jn.addEntry(t,r)):this.Jn.removeEntry(i)}),oe.waitFor(e)}getFromCache(t,e){return this.Jn.getEntry(t,e)}getAllFromCache(t,e){return this.Jn.getEntries(t,e)}}class yB{constructor(t){this.persistence=t,this.As=new Tl(e=>Nc(e),ad),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Rs=0,this.vs=new oM,this.targetCount=0,this.bs=im.vn()}forEachTarget(t,e){return this.As.forEach((i,r)=>e(r)),oe.resolve()}getLastRemoteSnapshotVersion(t){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return oe.resolve(this.Rs)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Rs&&(this.Rs=e),oe.resolve()}Sn(t){this.As.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.bs=new im(e),this.highestTargetId=e),t.sequenceNumber>this.Rs&&(this.Rs=t.sequenceNumber)}addTargetData(t,e){return this.Sn(e),this.targetCount+=1,oe.resolve()}updateTargetData(t,e){return this.Sn(e),oe.resolve()}removeTargetData(t,e){return this.As.delete(e.target),this.vs.hs(e.targetId),this.targetCount-=1,oe.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.As.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.As.delete(u),s.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),oe.waitFor(s).next(()=>r)}getTargetCount(t){return oe.resolve(this.targetCount)}getTargetData(t,e){const i=this.As.get(e)||null;return oe.resolve(i)}addMatchingKeys(t,e,i){return this.vs.os(e,i),oe.resolve()}removeMatchingKeys(t,e,i){this.vs.cs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(u=>{s.push(r.markPotentiallyOrphaned(t,u))}),oe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.vs.hs(e),oe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.vs.fs(e);return oe.resolve(i)}containsKey(t,e){return oe.resolve(this.vs.containsKey(e))}}class E1{constructor(t,e){this.Ps={},this.overlays={},this.Vs=new Ho(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new yB(this),this.indexManager=new iB,this.remoteDocumentCache=new gB(i=>this.referenceDelegate.Cs(i)),this.serializer=new KO(e),this.xs=new fB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new pB,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Ps[t.toKey()];return i||(i=new mB(e,this.referenceDelegate),this.Ps[t.toKey()]=i),i}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(t,e,i){Oe("MemoryPersistence","Starting transaction:",t);const r=new vB(this.Vs.next());return this.referenceDelegate.Ns(),i(r).next(s=>this.referenceDelegate.ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Os(t,e){return oe.or(Object.values(this.Ps).map(i=>()=>i.containsKey(t,e)))}}class vB extends tx{constructor(t){super(),this.currentSequenceNumber=t}}class Nx{constructor(t){this.persistence=t,this.$s=new oM,this.Ms=null}static Fs(t){return new Nx(t)}get Bs(){if(this.Ms)return this.Ms;throw at()}addReference(t,e,i){return this.$s.addReference(i,e),this.Bs.delete(i.toString()),oe.resolve()}removeReference(t,e,i){return this.$s.removeReference(i,e),this.Bs.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(t,e){return this.Bs.add(e.toString()),oe.resolve()}removeTarget(t,e){this.$s.hs(e.targetId).forEach(r=>this.Bs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Bs.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Ns(){this.Ms=new Set}ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Bs,i=>{const r=We.fromPath(i);return this.Ls(t,r).next(s=>{s||e.removeEntry(r,Dt.min())})}).next(()=>(this.Ms=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ls(t,e).next(i=>{i?this.Bs.delete(e.toString()):this.Bs.add(e.toString())})}Cs(t){return 0}Ls(t,e){return oe.or([()=>oe.resolve(this.$s.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class bB{constructor(t){this.serializer=t}M(t,e,i,r){const s=new $_("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yT,{unique:!0}),h.createObjectStore("documentMutations"),x1(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=oe.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),x1(t)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store("mutations").j().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yT,{unique:!0});const E=_.store("mutations"),M=b.map(F=>E.put(F));return oe.waitFor(M)})}(t,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.qs(s))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Us(s)))),i<7&&r>=7&&(u=u.next(()=>this.Ks(s))),i<8&&r>=8&&(u=u.next(()=>this.Gs(t,s))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Qs(s))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:wT});_.createIndex("collectionPathOverlayIndex",CT,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",ET,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:W_});_.createIndex("documentKeyIndex",_O),_.createIndex("collectionGroupIndex",sx)}(t)).next(()=>this.zs(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.js(t,s))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Kb}).createIndex("sequenceNumberIndex",cx,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:bT}).createIndex("documentKeyIndex",vO,{unique:!1})}(t))),u}Us(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=Ox(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>oe.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(h=>oe.forEach(h,_=>{Ct(_.userId===s.userId);const b=em(this.serializer,_);return h1(t,s.userId,b).next(()=>{})}))}))}Ks(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((u,h)=>{const _=new cn(u),b=[0,go(_)];s.push(e.get(b).next(E=>E?oe.resolve():e.put({targetId:0,path:go(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>oe.waitFor(s))})}Gs(t,e){t.createObjectStore("collectionParents",{keyPath:yO});const i=e.store("collectionParents"),r=new rM,s=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:go(_)})}};return e.store("remoteDocuments").Z({Y:!0},(u,h)=>{const _=new cn(u);return s(_.popLast())}).next(()=>e.store("documentMutations").Z({Y:!0},([u,h,_],b)=>{const E=Cl(h);return s(E.popLast())}))}Qs(t){const e=t.store("targets");return e.Z((i,r)=>{const s=w0(r),u=XO(this.serializer,s);return e.put(u)})}zs(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,u)=>{const h=e.store("remoteDocumentsV14"),_=(b=u,b.document?new We(cn.fromString(b.document.name).popFirst(5)):b.noDocument?We.fromSegments(b.noDocument.path):b.unknownDocument?We.fromSegments(b.unknownDocument.path):at()).path.toArray();var b;const E={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(E))}).next(()=>oe.waitFor(r))}js(t,e){const i=e.store("mutations"),r=y1(this.serializer),s=new E1(Nx.Fs,this.serializer.se);return i.j().next(u=>{const h=new Map;return u.forEach(_=>{var b;let E=null!==(b=h.get(_.userId))&&void 0!==b?b:Jt();em(this.serializer,_).keys().forEach(M=>E=E.add(M)),h.set(_.userId,E)}),oe.forEach(h,(_,b)=>{const E=new nr(b),M=Mx.ie(this.serializer,E),F=s.getIndexManager(E),B=Fx.ie(E,this.serializer,F,s.referenceDelegate);return new C1(r,B,M,F).recalculateAndSaveOverlaysForDocumentKeys(new Qb(e,Ho.ct),_).next()})})}}function x1(n){n.createObjectStore("targetDocuments",{keyPath:ax}).createIndex("documentTargetsIndex",lx,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Z_,{unique:!0}),n.createObjectStore("targetGlobal")}const sM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class aM{constructor(t,e,i,r,s,u,h,_,b,E,M=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Ws=s,this.window=u,this.document=h,this.Hs=b,this.Js=E,this.Ys=M,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=F=>Promise.resolve(),!aM.D())throw new Te(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cB(this,r),this.si=e+"main",this.serializer=new KO(_),this.ii=new ls(this.si,this.Ys,new bB(this.serializer)),this.Ds=new oB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=y1(this.serializer),this.xs=new K2,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===E&&mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,sM);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ds.getHighestSequenceNumber(t))}).then(t=>{this.Vs=new Ho(t,this.Hs)}).then(()=>{this.Ss=!0}).catch(t=>(this.ii&&this.ii.close(),Promise.reject(t)))}hi(t){var e=this;return this.ni=function(){var i=(0,pe.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ii.B(function(){var e=(0,pe.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Ws.enqueueAndForget((0,pe.Z)(function*(){e.started&&(yield e.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Lx(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(t).next(e=>{e||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(t)).next(e=>this.isPrimary&&!e?this.di(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Rc(t))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Ws.enqueueRetryable(()=>this.ni(t)),this.isPrimary=t})}li(t){return I0(t).get("owner").next(e=>oe.resolve(this._i(e)))}mi(t){return Lx(t).delete(this.clientId)}gi(){var t=this;return(0,pe.Z)(function*(){if(t.isPrimary&&!t.yi(t.ei,18e5)){t.ei=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ir(i,"clientMetadata");return r.j().next(s=>{const u=t.pi(s,18e5),h=s.filter(_=>-1===u.indexOf(_));return oe.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(t.ri)for(const i of e)t.ri.removeItem(t.Ii(i.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(t){return!!t&&t.ownerId===this.clientId}fi(t){return this.Js?oe.resolve(!0):I0(t).get("owner").next(e=>{if(null!==e&&this.yi(e.leaseTimestampMs,5e3)&&!this.Ti(e.ownerId)){if(this._i(e)&&this.networkEnabled)return!0;if(!this._i(e)){if(!e.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,sM);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lx(t).j().next(i=>void 0===this.pi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Oe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,pe.Z)(function*(){t.Ss=!1,t.Ei(),t.ti&&(t.ti.cancel(),t.ti=null),t.Ai(),t.Ri(),yield t.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Qb(e,Ho.ct);return t.di(i).next(()=>t.mi(i))}),t.ii.close(),t.vi()})()}pi(t,e){return t.filter(i=>this.yi(i.updateTimeMs,e)&&!this.Ti(i.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",t=>Lx(t).j().next(e=>this.pi(e,18e5).map(i=>i.clientId)))}get started(){return this.Ss}getMutationQueue(t,e){return Fx.ie(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new rB(t,this.serializer.se.databaseId)}getDocumentOverlayCache(t){return Mx.ie(this.serializer,t)}getBundleCache(){return this.xs}runTransaction(t,e,i){Oe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(u=this.Ys)?bO:14===u?ST:13===u?DT:12===u?xT:11===u?Up:void at();var u;let h;return this.ii.runTransaction(t,r,s,_=>(h=new Qb(_,this.Vs?this.Vs.next():Ho.ct),"readwrite-primary"===e?this.li(h).next(b=>!!b||this.fi(h)).next(b=>{if(!b)throw mi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Te(ae.FAILED_PRECONDITION,ex);return i(h)}).next(b=>this.wi(h).next(()=>b)):this.Pi(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}Pi(t){return I0(t).get("owner").next(e=>{if(null!==e&&this.yi(e.leaseTimestampMs,5e3)&&!this.Ti(e.ownerId)&&!this._i(e)&&!(this.Js||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Te(ae.FAILED_PRECONDITION,sM)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return I0(t).put("owner",e)}static D(){return ls.D()}di(t){const e=I0(t);return e.get("owner").next(i=>this._i(i)?(Oe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):oe.resolve())}yi(t,e){const i=Date.now();return!(t<i-e||t>i&&(mi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ei();const e=/(?:Version|Mobile)\/1[456]/;(0,dn.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(t){var e;try{const i=null!==(null===(e=this.ri)||void 0===e?void 0:e.getItem(this.Ii(t)));return Oe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return mi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(t){mi("Failed to set zombie client id.",t)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function I0(n){return ir(n,"owner")}function Lx(n){return ir(n,"clientMetadata")}function lM(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class cM{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Vi=i,this.Si=r}static Di(t,e){let i=Jt(),r=Jt();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new cM(t,e.fromCache,i,r)}}class D1{constructor(){this.Ci=!1}initialize(t,e){this.xi=t,this.indexManager=e,this.Ci=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ni(t,e).next(s=>s||this.ki(t,e,r,i)).next(s=>s||this.Oi(t,e))}Ni(t,e){if(NT(e))return oe.resolve(null);let i=Kr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Yp(e,null,"F"),i=Kr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const u=Jt(...s);return this.xi.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(_=>{const b=this.$i(e,h);return this.Mi(e,b,u,_.readTime)?this.Ni(t,Yp(e,null,"F")):this.Fi(t,b,e,_)}))})))}ki(t,e,i,r){return NT(e)||r.isEqual(Dt.min())?this.Oi(t,e):this.xi.getDocuments(t,i).next(s=>{const u=this.$i(e,s);return this.Mi(e,u,i,r)?this.Oi(t,e):(zb()<=Dc.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),h0(e)),this.Fi(t,u,e,j_(r,-1)))})}$i(t,e){let i=new tn(ny(t));return e.forEach((r,s)=>{Kp(t,s)&&(i=i.add(s))}),i}Mi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Oi(t,e){return zb()<=Dc.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",h0(e)),this.xi.getDocumentsMatchingQuery(t,e,Uo.min())}Fi(t,e,i,r){return this.xi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(u=>{s=s.insert(u.key,u)}),s))}}class wB{constructor(t,e,i,r){this.persistence=t,this.Bi=e,this.serializer=r,this.Li=new ri(Gt),this.qi=new Tl(s=>Nc(s),ad),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(i)}Gi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new C1(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Li))}}function S1(n,t,e,i){return new wB(n,t,e,i)}function I1(n,t){return uM.apply(this,arguments)}function uM(){return uM=(0,pe.Z)(function*(n,t){const e=Ke(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Gi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],h=[];let _=Jt();for(const b of r){u.push(b.batchId);for(const E of b.mutations)_=_.add(E.key)}for(const b of s){h.push(b.batchId);for(const E of b.mutations)_=_.add(E.key)}return e.localDocuments.getDocuments(i,_).next(b=>({Qi:b,removedBatchIds:u,addedBatchIds:h}))})})}),uM.apply(this,arguments)}function T1(n){const t=Ke(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ds.getLastRemoteSnapshotVersion(e))}function M1(n,t,e){let i=Jt(),r=Jt();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let u=yo();return e.forEach((h,_)=>{const b=s.get(h);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(h)),_.isNoDocument()&&_.version.isEqual(Dt.min())?(t.removeEntry(h,_.readTime),u=u.insert(h,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(t.addEntry(_),u=u.insert(h,_)):Oe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",b.version," Watch version:",_.version)}),{zi:u,ji:r}})}function xB(n,t){const e=Ke(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function uy(n,t){const e=Ke(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ds.getTargetData(i,t).next(s=>s?(r=s,oe.resolve(r)):e.Ds.allocateTargetId(i).next(u=>(r=new Hh(t,u,0,i.currentSequenceNumber),e.Ds.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Li.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Li=e.Li.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function dy(n,t,e){return dM.apply(this,arguments)}function dM(){return dM=(0,pe.Z)(function*(n,t,e){const i=Ke(n),r=i.Li.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Rc(u))throw u;Oe("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Li=i.Li.remove(t),i.qi.delete(r.target)}),dM.apply(this,arguments)}function Bx(n,t,e){const i=Ke(n);let r=Dt.min(),s=Jt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,b){const E=Ke(h),M=E.qi.get(b);return void 0!==M?oe.resolve(E.Li.get(M)):E.Ds.getTargetData(_,b)}(i,u,Kr(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Ds.getMatchingKeysForTargetId(u,h.targetId).next(_=>{s=_})}).next(()=>i.Bi.getDocumentsMatchingQuery(u,t,e?r:Dt.min(),e?s:Jt())).next(h=>(k1(i,f0(t),h),{documents:h,Wi:s})))}function A1(n,t){const e=Ke(n),i=Ke(e.Ds),r=e.Li.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.ne(s,t).next(u=>u?u.target:null))}function R1(n,t){const e=Ke(n),i=e.Ui.get(t)||Dt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ki.getAllFromCollectionGroup(r,t,j_(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(k1(e,t,r),r))}function k1(n,t,e){let i=n.Ui.get(t)||Dt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ui.set(t,i)}function hM(){return hM=(0,pe.Z)(function*(n,t,e,i){const r=Ke(n);let s=Jt(),u=yo();for(const b of e){const E=t.Hi(b.metadata.name);b.document&&(s=s.add(E));const M=t.Ji(b);M.setReadTime(t.Yi(b.metadata.readTime)),u=u.insert(E,M)}const h=r.Ki.newChangeBuffer({trackRemovals:!0}),_=yield uy(r,(b=i,Kr(Wp(cn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>M1(b,h,u).next(E=>(h.apply(b),E)).next(E=>r.Ds.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Ds.addMatchingKeys(b,s,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,E.zi,E.ji)).next(()=>E.zi)))}),hM.apply(this,arguments)}function SB(n,t){return fM.apply(this,arguments)}function fM(){return fM=(0,pe.Z)(function*(n,t,e=Jt()){const i=yield uy(n,Kr(XT(t.bundledQuery))),r=Ke(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=Hi(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.xs.saveNamedQuery(s,t);const h=i.withResumeToken(Ui.EMPTY_BYTE_STRING,u);return r.Li=r.Li.insert(h.targetId,h),r.Ds.updateTargetData(s,h).next(()=>r.Ds.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Ds.addMatchingKeys(s,e,i.targetId)).next(()=>r.xs.saveNamedQuery(s,t))})}),fM.apply(this,arguments)}function O1(n,t){return`firestore_clients_${n}_${t}`}function F1(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function pM(n,t){return`firestore_targets_${n}_${t}`}class Vx{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Te(r.error.code,r.error.message))),u?new Vx(t,e,r.state,s):(mi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class T0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Te(i.error.code,i.error.message))),s?new T0(t,i.state,r):(mi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ux{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=ry();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Zb(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new Ux(t,s):(mi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class mM{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new mM(e.clientId,e.onlineState):(mi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class gM{constructor(){this.activeTargetIds=ry()}tr(t){this.activeTargetIds=this.activeTargetIds.add(t)}er(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _M{constructor(t,e,i,r,s){this.window=t,this.Ws=e,this.persistenceKey=i,this.nr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new ri(Gt),this.started=!1,this.ur=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.cr=O1(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new gM),this.hr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,pe.Z)(function*(){const e=yield t.syncEngine.bi();for(const r of e){if(r===t.nr)continue;const s=t.getItem(O1(t.persistenceKey,r));if(s){const u=Ux.Zi(r,s);u&&(t.rr=t.rr.insert(u.clientId,u))}}t.mr();const i=t.storage.getItem(t.wr);if(i){const r=t.gr(i);r&&t.yr(r)}for(const r of t.ur)t.ir(r);t.ur=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ar,JSON.stringify(t))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(t){let e=!1;return this.rr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ir(t,"pending")}updateMutationState(t,e,i){this.Ir(t,e,i),this.Tr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(pM(this.persistenceKey,t));if(i){const r=T0.Zi(t,i);r&&(e=r.state)}}return this.Er.tr(t),this.mr(),e}removeLocalQueryTarget(t){this.Er.er(t),this.mr()}isLocalQueryTarget(t){return this.Er.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(pM(this.persistenceKey,t))}updateQueryState(t,e,i){this.Ar(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Tr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Rr(t)}notifyBundleLoaded(t){this.vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Oe("SharedClientState","READ",t,e),e}setItem(t,e){Oe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Oe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ir(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Oe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.cr)return void mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,pe.Z)(function*(){if(e.started){if(null!==i.key)if(e.hr.test(i.key)){if(null==i.newValue){const r=e.br(i.key);return e.Pr(r,null)}{const r=e.Vr(i.key,i.newValue);if(r)return e.Pr(r.clientId,r)}}else if(e.lr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Cr(i.key,i.newValue);if(r)return e.Nr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.gr(i.newValue);if(r)return e.yr(r)}}else if(i.key===e.ar){const r=function(s){let u=Ho.ct;if(null!=s)try{const h=JSON.parse(s);Ct("number"==typeof h),u=h}catch(h){mi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Ho.ct&&e.sequenceNumberHandler(r)}else if(i.key===e._r){const r=e.kr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Or(s)))}}else e.ur.push(i)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(t,e,i){const r=new Vx(this.currentUser,t,e,i),s=F1(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Xi())}Tr(t){const e=F1(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Rr(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:t}))}Ar(t,e,i){const r=pM(this.persistenceKey,t),s=new T0(t,e,i);this.setItem(r,s.Xi())}vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this._r,e)}br(t){const e=this.hr.exec(t);return e?e[1]:null}Vr(t,e){const i=this.br(t);return Ux.Zi(i,e)}Sr(t,e){const i=this.lr.exec(t),r=Number(i[1]);return Vx.Zi(new nr(void 0!==i[2]?i[2]:null),r,e)}Cr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return T0.Zi(r,e)}gr(t){return mM.Zi(t)}kr(t){return JSON.parse(t)}Dr(t){var e=this;return(0,pe.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.$r(t.batchId,t.state,t.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Nr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}Pr(t,e){const i=e?this.rr.insert(t,e):this.rr.remove(t),r=this.pr(this.rr),s=this.pr(i),u=[],h=[];return s.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{s.has(_)||h.push(_)}),this.syncEngine.Fr(u,h).then(()=>{this.rr=i})}yr(t){this.rr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}pr(t){let e=ry();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class P1{constructor(){this.Br=new gM,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Br.tr(t),this.Lr[t]||"not-current"}updateQueryState(t,e,i){this.Lr[t]=e}removeLocalQueryTarget(t){this.Br.er(t)}isLocalQueryTarget(t){return this.Br.activeTargetIds.has(t)}clearQueryState(t){delete this.Lr[t]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(t){return this.Br.activeTargetIds.has(t)}start(){return this.Br=new gM,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class IB{qr(t){}shutdown(){}}class N1{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Qr(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Hx=null;function yM(){return null===Hx?Hx=268435456+Math.round(2147483648*Math.random()):Hx++,"0x"+Hx.toString(16)}const TB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MB{constructor(t){this.Wr=t.Wr,this.Hr=t.Hr}Jr(t){this.Yr=t}Zr(t){this.Xr=t}onMessage(t){this.eo=t}close(){this.Hr()}send(t){this.Wr(t)}no(){this.Yr()}so(t){this.Xr(t)}io(t){this.eo(t)}}const vo="WebChannelConnection";class AB extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.ro=(t.ssl?"https":"http")+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(t,e,i,r,s){const u=yM(),h=this.ao(t,e);Oe("RestConnection",`Sending RPC '${t}' ${u}:`,h,i);const _={};return this.ho(_,r,s),this.lo(t,h,_,i).then(b=>(Oe("RestConnection",`Received RPC '${t}' ${u}: `,b),b),b=>{throw Hs("RestConnection",`RPC '${t}' ${u} failed with error: `,b,"url: ",h,"request:",i),b})}fo(t,e,i,r,s,u){return this.co(t,e,i,r,s)}ho(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Oh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ao(t,e){return`${this.ro}/v1/${e}:${TB[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,i,r){const s=yM();return new Promise((u,h)=>{const _=new jb;_.setWithCredentials(!0),_.listenOnce(Ub.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case P_.NO_ERROR:const E=_.getResponseJson();Oe(vo,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(E)),u(E);break;case P_.TIMEOUT:Oe(vo,`RPC '${t}' ${s} timed out`),h(new Te(ae.DEADLINE_EXCEEDED,"Request time out"));break;case P_.HTTP_ERROR:const M=_.getStatus();if(Oe(vo,`RPC '${t}' ${s} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F?.error;if(B&&B.status&&B.message){const G=function(X){const le=X.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(le)>=0?le:ae.UNKNOWN}(B.status);h(new Te(G,B.message))}else h(new Te(ae.UNKNOWN,"Server responded with status "+_.getStatus()))}else h(new Te(ae.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Oe(vo,`RPC '${t}' ${s} completed.`)}});const b=JSON.stringify(r);Oe(vo,`RPC '${t}' ${s} sending request:`,r),_.send(e,"POST",b,i,15)})}wo(t,e,i){const r=yM(),s=[this.ro,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=dT(),h=qE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new Hb({})),this.ho(_.initMessageHeaders,e,i),_.encodeInitMessageHeaders=!0;const b=s.join("");Oe(vo,`Creating RPC '${t}' stream ${r}: ${b}`,_);const E=u.createWebChannel(b,_);let M=!1,F=!1;const B=new MB({Wr:X=>{F?Oe(vo,`Not sending because RPC '${t}' stream ${r} is closed:`,X):(M||(Oe(vo,`Opening RPC '${t}' stream ${r} transport.`),E.open(),M=!0),Oe(vo,`RPC '${t}' stream ${r} sending:`,X),E.send(X))},Hr:()=>E.close()}),G=(X,le,Pe)=>{X.listen(le,ht=>{try{Pe(ht)}catch(ft){setTimeout(()=>{throw ft},0)}})};return G(E,Lp.EventType.OPEN,()=>{F||Oe(vo,`RPC '${t}' stream ${r} transport opened.`)}),G(E,Lp.EventType.CLOSE,()=>{F||(F=!0,Oe(vo,`RPC '${t}' stream ${r} transport closed`),B.so())}),G(E,Lp.EventType.ERROR,X=>{F||(F=!0,Hs(vo,`RPC '${t}' stream ${r} transport errored:`,X),B.so(new Te(ae.UNAVAILABLE,"The operation could not be completed")))}),G(E,Lp.EventType.MESSAGE,X=>{var le;if(!F){const Pe=X.data[0];Ct(!!Pe);const ft=Pe.error||(null===(le=Pe[0])||void 0===le?void 0:le.error);if(ft){Oe(vo,`RPC '${t}' stream ${r} received error:`,ft);const Et=ft.status;let qt=function(xn){const Hr=rr[xn];if(void 0!==Hr)return OO(Hr)}(Et),Yt=ft.message;void 0===qt&&(qt=ae.INTERNAL,Yt="Unknown error status: "+Et+" with message "+ft.message),F=!0,B.so(new Te(qt,Yt)),E.close()}else Oe(vo,`RPC '${t}' stream ${r} received:`,Pe),B.io(Pe)}}),G(h,WE.STAT_EVENT,X=>{X.stat===N_.PROXY?Oe(vo,`RPC '${t}' stream ${r} detected buffering proxy`):X.stat===N_.NOPROXY&&Oe(vo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.no()},0),B}}function L1(){return typeof window<"u"?window:null}function jx(){return typeof document<"u"?document:null}function M0(n){return new V2(n,!0)}class vM{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Ws=t,this.timerId=e,this._o=i,this.mo=r,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,e-i);r>0&&Oe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class B1{constructor(t,e,i,r,s,u,h,_){this.Ws=t,this.bo=i,this.Po=r,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new vM(t,e)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var t=this;return(0,pe.Z)(function*(){t.xo()&&(yield t.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(t){this.Bo(),this.stream.send(t)}Mo(){var t=this;return(0,pe.Z)(function*(){if(t.No())return t.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(t,e){var i=this;return(0,pe.Z)(function*(){i.Bo(),i.Lo(),i.Co.cancel(),i.Vo++,4!==t?i.Co.reset():e&&e.code===ae.RESOURCE_EXHAUSTED?(mi(e.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),i.Co.Eo()):e&&e.code===ae.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Uo(this.Vo),e=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===e&&this.Ko(i,r)},i=>{t(()=>{const r=new Te(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Go(r)})})}Ko(t,e){const i=this.Uo(this.Vo);this.stream=this.Qo(t,e),this.stream.Jr(()=>{i(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(r=>{i(()=>this.Go(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}ko(){var t=this;this.state=5,this.Co.Ao((0,pe.Z)(function*(){t.state=0,t.start()}))}Go(t){return Oe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return e=>{this.Ws.enqueueAndForget(()=>this.Vo===t?e():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RB extends B1{constructor(t,e,i,r,s,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.serializer=s}Qo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.Co.reset();const e=function j2(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:at(),r=t.targetChange.targetIds||[],s=function(_,b){return _.useProto3Json?(Ct(void 0===b||"string"==typeof b),Ui.fromBase64String(b||"")):(Ct(void 0===b||b instanceof Uint8Array),Ui.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(_){const b=void 0===_.code?ae.UNKNOWN:OO(_.code);return new Te(b,_.message||"")}(u);e=new PO(i,r,s,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Lc(n,i.document.name),s=Hi(i.document.updateTime),u=i.document.createTime?Hi(i.document.createTime):Dt.min(),h=new Ti({mapValue:{fields:i.document.fields}}),_=Un.newFoundDocument(r,s,u,h);e=new Ix(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in t){const i=t.documentDelete,r=Lc(n,i.document),s=i.readTime?Hi(i.readTime):Dt.min(),u=Un.newNoDocument(r,s);e=new Ix([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Lc(n,i.document);e=new Ix([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return at();{const i=t.filter,s=new F2(i.count||0);e=new FO(i.targetId,s)}}var _;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Dt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Dt.min():s.readTime?Hi(s.readTime):Dt.min()}(t);return this.listener.zo(e,i)}jo(t){const e={};e.database=v0(this.serializer),e.addTarget=function(r,s){let u;const h=s.target;return u=Bh(h)?{documents:GO(r,h)}:{query:QT(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=VO(r,s.resumeToken):s.snapshotVersion.compareTo(Dt.min())>0&&(u.readTime=sy(r,s.snapshotVersion.toTimestamp())),u}(this.serializer,t);const i=function $2(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Fo(e)}Wo(t){const e={};e.database=v0(this.serializer),e.removeTarget=t,this.Fo(e)}}class kB extends B1{constructor(t,e,i,r,s,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Ct(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ho){this.Co.reset();const e=function z2(n,t){return n&&n.length>0?(Ct(void 0!==t),n.map(e=>function(i,r){let s=Hi(i.updateTime?i.updateTime:r);return s.isEqual(Dt.min())&&(s=Hi(r)),new L(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Hi(t.commitTime);return this.listener.Zo(i,e)}return Ct(!t.writeResults||0===t.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const t={};t.database=v0(this.serializer),this.Fo(t)}Yo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>b0(this.serializer,i))};this.Fo(e)}}class OB extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.eu=!1}nu(){if(this.eu)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.co(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Te(ae.UNKNOWN,r.toString())})}fo(t,e,i,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.fo(t,e,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(ae.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class PB{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(t){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.uu("Offline")))}set(t){this.hu(),this.su=0,"Online"===t&&(this.ru=!1),this.uu(t)}uu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}cu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(mi(e),this.ru=!1):Oe("OnlineStateTracker",e)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class NB{constructor(t,e,i,r,s){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(h=>{i.enqueueAndForget((0,pe.Z)(function*(){var _;cd(u)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,pe.Z)(function*(b){const E=Ke(b);E.du.add(4),yield hy(E),E.mu.set("Unknown"),E.du.delete(4),yield A0(E)}),function(b){return _.apply(this,arguments)})(u))}))}),this.mu=new PB(i,r)}}function A0(n){return wM.apply(this,arguments)}function wM(){return wM=(0,pe.Z)(function*(n){if(cd(n))for(const t of n.wu)yield t(!0)}),wM.apply(this,arguments)}function hy(n){return CM.apply(this,arguments)}function CM(){return CM=(0,pe.Z)(function*(n){for(const t of n.wu)yield t(!1)}),CM.apply(this,arguments)}function zx(n,t){const e=Ke(n);e.fu.has(t.targetId)||(e.fu.set(t.targetId,t),DM(e)?xM(e):py(e).No()&&EM(e,t))}function R0(n,t){const e=Ke(n),i=py(e);e.fu.delete(t),i.No()&&V1(e,t),0===e.fu.size&&(i.No()?i.$o():cd(e)&&e.mu.set("Unknown"))}function EM(n,t){n.gu.Ot(t.targetId),py(n).jo(t)}function V1(n,t){n.gu.Ot(t),py(n).Wo(t)}function xM(n){n.gu=new P2({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>n.fu.get(t)||null}),py(n).start(),n.mu.ou()}function DM(n){return cd(n)&&!py(n).xo()&&n.fu.size>0}function cd(n){return 0===Ke(n).du.size}function U1(n){n.gu=void 0}function LB(n){return SM.apply(this,arguments)}function SM(){return SM=(0,pe.Z)(function*(n){n.fu.forEach((t,e)=>{EM(n,t)})}),SM.apply(this,arguments)}function BB(n,t){return IM.apply(this,arguments)}function IM(){return IM=(0,pe.Z)(function*(n,t){U1(n),DM(n)?(n.mu.au(t),xM(n)):n.mu.set("Unknown")}),IM.apply(this,arguments)}function VB(n,t,e){return TM.apply(this,arguments)}function TM(){return TM=(0,pe.Z)(function*(n,t,e){if(n.mu.set("Online"),t instanceof PO&&2===t.state&&t.cause)try{yield(i=(0,pe.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r.fu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.fu.delete(h),r.gu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Oe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield $x(n,i)}else if(t instanceof Ix?n.gu.Kt(t):t instanceof FO?n.gu.Jt(t):n.gu.zt(t),!e.isEqual(Dt.min()))try{const i=yield T1(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const u=r.gu.Xt(s);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const b=r.fu.get(_);b&&r.fu.set(_,b.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const _=r.fu.get(h);if(!_)return;r.fu.set(h,_.withResumeToken(Ui.EMPTY_BYTE_STRING,_.snapshotVersion)),V1(r,h);const b=new Hh(_.target,h,1,_.sequenceNumber);EM(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Oe("RemoteStore","Failed to raise snapshot:",i),yield $x(n,i)}var i}),TM.apply(this,arguments)}function $x(n,t,e){return MM.apply(this,arguments)}function MM(){return MM=(0,pe.Z)(function*(n,t,e){if(!Rc(t))throw t;n.du.add(1),yield hy(n),n.mu.set("Offline"),e||(e=()=>T1(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield e(),n.du.delete(1),yield A0(n)}))}),MM.apply(this,arguments)}function H1(n,t){return t().catch(e=>$x(n,e,t))}function fy(n){return AM.apply(this,arguments)}function AM(){return AM=(0,pe.Z)(function*(n){const t=Ke(n),e=Gh(t);let i=t.lu.length>0?t.lu[t.lu.length-1].batchId:-1;for(;UB(t);)try{const r=yield xB(t.localStore,i);if(null===r){0===t.lu.length&&e.$o();break}i=r.batchId,HB(t,r)}catch(r){yield $x(t,r)}j1(t)&&z1(t)}),AM.apply(this,arguments)}function UB(n){return cd(n)&&n.lu.length<10}function HB(n,t){n.lu.push(t);const e=Gh(n);e.No()&&e.Jo&&e.Yo(t.mutations)}function j1(n){return cd(n)&&!Gh(n).xo()&&n.lu.length>0}function z1(n){Gh(n).start()}function jB(n){return RM.apply(this,arguments)}function RM(){return RM=(0,pe.Z)(function*(n){Gh(n).tu()}),RM.apply(this,arguments)}function zB(n){return kM.apply(this,arguments)}function kM(){return kM=(0,pe.Z)(function*(n){const t=Gh(n);for(const e of n.lu)t.Yo(e.mutations)}),kM.apply(this,arguments)}function $B(n,t,e){return OM.apply(this,arguments)}function OM(){return OM=(0,pe.Z)(function*(n,t,e){const i=n.lu.shift(),r=$T.from(i,t,e);yield H1(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield fy(n)}),OM.apply(this,arguments)}function GB(n,t){return FM.apply(this,arguments)}function FM(){return FM=(0,pe.Z)(function*(n,t){var e;t&&Gh(n).Jo&&(yield(e=(0,pe.Z)(function*(i,r){if(kO(s=r.code)&&s!==ae.ABORTED){const u=i.lu.shift();Gh(i).Oo(),yield H1(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield fy(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),j1(n)&&z1(n)}),FM.apply(this,arguments)}function $1(n,t){return PM.apply(this,arguments)}function PM(){return PM=(0,pe.Z)(function*(n,t){const e=Ke(n);e.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const i=cd(e);e.du.add(3),yield hy(e),i&&e.mu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.du.delete(3),yield A0(e)}),PM.apply(this,arguments)}function NM(n,t){return LM.apply(this,arguments)}function LM(){return LM=(0,pe.Z)(function*(n,t){const e=Ke(n);t?(e.du.delete(2),yield A0(e)):t||(e.du.add(2),yield hy(e),e.mu.set("Unknown"))}),LM.apply(this,arguments)}function py(n){return n.yu||(n.yu=function(t,e,i){const r=Ke(t);return r.nu(),new RB(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:LB.bind(null,n),Zr:BB.bind(null,n),zo:VB.bind(null,n)}),n.wu.push(function(){var t=(0,pe.Z)(function*(e){e?(n.yu.Oo(),DM(n)?xM(n):n.mu.set("Unknown")):(yield n.yu.stop(),U1(n))});return function(e){return t.apply(this,arguments)}}())),n.yu}function Gh(n){return n.pu||(n.pu=function(t,e,i){const r=Ke(t);return r.nu(),new kB(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:jB.bind(null,n),Zr:GB.bind(null,n),Xo:zB.bind(null,n),Zo:$B.bind(null,n)}),n.wu.push(function(){var t=(0,pe.Z)(function*(e){e?(n.pu.Oo(),yield fy(n)):(yield n.pu.stop(),n.lu.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(e){return t.apply(this,arguments)}}())),n.pu}class BM{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,s){const u=Date.now()+i,h=new BM(t,e,u,r,s);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(ae.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function my(n,t){if(mi("AsyncQueue",`${t}: ${n}`),Rc(n))return new Te(ae.UNAVAILABLE,`${t}: ${n}`);throw n}class gy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||We.comparator(e.key,i.key):(e,i)=>We.comparator(e.key,i.key),this.keyedMap=iy(),this.sortedSet=new ri(this.comparator)}static emptySet(t){return new gy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof gy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new gy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class G1{constructor(){this.Iu=new ri(We.comparator)}track(t){const e=t.doc.key,i=this.Iu.get(e);i?0!==t.type&&3===i.type?this.Iu=this.Iu.insert(e,t):3===t.type&&1!==i.type?this.Iu=this.Iu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Iu=this.Iu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Iu=this.Iu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Iu=this.Iu.remove(e):1===t.type&&2===i.type?this.Iu=this.Iu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Iu=this.Iu.insert(e,{type:2,doc:t.doc}):at():this.Iu=this.Iu.insert(e,t)}Tu(){const t=[];return this.Iu.inorderTraversal((e,i)=>{t.push(i)}),t}}class _y{constructor(t,e,i,r,s,u,h,_,b){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(t,e,i,r,s){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new _y(t,e,gy.emptySet(e),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class qB{constructor(){this.Eu=void 0,this.listeners=[]}}class WB{constructor(){this.queries=new Tl(t=>d0(t),Vh),this.onlineState="Unknown",this.Au=new Set}}function VM(n,t){return UM.apply(this,arguments)}function UM(){return UM=(0,pe.Z)(function*(n,t){const e=Ke(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new qB),r)try{s.Eu=yield e.onListen(i)}catch(u){const h=my(u,`Initialization of query '${h0(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,s),s.listeners.push(t),t.Ru(e.onlineState),s.Eu&&t.vu(s.Eu)&&zM(e)}),UM.apply(this,arguments)}function HM(n,t){return jM.apply(this,arguments)}function jM(){return jM=(0,pe.Z)(function*(n,t){const e=Ke(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const u=s.listeners.indexOf(t);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),jM.apply(this,arguments)}function ZB(n,t){const e=Ke(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.vu(r)&&(i=!0);u.Eu=r}}i&&zM(e)}function YB(n,t,e){const i=Ke(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function zM(n){n.Au.forEach(t=>{t.next()})}class $M{constructor(t,e,i){this.query=t,this.bu=e,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new _y(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Pu?this.Su(t)&&(this.bu.next(t),e=!0):this.Du(t,this.onlineState)&&(this.Cu(t),e=!0),this.Vu=t,e}onError(t){this.bu.error(t)}Ru(t){this.onlineState=t;let e=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,t)&&(this.Cu(this.Vu),e=!0),e}Du(t,e){return!t.fromCache||(!this.options.xu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Su(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(t){t=_y.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Pu=!0,this.bu.next(t)}}class KB{constructor(t,e){this.Nu=t,this.byteLength=e}ku(){return"metadata"in this.Nu}}class q1{constructor(t){this.serializer=t}Hi(t){return Lc(this.serializer,t)}Ji(t){return t.metadata.exists?$O(this.serializer,t.document,!1):Un.newNoDocument(this.Hi(t.metadata.name),this.Yi(t.metadata.readTime))}Yi(t){return Hi(t)}}class QB{constructor(t,e,i){this.Ou=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=W1(t)}$u(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Nu.namedQuery)this.queries.push(t.Nu.namedQuery);else if(t.Nu.documentMetadata){this.documents.push({metadata:t.Nu.documentMetadata}),t.Nu.documentMetadata.exists||++e;const i=cn.fromString(t.Nu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Nu.document&&(this.documents[this.documents.length-1].document=t.Nu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Mu(t){const e=new Map,i=new q1(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.Hi(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Jt()).add(s);e.set(u,h)}}return e}complete(){var t=this;return(0,pe.Z)(function*(){const e=yield function DB(n,t,e,i){return hM.apply(this,arguments)}(t.localStore,new q1(t.serializer),t.documents,t.Ou.id),i=t.Mu(t.documents);for(const r of t.queries)yield SB(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Fu:t.collectionGroups,Bu:e}})()}}function W1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Z1{constructor(t){this.key=t}}class Y1{constructor(t){this.key=t}}class K1{constructor(t,e){this.query=t,this.Lu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Jt(),this.mutatedKeys=Jt(),this.Ku=ny(t),this.Gu=new gy(this.Ku)}get Qu(){return this.Lu}zu(t,e){const i=e?e.ju:new G1,r=e?e.Gu:this.Gu;let s=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((E,M)=>{const F=r.get(E),B=Kp(this.query,M)?M:null,G=!!F&&this.mutatedKeys.has(F.key),X=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let le=!1;F&&B?F.data.isEqual(B.data)?G!==X&&(i.track({type:3,doc:B}),le=!0):this.Wu(F,B)||(i.track({type:2,doc:B}),le=!0,(_&&this.Ku(B,_)>0||b&&this.Ku(B,b)<0)&&(h=!0)):!F&&B?(i.track({type:0,doc:B}),le=!0):F&&!B&&(i.track({type:1,doc:F}),le=!0,(_||b)&&(h=!0)),le&&(B?(u=u.add(B),s=X?s.add(E):s.delete(E)):(u=u.delete(E),s=s.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),s=s.delete(E.key),i.track({type:1,doc:E})}return{Gu:u,ju:i,Mi:h,mutatedKeys:s}}Wu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.ju.Tu();s.sort((b,E)=>function(M,F){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return B(M)-B(F)}(b.type,E.type)||this.Ku(b.doc,E.doc)),this.Hu(i);const u=e?this.Ju():[],h=0===this.Uu.size&&this.current?1:0,_=h!==this.qu;return this.qu=h,0!==s.length||_?{snapshot:new _y(this.query,t.Gu,r,s,t.mutatedKeys,0===h,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Yu:u}:{Yu:u}}Ru(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new G1,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.Uu;this.Uu=Jt(),this.Gu.forEach(i=>{this.Zu(i.key)&&(this.Uu=this.Uu.add(i.key))});const e=[];return t.forEach(i=>{this.Uu.has(i)||e.push(new Y1(i))}),this.Uu.forEach(i=>{t.has(i)||e.push(new Z1(i))}),e}Xu(t){this.Lu=t.Wi,this.Uu=Jt();const e=this.zu(t.documents);return this.applyChanges(e,!0)}tc(){return _y.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class XB{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class JB{constructor(t){this.key=t,this.ec=!1}}class eV{constructor(t,e,i,r,s,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new Tl(h=>d0(h),Vh),this.ic=new Map,this.rc=new Set,this.oc=new ri(We.comparator),this.uc=new Map,this.cc=new oM,this.ac={},this.hc=new Map,this.lc=im.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function tV(n,t){return GM.apply(this,arguments)}function GM(){return GM=(0,pe.Z)(function*(n,t){const e=pA(n);let i,r;const s=e.sc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.tc();else{const u=yield uy(e.localStore,Kr(t));e.isPrimaryClient&&zx(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield qM(e,t,i,"current"===h,u.resumeToken)}return r}),GM.apply(this,arguments)}function qM(n,t,e,i,r){return WM.apply(this,arguments)}function WM(){return WM=(0,pe.Z)(function*(n,t,e,i,r){n.dc=(M,F,B)=>{return(G=(0,pe.Z)(function*(X,le,Pe,ht){let ft=le.view.zu(Pe);ft.Mi&&(ft=yield Bx(X.localStore,le.query,!1).then(({documents:Yt})=>le.view.zu(Yt,ft)));const Et=ht&&ht.targetChanges.get(le.targetId),qt=le.view.applyChanges(ft,X.isPrimaryClient,Et);return iA(X,le.targetId,qt.Yu),qt.snapshot}),function(X,le,Pe,ht){return G.apply(this,arguments)})(n,M,F,B);var G};const s=yield Bx(n.localStore,t,!0),u=new K1(t,s.Wi),h=u.zu(s.documents),_=_0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),b=u.applyChanges(h,n.isPrimaryClient,_);iA(n,e,b.Yu);const E=new XB(t,e,u);return n.sc.set(t,E),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),b.snapshot}),WM.apply(this,arguments)}function nV(n,t){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,pe.Z)(function*(n,t){const e=Ke(n),i=e.sc.get(t),r=e.ic.get(i.targetId);if(r.length>1)return e.ic.set(i.targetId,r.filter(s=>!Vh(s,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield dy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),R0(e.remoteStore,i.targetId),yy(e,i.targetId)}).catch(Ac))):(yy(e,i.targetId),yield dy(e.localStore,i.targetId,!0))}),ZM.apply(this,arguments)}function YM(){return YM=(0,pe.Z)(function*(n,t,e){const i=mA(n);try{const r=yield function(s,u){const h=Ke(s),_=Xn.now(),b=u.reduce((F,B)=>F.add(B.key),Jt());let E,M;return h.persistence.runTransaction("Locally write mutations","readwrite",F=>{let B=yo(),G=Jt();return h.Ki.getEntries(F,b).next(X=>{B=X,B.forEach((le,Pe)=>{Pe.isValidDocument()||(G=G.add(le))})}).next(()=>h.localDocuments.getOverlayedDocuments(F,B)).next(X=>{E=X;const le=[];for(const Pe of u){const ht=Ft(Pe,E.get(Pe.key).overlayedDocument);null!=ht&&le.push(new pn(Pe.key,ht,n0(ht.value.mapValue),$.exists(!0)))}return h.mutationQueue.addMutationBatch(F,_,le,u)}).next(X=>{M=X;const le=X.applyToLocalDocumentSet(E,G);return h.documentOverlayCache.saveOverlays(F,X.batchId,le)})}).then(()=>({batchId:M.batchId,changes:LT(E)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let _=s.ac[s.currentUser.toKey()];_||(_=new ri(Gt)),_=_.insert(u,h),s.ac[s.currentUser.toKey()]=_}(i,r.batchId,e),yield ud(i,r.changes),yield fy(i.remoteStore)}catch(r){const s=my(r,"Failed to persist write");e.reject(s)}}),YM.apply(this,arguments)}function Q1(n,t){return KM.apply(this,arguments)}function KM(){return KM=(0,pe.Z)(function*(n,t){const e=Ke(n);try{const i=yield function EB(n,t){const e=Ke(n),i=t.snapshotVersion;let r=e.Li;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=e.Ki.newChangeBuffer({trackRemovals:!0});r=e.Li;const h=[];t.targetChanges.forEach((E,M)=>{const F=r.get(M);if(!F)return;h.push(e.Ds.removeMatchingKeys(s,E.removedDocuments,M).next(()=>e.Ds.addMatchingKeys(s,E.addedDocuments,M)));let B=F.withSequenceNumber(s.currentSequenceNumber);var G,X,le;t.targetMismatches.has(M)?B=B.withResumeToken(Ui.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,i)),r=r.insert(M,B),X=B,le=E,(0===(G=F).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&h.push(e.Ds.updateTargetData(s,B))});let _=yo(),b=Jt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(s,E))}),h.push(M1(s,u,t.documentUpdates).next(E=>{_=E.zi,b=E.ji})),!i.isEqual(Dt.min())){const E=e.Ds.getLastRemoteSnapshotVersion(s).next(M=>e.Ds.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(E)}return oe.waitFor(h).next(()=>u.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,_,b)).next(()=>_)}).then(s=>(e.Li=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const u=e.uc.get(s);u&&(Ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?Ct(u.ec):r.removedDocuments.size>0&&(Ct(u.ec),u.ec=!1))}),yield ud(e,i,t)}catch(i){yield Ac(i)}}),KM.apply(this,arguments)}function X1(n,t,e){const i=Ke(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.sc.forEach((s,u)=>{const h=u.view.Ru(t);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=Ke(s);h.onlineState=u;let _=!1;h.queries.forEach((b,E)=>{for(const M of E.listeners)M.Ru(u)&&(_=!0)}),_&&zM(h)}(i.eventManager,t),r.length&&i.nc.zo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function rV(n,t,e){return QM.apply(this,arguments)}function QM(){return QM=(0,pe.Z)(function*(n,t,e){const i=Ke(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.uc.get(t),s=r&&r.key;if(s){let u=new ri(We.comparator);u=u.insert(s,Un.newNoDocument(s,Dt.min()));const h=Jt().add(s),_=new g0(Dt.min(),new Map,new tn(Gt),u,h);yield Q1(i,_),i.oc=i.oc.remove(s),i.uc.delete(t),rA(i)}else yield dy(i.localStore,t,!1).then(()=>yy(i,t,e)).catch(Ac)}),QM.apply(this,arguments)}function oV(n,t){return XM.apply(this,arguments)}function XM(){return XM=(0,pe.Z)(function*(n,t){const e=Ke(n),i=t.batch.batchId;try{const r=yield function CB(n,t){const e=Ke(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Ki.newChangeBuffer({trackRemovals:!0});return function(u,h,_,b){const E=_.batch,M=E.keys();let F=oe.resolve();return M.forEach(B=>{F=F.next(()=>b.getEntry(h,B)).next(G=>{const X=_.docVersions.get(B);Ct(null!==X),G.version.compareTo(X)<0&&(E.applyToRemoteDocument(G,_),G.isValidDocument()&&(G.setReadTime(_.commitVersion),b.addEntry(G)))})}),F.next(()=>u.mutationQueue.removeMutationBatch(h,E))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Jt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(h=h.add(u.batch.mutations[_].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);nA(e,i,null),tA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ud(e,r)}catch(r){yield Ac(r)}}),XM.apply(this,arguments)}function sV(n,t,e){return JM.apply(this,arguments)}function JM(){return JM=(0,pe.Z)(function*(n,t,e){const i=Ke(n);try{const r=yield function(s,u){const h=Ke(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return h.mutationQueue.lookupMutationBatch(_,u).next(E=>(Ct(null!==E),b=E.keys(),h.mutationQueue.removeMutationBatch(_,E))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>h.localDocuments.getDocuments(_,b))})}(i.localStore,t);nA(i,t,e),tA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ud(i,r)}catch(r){yield Ac(r)}}),JM.apply(this,arguments)}function eA(){return eA=(0,pe.Z)(function*(n,t){const e=Ke(n);cd(e.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=Ke(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.hc.get(i)||[];r.push(t),e.hc.set(i,r)}catch(i){const r=my(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),eA.apply(this,arguments)}function tA(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function nA(n,t,e){const i=Ke(n);let r=i.ac[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.ac[i.currentUser.toKey()]=r}}function yy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ic.get(t))n.sc.delete(i),e&&n.nc.wc(i,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.hs(t).forEach(i=>{n.cc.containsKey(i)||J1(n,i)})}function J1(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);null!==e&&(R0(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),rA(n))}function iA(n,t,e){for(const i of e)i instanceof Z1?(n.cc.addReference(i.key,t),lV(n,i)):i instanceof Y1?(Oe("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,t),n.cc.containsKey(i.key)||J1(n,i.key)):at()}function lV(n,t){const e=t.key,i=e.path.canonicalString();n.oc.get(e)||n.rc.has(i)||(Oe("SyncEngine","New document in limbo: "+e),n.rc.add(i),rA(n))}function rA(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new We(cn.fromString(t)),i=n.lc.next();n.uc.set(i,new JB(e)),n.oc=n.oc.insert(e,i),zx(n.remoteStore,new Hh(Kr(Wp(e.path)),i,2,Ho.ct))}}function ud(n,t,e){return oA.apply(this,arguments)}function oA(){return oA=(0,pe.Z)(function*(n,t,e){const i=Ke(n),r=[],s=[],u=[];var h;i.sc.isEmpty()||(i.sc.forEach((h,_)=>{u.push(i.dc(_,t,e).then(b=>{if((b||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){r.push(b);const E=cM.Di(_.targetId,b);s.push(E)}}))}),yield Promise.all(u),i.nc.zo(r),yield(h=(0,pe.Z)(function*(_,b){const E=Ke(_);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>oe.forEach(b,F=>oe.forEach(F.Vi,B=>E.persistence.referenceDelegate.addReference(M,F.targetId,B)).next(()=>oe.forEach(F.Si,B=>E.persistence.referenceDelegate.removeReference(M,F.targetId,B)))))}catch(M){if(!Rc(M))throw M;Oe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const F=M.targetId;if(!M.fromCache){const B=E.Li.get(F),X=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);E.Li=E.Li.insert(F,X)}}}),function(_,b){return h.apply(this,arguments)})(i.localStore,s))}),oA.apply(this,arguments)}function cV(n,t){return sA.apply(this,arguments)}function sA(){return sA=(0,pe.Z)(function*(n,t){const e=Ke(n);if(!e.currentUser.isEqual(t)){Oe("SyncEngine","User change. New user:",t.toKey());const i=yield I1(e.localStore,t);e.currentUser=t,(r=e).hc.forEach(u=>{u.forEach(h=>{h.reject(new Te(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ud(e,i.Qi)}var r}),sA.apply(this,arguments)}function uV(n,t){const e=Ke(n),i=e.uc.get(t);if(i&&i.ec)return Jt().add(i.key);{let r=Jt();const s=e.ic.get(t);if(!s)return r;for(const u of s){const h=e.sc.get(u);r=r.unionWith(h.view.Qu)}return r}}function dV(n,t){return aA.apply(this,arguments)}function aA(){return aA=(0,pe.Z)(function*(n,t){const e=Ke(n),i=yield Bx(e.localStore,t.query,!0),r=t.view.Xu(i);return e.isPrimaryClient&&iA(e,t.targetId,r.Yu),r}),aA.apply(this,arguments)}function hV(n,t){return lA.apply(this,arguments)}function lA(){return lA=(0,pe.Z)(function*(n,t){const e=Ke(n);return R1(e.localStore,t).then(i=>ud(e,i))}),lA.apply(this,arguments)}function fV(n,t,e,i){return cA.apply(this,arguments)}function cA(){return cA=(0,pe.Z)(function*(n,t,e,i){const r=Ke(n),s=yield function(u,h){const _=Ke(u),b=Ke(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",E=>b.In(E,h).next(M=>M?_.localDocuments.getDocuments(E,M):oe.resolve(null)))}(r.localStore,t);var h;null!==s?("pending"===e?yield fy(r.remoteStore):"acknowledged"===e||"rejected"===e?(nA(r,t,i||null),tA(r,t),h=t,Ke(Ke(r.localStore).mutationQueue).En(h)):at(),yield ud(r,s)):Oe("SyncEngine","Cannot apply mutation batch with id: "+t)}),cA.apply(this,arguments)}function uA(){return uA=(0,pe.Z)(function*(n,t){const e=Ke(n);if(pA(e),mA(e),!0===t&&!0!==e.fc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield eF(e,i.toArray());e.fc=!0,yield NM(e.remoteStore,!0);for(const s of r)zx(e.remoteStore,s)}else if(!1===t&&!1!==e.fc){const i=[];let r=Promise.resolve();e.ic.forEach((s,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(yy(e,u),dy(e.localStore,u,!0))),R0(e.remoteStore,u)}),yield r,yield eF(e,i),function(s){const u=Ke(s);u.uc.forEach((h,_)=>{R0(u.remoteStore,_)}),u.cc.ls(),u.uc=new Map,u.oc=new ri(We.comparator)}(e),e.fc=!1,yield NM(e.remoteStore,!1)}}),uA.apply(this,arguments)}function eF(n,t,e){return dA.apply(this,arguments)}function dA(){return dA=(0,pe.Z)(function*(n,t,e){const i=Ke(n),r=[],s=[];for(const u of t){let h;const _=i.ic.get(u);if(_&&0!==_.length){h=yield uy(i.localStore,Kr(_[0]));for(const b of _){const E=i.sc.get(b),M=yield dV(i,E);M.snapshot&&s.push(M.snapshot)}}else{const b=yield A1(i.localStore,u);h=yield uy(i.localStore,b),yield qM(i,tF(b),u,!1,h.resumeToken)}r.push(h)}return i.nc.zo(s),r}),dA.apply(this,arguments)}function tF(n){return PT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mV(n){const t=Ke(n);return Ke(Ke(t.localStore).persistence).bi()}function gV(n,t,e,i){return hA.apply(this,arguments)}function hA(){return hA=(0,pe.Z)(function*(n,t,e,i){const r=Ke(n);if(r.fc)return void Oe("SyncEngine","Ignoring unexpected query state notification.");const s=r.ic.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const u=yield R1(r.localStore,f0(s[0])),h=g0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Ui.EMPTY_BYTE_STRING);yield ud(r,u,h);break}case"rejected":yield dy(r.localStore,t,!0),yy(r,t,i);break;default:at()}}),hA.apply(this,arguments)}function _V(n,t,e){return fA.apply(this,arguments)}function fA(){return fA=(0,pe.Z)(function*(n,t,e){const i=pA(n);if(i.fc){for(const r of t){if(i.ic.has(r)){Oe("SyncEngine","Adding an already active target "+r);continue}const s=yield A1(i.localStore,r),u=yield uy(i.localStore,s);yield qM(i,tF(s),u.targetId,!1,u.resumeToken),zx(i.remoteStore,u)}for(const r of e)i.ic.has(r)&&(yield dy(i.localStore,r,!1).then(()=>{R0(i.remoteStore,r),yy(i,r)}).catch(Ac))}}),fA.apply(this,arguments)}function pA(n){const t=Ke(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Q1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rV.bind(null,t),t.nc.zo=ZB.bind(null,t.eventManager),t.nc.wc=YB.bind(null,t.eventManager),t}function mA(n){const t=Ke(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sV.bind(null,t),t}class Gx{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,pe.Z)(function*(){e.serializer=M0(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return S1(this.persistence,new D1,t.initialUser,this.serializer)}createPersistence(t){return new E1(Nx.Fs,this.serializer)}createSharedClientState(t){return new P1}terminate(){var t=this;return(0,pe.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class gA extends Gx{constructor(t,e,i){super(),this.mc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,pe.Z)(function*(){yield e().call(i,t),yield i.mc.initialize(i,t),yield mA(i.mc.syncEngine),yield fy(i.mc.remoteStore),yield i.persistence.hi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return S1(this.persistence,new D1,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new aB(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new ox(e,this.persistence);return new rx(t.asyncQueue,i)}createPersistence(t){const e=lM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?hs.withCacheSize(this.cacheSizeBytes):hs.DEFAULT;return new aM(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,L1(),jx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new P1}}class nF extends gA{constructor(t,e){super(t,e,!1),this.mc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,pe.Z)(function*(){yield e().call(i,t);const r=i.mc.syncEngine;i.sharedClientState instanceof _M&&(i.sharedClientState.syncEngine={$r:fV.bind(null,r),Mr:gV.bind(null,r),Fr:_V.bind(null,r),bi:mV.bind(null,r),Or:hV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.hi(function(){var s=(0,pe.Z)(function*(u){yield function pV(n,t){return uA.apply(this,arguments)}(i.mc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=L1();if(!_M.D(e))throw new Te(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=lM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new _M(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class vy{initialize(t,e){var i=this;return(0,pe.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>X1(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=cV.bind(null,i.syncEngine),yield NM(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new WB}createDatastore(t){const e=M0(t.databaseInfo.databaseId),i=new AB(t.databaseInfo);return new OB(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=h=>X1(this.syncEngine,h,0),u=N1.D()?new N1:new IB,new NB(e,i,r,s,u);var e,i,r,s,u}createSyncEngine(t,e){return function(i,r,s,u,h,_,b){const E=new eV(i,r,s,u,h,_);return b&&(E.fc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,pe.Z)(function*(e){const i=Ke(e);Oe("RemoteStore","RemoteStore shutting down."),i.du.add(5),yield hy(i),i._u.shutdown(),i.mu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function iF(n,t=10240){let e=0;return{read:()=>(0,pe.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class qx{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.gc(this.observer.next,t)}error(t){this.observer.error?this.gc(this.observer.error,t):mi("Uncaught Error in snapshot listener:",t.toString())}yc(){this.muted=!0}gc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class vV{constructor(t,e){this.Ic=t,this.serializer=e,this.metadata=new Ii,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(i=>{i&&i.ku()?this.metadata.resolve(i.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Nu)}`))},i=>this.metadata.reject(i))}close(){return this.Ic.cancel()}getMetadata(){var t=this;return(0,pe.Z)(function*(){return t.metadata.promise})()}_c(){var t=this;return(0,pe.Z)(function*(){return yield t.getMetadata(),t.Ec()})()}Ec(){var t=this;return(0,pe.Z)(function*(){const e=yield t.Ac();if(null===e)return null;const i=t.Tc.decode(e),r=Number(i);isNaN(r)&&t.Rc(`length string (${i}) is not valid number`);const s=yield t.vc(r);return new KB(JSON.parse(s),e.length+r)})()}bc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Ac(){var t=this;return(0,pe.Z)(function*(){for(;t.bc()<0&&!(yield t.Pc()););if(0===t.buffer.length)return null;const e=t.bc();e<0&&t.Rc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,pe.Z)(function*(){for(;e.buffer.length<t;)(yield e.Pc())&&e.Rc("Reached the end of bundle when more is expected.");const i=e.Tc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Rc(t){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${t}`)}Pc(){var t=this;return(0,pe.Z)(function*(){const e=yield t.Ic.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class bV{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Te(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,pe.Z)(function*(s,u){const h=Ke(s),_=v0(h.serializer)+"/documents",b={documents:u.map(B=>y0(h.serializer,B))},E=yield h.fo("BatchGetDocuments",_,b,u.length),M=new Map;E.forEach(B=>{const G=function H2(n,t){return"found"in t?function(e,i){Ct(!!i.found);const r=Lc(e,i.found.name),s=Hi(i.found.updateTime),u=i.found.createTime?Hi(i.found.createTime):Dt.min(),h=new Ti({mapValue:{fields:i.found.fields}});return Un.newFoundDocument(r,s,u,h)}(n,t):"missing"in t?function(e,i){Ct(!!i.missing),Ct(!!i.readTime);const r=Lc(e,i.missing),s=Hi(i.readTime);return Un.newNoDocument(r,s)}(n,t):at()}(h.serializer,B);M.set(G.key.toString(),G)});const F=[];return u.forEach(B=>{const G=M.get(B.toString());Ct(!!G),F.push(G)}),F}),function(s,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new oy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=We.fromPath(r);t.mutations.push(new jT(s,t.precondition(s)))}),yield(i=(0,pe.Z)(function*(r,s){const u=Ke(r),h=v0(u.serializer)+"/documents",_={writes:s.map(b=>b0(u.serializer,b))};yield u.co("Commit",h,_)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw at();e=Dt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Te(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Dt.min())?$.exists(!1):$.updateTime(e):$.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Dt.min()))throw new Te(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $.updateTime(e)}return $.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class wV{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Vc=i.maxAttempts,this.Co=new vM(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var t=this;this.Co.Ao((0,pe.Z)(function*(){const e=new bV(t.datastore),i=t.Dc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Cc(s)}))}).catch(r=>{t.Cc(r)})}))}Dc(t){try{const e=this.updateFunction(t);return!Vp(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Cc(t){this.Vc>0&&this.xc(t)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(t)}xc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!kO(e)}return!1}}class CV{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=nr.UNAUTHENTICATED,this.clientId=U_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,pe.Z)(function*(h){Oe("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Oe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,pe.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=my(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function Wx(n,t){return _A.apply(this,arguments)}function _A(){return _A=(0,pe.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,pe.Z)(function*(s){i.isEqual(s)||(yield I1(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),_A.apply(this,arguments)}function yA(n,t){return vA.apply(this,arguments)}function vA(){return vA=(0,pe.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield bA(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>$1(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>$1(t.remoteStore,s)),n._onlineComponents=t}),vA.apply(this,arguments)}function rF(n){return"FirebaseError"===n.name?n.code===ae.FAILED_PRECONDITION||n.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function bA(n){return wA.apply(this,arguments)}function wA(){return wA=(0,pe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wx(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!rF(e))throw e;Hs("Error using user provided cache. Falling back to memory cache: "+e),yield Wx(n,new Gx)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),yield Wx(n,new Gx);return n._offlineComponents}),wA.apply(this,arguments)}function Zx(n){return CA.apply(this,arguments)}function CA(){return CA=(0,pe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield yA(n,n._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield yA(n,new vy))),n._onlineComponents}),CA.apply(this,arguments)}function oF(n){return bA(n).then(t=>t.persistence)}function Yx(n){return bA(n).then(t=>t.localStore)}function EA(n){return Zx(n).then(t=>t.remoteStore)}function xA(n){return Zx(n).then(t=>t.syncEngine)}function by(n){return DA.apply(this,arguments)}function DA(){return DA=(0,pe.Z)(function*(n){const t=yield Zx(n),e=t.eventManager;return e.onListen=tV.bind(null,t.syncEngine),e.onUnlisten=nV.bind(null,t.syncEngine),e}),DA.apply(this,arguments)}function aF(n,t,e={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(r,s,u,h,_){const b=new qx({next:M=>{s.enqueueAndForget(()=>HM(r,E));const F=M.docs.has(u);!F&&M.fromCache?_.reject(new Te(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&h&&"server"===h.source?_.reject(new Te(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),E=new $M(Wp(u.path),b,{includeMetadataChanges:!0,xu:!0});return VM(r,E)}(yield by(n),n.asyncQueue,t,e,i)})),i.promise}function lF(n,t,e={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(r,s,u,h,_){const b=new qx({next:M=>{s.enqueueAndForget(()=>HM(r,E)),M.fromCache&&"server"===h.source?_.reject(new Te(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),E=new $M(u,b,{includeMetadataChanges:!0,xu:!0});return VM(r,E)}(yield by(n),n.asyncQueue,t,e,i)})),i.promise}const cF=new Map;function SA(n,t,e){if(!e)throw new Te(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function uF(n,t,e,i){if(!0===t&&!0===i)throw new Te(ae.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function dF(n){if(!We.isDocumentKey(n))throw new Te(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hF(n){if(We.isDocumentKey(n))throw new Te(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":at()}function hn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Te(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Kx(n);throw new Te(ae.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function fF(n,t){if(t<=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class pF{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Te(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Te(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class k0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pF(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Fh;switch(e.type){case"firstParty":return new pO(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Te(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=cF.get(t);e&&(Oe("ComponentProvider","Removing Datastore"),cF.delete(t),e.terminate())}(this),Promise.resolve()}}class oi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new oi(this.firestore,t,this._key)}}class Qr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Qr(this.firestore,t,this._query)}}class Bc extends Qr{constructor(t,e,i){super(t,e,Wp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new oi(this.firestore,null,new We(t))}withConverter(t){return new Bc(this.firestore,t,this._path)}}function gF(n,t,...e){if(n=(0,dn.m9)(n),SA("collection","path",t),n instanceof k0){const i=cn.fromString(t,...e);return hF(i),new Bc(n,null,i)}{if(!(n instanceof oi||n instanceof Bc))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(t,...e));return hF(i),new Bc(n.firestore,null,i)}}function Qx(n,t,...e){if(n=(0,dn.m9)(n),1===arguments.length&&(t=U_.A()),SA("doc","path",t),n instanceof k0){const i=cn.fromString(t,...e);return dF(i),new oi(n,null,new We(i))}{if(!(n instanceof oi||n instanceof Bc))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(t,...e));return dF(i),new oi(n.firestore,n instanceof Bc?n.converter:null,new We(i))}}function _F(n,t){return n=(0,dn.m9)(n),t=(0,dn.m9)(t),(n instanceof oi||n instanceof Bc)&&(t instanceof oi||t instanceof Bc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function IA(n,t){return n=(0,dn.m9)(n),t=(0,dn.m9)(t),n instanceof Qr&&t instanceof Qr&&n.firestore===t.firestore&&Vh(n._query,t._query)&&n.converter===t.converter}class kV{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new vM(this,"async_queue_retry"),this.qc=()=>{const e=jx();e&&Oe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Co.vo()};const t=jx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Uc(),this.Kc(t)}enterRestrictedMode(t){if(!this.Oc){this.Oc=!0,this.Bc=t||!1;const e=jx();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.qc)}}enqueue(t){if(this.Uc(),this.Oc)return new Promise(()=>{});const e=new Ii;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.kc.push(t),this.Gc()))}Gc(){var t=this;return(0,pe.Z)(function*(){if(0!==t.kc.length){try{yield t.kc[0](),t.kc.shift(),t.Co.reset()}catch(e){if(!Rc(e))throw e;Oe("AsyncQueue","Operation failed with retryable error: "+e)}t.kc.length>0&&t.Co.Ao(()=>t.Gc())}})()}Kc(t){const e=this.Nc.then(()=>(this.Fc=!0,t().catch(i=>{throw this.Mc=i,this.Fc=!1,mi("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Fc=!1,i))));return this.Nc=e,e}enqueueAfterDelay(t,e,i){this.Uc(),this.Lc.indexOf(t)>-1&&(e=0);const r=BM.createAndSchedule(this,t,e,i,s=>this.Qc(s));return this.$c.push(r),r}Uc(){this.Mc&&at()}verifyOperationInProgress(){}zc(){var t=this;return(0,pe.Z)(function*(){let e;do{e=t.Nc,yield e}while(e!==t.Nc)})()}jc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Wc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Hc(t){this.Lc.push(t)}Qc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function TA(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class OV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class si extends k0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new kV,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||yF(this),this._firestoreClient.terminate()}}function ji(n){return n._firestoreClient||yF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function yF(n){var t,e,i;const r=n._freezeSettings(),s=(h=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new fx(n._databaseId,h,n._persistenceKey,(b=r).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var h,b;n._firestoreClient=new CV(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function vF(n,t,e){const i=new Ii;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield Wx(n,e),yield yA(n,t),i.resolve()}catch(r){const s=r;if(!rF(s))throw s;Hs("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function bF(n){if(n._initialized||n._terminated)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vc(Ui.fromBase64String(t))}catch(e){throw new Te(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Vc(Ui.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class dd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Te(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class om{constructor(t){this._methodName=t}}class Xx{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Te(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Te(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}}const $V=/^__.*__$/;class GV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new pn(t,this.data,this.fieldMask,e,this.fieldTransforms):new Nt(t,this.data,e,this.fieldTransforms)}}class wF{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new pn(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function CF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class Jx{constructor(t,e,i,r,s,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(t){return new Jx(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Zc({path:i,ta:!1});return r.ea(t),r}na(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Zc({path:i,ta:!1});return r.Jc(),r}sa(t){return this.Zc({path:void 0,ta:!0})}ia(t){return nD(t,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Jc(){if(this.path)for(let t=0;t<this.path.length;t++)this.ea(this.path.get(t))}ea(t){if(0===t.length)throw this.ia("Document fields must not be empty");if(CF(this.Yc)&&$V.test(t))throw this.ia('Document fields cannot begin and end with "__"')}}class qV{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||M0(t)}ua(t,e,i,r=!1){return new Jx({Yc:t,methodName:e,oa:i,path:qn.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sm(n){const t=n._freezeSettings(),e=M0(n._databaseId);return new qV(n._databaseId,!!t.ignoreUndefinedProperties,e)}function eD(n,t,e,i,r,s={}){const u=n.ua(s.merge||s.mergeFields?2:0,t,e,r);kA("Data must be an object, but it was:",u,i);const h=DF(i,u);let _,b;if(s.merge)_=new _o(u.fieldMask),b=u.fieldTransforms;else if(s.mergeFields){const E=[];for(const M of s.mergeFields){const F=P0(t,M,e);if(!u.contains(F))throw new Te(ae.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);IF(E,F)||E.push(F)}_=new _o(E),b=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=u.fieldTransforms;return new GV(new Ti(h),_,b)}class F0 extends om{_toFieldTransform(t){if(2!==t.Yc)throw t.ia(1===t.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof F0}}function EF(n,t,e){return new Jx({Yc:3,oa:t.settings.oa,methodName:n._methodName,ta:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class MA extends om{_toFieldTransform(t){return new T(t.path,new a)}isEqual(t){return t instanceof MA}}class WV extends om{constructor(t,e){super(t),this.ca=e}_toFieldTransform(t){const e=EF(this,t,!0),i=this.ca.map(s=>am(s,e)),r=new c(i);return new T(t.path,r)}isEqual(t){return this===t}}class ZV extends om{constructor(t,e){super(t),this.ca=e}_toFieldTransform(t){const e=EF(this,t,!0),i=this.ca.map(s=>am(s,e)),r=new f(i);return new T(t.path,r)}isEqual(t){return this===t}}class YV extends om{constructor(t,e){super(t),this.aa=e}_toFieldTransform(t){const e=new v(t.serializer,UT(t.serializer,this.aa));return new T(t.path,e)}isEqual(t){return this===t}}function AA(n,t,e,i){const r=n.ua(1,t,e);kA("Data must be an object, but it was:",r,i);const s=[],u=Ti.empty();Nh(i,(_,b)=>{const E=tD(t,_,e);b=(0,dn.m9)(b);const M=r.na(E);if(b instanceof F0)s.push(E);else{const F=am(b,M);null!=F&&(s.push(E),u.set(E,F))}});const h=new _o(s);return new wF(u,h,r.fieldTransforms)}function RA(n,t,e,i,r,s){const u=n.ua(1,t,e),h=[P0(t,i,e)],_=[r];if(s.length%2!=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<s.length;F+=2)h.push(P0(t,s[F])),_.push(s[F+1]);const b=[],E=Ti.empty();for(let F=h.length-1;F>=0;--F)if(!IF(b,h[F])){const B=h[F];let G=_[F];G=(0,dn.m9)(G);const X=u.na(B);if(G instanceof F0)b.push(B);else{const le=am(G,X);null!=le&&(b.push(B),E.set(B,le))}}const M=new _o(b);return new wF(E,M,u.fieldTransforms)}function xF(n,t,e,i=!1){return am(e,n.ua(i?4:3,t))}function am(n,t){if(SF(n=(0,dn.m9)(n)))return kA("Unsupported field value:",t,n),DF(n,t);if(n instanceof om)return function(e,i){if(!CF(i.Yc))throw i.ia(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ia(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const u of e){let h=am(u,i.sa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,dn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return UT(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Xn.fromDate(e);return{timestampValue:sy(i.serializer,r)}}if(e instanceof Xn){const r=new Xn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:sy(i.serializer,r)}}if(e instanceof Xx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vc)return{bytesValue:VO(i.serializer,e._byteString)};if(e instanceof oi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ZT(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ia(`Unsupported field value: ${Kx(e)}`)}(n,t)}function DF(n,t){const e={};return dx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nh(n,(i,r)=>{const s=am(r,t.Xc(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function SF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Xn||n instanceof Xx||n instanceof Vc||n instanceof oi||n instanceof om)}function kA(n,t,e){if(!SF(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Kx(e);throw t.ia("an object"===i?n+" a custom object":n+" "+i)}var i}function P0(n,t,e){if((t=(0,dn.m9)(t))instanceof dd)return t._internalPath;if("string"==typeof t)return tD(n,t);throw nD("Field path arguments must be of type string or ",n,!1,void 0,e)}const KV=new RegExp("[~\\*/\\[\\]]");function tD(n,t,e){if(t.search(KV)>=0)throw nD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new dd(...t.split("."))._internalPath}catch{throw nD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function nD(n,t,e,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(s||u)&&(_+=" (found",s&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Te(ae.INVALID_ARGUMENT,h+n+_)}function IF(n,t){return n.some(e=>e.isEqual(t))}class N0{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new QV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(iD("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class QV extends N0{data(){return super.data()}}function iD(n,t){return"string"==typeof t?tD(n,t):t instanceof dd?t._internalPath:t._delegate._internalPath}function TF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Te(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OA{}class L0 extends OA{}function qh(n,t,...e){let i=[];t instanceof OA&&i.push(t),i=i.concat(e),function(r){const s=r.filter(h=>h instanceof wy).length,u=r.filter(h=>h instanceof B0).length;if(s>1||s>0&&u>0)throw new Te(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class B0 extends L0{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new B0(t,e,i)}_apply(t){const e=this._parse(t);return kF(t._query,e),new Qr(t.firestore,t.converter,u0(t._query,e))}_parse(t){const e=sm(t.firestore);return function(r,s,u,h,_,b,E){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){RF(E,b);const F=[];for(const B of E)F.push(AF(h,r,B));M={arrayValue:{values:F}}}else M=AF(h,r,E)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||RF(E,b),M=xF(u,"where",E,"in"===b||"not-in"===b);return an.create(_,b,M)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class wy extends OA{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new wy(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:En.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const u=r.getFlattenedFilters();for(const h of u)kF(s,h),s=u0(s,h)}(t._query,e),new Qr(t.firestore,t.converter,u0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class FA extends L0{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new FA(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Sl(r,s);return function(h,_){if(null===Ex(h)){const b=Zp(h);null!==b&&OF(0,b,_.field)}}(i,u),u}(t._query,this._field,this._direction);return new Qr(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new ds(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class rD extends L0{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new rD(t,e,i)}_apply(t){return new Qr(t.firestore,t.converter,Yp(t._query,this._limit,this._limitType))}}class oD extends L0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new oD(t,e,i)}_apply(t){const e=MF(t,this.type,this._docOrFields,this._inclusive);return new Qr(t.firestore,t.converter,(r=e,new ds((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class sD extends L0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new sD(t,e,i)}_apply(t){const e=MF(t,this.type,this._docOrFields,this._inclusive);return new Qr(t.firestore,t.converter,(r=e,new ds((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function MF(n,t,e,i){if(e[0]=(0,dn.m9)(e[0]),e[0]instanceof N0)return function(r,s,u,h,_){if(!h)throw new Te(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const E of ld(r))if(E.field.isKeyField())b.push(sd(s,h.key));else{const M=h.data.field(E.field);if(Y_(M))throw new Te(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=E.field.canonicalString();throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(M)}return new Dl(b,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=sm(n.firestore);return function(s,u,h,_,b,E){const M=s.explicitOrderBy;if(b.length>M.length)throw new Te(ae.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<b.length;B++){const G=b[B];if(M[B].field.isKeyField()){if("string"!=typeof G)throw new Te(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof G}`);if(!c0(s)&&-1!==G.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${G}' contains a slash.`);const X=s.path.child(cn.fromString(G));if(!We.isDocumentKey(X))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${X}' is not because it contains an odd number of segments.`);const le=new We(X);F.push(sd(u,le))}else{const X=xF(h,_,G);F.push(X)}}return new Dl(F,E)}(n._query,n.firestore._databaseId,r,t,e,i)}}function AF(n,t,e){if("string"==typeof(e=(0,dn.m9)(e))){if(""===e)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c0(t)&&-1!==e.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(cn.fromString(e));if(!We.isDocumentKey(i))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sd(n,new We(i))}if(e instanceof oi)return sd(n,e._key);throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kx(e)}.`)}function RF(n,t){if(!Array.isArray(n)||0===n.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function kF(n,t){if(t.isInequality()){const i=Zp(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=Ex(n);null!==s&&OF(0,r,s)}const e=function(i,r){for(const s of i)for(const u of s.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Te(ae.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function OF(n,t,e){if(!e.isEqual(t))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class PA{convertValue(t,e="none"){switch(od(t)){case 0:return null;case 1:return t.booleanValue;case 2:return gi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(El(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw at()}}convertObject(t,e){const i={};return Nh(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new Xx(gi(t.latitude),gi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Jb(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(jp(t));default:return null}}convertTimestamp(t){const e=Oc(t);return new Xn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=cn.fromString(t);Ct(YO(i));const r=new xl(i.get(1),i.get(3)),s=new We(i.popFirst(5));return r.isEqual(e)||mi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function aD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class sU extends PA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new oi(this.firestore,null,e)}}class lm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hd extends N0{constructor(t,e,i,r,s,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new V0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(iD("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class V0 extends hd{data(t={}){return super.data(t)}}class Wh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new lm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new V0(this._firestore,this._userDataWriter,i.key,i,new lm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Te(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new V0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new lm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new V0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new lm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),b=s.indexOf(u.doc.key)),{type:lU(u.type),doc:h,oldIndex:_,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function lU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function PF(n,t){return n instanceof hd&&t instanceof hd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Wh&&t instanceof Wh&&n._firestore===t._firestore&&IA(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Zh extends PA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new oi(this.firestore,null,e)}}function NF(n,t,e){n=hn(n,oi);const i=hn(n.firestore,si),r=aD(n.converter,t,e);return Cy(i,[eD(sm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,$.none())])}function LF(n,t,e,...i){n=hn(n,oi);const r=hn(n.firestore,si),s=sm(r);let u;return u="string"==typeof(t=(0,dn.m9)(t))||t instanceof dd?RA(s,"updateDoc",n._key,t,e,i):AA(s,"updateDoc",n._key,t),Cy(r,[u.toMutation(n._key,$.exists(!0))])}function BF(n,...t){var e,i,r;n=(0,dn.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||TA(t[u])||(s=t[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(TA(t[u])){const M=t[u];t[u]=null===(e=M.next)||void 0===e?void 0:e.bind(M),t[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),t[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,b,E;if(n instanceof oi)b=hn(n.firestore,si),E=Wp(n._key.path),_={next:M=>{t[u]&&t[u](NA(b,n,M))},error:t[u+1],complete:t[u+2]};else{const M=hn(n,Qr);b=hn(M.firestore,si),E=M._query;const F=new Zh(b);_={next:B=>{t[u]&&t[u](new Wh(b,F,M,B))},error:t[u+1],complete:t[u+2]},TF(n._query)}return function(M,F,B,G){const X=new qx(G),le=new $M(F,X,B);return M.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return VM(yield by(M),le)})),()=>{X.yc(),M.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return HM(yield by(M),le)}))}}(ji(b),E,h,_)}function Cy(n,t){return function(e,i){const r=new Ii;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function iV(n,t,e){return YM.apply(this,arguments)}(yield xA(e),i,r)})),r.promise}(ji(n),t)}function NA(n,t,e){const i=e.docs.get(t._key),r=new Zh(n);return new hd(n,r,t._key,i,new lm(e.hasPendingWrites,e.fromCache),t.converter)}const xU={maxAttempts:5};class VF{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=sm(t)}set(t,e,i){this._verifyNotCommitted();const r=Yh(t,this._firestore),s=aD(r.converter,e,i),u=eD(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,$.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Yh(t,this._firestore);let u;return u="string"==typeof(e=(0,dn.m9)(e))||e instanceof dd?RA(this._dataReader,"WriteBatch.update",s._key,e,i,r):AA(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(u.toMutation(s._key,$.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Yh(t,this._firestore);return this._mutations=this._mutations.concat(new oy(e._key,$.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yh(n,t){if((n=(0,dn.m9)(n)).firestore!==t)throw new Te(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class DU extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=sm(t)}get(t){const e=Yh(t,this._firestore),i=new sU(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return at();const s=r[0];if(s.isFoundDocument())return new N0(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new N0(this._firestore,i,e._key,null,e.converter);throw at()})}set(t,e,i){const r=Yh(t,this._firestore),s=aD(r.converter,e,i),u=eD(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const s=Yh(t,this._firestore);let u;return u="string"==typeof(e=(0,dn.m9)(e))||e instanceof dd?RA(this._dataReader,"Transaction.update",s._key,e,i,r):AA(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,u),this}delete(t){const e=Yh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Yh(t,this._firestore),i=new Zh(this._firestore);return super.get(t).then(r=>new hd(this._firestore,i,e._key,r._document,new lm(!1,!1),e.converter))}}!function(n,t=!0){Oh=qu.SDK_VERSION,(0,qu._registerComponent)(new Yg.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),u=new si(new fT(e.getProvider("auth-internal")),new Gb(e.getProvider("app-check-internal")),function(h,_){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Te(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(h.options.projectId,_)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,qu.registerVersion)(L_,"3.10.0",n),(0,qu.registerVersion)(L_,"3.10.0","esm2017")}();function LA(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function HF(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function jF(){if(!function cs(){return typeof atob<"u"}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}class U0{constructor(t){this._delegate=t}static fromBase64String(t){return jF(),new U0(Vc.fromBase64String(t))}static fromUint8Array(t){return HF(),new U0(Vc.fromUint8Array(t))}toBase64(){return jF(),this._delegate.toBase64()}toUint8Array(){return HF(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BA(n){return function FU(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class PU{enableIndexedDbPersistence(t,e){return function PV(n,t){bF(n=hn(n,si));const e=ji(n);if(e._uninitializedComponentsProvider)throw new Te(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Hs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new vy;return vF(e,r,new gA(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function NV(n){bF(n=hn(n,si));const t=ji(n);if(t._uninitializedComponentsProvider)throw new Te(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Hs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new vy;return vF(t,i,new nF(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function LV(n){if(n._initialized&&!n._terminated)throw new Te(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ii;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(e=(0,pe.Z)(function*(i){if(!ls.D())return Promise.resolve();const r=i+"main";yield ls.delete(r)}),function(i){return e.apply(this,arguments)})(lM(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class zF{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof xl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Hs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function mF(n,t,e,i={}){var r;const s=(n=hn(n,k0))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Hs("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=nr.MOCK_USER;else{u=(0,dn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Te(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new nr(_)}n._authCredentials=new hT(new Br(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function VV(n){return function EV(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const t=yield oF(n),e=yield EA(n);return t.setNetworkEnabled(!0),function(i){const r=Ke(i);return r.du.delete(0),A0(r)}(e)}))}(ji(n=hn(n,si)))}(this._delegate)}disableNetwork(){return function UV(n){return function xV(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const t=yield oF(n),e=yield EA(n);return t.setNetworkEnabled(!1),(i=(0,pe.Z)(function*(r){const s=Ke(r);s.du.add(0),yield hy(s),s.mu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(ji(n=hn(n,si)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,uF("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function BV(n){return function(t){const e=new Ii;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function aV(n,t){return eA.apply(this,arguments)}(yield xA(t),e)})),e.promise}(ji(n=hn(n,si)))}(this._delegate)}onSnapshotsInSync(t){return function _U(n,t){return function IV(n,t){const e=new qx(t);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return i=yield by(n),r=e,Ke(i).Au.add(r),void r.next();var i,r})),()=>{e.yc(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return i=yield by(n),r=e,void Ke(i).Au.delete(r);var i,r}))}}(ji(n=hn(n,si)),TA(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Ey(this,gF(this._delegate,t))}catch(e){throw zo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ra(this,Qx(this._delegate,t))}catch(e){throw zo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new $o(this,function RV(n,t){if(n=hn(n,k0),SA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qr(n,null,(e=t,new ds(cn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw zo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function SU(n,t,e){n=hn(n,si);const i=Object.assign(Object.assign({},xU),e);return function(r){if(r.maxAttempts<1)throw new Te(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,u){const h=new Ii;return r.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const _=yield function sF(n){return Zx(n).then(t=>t.datastore)}(r);new wV(r.asyncQueue,_,u,s,h).run()})),h.promise}(ji(n),r=>t(new DU(n,r)),i)}(this._delegate,e=>t(new $F(this,e)))}batch(){return ji(this._delegate),new GF(new VF(this._delegate,t=>Cy(this._delegate,t)))}loadBundle(t){return function HV(n,t){const e=ji(n=hn(n,si)),i=new OV;return function TV(n,t,e,i){const r=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,_=function(_,b){if(_ instanceof Uint8Array)return iF(_,b);if(_ instanceof ArrayBuffer)return iF(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new vV(_,u);var _}(e,M0(t));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function yV(n,t,e){const i=Ke(n);var r;(r=(0,pe.Z)(function*(s,u,h){try{const _=yield u.getMetadata();if(yield function(F,B){const G=Ke(F),X=Hi(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",le=>G.xs.getBundleMetadata(le,B.id)).then(le=>!!le&&le.createTime.compareTo(X)>=0)}(s.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);h._updateProgress(W1(_));const b=new QB(_,s.localStore,u.serializer);let E=yield u._c();for(;E;){const F=yield b.$u(E);F&&h._updateProgress(F),E=yield u._c()}const M=yield b.complete();return yield ud(s,M.Bu,void 0),yield function(F,B){const G=Ke(F);return G.persistence.runTransaction("Save bundle","readwrite",X=>G.xs.saveBundleMetadata(X,B))}(s.localStore,_),h._completeWith(M.progress),Promise.resolve(M.Fu)}catch(_){return Hs("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var F}),function(s,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield xA(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function jV(n,t){return function MV(n,t){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(e,i){const r=Ke(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.xs.getNamedQuery(s,i))}(yield Yx(n),t)}))}(ji(n=hn(n,si)),t).then(e=>e?new Qr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new $o(this,e):null)}}class lD extends PA{constructor(t){super(),this.firestore=t}convertBytes(t){return new U0(new Vc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ra.forKey(e,this.firestore,null)}}class $F{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new lD(t)}get(t){const e=um(t);return this._delegate.get(e).then(i=>new H0(this._firestore,new hd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=um(t);return i?(LA("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=um(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=um(t);return this._delegate.delete(e),this}}class GF{constructor(t){this._delegate=t}set(t,e,i){const r=um(t);return i?(LA("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=um(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=um(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class cm{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new V0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new j0(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=cm.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new cm(t,new lD(t),e),r.set(e,s)),s}}cm.INSTANCES=new WeakMap;class Ra{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new lD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ra(e,new oi(e._delegate,i,new We(t)))}static forKey(t,e,i){return new Ra(e,new oi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Ey(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Ey(this.firestore,gF(this._delegate,t))}catch(e){throw zo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,dn.m9)(t))instanceof oi&&_F(this._delegate,t)}set(t,e){e=LA("DocumentReference.set",e);try{return e?NF(this._delegate,t,e):NF(this._delegate,t)}catch(i){throw zo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?LF(this._delegate,t):LF(this._delegate,t,e,...i)}catch(r){throw zo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function mU(n){return Cy(hn(n.firestore,si),[new oy(n._key,$.none())])}(this._delegate)}onSnapshot(...t){const e=qF(t),i=WF(t,r=>new H0(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return BF(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function uU(n){n=hn(n,oi);const t=hn(n.firestore,si),e=ji(t),i=new Zh(t);return function DV(n,t){const e=new Ii;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(i=(0,pe.Z)(function*(r,s,u){try{const h=yield function(_,b){const E=Ke(_);return E.persistence.runTransaction("read document","readonly",M=>E.localDocuments.getDocument(M,b))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Te(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=my(h,`Failed to get document '${s} from cache`);u.reject(_)}}),function(r,s,u){return i.apply(this,arguments)})(yield Yx(n),t,e);var i})),e.promise}(e,n._key).then(r=>new hd(t,i,n._key,r,new lm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function dU(n){n=hn(n,oi);const t=hn(n.firestore,si);return aF(ji(t),n._key,{source:"server"}).then(e=>NA(t,n,e))}(this._delegate):function cU(n){n=hn(n,oi);const t=hn(n.firestore,si);return aF(ji(t),n._key).then(e=>NA(t,n,e))}(this._delegate),e.then(i=>new H0(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ra(this.firestore,this._delegate.withConverter(t?cm.getInstance(this.firestore,t):null))}}function zo(n,t,e){return n.message=n.message.replace(t,e),n}function qF(n){for(const t of n)if("object"==typeof t&&!BA(t))return t;return{}}function WF(n,t){var e,i;let r;return r=BA(n[0])?n[0]:BA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class H0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return PF(this._delegate,t._delegate)}}class j0 extends H0{data(t){const e=this._delegate.data(t);return function YE(n,t){n||at()}(void 0!==e),e}}class $o{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new lD(t)}where(t,e,i){try{return new $o(this.firestore,qh(this._delegate,function XV(n,t,e){const i=t,r=iD("where",n);return B0._create(r,i,e)}(t,e,i)))}catch(r){throw zo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new $o(this.firestore,qh(this._delegate,function JV(n,t="asc"){const e=t,i=iD("orderBy",n);return FA._create(i,e)}(t,e)))}catch(i){throw zo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new $o(this.firestore,qh(this._delegate,function eU(n){return fF("limit",n),rD._create("limit",n,"F")}(t)))}catch(e){throw zo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new $o(this.firestore,qh(this._delegate,function tU(n){return fF("limitToLast",n),rD._create("limitToLast",n,"L")}(t)))}catch(e){throw zo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new $o(this.firestore,qh(this._delegate,function nU(...n){return oD._create("startAt",n,!0)}(...t)))}catch(e){throw zo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new $o(this.firestore,qh(this._delegate,function iU(...n){return oD._create("startAfter",n,!1)}(...t)))}catch(e){throw zo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new $o(this.firestore,qh(this._delegate,function rU(...n){return sD._create("endBefore",n,!1)}(...t)))}catch(e){throw zo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new $o(this.firestore,qh(this._delegate,function oU(...n){return sD._create("endAt",n,!0)}(...t)))}catch(e){throw zo(e,"endAt()","Query.endAt()")}}isEqual(t){return IA(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function fU(n){n=hn(n,Qr);const t=hn(n.firestore,si),e=ji(t),i=new Zh(t);return function SV(n,t){const e=new Ii;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(i=(0,pe.Z)(function*(r,s,u){try{const h=yield Bx(r,s,!0),_=new K1(s,h.Wi),b=_.zu(h.documents),E=_.applyChanges(b,!1);u.resolve(E.snapshot)}catch(h){const _=my(h,`Failed to execute query '${s} against cache`);u.reject(_)}}),function(r,s,u){return i.apply(this,arguments)})(yield Yx(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Wh(t,i,n,r))}(this._delegate):"server"===t?.source?function pU(n){n=hn(n,Qr);const t=hn(n.firestore,si),e=ji(t),i=new Zh(t);return lF(e,n._query,{source:"server"}).then(r=>new Wh(t,i,n,r))}(this._delegate):function hU(n){n=hn(n,Qr);const t=hn(n.firestore,si),e=ji(t),i=new Zh(t);return TF(n._query),lF(e,n._query).then(r=>new Wh(t,i,n,r))}(this._delegate),e.then(i=>new VA(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=qF(t),i=WF(t,r=>new VA(this.firestore,new Wh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return BF(this._delegate,e,i)}withConverter(t){return new $o(this.firestore,this._delegate.withConverter(t?cm.getInstance(this.firestore,t):null))}}class LU{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new j0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class VA{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new $o(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new j0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new LU(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new j0(this._firestore,i))})}isEqual(t){return PF(this._delegate,t._delegate)}}class Ey extends $o{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ra(this.firestore,t):null}doc(t){try{return new Ra(this.firestore,void 0===t?Qx(this._delegate):Qx(this._delegate,t))}catch(e){throw zo(e,"doc()","CollectionReference.doc()")}}add(t){return function gU(n,t){const e=hn(n.firestore,si),i=Qx(n),r=aD(n.converter,t);return Cy(e,[eD(sm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,$.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ra(this.firestore,e))}isEqual(t){return _F(this._delegate,t._delegate)}withConverter(t){return new Ey(this.firestore,this._delegate.withConverter(t?cm.getInstance(this.firestore,t):null))}}function um(n){return hn(n,oi)}class UA{constructor(...t){this._delegate=new dd(...t)}static documentId(){return new UA(qn.keyField().canonicalString())}isEqual(t){return(t=(0,dn.m9)(t))instanceof dd&&this._delegate._internalPath.isEqual(t._internalPath)}}class dm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function TU(){return new MA("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new dm(t)}static delete(){const t=function IU(){return new F0("deleteField")}();return t._methodName="FieldValue.delete",new dm(t)}static arrayUnion(...t){const e=function MU(...n){return new WV("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new dm(e)}static arrayRemove(...t){const e=function AU(...n){return new ZV("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new dm(e)}static increment(t){const e=function RU(n){return new YV("increment",n)}(t);return e._methodName="FieldValue.increment",new dm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const BU={Firestore:zF,GeoPoint:Xx,Timestamp:Xn,Blob:U0,Transaction:$F,WriteBatch:GF,DocumentReference:Ra,DocumentSnapshot:H0,Query:$o,QueryDocumentSnapshot:j0,QuerySnapshot:VA,CollectionReference:Ey,FieldPath:UA,FieldValue:dm,setLogLevel:function NU(n){!function ZE(n){Mc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function UU(n){(function VU(n,t){n.INTERNAL.registerComponent(new Yg.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},BU)))})(n,(t,e)=>new zF(t,e,new PU)),n.registerVersion("@firebase/firestore-compat","0.3.6")}(YC.Z);var js=P(6451),cD=P(5363),HU=P(6063);class jU extends It.x{constructor(t=1/0,e=1/0,i=HU.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;e||(i.push(t),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!t.closed;u+=i?1:2)t.next(s[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=e.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}var ZF=P(3099);function YF(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,ZF.B)({connector:()=>new jU(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function KF(n,t){return(0,Qi.m)(t)?Kn(()=>n,t):Kn(()=>n)}var HA=P(9468);P(259);const zA=new Map,XF={activated:!1,tokenObservers:[]},WU={initialized:!1,enabled:!1};function Xr(n){return zA.get(n)||Object.assign({},XF)}function dD(){return WU}const $A="https://content-firebaseappcheck.googleapis.com/v1",QU="exchangeDebugToken",JF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class JU{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,pe.Z)(function*(){e.stop();try{e.pending=new dn.BH,yield function eH(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new dn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Go=new dn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function WA(){return WA=(0,pe.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const s={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,s)}catch(M){throw Go.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==u.status)throw Go.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(M){throw Go.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=h.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Go.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const b=1e3*Number(_[1]),E=Date.now();return{token:h.token,expireTimeMillis:E+b,issuedAtTimeMillis:E}}),WA.apply(this,arguments)}const oH="firebase-app-check-database",sH=1,z0="firebase-app-check-store";let pD=null;function ZA(){return ZA=(0,pe.Z)(function*(n,t){const i=(yield function nP(){return pD||(pD=new Promise((n,t)=>{try{const e=indexedDB.open(oH,sH);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Go.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(z0,{keyPath:"compositeKey"})}}catch(e){t(Go.create("storage-open",{originalErrorMessage:e?.message}))}}),pD)}()).transaction(z0,"readwrite"),s=i.objectStore(z0).put({compositeKey:n,value:t});return new Promise((u,h)=>{s.onsuccess=_=>{u()},i.onerror=_=>{var b;h(Go.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),ZA.apply(this,arguments)}const $0=new Dc.Yd("@firebase/app-check");function QA(n,t){return(0,dn.hl)()?function lH(n,t){return function iP(n,t){return ZA.apply(this,arguments)}(function oP(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{$0.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function JA(){return JA=(0,pe.Z)(function*(){const n=dD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),JA.apply(this,arguments)}const pH={error:"UNKNOWN_ERROR"};function mH(n){return dn.US.encodeString(JSON.stringify(n),!1)}function mD(n){return eR.apply(this,arguments)}function eR(){return eR=(0,pe.Z)(function*(n,t=!1){const e=n.app;!function eP(n){if(!Xr(n).activated)throw Go.create("use-before-activation",{appName:n.name})}(e);const i=Xr(e);let s,r=i.token;if(r&&!xy(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(xy(_)?r=_:yield QA(e,void 0))}if(!t&&r&&xy(r))return{token:r.token};let h,u=!1;if(function sP(){return dD().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function qA(n,t){return WA.apply(this,arguments)}(function rH(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${$A}/projects/${e}/apps/${i}:${QU}?key=${r}`,body:{debug_token:t}}}(e,yield function aP(){return JA.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield QA(e,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Xr(e).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?$0.warn(_.message):$0.error(_),s=_}return r?s?h=xy(r)?{token:r.token,internalError:s}:uP(s):(h={token:r.token},i.token=r,yield QA(e,r)):h=uP(s),u&&function cP(n,t){const e=Xr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,h),h}),eR.apply(this,arguments)}function nR(n,t){const e=Xr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function lP(n){const{app:t}=n,e=Xr(t);let i=e.tokenRefresher;i||(i=function gH(n){const{app:t}=n;return new JU((0,pe.Z)(function*(){let i;if(i=Xr(t).token?yield mD(n,!0):yield mD(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Xr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},JF.RETRIAL_MIN_WAIT,JF.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function xy(n){return n.expireTimeMillis-Date.now()>0}function uP(n){return{token:mH(pH),error:n}}class _H{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Xr(this.app);for(const e of t)nR(this.app,e.next);return Promise.resolve()}}const yP="app-check-internal";!function RH(){(0,qu._registerComponent)(new Yg.wA("app-check",n=>function yH(n,t){return new _H(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(yP).initialize()})),(0,qu._registerComponent)(new Yg.wA(yP,n=>function vH(n){return{getToken:t=>mD(n,t),addTokenListener:t=>function tR(n,t,e,i){const{app:r}=n,s=Xr(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&xy(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),lP(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>lP(n))}(n,"INTERNAL",t),removeTokenListener:t=>nR(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qu.registerVersion)("@firebase/app-check","0.6.4")}();class sR{constructor(){return(0,Ji.vb)("app-check")}}typeof window<"u"&&window;var _D=P(9260);const bP=new l.OlP("angularfire2.auth.use-emulator"),wP=new l.OlP("angularfire2.auth.settings"),CP=new l.OlP("angularfire2.auth.tenant-id"),EP=new l.OlP("angularfire2.auth.langugage-code"),xP=new l.OlP("angularfire2.auth.use-device-language"),DP=new l.OlP("angularfire.auth.persistence"),SP=(n,t,e,i,r,s,u,h)=>(0,Ei.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,s&&_.useDeviceLanguage(),u)for(const[b,E]of Object.entries(u))_.settings[b]=E;return h&&_.setPersistence(h),_},[e,i,r,s,u,h]);let yD=(()=>{class n{constructor(e,i,r,s,u,h,_,b,E,M,F,B){const G=new It.x,X=qe(void 0).pipe((0,cD.Q)(u.outsideAngular),Kn(()=>s.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9800)))),(0,st.U)(()=>(0,Ei.on)(e,s,i)),(0,st.U)(le=>SP(le,s,h,b,E,M,_,F)),YF({bufferSize:1,refCount:!1}));if(Bl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=qe(null);else{X.pipe(kr()).subscribe();const Pe=X.pipe(Kn(Et=>Et.getRedirectResult().then(qt=>qt,()=>null)),Ji.iC,YF({bufferSize:1,refCount:!1})),ht=X.pipe(Kn(Et=>new Tn.y(qt=>({unsubscribe:s.runOutsideAngular(()=>Et.onAuthStateChanged(Yt=>qt.next(Yt),Yt=>qt.error(Yt),()=>qt.complete()))})))),ft=X.pipe(Kn(Et=>new Tn.y(qt=>({unsubscribe:s.runOutsideAngular(()=>Et.onIdTokenChanged(Yt=>qt.next(Yt),Yt=>qt.error(Yt),()=>qt.complete()))}))));this.authState=Pe.pipe(KF(ht),(0,HA.R)(u.outsideAngular),(0,cD.Q)(u.insideAngular)),this.user=Pe.pipe(KF(ft),(0,HA.R)(u.outsideAngular),(0,cD.Q)(u.insideAngular)),this.idToken=this.user.pipe(Kn(Et=>Et?(0,Qt.D)(Et.getIdToken()):qe(null))),this.idTokenResult=this.user.pipe(Kn(Et=>Et?(0,Qt.D)(Et.getIdTokenResult()):qe(null))),this.credential=(0,js.T)(Pe,G,this.authState.pipe(bn(Et=>!Et))).pipe((0,st.U)(Et=>Et?.user?Et:null),(0,HA.R)(u.outsideAngular),(0,cD.Q)(u.insideAngular))}return(0,Ei.pX)(this,X,s,{spy:{apply:(le,Pe,ht)=>{(le.startsWith("signIn")||le.startsWith("createUser"))&&ht.then(ft=>G.next(ft))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ei.Dh),l.LFG(Ei.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ji.HU),l.LFG(bP,8),l.LFG(wP,8),l.LFG(CP,8),l.LFG(EP,8),l.LFG(xP,8),l.LFG(DP,8),l.LFG(sR,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LH=(()=>{class n{constructor(){_D.Z.registerVersion("angularfire",Ji.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[yD]}),n})();function IP(n,t){return function BH(n,t=mo.z){return new Tn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function lR(n,t){return IP(n,t).pipe((0,st.U)(e=>({payload:e,type:"query"})))}function vD(n,t){return lR(n,t).pipe(Oo(void 0),tb(),(0,st.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(E=>E.doc.ref.isEqual(u.ref)),b=e?.payload.docs.find(E=>E.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function TP(n,t,e){return vD(n,e).pipe(Wd((i,r)=>function UH(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function HH(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return cR(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return cR(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return cR(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Bs(),(0,st.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function cR(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function MP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class AP{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=vD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,st.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Oo(void 0),tb(),bn(([i,r])=>r.length>0||!i),(0,st.U)(([i,r])=>r),Ji.iC)}auditTrail(t){return this.stateChanges(t).pipe(Wd((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=MP(t);return TP(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(t={}){return lR(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Ji.iC)}get(t){return(0,Qt.D)(this.query.get(t)).pipe(Ji.iC)}add(t){return this.ref.add(t)}doc(t){return new RP(this.ref.doc(t),this.afs)}}class RP{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=FP(i,e);return new AP(r,s,this.afs)}snapshotChanges(){return function VH(n,t){return IP(n,t).pipe(Oo(void 0),tb(),(0,st.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,st.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Qt.D)(this.ref.get(t)).pipe(Ji.iC)}}class jH{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?vD(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),bn(e=>e.length>0),Ji.iC):vD(this.query,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}auditTrail(t){return this.stateChanges(t).pipe(Wd((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=MP(t);return TP(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(t={}){return lR(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Ji.iC)}get(t){return(0,Qt.D)(this.query.get(t)).pipe(Ji.iC)}}const kP=new l.OlP("angularfire2.enableFirestorePersistence"),OP=new l.OlP("angularfire2.firestore.persistenceSettings"),zH=new l.OlP("angularfire2.firestore.settings"),$H=new l.OlP("angularfire2.firestore.use-emulator");function FP(n,t=(e=>e)){return{query:t(n),ref:n}}let uR=(()=>{class n{constructor(e,i,r,s,u,h,_,b,E,M,F,B,G,X,le,Pe,ht){this.schedulers=_;const ft=(0,Ei.on)(e,h,i),Et=E;M&&SP(ft,h,F,G,X,le,B,Pe),[this.firestore,this.persistenceEnabled$]=(0,Ei.cc)(`${ft.name}.firestore`,"AngularFirestore",ft.name,()=>{const qt=h.runOutsideAngular(()=>ft.firestore());if(s&&qt.settings(s),Et&&qt.useEmulator(...Et),r&&!Bl(u)){const Yt=()=>{try{return(0,Qt.D)(qt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(xn){return typeof console<"u"&&console.warn(xn),qe(!1)}};return[qt,h.runOutsideAngular(Yt)]}return[qt,qe(!1)]},[s,Et,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:u}=FP(r,i),h=this.schedulers.ngZone.run(()=>s);return new AP(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),s=this.firestore.collectionGroup(e);return new jH(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new RP(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ei.Dh),l.LFG(Ei.xv,8),l.LFG(kP,8),l.LFG(zH,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ji.HU),l.LFG(OP,8),l.LFG($H,8),l.LFG(yD,8),l.LFG(bP,8),l.LFG(wP,8),l.LFG(CP,8),l.LFG(EP,8),l.LFG(xP,8),l.LFG(DP,8),l.LFG(sR,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),GH=(()=>{class n{constructor(){_D.Z.registerVersion("angularfire",Ji.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:kP,useValue:!0},{provide:OP,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[uR]}),n})();class bD{}class dR{}class fd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof fd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new fd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof fd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class qH{encodeKey(t){return PP(t)}encodeValue(t){return PP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const ZH=/%(\d[a-f0-9])/gi,YH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PP(n){return encodeURIComponent(n).replace(ZH,(t,e)=>YH[e]??t)}function wD(n){return`${n}`}class Kh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new qH,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function WH(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,h]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],_=e.get(u)||[];_.push(h),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(wD):[wD(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Kh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(wD(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(wD(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class KH{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function NP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function LP(n){return typeof Blob<"u"&&n instanceof Blob}function BP(n){return typeof FormData<"u"&&n instanceof FormData}class G0{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function QH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new fd),this.context||(this.context=new KH),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Kh,this.urlWithParams=e}serializeBody(){return null===this.body?null:NP(this.body)||LP(this.body)||BP(this.body)||function XH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Kh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BP(this.body)?null:LP(this.body)?this.body.type||null:NP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Kh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,b=t.params||this.params;const E=t.context??this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((M,F)=>M.set(F,t.setHeaders[F]),_)),t.setParams&&(b=Object.keys(t.setParams).reduce((M,F)=>M.set(F,t.setParams[F]),b)),new G0(e,i,s,{params:b,headers:_,context:E,reportProgress:h,responseType:r,withCredentials:u})}}var or=(()=>((or=or||{})[or.Sent=0]="Sent",or[or.UploadProgress=1]="UploadProgress",or[or.ResponseHeader=2]="ResponseHeader",or[or.DownloadProgress=3]="DownloadProgress",or[or.Response=4]="Response",or[or.User=5]="User",or))();class hR{constructor(t,e=200,i="OK"){this.headers=t.headers||new fd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class fR extends hR{constructor(t={}){super(t),this.type=or.ResponseHeader}clone(t={}){return new fR({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class CD extends hR{constructor(t={}){super(t),this.type=or.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new CD({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class VP extends hR{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function pR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ED=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof G0)s=e;else{let _,b;_=r.headers instanceof fd?r.headers:new fd(r.headers),r.params&&(b=r.params instanceof Kh?r.params:new Kh({fromObject:r.params})),s=new G0(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=qe(s).pipe(il(_=>this.handler.handle(_)));if(e instanceof G0||"events"===r.observe)return u;const h=u.pipe(bn(_=>_ instanceof CD));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,st.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,st.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,st.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,st.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Kh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,pR(r,i))}post(e,i,r={}){return this.request("POST",e,pR(r,i))}put(e,i,r={}){return this.request("PUT",e,pR(r,i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(bD))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function UP(n,t){return t(n)}function JH(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const t3=new l.OlP("HTTP_INTERCEPTORS"),q0=new l.OlP("HTTP_INTERCEPTOR_FNS");function n3(){let n=null;return(t,e)=>(null===n&&(n=((0,l.f3M)(t3,{optional:!0})??[]).reduceRight(JH,UP)),n(t,e))}let HP=(()=>{class n extends bD{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(q0)));this.chain=i.reduceRight((r,s)=>function e3(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(r,s,this.injector),UP)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(dR),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const a3=/^\)\]\}',?\n/;let zP=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Tn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((B,G)=>r.setRequestHeader(B,G.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const B=e.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(e.responseType){const B=e.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const s=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const B=r.statusText||"OK",G=new fd(r.getAllResponseHeaders()),X=function l3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new fR({headers:G,status:r.status,statusText:B,url:X}),u},_=()=>{let{headers:B,status:G,statusText:X,url:le}=h(),Pe=null;204!==G&&(Pe=typeof r.response>"u"?r.responseText:r.response),0===G&&(G=Pe?200:0);let ht=G>=200&&G<300;if("json"===e.responseType&&"string"==typeof Pe){const ft=Pe;Pe=Pe.replace(a3,"");try{Pe=""!==Pe?JSON.parse(Pe):null}catch(Et){Pe=ft,ht&&(ht=!1,Pe={error:Et,text:Pe})}}ht?(i.next(new CD({body:Pe,headers:B,status:G,statusText:X,url:le||void 0})),i.complete()):i.error(new VP({error:Pe,headers:B,status:G,statusText:X,url:le||void 0}))},b=B=>{const{url:G}=h(),X=new VP({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:G||void 0});i.error(X)};let E=!1;const M=B=>{E||(i.next(h()),E=!0);let G={type:or.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(G.total=B.total),"text"===e.responseType&&r.responseText&&(G.partialText=r.responseText),i.next(G)},F=B=>{let G={type:or.UploadProgress,loaded:B.loaded};B.lengthComputable&&(G.total=B.total),i.next(G)};return r.addEventListener("load",_),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),e.reportProgress&&(r.addEventListener("progress",M),null!==s&&r.upload&&r.upload.addEventListener("progress",F)),r.send(s),i.next({type:or.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",_),r.removeEventListener("timeout",b),e.reportProgress&&(r.removeEventListener("progress",M),null!==s&&r.upload&&r.upload.removeEventListener("progress",F)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Vl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const mR=new l.OlP("XSRF_ENABLED"),$P=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),GP=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class qP{}let d3=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Na(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q),l.LFG(l.Lbi),l.LFG($P))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function h3(n,t){const e=n.url.toLowerCase();if(!(0,l.f3M)(mR)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,l.f3M)(qP).getToken(),r=(0,l.f3M)(GP);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var zi=(()=>((zi=zi||{})[zi.Interceptors=0]="Interceptors",zi[zi.LegacyInterceptors=1]="LegacyInterceptors",zi[zi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",zi[zi.NoXsrfProtection=3]="NoXsrfProtection",zi[zi.JsonpSupport=4]="JsonpSupport",zi[zi.RequestsMadeViaParent=5]="RequestsMadeViaParent",zi))();function Dy(n,t){return{\u0275kind:n,\u0275providers:t}}function f3(...n){const t=[ED,zP,HP,{provide:bD,useExisting:HP},{provide:dR,useExisting:zP},{provide:q0,useValue:h3,multi:!0},{provide:mR,useValue:!0},{provide:qP,useClass:d3}];for(const e of n)t.push(...e.\u0275providers);return(0,l.MR2)(t)}const WP=new l.OlP("LEGACY_INTERCEPTOR_FN");let m3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[f3(Dy(zi.LegacyInterceptors,[{provide:WP,useFactory:n3},{provide:q0,useExisting:WP,multi:!0}]))]}),n})(),gR=(()=>{class n{constructor(e,i){this.afs=e,this.http=i,this.weekData=["monday","monday","tuesday","wednesday","thursday","friday","friday"],this.weekDataJp=["\u6708\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u91d1\u66dc\u65e5"],this.roomName=["102","104","106","204","MM"],this.weatherURL="https://weather.tsukumijima.net/api/forecast/city/471020",this.mails=[],this.names=[],this.displayedColumns=["roomName","period1","period2","lunch","period3","period4","period5","period6","afterSchool"],this.afsCollection=e.collection(this.weekData[(new Date).getDay()]),this.items=this.afsCollection.valueChanges(),this.userDatas=[],this.getAllUsersDatas()}getAllUsersDatas(){this.afs.collection("users").get().subscribe(i=>{i.forEach(r=>{this.userDatas&&this.userDatas?.push(r.data())})},i=>{console.log("Error fetching users:",i)}),console.log("userData[] :"+Array.from(this.userDatas))}getFsData(){return this.items}getOtherDayData(e){return this.afsCollection=this.afs.collection(e),this.items=this.afsCollection.valueChanges(),this.items}editData(e,i,r,s){this.afs.collection(e).doc(i).update({[r]:s})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(uR),l.LFG(ED))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const g3=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function _3(){return(0,l.f3M)(Q)}}),y3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Uc=(()=>{class n{constructor(e){this.value="ltr",this.change=new l.vpe,e&&(this.value=function v3(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?y3.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(g3,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function $i(n){return null!=n&&"false"!=`${n}`}function _R(n,t=0){return ZP(n)?Number(n):t}function ZP(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function xD(n){return Array.isArray(n)?n:[n]}function sr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function pd(n){return n instanceof l.SBq?n.nativeElement:n}class b3{}function yR(n){return n&&"function"==typeof n.connect&&!(n instanceof ic)}class YP{applyChanges(t,e,i,r,s){t.forEachOperation((u,h,_)=>{let b,E;if(null==u.previousIndex){const M=i(u,h,_);b=e.createEmbeddedView(M.templateRef,M.context,M.index),E=1}else null==_?(e.remove(h),E=3):(b=e.get(h),e.move(b,_),E=2);s&&s({context:b?.context,operation:E,record:u})})}detach(){}}class w3{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new It.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const Z0=new l.OlP("_ViewRepeater");let vR;try{vR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{vR=!1}let Sy,Cr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Dd(n){return n===Yc}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!vR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function XP(){if(Sy)return Sy;if("object"!=typeof document||!document)return Sy=new Set(QP),Sy;let n=document.createElement("input");return Sy=new Set(QP.filter(t=>(n.setAttribute("type",t),n.type===t))),Sy}let Y0,DD,hm,bR;function Iy(n){return function C3(){if(null==Y0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Y0=!0}))}finally{Y0=Y0||!1}return Y0}()?n:!!n.capture}function JP(){if(null==hm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return hm=!1,hm;if("scrollBehavior"in document.documentElement.style)hm=!0;else{const n=Element.prototype.scrollTo;hm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return hm}function K0(){if("object"!=typeof document||!document)return 0;if(null==DD){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),DD=0,0===n.scrollLeft&&(n.scrollLeft=1,DD=0===n.scrollLeft?1:2),n.remove()}return DD}function wR(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function md(n){return n.composedPath?n.composedPath()[0]:n.target}function CR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var D3=P(1144);const S3=["addListener","removeListener"],I3=["addEventListener","removeEventListener"],T3=["on","off"];function fm(n,t,e,i){if((0,Qi.m)(e)&&(i=e,e=void 0),i)return fm(n,t,e).pipe(R(i));const[r,s]=function R3(n){return(0,Qi.m)(n.addEventListener)&&(0,Qi.m)(n.removeEventListener)}(n)?I3.map(u=>h=>n[u](t,h,e)):function M3(n){return(0,Qi.m)(n.addListener)&&(0,Qi.m)(n.removeListener)}(n)?S3.map(eN(n,t)):function A3(n){return(0,Qi.m)(n.on)&&(0,Qi.m)(n.off)}(n)?T3.map(eN(n,t)):[];if(!r&&(0,D3.z)(n))return(0,Li.z)(u=>fm(u,t,e))((0,Bn.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Tn.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>s(h)})}function eN(n,t){return e=>i=>n[e](t,i)}var tN=P(4408);const Q0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Q0;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new On.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Q0;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Q0;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var nN=P(7565);const F3=new class O3 extends nN.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class k3 extends tN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Q0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Q0.cancelAnimationFrame(e),t._scheduled=void 0)}});let ER,P3=1;const SD={};function iN(n){return n in SD&&(delete SD[n],!0)}const N3={setImmediate(n){const t=P3++;return SD[t]=!0,ER||(ER=Promise.resolve()),ER.then(()=>iN(t)&&n()),t},clearImmediate(n){iN(n)}},{setImmediate:L3,clearImmediate:B3}=N3,ID={setImmediate(...n){const{delegate:t}=ID;return(t?.setImmediate||L3)(...n)},clearImmediate(n){const{delegate:t}=ID;return(t?.clearImmediate||B3)(n)},delegate:void 0},xR=new class U3 extends nN.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class V3 extends tN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ID.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(ID.clearImmediate(e),t._scheduled=void 0)}});var j3=P(3532);function rN(n=0,t,e=mo.P){let i=-1;return null!=t&&((0,j3.K)(t)?e=t:i=t),new Tn.y(r=>{let s=function z3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function DR(n,t=mo.z){return function H3(n){return(0,$n.e)((t,e)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const b=r;r=null,e.next(b)}u&&e.complete()},_=()=>{s=null,u&&e.complete()};t.subscribe((0,W.x)(e,b=>{i=!0,r=b,s||(0,Bn.Xf)(n(b)).subscribe(s=(0,W.x)(e,h,_))},()=>{u=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>rN(n,t))}var oN=P(5032);function bo(n){return(0,$n.e)((t,e)=>{(0,Bn.Xf)(n).subscribe((0,W.x)(e,()=>e.complete(),oN.Z)),!e.closed&&t.subscribe(e)})}const $3=["contentWrapper"],G3=["*"],q3=new l.OlP("VIRTUAL_SCROLL_STRATEGY");let TD=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new It.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Tn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(DR(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(bn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=pd(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Cr),l.LFG(Q,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sN=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new It.x,this._elementScrolled=new Tn.y(u=>this.ngZone.runOutsideAngular(()=>fm(this.elementRef.nativeElement,"scroll").pipe(bo(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=K0()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==K0()?e.left=e.right:1==K0()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;JP()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?r:i:"end"==e&&(e=u?i:r),u&&2==K0()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:u&&1==K0()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(TD),l.Y36(l.R0b),l.Y36(Uc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),X0=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new It.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(DR(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Cr),l.LFG(l.R0b),l.LFG(Q,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aN=new l.OlP("VIRTUAL_SCROLLABLE");let Y3=(()=>{class n extends sN{constructor(e,i,r,s){super(e,i,r,s)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(TD),l.Y36(l.R0b),l.Y36(Uc,8))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Q3=typeof requestAnimationFrame<"u"?F3:xR;let X3=(()=>{class n extends Y3{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=$i(e)}constructor(e,i,r,s,u,h,_,b){super(e,h,r,u),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=b,this._platform=(0,l.f3M)(Cr),this._detachedSubject=new It.x,this._renderedRangeSubject=new It.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Tn.y(E=>this._scrollStrategy.scrolledIndexChange.subscribe(M=>Promise.resolve().then(()=>this.ngZone.run(()=>E.next(M))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=On.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Oo(null),DR(0,Q3)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(bo(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function K3(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const s="horizontal"==this.orientation,u=s?"X":"Y";let _=`translate${u}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(_+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",s="right",u="rtl"==this.dir?.value;i="start"==e?u?s:r:"end"==e?u?r:s:e||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-h}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(q3,8),l.Y36(Uc,8),l.Y36(TD),l.Y36(X0),l.Y36(aN,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&l.Gf($3,7),2&e){let r;l.iGM(r=l.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[l._Bn([{provide:sN,useFactory:(t,e)=>t||e,deps:[[new l.FiY,new l.tBr(aN)],n]}]),l.qOj,l.jDz],ngContentSelectors:G3,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&e&&(l.xp6(3),l.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),J0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),SR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[W0,J0,X3,W0,J0]}),n})();const ej=[[["caption"]],[["colgroup"],["col"]]],tj=["caption","colgroup, col"];function IR(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=$i(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const Ty=new l.OlP("CDK_TABLE");let My=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Ay=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),MD=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class oj{}const sj=IR(oj);let gd=(()=>{class n extends sj{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=$i(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ty,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,My,5),l.Suo(r,Ay,5),l.Suo(r,MD,5)),2&e){let s;l.iGM(s=l.CRH())&&(i.cell=s.first),l.iGM(s=l.CRH())&&(i.headerCell=s.first),l.iGM(s=l.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class TR{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let MR=(()=>{class n extends TR{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(gd),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),AR=(()=>{class n extends TR{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(gd),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class cN{constructor(){this.tasks=[],this.endTasks=[]}}const RR=new l.OlP("_COALESCED_STYLE_SCHEDULER");let uN=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new It.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new cN,this._getScheduleObservable().pipe(bo(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new cN;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Qt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Gn(1))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),kR=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof ew?e.headerCell.template:this instanceof tw?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class aj extends kR{}const lj=IR(aj);let ew=(()=>{class n extends lj{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Ty,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class cj extends kR{}const uj=IR(cj);let tw=(()=>{class n extends uj{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Ty,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),AD=(()=>{class n extends kR{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Ty,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),_d=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),OR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},dependencies:[_d],encapsulation:2}),n})(),PR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},dependencies:[_d],encapsulation:2}),n})(),RD=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const dN=["top","bottom","left","right"];class dj{constructor(t,e,i,r,s=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(F=>F)&&!i.some(F=>F))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],u=s.children.length,h=this._getCellWidths(s,r),_=this._getStickyStartColumnPositions(h,e),b=this._getStickyEndColumnPositions(h,i),E=e.lastIndexOf(!0),M=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const F="rtl"===this.direction,B=F?"right":"left",G=F?"left":"right";for(const X of t)for(let le=0;le<u;le++){const Pe=X.children[le];e[le]&&this._addStickyStyle(Pe,B,_[le],le===E),i[le]&&this._addStickyStyle(Pe,G,b[le],le===M)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===E?[]:h.slice(0,E+1).map((X,le)=>e[le]?X:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===M?[]:h.slice(M).map((X,le)=>i[le+M]?X:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,u=[],h=[],_=[];for(let E=0,M=0;E<r.length;E++){if(!s[E])continue;u[E]=M;const F=r[E];_[E]=this._isNativeHtmlTable?Array.from(F.children):[F];const B=F.getBoundingClientRect().height;M+=B,h[E]=B}const b=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let E=0;E<r.length;E++){if(!s[E])continue;const M=u[E],F=E===b;for(const B of _[E])this._addStickyStyle(B,i,M,F)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:_}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:_})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);dN.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of dN)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const NR=new l.OlP("CDK_SPL");let kD=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),OD=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),FD=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),PD=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),ND=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=$i(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=$i(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,s,u,h,_,b,E,M,F,B){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=_,this._viewRepeater=b,this._coalescedStyleScheduler=E,this._viewportRuler=M,this._stickyPositioningListener=F,this._ngZone=B,this._onDestroy=new It.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new Zn({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(bo(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),yR(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Gn(1),bo(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,u)=>{this._addStickyColumnStyles([s],this._headerRowDefs[u])}),this._rowDefs.forEach(s=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===s&&u.push(i[h]);this._addStickyColumnStyles(u,s)}),r.forEach((s,u)=>{this._addStickyColumnStyles([s],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const u=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let h=0;h<u.length;h++){let _=u[h];const b=this._cachedRenderRowsMap.get(_.data);b.has(_.rowDef)?b.get(_.rowDef).push(_):b.set(_.rowDef,[_]),e.push(_)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const _=h.shift();return _.dataIndex=i,_}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),LD(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=LD(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=LD(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=LD(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],yR(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;yR(this.dataSource)?e=this.dataSource.connect(this):function J3(n){return!!n&&(n instanceof Tn.y||(0,Qi.m)(n.lift)&&(0,Qi.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=qe(this.dataSource)),this._renderChangeSubscription=e.pipe(bo(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),s=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const u=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))_d.mostRecentCellOutlet&&_d.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const u of r.outlets)s.appendChild(u.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new dj(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:qe()).pipe(bo(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),u=s.rootNodes[0];1===s.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(Uc,8),l.Y36(Q),l.Y36(Cr),l.Y36(Z0),l.Y36(RR),l.Y36(X0),l.Y36(NR,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,RD,5),l.Suo(r,gd,5),l.Suo(r,AD,5),l.Suo(r,ew,5),l.Suo(r,tw,5)),2&e){let s;l.iGM(s=l.CRH())&&(i._noDataRow=s.first),l.iGM(s=l.CRH())&&(i._contentColumnDefs=s),l.iGM(s=l.CRH())&&(i._contentRowDefs=s),l.iGM(s=l.CRH())&&(i._contentHeaderRowDefs=s),l.iGM(s=l.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(l.Gf(kD,7),l.Gf(OD,7),l.Gf(FD,7),l.Gf(PD,7)),2&e){let r;l.iGM(r=l.CRH())&&(i._rowOutlet=r.first),l.iGM(r=l.CRH())&&(i._headerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._footerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:Ty,useExisting:n},{provide:Z0,useClass:YP},{provide:RR,useClass:uN},{provide:NR,useValue:null}])],ngContentSelectors:tj,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(l.F$t(ej),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[kD,OD,FD,PD],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function LD(n,t){return n.concat(Array.from(t))}let fj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[SR]}),n})();function pm(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function UR(n,t=mo.z){return(0,$n.e)((e,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const b=s;s=null,i.next(b)}};function _(){const b=u+n,E=t.now();if(E<b)return r=this.schedule(void 0,b-E),void i.add(r);h()}e.subscribe((0,W.x)(i,b=>{s=b,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}function mN(n){return bn((t,e)=>n<=e)}let gN=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tj=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=pd(e);return new Tn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new It.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(gN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mj=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=$i(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=_R(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(UR(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Tj),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),_N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[gN]}),n})();const yN=new Set;let Ry,Aj=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):kj}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Rj(n){if(!yN.has(n))try{Ry||(Ry=document.createElement("style"),Ry.setAttribute("type","text/css"),document.head.appendChild(Ry)),Ry.sheet&&(Ry.sheet.insertRule(`@media ${n} {body{ }}`,0),yN.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Cr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kj(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Oj=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new It.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return vN(xD(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Ie(vN(xD(e)).map(u=>this._registerQuery(u).observable));return s=Tt(s.pipe(Gn(1)),s.pipe(mN(1),UR(0))),s.pipe((0,st.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{h.matches=h.matches||_,h.breakpoints[b]=_}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Tn.y(u=>{const h=_=>this._zone.run(()=>u.next(_));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Oo(i),(0,st.U)(({matches:u})=>({query:e,matches:u})),bo(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Aj),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vN(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class Nj{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new It.x,this._typeaheadSubscription=On.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new It.x,this.change=new It.x,t instanceof l.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,hi.b)(e=>this._pressedLetters.push(e)),UR(t),bn(()=>this._pressedLetters.length>0),(0,st.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,u=i[s];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(s<u?s:u-1,-1);break}return;default:return void((r||pm(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class Lj extends Nj{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let VD=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Vj(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Bj(n){try{return n.frameElement}catch{return null}}(function Wj(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===EN(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=EN(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Gj(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function qj(n){return!function Hj(n){return function zj(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Uj(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function jj(n){return function $j(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||CN(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Cr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CN(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function EN(n){if(!CN(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Zj{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Gn(1)).subscribe(t)}}let HR=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Zj(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(VD),l.LFG(l.R0b),l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jR(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function zR(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Yj=new l.OlP("cdk-input-modality-detector-options"),Kj={ignoreKeys:[18,17,224,91,16]},ky=Iy({passive:!0,capture:!0});let Qj=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Zn(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=md(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jR(u)?"keyboard":"mouse"),this._mostRecentTarget=md(u))},this._onTouchstart=u=>{zR(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=md(u))},this._options={...Kj,...s},this.modalityDetected=this._modality.pipe(mN(1)),this.modalityChanged=this.modalityDetected.pipe(Bs()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ky),r.addEventListener("mousedown",this._onMousedown,ky),r.addEventListener("touchstart",this._onTouchstart,ky)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ky),document.removeEventListener("mousedown",this._onMousedown,ky),document.removeEventListener("touchstart",this._onTouchstart,ky))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Cr),l.LFG(l.R0b),l.LFG(Q),l.LFG(Yj,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jj=new l.OlP("cdk-focus-monitor-default-options"),UD=Iy({passive:!0,capture:!0});let mm=(()=>{class n{constructor(e,i,r,s,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new It.x,this._rootNodeFocusAndBlurListener=h=>{for(let b=md(h);b;b=b.parentElement)"focus"===h.type?this._onFocus(h,b):this._onBlur(h,b)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=pd(e);if(!this._platform.isBrowser||1!==r.nodeType)return qe(null);const s=function x3(n){if(function E3(){if(null==bR){const n=typeof document<"u"?document.head:null;bR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return bR}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new It.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=pd(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=pd(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=md(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,UD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,UD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bo(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,UD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,UD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Cr),l.LFG(Qj),l.LFG(Q,8),l.LFG(Jj,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DN="cdk-high-contrast-black-on-white",SN="cdk-high-contrast-white-on-black",$R="cdk-high-contrast-active";let IN=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,l.f3M)(Oj).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove($R,DN,SN),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add($R,DN):2===i&&e.add($R,SN)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Cr),l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ez=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(IN))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_N]}),n})();const nz=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function tz(){return!0}});let _n=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!CR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(IN),l.LFG(nz,8),l.LFG(Q))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[W0,W0]}),n})();function AN(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=$i(t)}constructor(...t){super(...t),this._disabled=!1}}}function GR(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function qR(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=$i(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function iz(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let oz=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_n,_n]}),n})();class sz{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kN=Iy({passive:!0,capture:!0});class az{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=md(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const u=s.get(i);u?u.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,kN)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,kN)))}}const ON={enterDuration:225,exitDuration:150},FN=Iy({passive:!0,capture:!0}),PN=["mousedown","touchstart"],NN=["mouseup","mouseleave","touchend","touchcancel"];class rw{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=pd(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...ON,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function cz(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,_=e-r.top,b=s.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-u+"px",E.style.top=_-u+"px",E.style.height=2*u+"px",E.style.width=2*u+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(E);const M=window.getComputedStyle(E),B=M.transitionDuration,G="none"===M.transitionProperty||"0s"===B||"0s, 0s"===B||0===r.width&&0===r.height,X=new sz(this,E,i,G);E.style.transform="scale3d(1, 1, 1)",X.state=0,i.persistent||(this._mostRecentTransientRipple=X);let le=null;return!G&&(b||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Pe=()=>this._finishRippleTransition(X),ht=()=>this._destroyRipple(X);E.addEventListener("transitionend",Pe),E.addEventListener("transitioncancel",ht),le={onTransitionEnd:Pe,onTransitionCancel:ht}}),this._activeRipples.set(X,le),(G||!b)&&this._finishRippleTransition(X),X}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...ON,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=pd(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,PN.forEach(i=>{rw._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{NN.forEach(e=>{this._triggerElement.addEventListener(e,this,FN)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=jR(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!zR(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(PN.forEach(e=>rw._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&NN.forEach(e=>t.removeEventListener(e,this,FN)))}}rw._eventManager=new az;const uz=new l.OlP("mat-ripple-global-options");let ow=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new rw(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Cr),l.Y36(uz,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),HD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_n,_n]}),n})(),dz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_n]}),n})(),jD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[HD,io,_n,dz]}),n})();const mz=[[["caption"]],[["colgroup"],["col"]]],gz=["caption","colgroup, col"];let zD=(()=>{class n extends ND{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:ND,useExisting:n},{provide:Ty,useExisting:n},{provide:RR,useClass:uN},{provide:Z0,useClass:YP},{provide:NR,useValue:null}]),l.qOj],ngContentSelectors:gz,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(l.F$t(mz),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[kD,OD,FD,PD],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),sw=(()=>{class n extends My{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:My,useExisting:n}]),l.qOj]}),n})(),aw=(()=>{class n extends Ay{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:Ay,useExisting:n}]),l.qOj]}),n})(),lw=(()=>{class n extends gd{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:gd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),cw=(()=>{class n extends MR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[l.qOj]}),n})(),uw=(()=>{class n extends AR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[l.qOj]}),n})(),$D=(()=>{class n extends ew{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:ew,useExisting:n}]),l.qOj]}),n})(),GD=(()=>{class n extends AD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:AD,useExisting:n}]),l.qOj]}),n})(),qD=(()=>{class n extends OR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:OR,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},dependencies:[_d],encapsulation:2}),n})(),WD=(()=>{class n extends PR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[l._Bn([{provide:PR,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},dependencies:[_d],encapsulation:2}),n})(),Sz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_n,fj,_n]}),n})();class Tz extends b3{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new Zn([]),this._filter=new Zn(""),this._internalPageChanges=new It.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(ZP(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((u,h)=>{let _=this.sortingDataAccessor(u,r),b=this.sortingDataAccessor(h,r);const E=typeof _,M=typeof b;E!==M&&("number"===E&&(_+=""),"number"===M&&(b+=""));let F=0;return null!=_&&null!=b?_>b?F=1:_<b&&(F=-1):null!=_?F=1:null!=b&&(F=-1),F*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((u,h)=>u+e[h]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Zn(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,js.T)(this._sort.sortChange,this._sort.initialized):qe(null),e=this._paginator?(0,js.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):qe(null),r=Ie([this._data,this._filter]).pipe((0,st.U)(([h])=>this._filterData(h))),s=Ie([r,t]).pipe((0,st.U)(([h])=>this._orderData(h))),u=Ie([s,e]).pipe((0,st.U)(([h])=>this._pageData(h)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=u.subscribe(h=>this._renderData.next(h))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Mz extends Tz{}const Az=["*"];let ZD;function dw(n){return function Rz(){if(void 0===ZD&&(ZD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(ZD=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return ZD}()?.createHTML(n)||n}function LN(n){return Error(`Unable to find icon with the name "${n}"`)}function BN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function VN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class gm{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let YD=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new gm(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw VN(r);const h=dw(u);return this._addSvgIconConfig(e,i,new gm("",h,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new gm(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(l.q3G.HTML,i);if(!s)throw VN(i);const u=dw(s);return this._addSvgIconSetConfig(e,new gm("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,e);if(!i)throw BN(e);const r=this._cachedIconsByUrl.get(i);return r?qe(KD(r)):this._loadSvgIconFromConfig(new gm(e,null)).pipe((0,hi.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,st.U)(s=>KD(s)))}getNamedSvgIcon(e,i=""){const r=UN(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):qr(LN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?qe(KD(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,st.U)(i=>KD(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?qe(r):Hu(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(_a(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),qe(null)})))).pipe((0,st.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw LN(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(u,e,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,hi.b)(i=>e.svgText=i),(0,st.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?qe(null):this._fetchIcon(e).pipe((0,hi.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(dw("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(dw("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:u,value:h}=r[s];"id"!==u&&i.setAttribute(u,h)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function kz(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!u)throw BN(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const _=this._httpClient.get(u,{responseType:"text",withCredentials:s}).pipe((0,st.U)(b=>dw(b)),mu(()=>this._inProgressUrlFetches.delete(u)),(0,ZF.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(UN(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return Fz(s)?new gm(s.url,null,s.options):new gm(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ED,8),l.LFG(Rs),l.LFG(Q,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KD(n){return n.cloneNode(!0)}function UN(n,t){return n+":"+t}function Fz(n){return!(!n.url||!n.options)}const Pz=GR(class{constructor(n){this._elementRef=n}}),Nz=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),Lz=new l.OlP("mat-icon-location",{providedIn:"root",factory:function Bz(){const n=(0,l.f3M)(Q),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),HN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Vz=HN.map(n=>`[${n}]`).join(", "),Uz=/^url\(['"]?#(.*?)['"]?\)$/;let WR=(()=>{class n extends Pz{get inline(){return this._inline}set inline(e){this._inline=$i(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,u,h){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=On.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(u=>{s.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Vz),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)HN.forEach(u=>{const h=i[s],_=h.getAttribute(u),b=_?_.match(Uz):null;if(b){let E=r.get(h);E||(E=[],r.set(h,E)),E.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Gn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(YD),l.$8M("aria-hidden"),l.Y36(Lz),l.Y36(l.qLn),l.Y36(Nz,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:Az,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Hz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_n,_n]}),n})();const jz=["mat-button",""],zz=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],$z=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],qz=["mat-icon-button",""],Wz=["*"],Zz=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Yz=GR(AN(qR(class{constructor(n){this._elementRef=n}})));let jN=(()=>{class n extends Yz{constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,l.f3M)(mm),this._isFab=!1;const u=e.nativeElement.classList;for(const h of Zz)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(_=>{u.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&l.Gf(ow,5),2&e){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},features:[l.qOj]}),n})(),ZR=(()=>{class n extends jN{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Cr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:jz,ngContentSelectors:$z,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(l.F$t(zz),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(l.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),l.xp6(6),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[ow],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Xz=(()=>{class n extends jN{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Cr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:qz,ngContentSelectors:Wz,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(l.xp6(3),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[ow],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Jz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_n,HD,_n]}),n})();class zN{}class e${}const yd="*";function _m(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ml(n,t=null){return{type:4,styles:t,timings:n}}function $N(n,t=null){return{type:2,steps:n,options:t}}function ar(n){return{type:6,styles:n,offset:null}}function ym(n,t,e){return{type:0,name:n,styles:t,options:e}}function Al(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function GN(n){Promise.resolve().then(n)}class hw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){GN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class qN{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?GN(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const XR="!",t$=["matFormFieldNotchedOutline",""],n$=["*"],i$=["textField"],r$=["iconPrefixContainer"],o$=["textPrefixContainer"];function s$(n,t){1&n&&l._UZ(0,"span",19)}function a$(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",17),l.NdJ("cdkObserveContent",function(){l.CHM(e);const r=l.oxw(2);return l.KtG(r._refreshOutlineNotchWidth())}),l.Hsn(1,1),l.YNc(2,s$,1,0,"span",18),l.qZA()}if(2&n){const e=l.oxw(2);l.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function l$(n,t){if(1&n&&l.YNc(0,a$,3,6,"label",16),2&n){const e=l.oxw();l.Q6J("ngIf",e._hasFloatingLabel())}}function c$(n,t){1&n&&l._UZ(0,"div",20)}function u$(n,t){}function d$(n,t){if(1&n&&l.YNc(0,u$,0,0,"ng-template",22),2&n){l.oxw(2);const e=l.MAs(1);l.Q6J("ngTemplateOutlet",e)}}function h$(n,t){if(1&n&&(l.TgZ(0,"div",21),l.YNc(1,d$,1,1,"ng-template",9),l.qZA()),2&n){const e=l.oxw();l.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),l.xp6(1),l.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function f$(n,t){1&n&&(l.TgZ(0,"div",23,24),l.Hsn(2,2),l.qZA())}function p$(n,t){1&n&&(l.TgZ(0,"div",25,26),l.Hsn(2,3),l.qZA())}function m$(n,t){}function g$(n,t){if(1&n&&l.YNc(0,m$,0,0,"ng-template",22),2&n){l.oxw();const e=l.MAs(1);l.Q6J("ngTemplateOutlet",e)}}function _$(n,t){1&n&&(l.TgZ(0,"div",27),l.Hsn(1,4),l.qZA())}function y$(n,t){1&n&&(l.TgZ(0,"div",28),l.Hsn(1,5),l.qZA())}function v$(n,t){1&n&&l._UZ(0,"div",29)}function b$(n,t){if(1&n&&(l.TgZ(0,"div",30),l.Hsn(1,6),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function w$(n,t){if(1&n&&(l.TgZ(0,"mat-hint",34),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function C$(n,t){if(1&n&&(l.TgZ(0,"div",31),l.YNc(1,w$,2,2,"mat-hint",32),l.Hsn(2,7),l._UZ(3,"div",33),l.Hsn(4,8),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const E$=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],x$=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let JR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})();const D$=new l.OlP("MatError");let S$=0,WN=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+S$++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(l.Ikx("id",i.id),l.uIk("align",null),l.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const I$=new l.OlP("MatPrefix"),ZN=new l.OlP("MatSuffix");let T$=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[l._Bn([{provide:ZN,useExisting:n}])]}),n})(),YN=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function M$(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const KN="mdc-line-ripple--active",QD="mdc-line-ripple--deactivating";let QN=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,u=s.contains(QD);"opacity"===r.propertyName&&u&&s.remove(KN,QD)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(QD),e.add(KN)}deactivate(){this._elementRef.nativeElement.classList.add(QD)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),XN=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:t$,ngContentSelectors:n$,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(l.F$t(),l._UZ(0,"div",0),l.TgZ(1,"div",1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&e&&(l.xp6(1),l.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const A$={transitionMessages:_m("transitionMessages",[ym("enter",ar({opacity:1,transform:"translateY(0%)"})),Al("void => enter",[ar({opacity:0,transform:"translateY(-5px)"}),Ml("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let JN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})();const ek=new l.OlP("MatFormField"),R$=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let eL=0,iL=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=$i(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,u,h,_,b){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=u,this._defaults=h,this._animationMode=_,this._document=b,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+eL++,this._hintLabelId="mat-mdc-hint-"+eL++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new It.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=Boolean(h?.hideRequiredMarker),h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(bo(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,js.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bo(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(bo(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(Uc),l.Y36(Cr),l.Y36(R$,8),l.Y36(l.QbO,8),l.Y36(Q))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,JR,5),l.Suo(r,JR,7),l.Suo(r,JN,5),l.Suo(r,I$,5),l.Suo(r,ZN,5),l.Suo(r,D$,5),l.Suo(r,WN,5)),2&e){let s;l.iGM(s=l.CRH())&&(i._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(i._formFieldControl=s.first),l.iGM(s=l.CRH())&&(i._prefixChildren=s),l.iGM(s=l.CRH())&&(i._suffixChildren=s),l.iGM(s=l.CRH())&&(i._errorChildren=s),l.iGM(s=l.CRH())&&(i._hintChildren=s)}},viewQuery:function(e,i){if(1&e&&(l.Gf(i$,5),l.Gf(r$,5),l.Gf(o$,5),l.Gf(YN,5),l.Gf(XN,5),l.Gf(QN,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._textField=r.first),l.iGM(r=l.CRH())&&(i._iconPrefixContainer=r.first),l.iGM(r=l.CRH())&&(i._textPrefixContainer=r.first),l.iGM(r=l.CRH())&&(i._floatingLabel=r.first),l.iGM(r=l.CRH())&&(i._notchedOutline=r.first),l.iGM(r=l.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&l.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:ek,useExisting:n}])],ngContentSelectors:x$,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(l.F$t(E$),l.YNc(0,l$,1,1,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.YNc(4,c$,1,0,"div",3),l.TgZ(5,"div",4),l.YNc(6,h$,2,3,"div",5),l.YNc(7,f$,3,0,"div",6),l.YNc(8,p$,3,0,"div",7),l.TgZ(9,"div",8),l.YNc(10,g$,1,1,"ng-template",9),l.Hsn(11),l.qZA(),l.YNc(12,_$,2,0,"div",10),l.YNc(13,y$,2,0,"div",11),l.qZA(),l.YNc(14,v$,1,0,"div",12),l.qZA(),l.TgZ(15,"div",13),l.YNc(16,b$,2,1,"div",14),l.YNc(17,C$,5,2,"div",15),l.qZA()),2&e&&(l.xp6(2),l.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),l.xp6(2),l.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),l.xp6(2),l.Q6J("ngIf",i._hasOutline()),l.xp6(1),l.Q6J("ngIf",i._hasIconPrefix),l.xp6(1),l.Q6J("ngIf",i._hasTextPrefix),l.xp6(2),l.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),l.xp6(2),l.Q6J("ngIf",i._hasTextSuffix),l.xp6(1),l.Q6J("ngIf",i._hasIconSuffix),l.xp6(1),l.Q6J("ngIf",!i._hasOutline()),l.xp6(1),l.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[$r,Yi,ys,Yo,Mj,WN,YN,XN,QN],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[A$.transitionMessages]},changeDetection:0}),n})(),XD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_n,io,_N,_n]}),n})();const rL=Iy({passive:!0});let F$=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Yn.E;const i=pd(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new It.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,rL),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,rL)}}),s}stopMonitoring(e){const i=pd(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Cr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const N$=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),L$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let B$=0;const V$=iz(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new It.x}});let oL=(()=>{class n extends V${get disabled(){return this._disabled}set disabled(e){this._disabled=$i(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(lC.required)??!1}set required(e){this._required=$i(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&XP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=$i(e)}constructor(e,i,r,s,u,h,_,b,E,M){super(h,s,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=M,this._uid="mat-input-"+B$++,this.focused=!1,this.stateChanges=new It.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(G=>XP().has(G)),this._iOSKeyupListener=G=>{const X=G.target;!X.value&&0===X.selectionStart&&0===X.selectionEnd&&(X.setSelectionRange(1,1),X.setSelectionRange(0,0))};const F=this._elementRef.nativeElement,B=F.nodeName.toLowerCase();this._inputValueAccessor=_||F,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&E.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){L$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Cr),l.Y36(Ns,10),l.Y36(ml,8),l.Y36(yh,8),l.Y36(oz),l.Y36(N$,10),l.Y36(F$),l.Y36(l.R0b),l.Y36(ek,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(l.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),l.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),l.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:JN,useExisting:n}]),l.qOj,l.TTD]}),n})(),U$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_n,XD,XD,P$,_n]}),n})();const H$=["button"],j$=["*"],sL=new l.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),aL=new l.OlP("MatButtonToggleGroup"),z$={provide:ho,useExisting:(0,l.Gpc)(()=>uL),multi:!0};let lL=0;class cL{constructor(t,e){this.source=t,this.value=e}}let uL=(()=>{class n{get name(){return this._name}set name(e){this._name=e,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(e){this._vertical=$i(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(i=>i.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=$i(e),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(e){this._disabled=$i(e),this._markButtonsForCheck()}constructor(e,i){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+lL++,this.valueChange=new l.vpe,this.change=new l.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}ngOnInit(){this._selectionModel=new w3(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(e){const i=new cL(e,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(e,i,r=!1,s=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(e):this._selectionModel.deselect(e):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(e,r)):this._updateModelValue(e,r)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=e.value&&i===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===e);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(e,i){i&&this._emitChangeEvent(e),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(e=>e._markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(sL,8))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,dL,5),2&e){let s;l.iGM(s=l.CRH())&&(i._buttonToggles=s)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,i){2&e&&(l.uIk("aria-disabled",i.disabled),l.ekj("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[l._Bn([z$,{provide:aL,useExisting:n}])]}),n})();const $$=qR(class{});let dL=(()=>{class n extends $${get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const i=$i(e);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=$i(e)}constructor(e,i,r,s,u,h){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new l.vpe;const _=Number(u);this.tabIndex=_||0===_?_:null,this.buttonToggleGroup=e,this.appearance=h&&h.appearance?h.appearance:"standard"}ngOnInit(){const e=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+lL++,e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector()||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new cL(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(aL,8),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(mm),l.$8M("tabindex"),l.Y36(sL,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(1&e&&l.Gf(H$,5),2&e){let r;l.iGM(r=l.CRH())&&(i._buttonElement=r.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i.focus()}),2&e&&(l.uIk("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),l.ekj("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[l.qOj],ngContentSelectors:j$,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,i){if(1&e&&(l.F$t(),l.TgZ(0,"button",0,1),l.NdJ("click",function(){return i._onButtonClick()}),l.TgZ(2,"span",2),l.Hsn(3),l.qZA()(),l._UZ(4,"span",3)(5,"span",4)),2&e){const r=l.MAs(1);l.Q6J("id",i.buttonId)("disabled",i.disabled||null),l.uIk("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),l.xp6(5),l.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[ow],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),n})(),G$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_n,HD,_n]}),n})();const q$=["*"],Y$=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],K$=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Q$=new l.OlP("MAT_CARD_CONFIG");let JD=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Q$,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:q$,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),hL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),fL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),pL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:K$,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,i){1&e&&(l.F$t(Y$),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),lG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_n,io,_n]}),n})();function cG(n,t){1&n&&(l.TgZ(0,"th",28),l._uU(1,"\u6559\u5ba4\u540d"),l.qZA())}function uG(n,t){if(1&n&&(l.TgZ(0,"td",29),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(e.roomName)}}function dG(n,t){1&n&&(l.TgZ(0,"th",28),l._uU(1,"1\u9650\u76ee"),l.qZA())}const Qh=function(n){return{highlight:n}};function hG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(e).index,h=l.oxw();return l.KtG(h.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,Qh,i===r.rowIndex&&1===r.columnIndex)),l.xp6(1),l.Oqu(e.period1)}}function fG(n,t){1&n&&(l.TgZ(0,"th",28),l._uU(1,"2\u9650\u76ee"),l.qZA())}function pG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(e).index,h=l.oxw();return l.KtG(h.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,Qh,i===r.rowIndex&&2===r.columnIndex)),l.xp6(1),l.Oqu(e.period2)}}function mG(n,t){1&n&&(l.TgZ(0,"th",28),l._uU(1,"lunch"),l.qZA())}function gG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(e).index,h=l.oxw();return l.KtG(h.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,Qh,i===r.rowIndex&&3===r.columnIndex)),l.xp6(1),l.Oqu(e.lunch)}}function _G(n,t){1&n&&(l.TgZ(0,"th",28),l._uU(1,"3\u9650\u76ee"),l.qZA())}function yG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(e).index,h=l.oxw();return l.KtG(h.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,Qh,i===r.rowIndex&&4===r.columnIndex)),l.xp6(1),l.Oqu(e.period3)}}function vG(n,t){1&n&&(l.TgZ(0,"th",28),l._uU(1,"4\u9650\u76ee"),l.qZA())}function bG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(e).index,h=l.oxw();return l.KtG(h.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,Qh,i===r.rowIndex&&5===r.columnIndex)),l.xp6(1),l.Oqu(e.period4)}}function wG(n,t){1&n&&(l.TgZ(0,"th",28),l._uU(1,"5\u9650\u76ee"),l.qZA())}function CG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(e).index,h=l.oxw();return l.KtG(h.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,Qh,i===r.rowIndex&&6===r.columnIndex)),l.xp6(1),l.Oqu(e.period5)}}function EG(n,t){1&n&&(l.TgZ(0,"th",28),l._uU(1,"6\u9650\u76ee"),l.qZA())}function xG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(e).index,h=l.oxw();return l.KtG(h.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,Qh,i===r.rowIndex&&7===r.columnIndex)),l.xp6(1),l.Oqu(e.period6)}}function DG(n,t){1&n&&(l.TgZ(0,"th",28),l._uU(1,"\u653e\u8ab2\u5f8c"),l.qZA())}function SG(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(e).index,h=l.oxw();return l.KtG(h.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,Qh,i===r.rowIndex&&8===r.columnIndex)),l.xp6(1),l.Oqu(e.afterSchool)}}function IG(n,t){1&n&&l._UZ(0,"tr",31)}function TG(n,t){1&n&&l._UZ(0,"tr",32)}let MG=(()=>{class n{constructor(e){this.dataService=e,this.displayedColumns=this.dataService.displayedColumns,this.rowIndex=0,this.columnIndex=0,this.selectedRoomName="",this.selectedCalumn="",this.weekToggle=new sp(""),this.input=new sp("")}onClick(e,i){this.rowIndex=i,this.columnIndex=e.target.cellIndex,this.selectedRoomName=this.dataService.roomName[this.rowIndex],this.selectedCalumn=this.dataService.displayedColumns[this.columnIndex]}selectWeek(){let e=this.dataService.getOtherDayData(this.weekToggle.value);this.matDataSource=e}submit(){this.weekToggle.value&&this.input?this.dataService.editData(this.weekToggle.value,this.selectedRoomName,this.selectedCalumn,""==this.input.value?"\u30aa\u30fc\u30d7\u30f3":this.input.value):console.log("submit error")}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(gR))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-regist"]],decls:59,vars:5,consts:[[2,"font-weight","bold","text-align","center","padding-top","10px"],[1,"form"],[2,"font-size","20px","padding-top","20px","padding-bottom","10px"],["name","weeks",3,"formControl","click"],["value","monday"],["value","tuesday"],["value","wednesday"],["value","thursday"],["value","friday"],[2,"margin-right","20px"],["mat-table","",3,"dataSource"],["matColumnDef","roomName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","period1"],["mat-cell","",3,"ngClass","click",4,"matCellDef"],["matColumnDef","period2"],["matColumnDef","lunch"],["matColumnDef","period3"],["matColumnDef","period4"],["matColumnDef","period5"],["matColumnDef","period6"],["matColumnDef","afterSchool"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matInput","","placeholder","\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u5165\u9580[\u5929\u9858]",3,"formControl"],["matSuffix",""],["mat-raised-button","","color","accent",1,"submit",2,"margin-left","30px",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass","click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(l.TgZ(0,"h1",0),l._uU(1,"\u6388\u696d\u60c5\u5831\u7de8\u96c6"),l.qZA(),l.TgZ(2,"div",1)(3,"div",2),l._uU(4,"1\uff0e\u7de8\u96c6\u3057\u305f\u3044\u30b3\u30de\u3092\u9078\u629e"),l.qZA(),l.TgZ(5,"div")(6,"mat-button-toggle-group",3),l.NdJ("click",function(){return i.selectWeek()}),l.TgZ(7,"mat-button-toggle",4),l._uU(8,"\u6708\u66dc\u65e5"),l.qZA(),l.TgZ(9,"mat-button-toggle",5),l._uU(10,"\u706b\u66dc\u65e5"),l.qZA(),l.TgZ(11,"mat-button-toggle",6),l._uU(12,"\u6c34\u66dc\u65e5"),l.qZA(),l.TgZ(13,"mat-button-toggle",7),l._uU(14,"\u6728\u66dc\u65e5"),l.qZA(),l.TgZ(15,"mat-button-toggle",8),l._uU(16,"\u91d1\u66dc\u65e5"),l.qZA()()(),l.TgZ(17,"div")(18,"mat-card",9)(19,"table",10),l.ynx(20,11),l.YNc(21,cG,2,0,"th",12),l.YNc(22,uG,2,1,"td",13),l.BQk(),l.ynx(23,14),l.YNc(24,dG,2,0,"th",12),l.YNc(25,hG,2,4,"td",15),l.BQk(),l.ynx(26,16),l.YNc(27,fG,2,0,"th",12),l.YNc(28,pG,2,4,"td",15),l.BQk(),l.ynx(29,17),l.YNc(30,mG,2,0,"th",12),l.YNc(31,gG,2,4,"td",15),l.BQk(),l.ynx(32,18),l.YNc(33,_G,2,0,"th",12),l.YNc(34,yG,2,4,"td",15),l.BQk(),l.ynx(35,19),l.YNc(36,vG,2,0,"th",12),l.YNc(37,bG,2,4,"td",15),l.BQk(),l.ynx(38,20),l.YNc(39,wG,2,0,"th",12),l.YNc(40,CG,2,4,"td",15),l.BQk(),l.ynx(41,21),l.YNc(42,EG,2,0,"th",12),l.YNc(43,xG,2,4,"td",15),l.BQk(),l.ynx(44,22),l.YNc(45,DG,2,0,"th",12),l.YNc(46,SG,2,4,"td",15),l.BQk(),l.YNc(47,IG,1,0,"tr",23),l.YNc(48,TG,1,0,"tr",24),l.qZA()()(),l.TgZ(49,"div",2),l._uU(50,"2\uff0e\u8b1b\u7fa9\u3092\u767b\u9332"),l.qZA(),l.TgZ(51,"mat-form-field")(52,"mat-label"),l._uU(53,"\u8b1b\u7fa9\u540d"),l.qZA(),l._UZ(54,"input",25),l.TgZ(55,"mat-icon",26),l._uU(56,"class"),l.qZA()(),l.TgZ(57,"button",27),l.NdJ("click",function(){return i.submit()}),l._uU(58,"\u767b\u9332"),l.qZA()()),2&e&&(l.xp6(6),l.Q6J("formControl",i.weekToggle),l.xp6(13),l.Q6J("dataSource",i.matDataSource),l.xp6(28),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns),l.xp6(6),l.Q6J("formControl",i.input))},dependencies:[Je,dh,Xf,qg,zD,aw,$D,lw,sw,GD,cw,uw,qD,WD,WR,ZR,iL,JR,T$,oL,uL,dL,JD],styles:[".form[_ngcontent-%COMP%]{padding-left:30px}.submit[_ngcontent-%COMP%]{font-size:20px;padding:20px 32px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #f7f6f6;white-space:normal;overflow:hidden;text-overflow:ellipsis;overflow-wrap:break-word}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.mat-cell[_ngcontent-%COMP%]{text-align:center}.highlight[_ngcontent-%COMP%]{background-color:#bbdefb;border-width:5px;border-color:#3f51b5}@media (max-width: 768px){td[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word}}"]}),n})(),eS=(()=>{class n{constructor(e,i,r,s){this.angularFireAuth=e,this.angularFireStore=i,this.router=r,this.domSanitizer=s,this.angularFireAuth.setPersistence(_D.Z.auth.Auth.Persistence.SESSION)}googleSignin(){var e=this;return(0,pe.Z)(function*(){e.signOut();const i=new _D.Z.auth.GoogleAuthProvider,r=yield e.angularFireAuth.signInWithPopup(i);console.log("login user :"+JSON.stringify(r.user.displayName)),console.log("photo URL :"+JSON.stringify(r.user.photoURL)),e.userPhoto=e.domSanitizer.bypassSecurityTrustResourceUrl(r.user.photoURL),e.userName=JSON.stringify(r.user.displayName);const s=e.getDocumentNames("users").subscribe(u=>{e.docNames=u;const h=e.docNames.includes(r.user.uid),_=e.docNames.includes(r.user.email);console.log("subscribe!"),h?console.log("signin!"):_?(e.updateUserData(r.user),console.log("update!")):(e.signOut(),console.log("Signin denied!")),s.unsubscribe()})})()}signOut(){var e=this;return(0,pe.Z)(function*(){yield e.angularFireAuth.signOut().then(()=>{e.userName=void 0,e.userPhoto=void 0,e.router.navigate(["/"])})})()}get isLoggedIn(){return null!=this.userName}setNewUserDoc(e,i){this.angularFireStore.collection("users").doc(i).set({uid:"",email:i,displayName:e||"",photoURL:""},{merge:!0})}getDocumentNames(e){return this.angularFireStore.collection(e).snapshotChanges().pipe((0,st.U)(i=>i.map(r=>r.payload.doc.id)))}updateUserData(e){var i=this;return(0,pe.Z)(function*(){JSON.stringify(e.email),i.angularFireStore.collection("users").doc(e.uid);const u=i.angularFireStore.collection("users").doc(e.uid),h={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL};try{yield i.angularFireStore.firestore.runTransaction(function(){var _=(0,pe.Z)(function*(b){const E=i.angularFireStore.collection("users").doc("banyantreeokinawa@gmail.com").ref;yield b.delete(E),b.set(u.ref,h,{merge:!0})});return function(b){return _.apply(this,arguments)}}()),console.log("Document deleted and data updated successfully.")}catch(_){console.error("Error updating document:",_)}})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(yD),l.LFG(uR),l.LFG(Wr),l.LFG(Rs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AG(n,t){1&n&&(l.TgZ(0,"th",20),l._uU(1,"\u6559\u5ba4\u540d"),l.qZA())}function RG(n,t){if(1&n&&(l.TgZ(0,"td",21),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(e.roomName)}}function kG(n,t){1&n&&(l.TgZ(0,"th",20),l._uU(1,"1\u9650\u76ee "),l.TgZ(2,"span",22),l._uU(3,"08:45~10:15"),l.qZA()())}function OG(n,t){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",25),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function FG(n,t){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const e=l.oxw().$implicit;l.xp6(1),l.hij(" ",e.period1," ")}}const Xh=function(n){return{highlight:n}};function PG(n,t){if(1&n&&(l.TgZ(0,"td",23),l.YNc(1,OG,3,0,"ng-container",24),l.YNc(2,FG,2,1,"ng-container",24),l.qZA()),2&n){const e=t.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Xh,1===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(e.period1)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(e.period1))}}function NG(n,t){1&n&&(l.TgZ(0,"th",20),l._uU(1,"2\u9650\u76ee "),l.TgZ(2,"span",22),l._uU(3,"10:30~12:00"),l.qZA()())}function LG(n,t){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",25),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function BG(n,t){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const e=l.oxw().$implicit;l.xp6(1),l.hij(" ",e.period2," ")}}function VG(n,t){if(1&n&&(l.TgZ(0,"td",23),l.YNc(1,LG,3,0,"ng-container",24),l.YNc(2,BG,2,1,"ng-container",24),l.qZA()),2&n){const e=t.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Xh,2===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(e.period2)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(e.period2))}}function UG(n,t){1&n&&(l.TgZ(0,"th",20),l._uU(1,"\u663c\u4f11\u307f "),l.TgZ(2,"span",22),l._uU(3,"12:00~13:00"),l.qZA()())}function HG(n,t){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",25),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function jG(n,t){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const e=l.oxw().$implicit;l.xp6(1),l.hij(" ",e.lunch," ")}}function zG(n,t){if(1&n&&(l.TgZ(0,"td",23),l.YNc(1,HG,3,0,"ng-container",24),l.YNc(2,jG,2,1,"ng-container",24),l.qZA()),2&n){const e=t.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Xh,3===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(e.lunch)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(e.lunch))}}function $G(n,t){1&n&&(l.TgZ(0,"th",20),l._uU(1,"3\u9650\u76ee "),l.TgZ(2,"span",22),l._uU(3,"13:00~14:30"),l.qZA()())}function GG(n,t){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",25),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function qG(n,t){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const e=l.oxw().$implicit;l.xp6(1),l.hij(" ",e.period3," ")}}function WG(n,t){if(1&n&&(l.TgZ(0,"td",23),l.YNc(1,GG,3,0,"ng-container",24),l.YNc(2,qG,2,1,"ng-container",24),l.qZA()),2&n){const e=t.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Xh,4===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(e.period3)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(e.period3))}}function ZG(n,t){1&n&&(l.TgZ(0,"th",20),l._uU(1,"4\u9650\u76ee "),l.TgZ(2,"span",22),l._uU(3,"14:45~16:15"),l.qZA()())}function YG(n,t){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",25),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function KG(n,t){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const e=l.oxw().$implicit;l.xp6(1),l.hij(" ",e.period4," ")}}function QG(n,t){if(1&n&&(l.TgZ(0,"td",23),l.YNc(1,YG,3,0,"ng-container",24),l.YNc(2,KG,2,1,"ng-container",24),l.qZA()),2&n){const e=t.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Xh,5===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(e.period4)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(e.period4))}}function XG(n,t){1&n&&(l.TgZ(0,"th",20),l._uU(1,"5\u9650\u76ee "),l.TgZ(2,"span",22),l._uU(3,"16:30~18:00"),l.qZA()())}function JG(n,t){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",25),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function e6(n,t){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const e=l.oxw().$implicit;l.xp6(1),l.hij(" ",e.period5," ")}}function t6(n,t){if(1&n&&(l.TgZ(0,"td",23),l.YNc(1,JG,3,0,"ng-container",24),l.YNc(2,e6,2,1,"ng-container",24),l.qZA()),2&n){const e=t.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Xh,6===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(e.period5)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(e.period5))}}function n6(n,t){1&n&&(l.TgZ(0,"th",20),l._uU(1,"6\u9650\u76ee "),l.TgZ(2,"span",22),l._uU(3,"18:15~20:00"),l.qZA()())}function i6(n,t){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",25),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function r6(n,t){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const e=l.oxw().$implicit;l.xp6(1),l.hij(" ",e.period6," ")}}function o6(n,t){if(1&n&&(l.TgZ(0,"td",23),l.YNc(1,i6,3,0,"ng-container",24),l.YNc(2,r6,2,1,"ng-container",24),l.qZA()),2&n){const e=t.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Xh,7===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(e.period6)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(e.period6))}}function s6(n,t){1&n&&(l.TgZ(0,"th",20),l._uU(1,"\u653e\u8ab2\u5f8c"),l.qZA())}function a6(n,t){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",25),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function l6(n,t){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const e=l.oxw().$implicit;l.xp6(1),l.hij(" ",e.afterSchool," ")}}function c6(n,t){if(1&n&&(l.TgZ(0,"td",23),l.YNc(1,a6,3,0,"ng-container",24),l.YNc(2,l6,2,1,"ng-container",24),l.qZA()),2&n){const e=t.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Xh,8===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(e.afterSchool)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(e.afterSchool))}}function u6(n,t){1&n&&l._UZ(0,"tr",26)}function d6(n,t){1&n&&l._UZ(0,"tr",27)}let h6=(()=>{class n{ngOnInit(){}ngOnDestroy(){}ngAfterViewInit(){setInterval(()=>{this.getPeriod(),this.currentTime=new Date},this.highlightDuraration)}constructor(e,i){this.dataService=e,this.auth=i,this.currentColumn=1,this.highlightDuraration=5e3,this.nowPeriod="",this.currentTime=new Date,this.todaysWeek=this.dataService.weekDataJp[this.currentTime.getDay()],this.displayedColumns=this.dataService.displayedColumns,this.matDataSource=this.dataService.getFsData()}isOpen(e){return"\u30aa\u30fc\u30d7\u30f3"==e}getPeriod(){let e=100*this.currentTime.getHours()+this.currentTime.getMinutes();e<845?(this.nowPeriod="\u671d",this.currentColumn=0):e<1015?(this.nowPeriod="1\u9650",this.currentColumn=1):e<1200?(this.nowPeriod="2\u9650",this.currentColumn=2):e<1300?(this.nowPeriod="\u663c\u4f11\u307f",this.currentColumn=3):e<1430?(this.nowPeriod="3\u9650",this.currentColumn=4):e<1615?(this.nowPeriod="4\u9650",this.currentColumn=5):e<1800?(this.nowPeriod="5\u9650",this.currentColumn=6):e<1945?(this.nowPeriod="6\u9650",this.currentColumn=7):(this.nowPeriod="\u6642\u9593\u5916",this.currentColumn=8)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(gR),l.Y36(eS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-signage"]],decls:48,vars:17,consts:[[1,"card"],[1,"table"],["mat-table","","mat-table-layout","fixed",3,"dataSource"],["matColumnDef","roomName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","className",4,"matCellDef"],["matColumnDef","period1"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","period2"],["matColumnDef","lunch"],["matColumnDef","period3"],["matColumnDef","period4"],["matColumnDef","period5"],["matColumnDef","period6"],["matColumnDef","afterSchool"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"footer"],[1,"footerIcon"],[1,"timeCard"],["mat-header-cell",""],["mat-cell","",1,"className"],[1,"timeZone"],["mat-cell","",3,"ngClass"],[4,"ngIf"],[1,"check"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(l.TgZ(0,"mat-card",0)(1,"div",1)(2,"table",2),l.ynx(3,3),l.YNc(4,AG,2,0,"th",4),l.YNc(5,RG,2,1,"td",5),l.BQk(),l.ynx(6,6),l.YNc(7,kG,4,0,"th",4),l.YNc(8,PG,3,5,"td",7),l.BQk(),l.ynx(9,8),l.YNc(10,NG,4,0,"th",4),l.YNc(11,VG,3,5,"td",7),l.BQk(),l.ynx(12,9),l.YNc(13,UG,4,0,"th",4),l.YNc(14,zG,3,5,"td",7),l.BQk(),l.ynx(15,10),l.YNc(16,$G,4,0,"th",4),l.YNc(17,WG,3,5,"td",7),l.BQk(),l.ynx(18,11),l.YNc(19,ZG,4,0,"th",4),l.YNc(20,QG,3,5,"td",7),l.BQk(),l.ynx(21,12),l.YNc(22,XG,4,0,"th",4),l.YNc(23,t6,3,5,"td",7),l.BQk(),l.ynx(24,13),l.YNc(25,n6,4,0,"th",4),l.YNc(26,o6,3,5,"td",7),l.BQk(),l.ynx(27,14),l.YNc(28,s6,2,0,"th",4),l.YNc(29,c6,3,5,"td",7),l.BQk(),l.YNc(30,u6,1,0,"tr",15),l.YNc(31,d6,1,0,"tr",16),l.qZA()(),l.TgZ(32,"div",17)(33,"mat-icon",18),l._uU(34,"check_circle"),l.qZA(),l._uU(35,"\u306f\u7a7a\u304d\u6559\u5ba4\u3067\u3059 "),l.qZA()(),l.TgZ(36,"mat-card",19)(37,"mat-card-header")(38,"mat-card-title"),l._uU(39),l.ALo(40,"date"),l.qZA()(),l.TgZ(41,"mat-card-content")(42,"p"),l._uU(43),l.ALo(44,"date"),l.ALo(45,"date"),l._UZ(46,"br"),l._uU(47),l.qZA()()()),2&e&&(l.xp6(2),l.Q6J("dataSource",i.matDataSource),l.xp6(28),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns),l.xp6(8),l.AsE("\u73fe\u5728\u6642\u523b\u306f",l.xi3(40,8,i.currentTime,"HH:mm")," ",i.nowPeriod," "),l.xp6(4),l.AsE(" \u4eca\u65e5\u306f",l.xi3(44,11,i.currentTime,"MM"),"\u6708",l.xi3(45,14,i.currentTime,"dd"),"\u65e5\u3067\u3059"),l.xp6(4),l.hij(" ",i.todaysWeek,"\u306e\u6388\u696d\u3067\u3059 "))},dependencies:[Je,$r,zD,aw,$D,lw,sw,GD,cw,uw,qD,WD,WR,JD,fL,pL,hL,bs],styles:[".card[_ngcontent-%COMP%]{margin-top:20px;width:min(100% - 2rem,1700px);margin-inline:auto}.timeCard[_ngcontent-%COMP%]{margin-top:20px;width:min(100% - 2rem,300px);margin-inline:auto}body[_ngcontent-%COMP%]{background-color:#fff}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}.timeInfo[_ngcontent-%COMP%]{text-align:center;font-size:large}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{word-break:keep-all;text-align:center;white-space:normal;overflow:hidden;text-overflow:ellipsis;overflow-wrap:break-word;border-color:#a9a9a9;font-size:larger;height:90px}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700;font-size:25px}.mat-cell[_ngcontent-%COMP%]{text-align:center;font-size:50px}.highlight[_ngcontent-%COMP%]{background-color:#e0ffff}.open-cell[_ngcontent-%COMP%]{color:#b22222;font-weight:700}.className[_ngcontent-%COMP%]{font-size:25px;font-weight:600;border-right:#ddd}.QRcode[_ngcontent-%COMP%]{width:250px;height:250px}.timeZone[_ngcontent-%COMP%]{color:#696969;font-size:17px;font-weight:350}.footer[_ngcontent-%COMP%]{color:#696969;vertical-align:middle;text-align:right;font-size:20px}.mat-icon[_ngcontent-%COMP%]{height:50px;width:50px;font-size:50px;color:#90ee90}.mat-icon.footerIcon[_ngcontent-%COMP%]{font-size:30px;vertical-align:middle;height:min-content;width:min-content}@media (max-width: 768px){td[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word}}"]}),n})(),mL=(()=>{class n{constructor(e,i){this.auth=e,this.router=i}canActivate(e,i){return this.auth.isLoggedIn?this.auth.isLoggedIn:(console.log("not Active!"),this.router.navigate(["../"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(eS),l.LFG(Wr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tk{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class nk extends tk{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class tS extends tk{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class f6 extends tk{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class ik{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof nk?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof tS?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof f6?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class p6 extends ik{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let rk=(()=>{class n extends ik{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=s=>{const u=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(Q))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),nS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const gL=JP();class m6{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=sr(-this._previousScrollPosition.left),t.style.top=sr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),gL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),gL&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class g6{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _L{enable(){}disable(){}attach(){}}function ok(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function yL(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class _6{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();ok(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let y6=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new _L,this.close=u=>new g6(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new m6(this._viewportRuler,this._document),this.reposition=u=>new _6(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(TD),l.LFG(X0),l.LFG(l.R0b),l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class iS{constructor(t){if(this.scrollStrategy=new _L,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class v6{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let vL=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b6=(()=>{class n extends vL{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const h=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w6=(()=>{class n extends vL{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=md(s)},this._clickListener=s=>{const u=md(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const E=_[b];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(u)||E.overlayElement.contains(h))break;const M=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(s)):M.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q),l.LFG(Cr),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rS=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||CR()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),CR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q),l.LFG(Cr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fw{constructor(t,e,i,r,s,u,h,_,b,E=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=b,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new It.x,this._attachments=new It.x,this._detachments=new It.x,this._locationChanges=On.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._backdropTransitionendHandler=M=>{this._disposeBackdrop(M.target)},this._keydownEvents=new It.x,this._outsidePointerEvents=new It.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Gn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=sr(this._config.width),t.height=sr(this._config.height),t.minWidth=sr(this._config.minWidth),t.minHeight=sr(this._config.minHeight),t.maxWidth=sr(this._config.maxWidth),t.maxHeight=sr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=xD(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(bo((0,js.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const bL="cdk-overlay-connected-position-bounding-box",C6=/([A-Za-z%]+)$/;class E6{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new It.x,this._resizeSubscription=On.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(bL),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(t,r,h),b=this._getOverlayPoint(_,e,h),E=this._getOverlayFit(b,e,i,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(E,b,i)?s.push({position:h,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<E.visibleArea)&&(u={overlayFit:E,overlayPoint:b,originPoint:_,position:h,overlayRect:e})}if(s.length){let h=null,_=-1;for(const b of s){const E=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);E>_&&(_=E,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&vm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=CL(e);let{x:u,y:h}=t,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(h+=b);let F=0-h,B=h+s.height-i.height,G=this._subtractOverflows(s.width,0-u,u+s.width-i.width),X=this._subtractOverflows(s.height,F,B),le=G*X;return{visibleArea:le,isCompletelyWithinViewport:s.width*s.height===le,fitsInViewportVertically:X===s.height,fitsInViewportHorizontally:G==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,u=wL(this._overlayRef.getConfig().minHeight),h=wL(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=u&&u<=r)&&(t.fitsInViewportHorizontally||null!=h&&h<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=CL(e),s=this._viewportRect,u=Math.max(t.x+r.width-s.width,0),h=Math.max(t.y+r.height-s.height,0),_=Math.max(s.top-i.top-t.y,0),b=Math.max(s.left-i.left-t.x,0);let E=0,M=0;return E=r.width<=s.width?b||-u:t.x<this._viewportMargin?s.left-i.left-t.x:0,M=r.height<=s.height?_||-h:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:E,y:M},{x:t.x+E,y:t.y+M}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new v6(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,u,h,E,M,F;if("top"===e.overlayY)u=t.y,s=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),G=this._lastBoundingBoxSize.height;s=2*B,u=t.y-B,s>G&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-G/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)F=i.width-t.x+this._viewportMargin,E=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)M=t.x,E=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),G=this._lastBoundingBoxSize.width;E=2*B,M=t.x-B,E>G&&!this._isInitialRender&&!this._growAfterOpen&&(M=t.x-G/2)}return{top:u,left:M,bottom:h,right:F,width:E,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=sr(i.height),r.top=sr(i.top),r.bottom=sr(i.bottom),r.width=sr(i.width),r.left=sr(i.left),r.right=sr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=sr(s)),u&&(r.maxWidth=sr(u))}this._lastBoundingBoxSize=i,vm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){vm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){vm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();vm(i,this._getExactOverlayY(e,t,E)),vm(i,this._getExactOverlayX(e,t,E))}else i.position="static";let h="",_=this._getOffset(e,"x"),b=this._getOffset(e,"y");_&&(h+=`translateX(${_}px) `),b&&(h+=`translateY(${b}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=sr(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=sr(u.maxWidth):s&&(i.maxWidth="")),vm(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=sr(s.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=sr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:yL(t,i),isOriginOutsideView:ok(t,i),isOverlayClipped:yL(e,i),isOverlayOutsideView:ok(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&xD(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function vm(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function wL(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(C6);return e&&"px"!==e?null:parseFloat(t)}return n||null}function CL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const EL="cdk-global-overlay-wrapper";class x6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(EL),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),E=this._xPosition,M=this._xOffset,F="rtl"===this._overlayRef.getConfig().direction;let B="",G="",X="";_?X="flex-start":"center"===E?(X="center",F?G=M:B=M):F?"left"===E||"end"===E?(X="flex-end",B=M):("right"===E||"start"===E)&&(X="flex-start",G=M):"left"===E||"start"===E?(X="flex-start",B=M):("right"===E||"end"===E)&&(X="flex-end",G=M),t.position=this._cssPosition,t.marginLeft=_?"0":B,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=_?"0":G,e.justifyContent=X,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(EL),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let D6=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new x6}flexibleConnectedTo(e){return new E6(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X0),l.LFG(Q),l.LFG(Cr),l.LFG(rS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S6=0,Rl=(()=>{class n{constructor(e,i,r,s,u,h,_,b,E,M,F,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=b,this._directionality=E,this._location=M,this._outsideClickDispatcher=F,this._animationsModuleType=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new iS(e);return u.direction=u.direction||this._directionality.value,new fw(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+S6++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new p6(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(y6),l.LFG(rS),l.LFG(l._Vd),l.LFG(D6),l.LFG(b6),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(Q),l.LFG(Uc),l.LFG(Ne),l.LFG(w6),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M6={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Rl],useFactory:function T6(n){return()=>n.scrollStrategies.reposition()}};let pw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Rl,M6],imports:[W0,nS,SR,SR]}),n})();function A6(n,t){}class oS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let xL=(()=>{class n extends ik{constructor(e,i,r,s,u,h,_,b){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=_,this._focusMonitor=b,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>{this._portalOutlet.hasAttached();const M=this._portalOutlet.attachDomPortal(E);return this._contentAttached(),M},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=wR(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=wR();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=wR())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(HR),l.Y36(Q,8),l.Y36(oS),l.Y36(VD),l.Y36(l.R0b),l.Y36(fw),l.Y36(mm))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&l.Gf(rk,7),2&e){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&l.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&l.YNc(0,A6,0,0,"ng-template",0)},dependencies:[rk],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class sk{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new It.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!pm(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const DL=new l.OlP("DialogScrollStrategy"),R6=new l.OlP("DialogData"),k6=new l.OlP("DefaultDialogConfig"),F6={provide:DL,deps:[Rl],useFactory:function O6(n){return()=>n.scrollStrategies.block()}};let P6=0,SL=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,s,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new It.x,this._afterOpenedAtThisLevel=new It.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Vn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Oo(void 0))),this._scrollStrategy=h}open(e,i){(i={...this._defaultOptions||new oS,...i}).id=i.id||"cdk-dialog-"+P6++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),u=this._overlay.create(s),h=new sk(u,i),_=this._attachContainer(u,h,i);return h.containerInstance=_,this._attachDialogContent(e,h,_,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){ak(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){ak(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),ak(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new iS({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,u=[{provide:oS,useValue:r},{provide:sk,useValue:i},{provide:fw,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,u.push(...r.container.providers(r))):h=xL;const _=new nk(h,r.viewContainerRef,l.zs3.create({parent:s||this._injector,providers:u}),r.componentFactoryResolver);return e.attach(_).instance}_attachDialogContent(e,i,r,s){if(e instanceof l.Rgc){const u=this._createInjector(s,i,r,void 0);let h={$implicit:s.data,dialogRef:i};s.templateContext&&(h={...h,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new tS(e,null,h,u))}else{const u=this._createInjector(s,i,r,this._injector),h=r.attachComponentPortal(new nk(e,s.viewContainerRef,u,s.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(e,i,r,s){const u=e.injector||e.viewContainerRef?.injector,h=[{provide:R6,useValue:e.data},{provide:sk,useValue:i}];return e.providers&&("function"==typeof e.providers?h.push(...e.providers(i,e,r)):h.push(...e.providers)),e.direction&&(!u||!u.get(Uc,null,{optional:!0}))&&h.push({provide:Uc,useValue:{value:e.direction,change:qe()}}),l.zs3.create({parent:u||s,providers:h})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,u)=>{s?u.setAttribute("aria-hidden",s):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Rl),l.LFG(l.zs3),l.LFG(k6,8),l.LFG(n,12),l.LFG(rS),l.LFG(DL))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ak(n,t){let e=n.length;for(;e--;)t(n[e])}let N6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[SL,F6],imports:[pw,nS,ez,nS]}),n})();function L6(n,t){}class sS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const lk="mdc-dialog--open",IL="mdc-dialog--opening",TL="mdc-dialog--closing";let U6=(()=>{class n extends xL{constructor(e,i,r,s,u,h,_,b){super(e,i,r,s,u,h,_,b),this._animationStateChanged=new l.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(HR),l.Y36(Q,8),l.Y36(sS),l.Y36(VD),l.Y36(l.R0b),l.Y36(fw),l.Y36(mm))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],features:[l.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const ML="--mat-dialog-transition-duration";function AL(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?_R(n.substring(0,n.length-2)):n.endsWith("s")?1e3*_R(n.substring(0,n.length-1)):"0"===n?0:null}let H6=(()=>{class n extends U6{constructor(e,i,r,s,u,h,_,b,E){super(e,i,r,s,u,h,_,E),this._animationMode=b,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?AL(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?AL(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(ML,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(IL),this._hostElement.classList.add(lk),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(lk),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(lk),this._animationsEnabled?(this._hostElement.style.setProperty(ML,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(TL),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(IL),this._hostElement.classList.remove(TL)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(HR),l.Y36(Q,8),l.Y36(sS),l.Y36(VD),l.Y36(l.R0b),l.Y36(fw),l.Y36(l.QbO,8),l.Y36(mm))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(l.Ikx("id",i._config.id),l.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[l.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,L6,0,0,"ng-template",2),l.qZA()())},dependencies:[rk],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class ck{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new It.x,this._beforeClosed=new It.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(bn(r=>"opened"===r.state),Gn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(bn(r=>"closed"===r.state),Gn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,js.T)(this.backdropClick(),this.keydownEvents().pipe(bn(r=>27===r.keyCode&&!this.disableClose&&!pm(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function j6(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(bn(e=>"closing"===e.state),Gn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const RL=new l.OlP("MatMdcDialogData"),z6=new l.OlP("mat-mdc-dialog-default-options"),kL=new l.OlP("mat-mdc-dialog-scroll-strategy"),G6={provide:kL,deps:[Rl],useFactory:function $6(n){return()=>n.scrollStrategies.block()}};let q6=0,W6=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,s,u,h,_,b,E,M){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=_,this._dialogContainerType=b,this._dialogDataToken=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new It.x,this._afterOpenedAtThisLevel=new It.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=sS,this.afterAllClosed=Vn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Oo(void 0))),this._scrollStrategy=h,this._dialog=i.get(SL)}open(e,i){let r;(i={...this._defaultOptions||new sS,...i}).id=i.id||`${this._idPrefix}${q6++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:oS,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,h,_)=>(r=new this._dialogRefConstructor(u,i,_),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),uk=(()=>{class n extends W6{constructor(e,i,r,s,u,h,_,b){super(e,i,s,h,_,u,ck,H6,RL,b),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Rl),l.LFG(l.zs3),l.LFG(Ne,8),l.LFG(z6,8),l.LFG(kL),l.LFG(n,12),l.LFG(rS),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Z6=0,Y6=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+Z6++}ngOnInit(){this._dialogRef||(this._dialogRef=function X6(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ck,8),l.Y36(l.SBq),l.Y36(uk))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){2&e&&l.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),K6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),Q6=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),J6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[uk,G6],imports:[N6,pw,nS,_n,_n]}),n})(),e4=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.username="",this.email=""}ngOnInit(){}onNoClick(){this.dialogRef.close()}onSaveClick(){this.dialogRef.close({username:this.username,email:this.email})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ck),l.Y36(RL))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dialog"]],decls:14,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","","placeholder","\u30e6\u30fc\u30b6\u30fc\u540d",3,"ngModel","ngModelChange"],["matInput","","placeholder","\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",3,"ngModel","ngModelChange"],[1,"discription"],["mat-dialog-actions",""],["mat-button","","color","primary",3,"click"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"h2",0),l._uU(1,"\u30e6\u30fc\u30b6\u30fc\u65b0\u898f\u767b\u9332"),l.qZA(),l.TgZ(2,"div",1)(3,"mat-form-field")(4,"input",2),l.NdJ("ngModelChange",function(s){return i.username=s}),l.qZA()(),l.TgZ(5,"mat-form-field")(6,"input",3),l.NdJ("ngModelChange",function(s){return i.email=s}),l.qZA(),l.TgZ(7,"div",4),l._uU(8,"\u203b\u5fc5\u9808\u9805\u76ee"),l.qZA()()(),l.TgZ(9,"div",5)(10,"button",6),l.NdJ("click",function(){return i.onSaveClick()}),l._uU(11,"\u767b\u9332"),l.qZA(),l.TgZ(12,"button",7),l.NdJ("click",function(){return i.onNoClick()}),l._uU(13,"\u30ad\u30e3\u30f3\u30bb\u30eb"),l.qZA()()),2&e&&(l.xp6(4),l.Q6J("ngModel",i.username),l.xp6(2),l.Q6J("ngModel",i.email))},dependencies:[dh,Xf,Ug,ZR,iL,oL,Y6,K6,Q6],styles:[".discription[_ngcontent-%COMP%]{color:tomato;font-size:12px}"]}),n})();function t4(n,t){1&n&&l._UZ(0,"th",11)}function n4(n,t){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"img",14),l.qZA()),2&n){const e=l.oxw().$implicit;l.xp6(1),l.Q6J("src",e.photoURL,l.LSH)}}function r4(n,t){if(1&n&&(l.TgZ(0,"td",12),l.YNc(1,n4,2,1,"div",13),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Q6J("ngIf",e.photoURL)}}function o4(n,t){1&n&&(l.TgZ(0,"th",11),l._uU(1," \u30e6\u30fc\u30b6\u30fc\u540d "),l.qZA())}function s4(n,t){if(1&n&&(l.TgZ(0,"td",12),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e.displayName," ")}}function a4(n,t){1&n&&(l.TgZ(0,"th",11),l._uU(1," \u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9 "),l.qZA())}function l4(n,t){if(1&n&&(l.TgZ(0,"td",12),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e.email," ")}}function c4(n,t){1&n&&l._UZ(0,"tr",15)}function u4(n,t){1&n&&l._UZ(0,"tr",16)}const d4=[{path:"",component:h6},{path:"regist",component:MG,canActivate:[mL]},{path:"admin",component:(()=>{class n{constructor(e,i,r){this.dataService=e,this.authService=i,this.dialog=r,this.allUserDatas=[],this.displayedColumns=["photoURL","displayName","email"],this.registName="",this.registMail="",this.allUserDatas=this.dataService.userDatas,this.dataSource=new Mz(this.allUserDatas)}ngOnInit(){this.allUserDatas=this.dataService.userDatas}openDialog(){this.dialog.open(e4,{width:"300px"}).afterClosed().subscribe(i=>{i&&(console.log("User data:",i),this.registMail=i.email,this.registName=i.username,this.authService.setNewUserDoc(this.registName,this.registMail),console.log("user doc created!"))})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(gR),l.Y36(eS),l.Y36(uk))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-admin"]],decls:16,vars:3,consts:[[1,"card"],[1,"mat-elevation-z8"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","photoURL"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","displayName"],["matColumnDef","email"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-raised-button","","color","primary",1,"registButton",3,"click"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["alt","",1,"thumbnail",3,"src"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(l.TgZ(0,"mat-card",0)(1,"div",1)(2,"table",2),l.ynx(3,3),l.YNc(4,t4,1,0,"th",4),l.YNc(5,r4,2,1,"td",5),l.BQk(),l.ynx(6,6),l.YNc(7,o4,2,0,"th",4),l.YNc(8,s4,2,1,"td",5),l.BQk(),l.ynx(9,7),l.YNc(10,a4,2,0,"th",4),l.YNc(11,l4,2,1,"td",5),l.BQk(),l.YNc(12,c4,1,0,"tr",8),l.YNc(13,u4,1,0,"tr",9),l.qZA()()(),l.TgZ(14,"button",10),l.NdJ("click",function(){return i.openDialog()}),l._uU(15,"\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0"),l.qZA()),2&e&&(l.xp6(2),l.Q6J("dataSource",i.dataSource),l.xp6(10),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[$r,zD,aw,$D,lw,sw,GD,cw,uw,qD,WD,ZR,JD],styles:[".card[_ngcontent-%COMP%]{margin-top:20px;width:min(100% - 2rem,1700px);margin-inline:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{word-break:keep-all;text-align:center;white-space:normal;overflow:hidden;text-overflow:ellipsis;overflow-wrap:break-word;border-color:#a9a9a9;font-size:larger;height:90px}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700;font-size:25px}.mat-cell[_ngcontent-%COMP%]{text-align:center;font-size:50px}.thumbnail[_ngcontent-%COMP%]{border-radius:12px;width:48px;height:48px}.registButton[_ngcontent-%COMP%]{margin-top:20px;margin-left:auto;display:flex;margin-right:30px;padding:30px;font-size:18px}"]}),n})(),canActivate:[mL]}];let h4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[nC.forRoot(d4,{useHash:!0}),nC]}),n})();const FL=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],vd=(()=>{if(typeof document>"u")return!1;const n=FL[0],t={};for(const e of FL)if(e?.[1]in document){for(const[r,s]of e.entries())t[n[r]]=s;return t}return!1})(),PL={change:vd.fullscreenchange,error:vd.fullscreenerror};let zs={request:(n=document.documentElement,t)=>new Promise((e,i)=>{const r=()=>{zs.off("change",r),e()};zs.on("change",r);const s=n[vd.requestFullscreen](t);s instanceof Promise&&s.then(r).catch(i)}),exit:()=>new Promise((n,t)=>{if(!zs.isFullscreen)return void n();const e=()=>{zs.off("change",e),n()};zs.on("change",e);const i=document[vd.exitFullscreen]();i instanceof Promise&&i.then(e).catch(t)}),toggle:(n,t)=>zs.isFullscreen?zs.exit():zs.request(n,t),onchange(n){zs.on("change",n)},onerror(n){zs.on("error",n)},on(n,t){const e=PL[n];e&&document.addEventListener(e,t,!1)},off(n,t){const e=PL[n];e&&document.removeEventListener(e,t,!1)},raw:vd};Object.defineProperties(zs,{isFullscreen:{get:()=>Boolean(document[vd.fullscreenElement])},element:{enumerable:!0,get:()=>document[vd.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[vd.fullscreenEnabled])}}),vd||(zs={isEnabled:!1});const aS=zs,f4=["*",[["mat-toolbar-row"]]],p4=["*","mat-toolbar-row"],m4=GR(class{constructor(n){this._elementRef=n}});let g4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),_4=(()=>{class n extends m4{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Cr),l.Y36(Q))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,g4,5),2&e){let s;l.iGM(s=l.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:p4,decls:2,vars:0,template:function(e,i){1&e&&(l.F$t(f4),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),y4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_n,_n]}),n})();function NL(n,t){return t?e=>Tt(t.pipe(Gn(1),function v4(){return(0,$n.e)((n,t)=>{n.subscribe((0,W.x)(t,oN.Z))})}()),e.pipe(NL(n))):(0,Li.z)((e,i)=>(0,Bn.Xf)(n(e,i)).pipe(Gn(1),pu(e)))}function dk(n,t=mo.z){const e=rN(n,t);return NL(()=>e)}const b4=["mat-menu-item",""];function w4(n,t){1&n&&(l.O4$(),l.TgZ(0,"svg",3),l._UZ(1,"polygon",4),l.qZA())}const C4=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],E4=["mat-icon, [matMenuItemIcon]","*"];function x4(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._handleKeydown(r))})("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){l.CHM(e);const s=l.oxw();return l.KtG(s._onAnimationDone(r))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const e=l.oxw();l.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),l.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const D4=["*"],hk=new l.OlP("MAT_MENU_PANEL"),S4=qR(AN(class{}));let lS=(()=>{class n extends S4{constructor(e,i,r,s,u){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new It.x,this._focused=new It.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Q),l.Y36(mm),l.Y36(hk,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,i){1&e&&l.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(l.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),l.ekj("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:b4,ngContentSelectors:E4,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(l.F$t(C4),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.qZA(),l._UZ(3,"div",1),l.YNc(4,w4,2,0,"svg",2)),2&e&&(l.xp6(3),l.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.xp6(1),l.Q6J("ngIf",i._triggersSubmenu))},dependencies:[$r,ow],encapsulation:2,changeDetection:0}),n})();const I4=new l.OlP("MatMenuContent"),cS={transformMenu:_m("transformMenu",[ym("void",ar({opacity:0,transform:"scale(0.8)"})),Al("void => enter",Ml("120ms cubic-bezier(0, 0, 0.2, 1)",ar({opacity:1,transform:"scale(1)"}))),Al("* => void",Ml("100ms 25ms linear",ar({opacity:0})))]),fadeInItems:_m("fadeInItems",[ym("showing",ar({opacity:1})),Al("void => *",[ar({opacity:0}),Ml("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let T4=0;const LL=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function M4(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let mw=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=$i(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=$i(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new It.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+T4++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Lj(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Oo(this._directDescendantItems),Kn(e=>(0,js.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Oo(this._directDescendantItems),Kn(i=>(0,js.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:pm(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Gn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Oo(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(LL),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,I4,5),l.Suo(r,lS,5),l.Suo(r,lS,4)),2&e){let s;l.iGM(s=l.CRH())&&(i.lazyContent=s.first),l.iGM(s=l.CRH())&&(i._allItems=s),l.iGM(s=l.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&l.Gf(l.Rgc,5),2&e){let r;l.iGM(r=l.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),A4=(()=>{class n extends mw{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(LL),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:hk,useExisting:n}]),l.qOj],ngContentSelectors:D4,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,i){1&e&&(l.F$t(),l.YNc(0,x4,3,6,"ng-template"))},dependencies:[Je],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[cS.transformMenu,cS.fadeInItems]},changeDetection:0}),n})();const BL=new l.OlP("mat-menu-scroll-strategy"),k4={provide:BL,deps:[Rl],useFactory:function R4(n){return()=>n.scrollStrategies.reposition()}},VL=Iy({passive:!0});let O4=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,s,u,h,_,b,E){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=_,this._focusMonitor=b,this._ngZone=E,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=On.w0.EMPTY,this._hoverSubscription=On.w0.EMPTY,this._menuCloseSubscription=On.w0.EMPTY,this._changeDetectorRef=(0,l.f3M)(l.sBO),this._handleTouchStart=M=>{zR(M)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=u instanceof mw?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,VL)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,VL),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof mw&&(e._startAnimation(),e._directDescendantItems.changes.pipe(bo(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof mw?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(bn(r=>"void"===r.toState),Gn(1),bo(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new iS({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,u)):e.setPositionClasses(s,u)})}_setPosition(e,i){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[u,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[_,b]=[u,h],[E,M]=[r,s],F=0;if(this.triggersSubmenu()){if(M=r="before"===e.xPosition?"start":"end",s=E="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const B=this._parentMaterialMenu.items.first;this._parentInnerPadding=B?B._getHostElement().offsetTop:0}F="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(_="top"===u?"bottom":"top",b="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:_,overlayX:E,overlayY:u,offsetY:F},{originX:s,originY:_,overlayX:M,overlayY:u,offsetY:F},{originX:r,originY:b,overlayX:E,overlayY:h,offsetY:-F},{originX:s,originY:b,overlayX:M,overlayY:h,offsetY:-F}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:qe(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(bn(u=>u!==this._menuItemInstance),bn(()=>this._menuOpen)):qe();return(0,js.T)(e,r,s,i)}_handleMousedown(e){jR(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(bn(e=>e===this._menuItemInstance&&!e.disabled),dk(0,xR)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof mw&&this.menu._isAnimating?this.menu._animationDone.pipe(Gn(1),dk(0,xR),bo(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new tS(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Rl),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(BL),l.Y36(hk,8),l.Y36(lS,10),l.Y36(Uc,8),l.Y36(mm),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&l.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&l.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),F4=(()=>{class n extends O4{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),n})(),P4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[k4],imports:[io,HD,_n,pw,J0,_n]}),n})();function N4(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div")(1,"button",7),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.exitFullscreen())}),l.TgZ(2,"mat-icon",8),l._uU(3,"fullscreen_exit"),l.qZA()()()}}function L4(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",7),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.fullscreen())}),l.TgZ(1,"mat-icon",9),l._uU(2,"fullscreen"),l.qZA()()}}function B4(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div")(1,"button",10),l._UZ(2,"img",11),l.qZA(),l.TgZ(3,"mat-menu",null,12)(5,"button",13)(6,"mat-icon"),l._uU(7,"person_add"),l.qZA(),l.TgZ(8,"span"),l._uU(9,"\u30e6\u30fc\u30b6\u30fc\u3092\u8ffd\u52a0"),l.qZA()(),l.TgZ(10,"button",14)(11,"mat-icon"),l._uU(12,"settings"),l.qZA(),l.TgZ(13,"span"),l._uU(14,"\u6642\u9593\u5272\u7ba1\u7406"),l.qZA()(),l.TgZ(15,"button",15),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.auth.signOut())}),l.TgZ(16,"mat-icon"),l._uU(17,"logout"),l.qZA(),l.TgZ(18,"span"),l._uU(19,"\u30ed\u30b0\u30a2\u30a6\u30c8"),l.qZA()()()()}if(2&n){const e=l.MAs(4),i=l.oxw();l.xp6(1),l.Q6J("matMenuTriggerFor",e),l.xp6(1),l.Q6J("src",i.auth.userPhoto,l.LSH)}}function V4(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",7),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.auth.googleSignin())}),l.TgZ(1,"mat-icon",16),l._uU(2,"account_circle"),l.qZA()()}}let U4=(()=>{class n{constructor(e){this.auth=e,this.title="meio-classroom-info",this.isFullscreen=!1}fullscreen(){0==this.isFullscreen&&(aS.isEnabled?aS.request():console.log("fullScreen is not available..."),this.isFullscreen=!0)}exitFullscreen(){this.isFullscreen&&(aS.isEnabled?aS.exit():console.log("fullScreen is not available..."),this.isFullscreen=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(eS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:14,vars:4,consts:[["color","primary"],["routerLink","/",1,"toolbar"],[1,"spacer"],[4,"ngIf","ngIfElse"],["exit",""],["login",""],[1,"footer"],["mat-icon-button","",3,"click"],[1,"fullscreen"],[1,"document.fullscreenElement"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"thumbnail",3,"src"],["menu","matMenu"],["mat-menu-item","","routerLink","/admin"],["mat-menu-item","","routerLink","/regist"],["mat-menu-item","",3,"click"],[1,"setting"]],template:function(e,i){if(1&e&&(l.TgZ(0,"mat-toolbar",0)(1,"a",1),l._uU(2,"PC\u6559\u5ba4\u6848\u5185"),l.qZA(),l._UZ(3,"span",2),l.YNc(4,N4,4,0,"div",3),l.YNc(5,L4,3,0,"ng-template",null,4,l.W1O),l.YNc(7,B4,20,2,"div",3),l.YNc(8,V4,3,0,"ng-template",null,5,l.W1O),l.qZA(),l._UZ(10,"router-outlet"),l.TgZ(11,"div",6)(12,"a"),l._uU(13,"-Supported by meiostdio-"),l.qZA()()),2&e){const r=l.MAs(6),s=l.MAs(9);l.xp6(4),l.Q6J("ngIf",i.isFullscreen)("ngIfElse",r),l.xp6(3),l.Q6J("ngIf",i.auth.isLoggedIn)("ngIfElse",s)}},dependencies:[$r,gc,bg,_4,WR,A4,lS,F4,Xz],styles:[".toolbar[_ngcontent-%COMP%]{text-decoration:none;color:#f5f5f5}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.thumbnail[_ngcontent-%COMP%]{border-radius:12px}.footer[_ngcontent-%COMP%]{padding-top:12px;font-size:12px;color:#66cdaa;text-align:center}"]}),n})();function UL(n){return new l.vHH(3e3,!1)}function C5(){return typeof window<"u"&&typeof window.document<"u"}function fk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Jh(n){switch(n.length){case 0:return new hw;case 1:return n[0];default:return new qN(n)}}function HL(n,t,e,i,r=new Map,s=new Map){const u=[],h=[];let _=-1,b=null;if(i.forEach(E=>{const M=E.get("offset"),F=M==_,B=F&&b||new Map;E.forEach((G,X)=>{let le=X,Pe=G;if("offset"!==X)switch(le=t.normalizePropertyName(le,u),Pe){case XR:Pe=r.get(X);break;case yd:Pe=s.get(X);break;default:Pe=t.normalizeStyleValue(X,le,Pe,u)}B.set(le,Pe)}),F||h.push(B),b=B,_=M}),u.length)throw function u5(n){return new l.vHH(3502,!1)}();return h}function pk(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&mk(e,"start",n)));break;case"done":n.onDone(()=>i(e&&mk(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&mk(e,"destroy",n)))}}function mk(n,t,e){const s=gk(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(s._data=u),s}function gk(n,t,e,i,r="",s=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function $s(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function jL(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let _k=(n,t)=>!1,zL=(n,t,e)=>[],$L=null;function yk(n){const t=n.parentNode||n.host;return t===$L?null:t}(fk()||typeof Element<"u")&&(C5()?($L=(()=>document.documentElement)(),_k=(n,t)=>{for(;t;){if(t===n)return!0;t=yk(t)}return!1}):_k=(n,t)=>n.contains(t),zL=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let bm=null,GL=!1;const qL=_k,WL=zL;let ZL=(()=>{class n{validateStyleProperty(e){return function x5(n){bm||(bm=function D5(){return typeof document<"u"?document.body:null}()||{},GL=!!bm.style&&"WebkitAppearance"in bm.style);let t=!0;return bm.style&&!function E5(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in bm.style,!t&&GL&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bm.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return qL(e,i)}getParentElement(e){return yk(e)}query(e,i,r){return WL(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,u,h=[],_){return new hw(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),vk=(()=>{class n{}return n.NOOP=new ZL,n})();const S5=1e3,bk="ng-enter",uS="ng-leave",dS="ng-trigger",hS=".ng-trigger",KL="ng-animating",wk=".ng-animating";function bd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ck(parseFloat(t[1]),t[2])}function Ck(n,t){return"s"===t?n*S5:n}function fS(n,t,e){return n.hasOwnProperty("duration")?n:function T5(n,t,e){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(UL()),{duration:0,delay:0,easing:""};r=Ck(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(s=Ck(parseFloat(_),h[4]));const b=h[5];b&&(u=b)}else r=n;if(!e){let h=!1,_=t.length;r<0&&(t.push(function H4(){return new l.vHH(3100,!1)}()),h=!0),s<0&&(t.push(function j4(){return new l.vHH(3101,!1)}()),h=!0),h&&t.splice(_,0,UL())}return{duration:r,delay:s,easing:u}}(n,t,e)}function gw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function QL(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ef(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function JL(n,t,e){return e?t+":"+e+";":""}function e2(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=JL(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=JL(0,k5(e),n.style[e]));n.setAttribute("style",t)}function Hc(n,t,e){n.style&&(t.forEach((i,r)=>{const s=xk(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),fk()&&e2(n))}function wm(n,t){n.style&&(t.forEach((e,i)=>{const r=xk(i);n.style[r]=""}),fk()&&e2(n))}function _w(n){return Array.isArray(n)?1==n.length?n[0]:$N(n):n}const Ek=new RegExp("{{\\s*(.+?)\\s*}}","g");function t2(n){let t=[];if("string"==typeof n){let e;for(;e=Ek.exec(n);)t.push(e[1]);Ek.lastIndex=0}return t}function yw(n,t,e){const i=n.toString(),r=i.replace(Ek,(s,u)=>{let h=t[u];return null==h&&(e.push(function $4(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function pS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const R5=/-+([a-z0-9])/g;function xk(n){return n.replace(R5,(...t)=>t[1].toUpperCase())}function k5(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Gs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function G4(n){return new l.vHH(3004,!1)}()}}function n2(n,t){return window.getComputedStyle(n)[t]}const _S="*";function B5(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function V5(n,t,e){if(":"==n[0]){const _=function U5(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function s5(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function o5(n){return new l.vHH(3015,!1)}()),t;const r=i[1],s=i[2],u=i[3];t.push(r2(r,u));"<"==s[0]&&!(r==_S&&u==_S)&&t.push(r2(u,r))}(i,e,t)):e.push(n),e}const yS=new Set(["true","1"]),vS=new Set(["false","0"]);function r2(n,t){const e=yS.has(n)||vS.has(n),i=yS.has(t)||vS.has(t);return(r,s)=>{let u=n==_S||n==r,h=t==_S||t==s;return!u&&e&&"boolean"==typeof r&&(u=r?yS.has(n):vS.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?yS.has(t):vS.has(t)),u&&h}}const H5=new RegExp("s*:selfs*,?","g");function Dk(n,t,e,i){return new j5(n).build(t,e,i)}class j5{constructor(t){this._driver=t}build(t,e,i){const r=new G5(e);return this._resetContextStyleTimingState(r),Gs(this,_w(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function W4(){return new l.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const _=h,b=_.name;b.toString().split(/\s*,\s*/).forEach(E=>{_.name=E,s.push(this.visitState(_,e))}),_.name=b}else if(1==h.type){const _=this.visitTransition(h,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function Z4(){return new l.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(_=>{t2(_).forEach(b=>{u.hasOwnProperty(b)||s.add(b)})})}),s.size&&(pS(s.values()),e.errors.push(function Y4(n,t){return new l.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Gs(this,_w(t.animation),e);return{type:1,matchers:B5(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Cm(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Gs(this,i,e)),options:Cm(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(u=>{e.currentTime=i;const h=Gs(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:s,options:Cm(t.options)}}visitAnimate(t,e){const i=function W5(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Sk(fS(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Sk(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=fS(e,t);return Sk(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:ar({});if(5==s.type)r=this.visitKeyframes(s,e);else{let u=t.styles,h=!1;if(!u){h=!0;const b={};i.easing&&(b.easing=i.easing),u=ar(b)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=h,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===yd?i.push(h):e.errors.push(new l.vHH(3002,!1)):i.push(QL(h));let s=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!s))for(let _ of h.values())if(_.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,_)=>{const b=e.collectedStyles.get(e.currentQuerySelector),E=b.get(_);let M=!0;E&&(s!=r&&s>=E.startTime&&r<=E.endTime&&(e.errors.push(function Q4(n,t,e,i,r){return new l.vHH(3010,!1)}()),M=!1),s=E.startTime),M&&b.set(_,{startTime:s,endTime:r}),e.options&&function A5(n,t,e){const i=t.params||{},r=t2(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function z4(n){return new l.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function X4(){return new l.vHH(3011,!1)}()),i;let s=0;const u=[];let h=!1,_=!1,b=0;const E=t.steps.map(Pe=>{const ht=this._makeStyleAst(Pe,e);let ft=null!=ht.offset?ht.offset:function q5(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ht.styles),Et=0;return null!=ft&&(s++,Et=ht.offset=ft),_=_||Et<0||Et>1,h=h||Et<b,b=Et,u.push(Et),ht});_&&e.errors.push(function J4(){return new l.vHH(3012,!1)}()),h&&e.errors.push(function e5(){return new l.vHH(3200,!1)}());const M=t.steps.length;let F=0;s>0&&s<M?e.errors.push(function t5(){return new l.vHH(3202,!1)}()):0==s&&(F=1/(M-1));const B=M-1,G=e.currentTime,X=e.currentAnimateTimings,le=X.duration;return E.forEach((Pe,ht)=>{const ft=F>0?ht==B?1:F*ht:u[ht],Et=ft*le;e.currentTime=G+X.delay+Et,X.duration=Et,this._validateStyleAst(Pe,e),Pe.offset=ft,i.styles.push(Pe)}),i}visitReference(t,e){return{type:8,animation:Gs(this,_w(t.animation),e),options:Cm(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Cm(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Cm(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,u]=function z5(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(H5,"")),n=n.replace(/@\*/g,hS).replace(/@\w+/g,e=>hS+"-"+e.slice(1)).replace(/:animating/g,wk),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,$s(e.collectedStyles,e.currentQuerySelector,new Map);const h=Gs(this,_w(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Cm(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function n5(){return new l.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:fS(t.timings,e.errors,!0);return{type:12,animation:Gs(this,_w(t.animation),e),timings:i,options:null}}}class G5{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cm(n){return n?(n=gw(n)).params&&(n.params=function $5(n){return n?gw(n):null}(n.params)):n={},n}function Sk(n,t,e){return{duration:n,delay:t,easing:e}}function Ik(n,t,e,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class bS{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const K5=new RegExp(":enter","g"),X5=new RegExp(":leave","g");function Tk(n,t,e,i,r,s=new Map,u=new Map,h,_,b=[]){return(new J5).buildKeyframes(n,t,e,i,r,s,u,h,_,b)}class J5{buildKeyframes(t,e,i,r,s,u,h,_,b,E=[]){b=b||new bS;const M=new Mk(t,e,b,r,s,E,[]);M.options=_;const F=_.delay?bd(_.delay):0;M.currentTimeline.delayNextStep(F),M.currentTimeline.setStyles([u],null,M.errors,_),Gs(this,i,M);const B=M.timelines.filter(G=>G.containsAnimation());if(B.length&&h.size){let G;for(let X=B.length-1;X>=0;X--){const le=B[X];if(le.element===e){G=le;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([h],null,M.errors,_)}return B.length?B.map(G=>G.buildKeyframes()):[Ik(e,[],[],[],0,F,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const u="number"==typeof s?s:bd(yw(s,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const u=null!=i.duration?bd(i.duration):null,h=null!=i.delay?bd(i.delay):null;return 0!==u&&t.forEach(_=>{const b=e.appendInstructionToTimeline(_,u,h);s=Math.max(s,b.duration+b.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Gs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=wS);const u=bd(s.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Gs(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?bd(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);s&&h.delayNextStep(s),Gs(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return fS(e.params?yw(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(_=>{h.forwardTime((_.offset||0)*s),h.setStyles(_.styles,_.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?bd(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=wS);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let _=null;h.forEach((b,E)=>{e.currentQueryIndex=E;const M=e.createSubContext(t.options,b);s&&M.delayNextStep(s),b===e.element&&(_=M.currentTimeline),Gs(this,t.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,u=Math.abs(s.duration),h=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const E=e.currentTimeline;_&&E.delayNextStep(_);const M=E.currentTime;Gs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const wS={};class Mk{constructor(t,e,i,r,s,u,h,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new CS(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=bd(i.duration)),null!=i.delay&&(r.delay=bd(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=yw(s[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new Mk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=wS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new eq(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(K5,"."+this._enterClassName)).replace(X5,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),h.push(...b)}return!s&&0==h.length&&u.push(function r5(n){return new l.vHH(3014,!1)}()),h}}class CS{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new CS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||yd),this._currentKeyframe.set(e,yd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},u=function tq(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,yd)}else ef(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,_]of u){const b=yw(_,s,i);this._pendingStyles.set(h,b),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??yd),this._updateStyle(h,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const b=ef(h,new Map,this._backFill);b.forEach((E,M)=>{E===XR?t.add(M):E===yd&&e.add(M)}),i||b.set("offset",_/this.duration),r.push(b)});const s=t.size?pS(t.values()):[],u=e.size?pS(e.values()):[];if(i){const h=r[0],_=new Map(h);h.set("offset",0),_.set("offset",1),r=[h,_]}return Ik(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class eq extends CS{constructor(t,e,i,r,s,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],u=i+e,h=e/u,_=ef(t[0]);_.set("offset",0),s.push(_);const b=ef(t[0]);b.set("offset",a2(h)),s.push(b);const E=t.length-1;for(let M=1;M<=E;M++){let F=ef(t[M]);const B=F.get("offset");F.set("offset",a2((e+B*i)/u)),s.push(F)}i=u,e=0,r="",t=s}return Ik(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function a2(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Ak{}const nq=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class iq extends Ak{normalizePropertyName(t,e){return xk(t)}normalizeStyleValue(t,e,i,r){let s="";const u=i.toString().trim();if(nq.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function q4(n,t){return new l.vHH(3005,!1)}())}return u+s}}function l2(n,t,e,i,r,s,u,h,_,b,E,M,F){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:b,postStyleProps:E,totalTime:M,errors:F}}const Rk={};class c2{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function rq(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,u,h,_,b,E){const M=[],F=this.ast.options&&this.ast.options.params||Rk,G=this.buildStyles(i,h&&h.params||Rk,M),X=_&&_.params||Rk,le=this.buildStyles(r,X,M),Pe=new Set,ht=new Map,ft=new Map,Et="void"===r,qt={params:oq(X,F),delay:this.ast.options?.delay},Yt=E?[]:Tk(t,e,this.ast.animation,s,u,G,le,qt,b,M);let xn=0;if(Yt.forEach(wd=>{xn=Math.max(wd.duration+wd.delay,xn)}),M.length)return l2(e,this._triggerName,i,r,Et,G,le,[],[],ht,ft,xn,M);Yt.forEach(wd=>{const Cd=wd.element,S2=$s(ht,Cd,new Set);wd.preStyleProps.forEach(xm=>S2.add(xm));const bw=$s(ft,Cd,new Set);wd.postStyleProps.forEach(xm=>bw.add(xm)),Cd!==e&&Pe.add(Cd)});const Hr=pS(Pe.values());return l2(e,this._triggerName,i,r,Et,G,le,Yt,Hr,ht,ft,xn)}}function oq(n,t){const e=gw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class sq{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=gw(this.defaultParams);return Object.keys(t).forEach(s=>{const u=t[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,h)=>{u&&(u=yw(u,r,e));const _=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,_,u,e),i.set(h,u)})}),i}}class lq{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new sq(r.style,r.options&&r.options.params||{},i))}),u2(this.states,"true","1"),u2(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new c2(t,r,this.states))}),this.fallbackTransition=function cq(n,t,e){return new c2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function u2(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const uq=new bS;class dq{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],s=Dk(this._driver,e,i,r);if(i.length)throw function d5(n){return new l.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=HL(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let u;const h=new Map;if(s?(u=Tk(this._driver,e,s,bk,uS,new Map,new Map,i,uq,r),u.forEach(E=>{const M=$s(h,E.element,new Map);E.postStyleProps.forEach(F=>M.set(F,null))})):(r.push(function h5(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function f5(n){return new l.vHH(3504,!1)}();h.forEach((E,M)=>{E.forEach((F,B)=>{E.set(B,this._driver.computeStyle(M,B,yd))})});const b=Jh(u.map(E=>{const M=h.get(E.element);return this._buildPlayer(E,new Map,M)}));return this._playersById.set(t,b),b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function p5(n){return new l.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=gk(e,"","","");return pk(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const d2="ng-animate-queued",kk="ng-animate-disabled",gq=[],h2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_q={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ka="__ng_removed";class Ok{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function wq(n){return n??null}(i?t.value:t),i){const s=gw(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const vw="void",Fk=new Ok(vw);class yq{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Oa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function m5(n,t){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function g5(n){return new l.vHH(3303,!1)}();if(!function Cq(n){return"start"==n||"done"==n}(i))throw function _5(n,t){return new l.vHH(3400,!1)}();const s=$s(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};s.push(u);const h=$s(this._engine.statesByElement,t,new Map);return h.has(e)||(Oa(t,dS),Oa(t,dS+"-"+e),h.set(e,Fk)),()=>{this._engine.afterFlush(()=>{const _=s.indexOf(u);_>=0&&s.splice(_,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function y5(n){return new l.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),u=new Pk(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Oa(t,dS),Oa(t,dS+"-"+e),this._engine.statesByElement.set(t,h=new Map));let _=h.get(e);const b=new Ok(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),h.set(e,b),_||(_=Fk),b.value!==vw&&_.value===b.value){if(!function Dq(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(_.params,b.params)){const X=[],le=s.matchStyles(_.value,_.params,X),Pe=s.matchStyles(b.value,b.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{wm(t,le),Hc(t,Pe)})}return}const F=$s(this._engine.playersByElement,t,[]);F.forEach(X=>{X.namespaceId==this.id&&X.triggerName==e&&X.queued&&X.destroy()});let B=s.matchTransition(_.value,b.value,t,b.params),G=!1;if(!B){if(!r)return;B=s.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:_,toState:b,player:u,isFallbackTransition:G}),G||(Oa(t,d2),u.onStart(()=>{Oy(t,d2)})),u.onDone(()=>{let X=this.players.indexOf(u);X>=0&&this.players.splice(X,1);const le=this._engine.playersByElement.get(t);if(le){let Pe=le.indexOf(u);Pe>=0&&le.splice(Pe,1)}}),this.players.push(u),F.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,hS,!0);i.forEach(r=>{if(r[ka])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),u=new Map;if(s){const h=[];if(s.forEach((_,b)=>{if(u.set(b,_.value),this._triggers.has(b)){const E=this.trigger(t,b,vw,r);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Jh(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,b=i.get(u)||Fk,E=new Ok(vw),M=new Pk(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:b,toState:E,player:M,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ka];(!s||s===h2)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Oa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=gk(s,i.triggerName,i.fromState.value,i.toState.value);_._data=t,pk(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class vq{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new yq(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const _=r.get(h);if(_){const b=i.indexOf(_);i.splice(b+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(ES(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!ES(e))return;const s=e[ka];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Oa(t,kk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Oy(t,kk))}removeNode(t,e,i,r){if(ES(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[ka]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return ES(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,hS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,wk,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Jh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ka];if(e&&e.setForRemoval){if(t[ka]=h2,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(kk)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Oa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Jh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function v5(n){return new l.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new bS,r=[],s=new Map,u=[],h=new Map,_=new Map,b=new Map,E=new Set;this.disabledNodes.forEach(wt=>{E.add(wt);const Pt=this.driver.query(wt,".ng-animate-queued",!0);for(let Ht=0;Ht<Pt.length;Ht++)E.add(Pt[Ht])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=m2(F,this.collectedEnterElements),G=new Map;let X=0;B.forEach((wt,Pt)=>{const Ht=bk+X++;G.set(Pt,Ht),wt.forEach(yn=>Oa(yn,Ht))});const le=[],Pe=new Set,ht=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Pt=this.collectedLeaveElements[wt],Ht=Pt[ka];Ht&&Ht.setForRemoval&&(le.push(Pt),Pe.add(Pt),Ht.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(yn=>Pe.add(yn)):ht.add(Pt))}const ft=new Map,Et=m2(F,Array.from(Pe));Et.forEach((wt,Pt)=>{const Ht=uS+X++;ft.set(Pt,Ht),wt.forEach(yn=>Oa(yn,Ht))}),t.push(()=>{B.forEach((wt,Pt)=>{const Ht=G.get(Pt);wt.forEach(yn=>Oy(yn,Ht))}),Et.forEach((wt,Pt)=>{const Ht=ft.get(Pt);wt.forEach(yn=>Oy(yn,Ht))}),le.forEach(wt=>{this.processLeaveNode(wt)})});const qt=[],Yt=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(e).forEach(Ht=>{const yn=Ht.player,jr=Ht.element;if(qt.push(yn),this.collectedEnterElements.length){const wo=jr[ka];if(wo&&wo.setForMove){if(wo.previousTriggersValues&&wo.previousTriggersValues.has(Ht.triggerName)){const Dm=wo.previousTriggersValues.get(Ht.triggerName),Fa=this.statesByElement.get(Ht.element);if(Fa&&Fa.has(Ht.triggerName)){const SS=Fa.get(Ht.triggerName);SS.value=Dm,Fa.set(Ht.triggerName,SS)}}return void yn.destroy()}}const jc=!M||!this.driver.containsElement(M,jr),qs=ft.get(jr),tf=G.get(jr),xi=this._buildInstruction(Ht,i,tf,qs,jc);if(xi.errors&&xi.errors.length)return void Yt.push(xi);if(jc)return yn.onStart(()=>wm(jr,xi.fromStyles)),yn.onDestroy(()=>Hc(jr,xi.toStyles)),void r.push(yn);if(Ht.isFallbackTransition)return yn.onStart(()=>wm(jr,xi.fromStyles)),yn.onDestroy(()=>Hc(jr,xi.toStyles)),void r.push(yn);const M2=[];xi.timelines.forEach(wo=>{wo.stretchStartingKeyframe=!0,this.disabledNodes.has(wo.element)||M2.push(wo)}),xi.timelines=M2,i.append(jr,xi.timelines),u.push({instruction:xi,player:yn,element:jr}),xi.queriedElements.forEach(wo=>$s(h,wo,[]).push(yn)),xi.preStyleProps.forEach((wo,Dm)=>{if(wo.size){let Fa=_.get(Dm);Fa||_.set(Dm,Fa=new Set),wo.forEach((SS,Bk)=>Fa.add(Bk))}}),xi.postStyleProps.forEach((wo,Dm)=>{let Fa=b.get(Dm);Fa||b.set(Dm,Fa=new Set),wo.forEach((SS,Bk)=>Fa.add(Bk))})});if(Yt.length){const wt=[];Yt.forEach(Pt=>{wt.push(function b5(n,t){return new l.vHH(3505,!1)}())}),qt.forEach(Pt=>Pt.destroy()),this.reportError(wt)}const xn=new Map,Hr=new Map;u.forEach(wt=>{const Pt=wt.element;i.has(Pt)&&(Hr.set(Pt,Pt),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,xn))}),r.forEach(wt=>{const Pt=wt.element;this._getPreviousPlayers(Pt,!1,wt.namespaceId,wt.triggerName,null).forEach(yn=>{$s(xn,Pt,[]).push(yn),yn.destroy()})});const wd=le.filter(wt=>_2(wt,_,b)),Cd=new Map;p2(Cd,this.driver,ht,b,yd).forEach(wt=>{_2(wt,_,b)&&wd.push(wt)});const bw=new Map;B.forEach((wt,Pt)=>{p2(bw,this.driver,new Set(wt),_,XR)}),wd.forEach(wt=>{const Pt=Cd.get(wt),Ht=bw.get(wt);Cd.set(wt,new Map([...Array.from(Pt?.entries()??[]),...Array.from(Ht?.entries()??[])]))});const xm=[],I2=[],T2={};u.forEach(wt=>{const{element:Pt,player:Ht,instruction:yn}=wt;if(i.has(Pt)){if(E.has(Pt))return Ht.onDestroy(()=>Hc(Pt,yn.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(yn.totalTime),void r.push(Ht);let jr=T2;if(Hr.size>1){let qs=Pt;const tf=[];for(;qs=qs.parentNode;){const xi=Hr.get(qs);if(xi){jr=xi;break}tf.push(qs)}tf.forEach(xi=>Hr.set(xi,jr))}const jc=this._buildAnimation(Ht.namespaceId,yn,xn,s,bw,Cd);if(Ht.setRealPlayer(jc),jr===T2)xm.push(Ht);else{const qs=this.playersByElement.get(jr);qs&&qs.length&&(Ht.parentPlayer=Jh(qs)),r.push(Ht)}}else wm(Pt,yn.fromStyles),Ht.onDestroy(()=>Hc(Pt,yn.toStyles)),I2.push(Ht),E.has(Pt)&&r.push(Ht)}),I2.forEach(wt=>{const Pt=s.get(wt.element);if(Pt&&Pt.length){const Ht=Jh(Pt);wt.setRealPlayer(Ht)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<le.length;wt++){const Pt=le[wt],Ht=Pt[ka];if(Oy(Pt,uS),Ht&&Ht.hasAnimation)continue;let yn=[];if(h.size){let jc=h.get(Pt);jc&&jc.length&&yn.push(...jc);let qs=this.driver.query(Pt,wk,!0);for(let tf=0;tf<qs.length;tf++){let xi=h.get(qs[tf]);xi&&xi.length&&yn.push(...xi)}}const jr=yn.filter(jc=>!jc.destroyed);jr.length?Eq(this,Pt,jr):this.processLeaveNode(Pt)}return le.length=0,xm.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Pt=this.players.indexOf(wt);this.players.splice(Pt,1)}),wt.play()}),xm}elementContainsData(t,e){let i=!1;const r=e[ka];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const _=!s||s==vw;h.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const s=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const b=_.element,E=b!==s,M=$s(i,b,[]);this._getPreviousPlayers(b,E,u,h,e.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),M.push(B)})}wm(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,u){const h=e.triggerName,_=e.element,b=[],E=new Set,M=new Set,F=e.timelines.map(G=>{const X=G.element;E.add(X);const le=X[ka];if(le&&le.removedBeforeQueried)return new hw(G.duration,G.delay);const Pe=X!==_,ht=function xq(n){const t=[];return g2(n,t),t}((i.get(X)||gq).map(xn=>xn.getRealPlayer())).filter(xn=>!!xn.element&&xn.element===X),ft=s.get(X),Et=u.get(X),qt=HL(0,this._normalizer,0,G.keyframes,ft,Et),Yt=this._buildPlayer(G,qt,ht);if(G.subTimeline&&r&&M.add(X),Pe){const xn=new Pk(t,h,X);xn.setRealPlayer(Yt),b.push(xn)}return Yt});b.forEach(G=>{$s(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function bq(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,G.element,G))}),E.forEach(G=>Oa(G,KL));const B=Jh(F);return B.onDestroy(()=>{E.forEach(G=>Oy(G,KL)),Hc(_,e.toStyles)}),M.forEach(G=>{$s(r,G,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new hw(t.duration,t.delay)}}class Pk{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new hw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>pk(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){$s(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ES(n){return n&&1===n.nodeType}function f2(n,t){const e=n.style.display;return n.style.display=t??"none",e}function p2(n,t,e,i,r){const s=[];e.forEach(_=>s.push(f2(_)));const u=[];i.forEach((_,b)=>{const E=new Map;_.forEach(M=>{const F=t.computeStyle(b,M,r);E.set(M,F),(!F||0==F.length)&&(b[ka]=_q,u.push(b))}),n.set(b,E)});let h=0;return e.forEach(_=>f2(_,s[h++])),u}function m2(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const i=1,r=new Set(t),s=new Map;function u(h){if(!h)return i;let _=s.get(h);if(_)return _;const b=h.parentNode;return _=e.has(b)?b:r.has(b)?i:u(b),s.set(h,_),_}return t.forEach(h=>{const _=u(h);_!==i&&e.get(_).push(h)}),e}function Oa(n,t){n.classList?.add(t)}function Oy(n,t){n.classList?.remove(t)}function Eq(n,t,e){Jh(e).onDone(()=>n.processLeaveNode(t))}function g2(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof qN?g2(i.players,t):t.push(i)}}function _2(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class xS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new vq(t,e,i),this._timelineEngine=new dq(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],b=[],E=Dk(this._driver,s,_,b);if(_.length)throw function c5(n,t){return new l.vHH(3404,!1)}();h=function aq(n,t,e){return new lq(n,t,e)}(r,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,u]=jL(i);this._timelineEngine.command(s,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[u,h]=jL(i);return this._timelineEngine.listen(u,e,h,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Iq=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Hc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hc(this._element,this._initialStyles),this._endStyles&&(Hc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wm(this._element,this._endStyles),this._endStyles=null),Hc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Nk(n){let t=null;return n.forEach((e,i)=>{(function Tq(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class y2{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:n2(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Mq{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return qL(t,e)}getParentElement(t){return yk(t)}query(t,e,i){return WL(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(_.easing=s);const b=new Map,E=u.filter(B=>B instanceof y2);(function O5(n,t){return 0===n||0===t})(i,r)&&E.forEach(B=>{B.currentSnapshot.forEach((G,X)=>b.set(X,G))});let M=function M5(n){return n.length?n[0]instanceof Map?n:n.map(t=>QL(t)):[]}(e).map(B=>ef(B));M=function F5(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<t.length;s++){let u=t[s];r.forEach(h=>u.set(h,n2(n,h)))}}return t}(t,M,b);const F=function Sq(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Nk(t[0]),t.length>1&&(i=Nk(t[t.length-1]))):t instanceof Map&&(e=Nk(t)),e||i?new Iq(n,e,i):null}(t,M);return new y2(t,M,_,F)}}let Aq=(()=>{class n extends zN{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?$N(e):e;return v2(this._renderer,null,i,"register",[r]),new Rq(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Rq extends e${constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new kq(this._id,t,e||{},this._renderer)}}class kq{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return v2(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function v2(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const b2="@.disabled";let Oq=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=u?.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(s);return E||(E=new w2("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,E)),E}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const _=E=>{Array.isArray(E)?E.forEach(_):this.engine.registerTrigger(u,h,e,E.name,E)};return i.data.animation.forEach(_),new Fq(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(xS),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class w2{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==b2?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Fq extends w2{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==b2?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Pq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function Nq(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let Lq=(()=>{class n extends xS{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q),l.LFG(vk),l.LFG(Ak),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const C2=[{provide:zN,useClass:Aq},{provide:Ak,useFactory:function Bq(){return new iq}},{provide:xS,useClass:Lq},{provide:l.FYo,useFactory:function Vq(n,t,e){return new Oq(n,t,e)},deps:[To,xS,l.R0b]}],Lk=[{provide:vk,useFactory:()=>new Mq},{provide:l.QbO,useValue:"BrowserAnimations"},...C2],E2=[{provide:vk,useClass:ZL},{provide:l.QbO,useValue:"NoopAnimations"},...C2];let Uq=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?E2:Lk}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Lk,imports:[Ao]}),n})(),jq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_n]}),n})();const Wq={provide:new l.OlP("mat-autocomplete-scroll-strategy"),deps:[Rl],useFactory:function qq(n){return()=>n.scrollStrategies.reposition()}};let Kq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Wq],imports:[pw,jD,_n,io,J0,jD,_n]}),n})();const t8={provide:new l.OlP("mat-select-scroll-strategy"),deps:[Rl],useFactory:function e8(n){return()=>n.scrollStrategies.reposition()}};let n8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[t8],imports:[io,pw,jD,_n,J0,XD,jD,_n]}),n})();const r8_firebase={apiKey:"AIzaSyDIrPTYo0MnM44ThQfgTsJjI5GuB2S-MXU",authDomain:"meio-classroom-info.firebaseapp.com",databaseURL:"https://meio-classroom-info-default-rtdb.firebaseio.com",projectId:"meio-classroom-info",storageBucket:"meio-classroom-info.appspot.com",messagingSenderId:"830823781548",appId:"1:830823781548:web:2fef1fb7f06b56d481fb09",measurementId:"G-04GEY0NQN1"};let a8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[RN,_n,RN,_n]}),n})(),l8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[U4]}),n.\u0275inj=l.cJS({imports:[Ao,io,m3,h4,Uq,eb,Jv,y4,Sz,jq,Hz,P4,Jz,XD,U$,Kq,n8,G$,lG,a8,J6,Ei.hO.initializeApp(r8_firebase),GH,LH]}),n})();da().bootstrapModule(l8).catch(n=>console.error(n))},9751:(gt,we,P)=>{P.d(we,{y:()=>de});var l=P(930),J=P(727),N=P(8822),ie=P(9635),re=P(2416),Q=P(576),me=P(2806);let de=(()=>{class K{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Ge=new K;return Ge.source=this,Ge.operator=xe,Ge}subscribe(xe,Ge,dt){const fe=function q(K){return K&&K instanceof l.Lv||function z(K){return K&&(0,Q.m)(K.next)&&(0,Q.m)(K.error)&&(0,Q.m)(K.complete)}(K)&&(0,J.Nn)(K)}(xe)?xe:new l.Hp(xe,Ge,dt);return(0,me.x)(()=>{const{operator:De,source:Se}=this;fe.add(De?De.call(fe,Se):Se?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Ge){xe.error(Ge)}}forEach(xe,Ge){return new(Ge=ue(Ge))((dt,fe)=>{const De=new l.Hp({next:Se=>{try{xe(Se)}catch(Ne){fe(Ne),De.unsubscribe()}},error:fe,complete:dt});this.subscribe(De)})}_subscribe(xe){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(xe)}[N.L](){return this}pipe(...xe){return(0,ie.U)(xe)(this)}toPromise(xe){return new(xe=ue(xe))((Ge,dt)=>{let fe;this.subscribe(De=>fe=De,De=>dt(De),()=>Ge(fe))})}}return K.create=je=>new K(je),K})();function ue(K){var je;return null!==(je=K??re.v.Promise)&&void 0!==je?je:Promise}},7579:(gt,we,P)=>{P.d(we,{x:()=>me});var l=P(9751),J=P(727);const ie=(0,P(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=P(8737),Q=P(2806);let me=(()=>{class ue extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const K=new de(this,this);return K.operator=q,K}_throwIfClosed(){if(this.closed)throw new ie}next(q){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(q)}})}error(q){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:K}=this;for(;K.length;)K.shift().error(q)}})}complete(){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:K,isStopped:je,observers:xe}=this;return K||je?J.Lc:(this.currentObservers=null,xe.push(q),new J.w0(()=>{this.currentObservers=null,(0,re.P)(xe,q)}))}_checkFinalizedStatuses(q){const{hasError:K,thrownError:je,isStopped:xe}=this;K?q.error(je):xe&&q.complete()}asObservable(){const q=new l.y;return q.source=this,q}}return ue.create=(z,q)=>new de(z,q),ue})();class de extends me{constructor(z,q){super(),this.destination=z,this.source=q}next(z){var q,K;null===(K=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===K||K.call(q,z)}error(z){var q,K;null===(K=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===K||K.call(q,z)}complete(){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===q||q.call(z)}_subscribe(z){var q,K;return null!==(K=null===(q=this.source)||void 0===q?void 0:q.subscribe(z))&&void 0!==K?K:J.Lc}}},930:(gt,we,P)=>{P.d(we,{Hp:()=>dt,Lv:()=>K});var l=P(576),J=P(727),N=P(2416),ie=P(7849),re=P(5032);const Q=ue("C",void 0,void 0);function ue(Ee,be,Ae){return{kind:Ee,value:be,error:Ae}}var z=P(3410),q=P(2806);class K extends J.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,J.Nn)(be)&&be.add(this)):this.destination=Ne}static create(be,Ae,Ve){return new dt(be,Ae,Ve)}next(be){this.isStopped?Se(function de(Ee){return ue("N",Ee,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Se(function me(Ee){return ue("E",void 0,Ee)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Se(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function xe(Ee,be){return je.call(Ee,be)}class Ge{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(be)}catch(Ve){fe(Ve)}}error(be){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(be)}catch(Ve){fe(Ve)}else fe(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Ae){fe(Ae)}}}class dt extends K{constructor(be,Ae,Ve){let Fe;if(super(),(0,l.m)(be)||!be)Fe={next:be??void 0,error:Ae??void 0,complete:Ve??void 0};else{let H;this&&N.v.useDeprecatedNextContext?(H=Object.create(be),H.unsubscribe=()=>this.unsubscribe(),Fe={next:be.next&&xe(be.next,H),error:be.error&&xe(be.error,H),complete:be.complete&&xe(be.complete,H)}):Fe=be}this.destination=new Ge(Fe)}}function fe(Ee){N.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Ee):(0,ie.h)(Ee)}function Se(Ee,be){const{onStoppedNotification:Ae}=N.v;Ae&&z.z.setTimeout(()=>Ae(Ee,be))}const Ne={closed:!0,next:re.Z,error:function De(Ee){throw Ee},complete:re.Z}},727:(gt,we,P)=>{P.d(we,{Lc:()=>Q,w0:()=>re,Nn:()=>me});var l=P(576);const N=(0,P(3888).d)(ue=>function(q){ue(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((K,je)=>`${je+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ie=P(8737);class re{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const xe of q)xe.remove(this);else q.remove(this);const{initialTeardown:K}=this;if((0,l.m)(K))try{K()}catch(xe){z=xe instanceof N?xe.errors:[xe]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const xe of je)try{de(xe)}catch(Ge){z=z??[],Ge instanceof N?z=[...z,...Ge.errors]:z.push(Ge)}}if(z)throw new N(z)}}add(z){var q;if(z&&z!==this)if(this.closed)de(z);else{if(z instanceof re){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(z)}}_hasParent(z){const{_parentage:q}=this;return q===z||Array.isArray(q)&&q.includes(z)}_addParent(z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(z),q):q?[q,z]:z}_removeParent(z){const{_parentage:q}=this;q===z?this._parentage=null:Array.isArray(q)&&(0,ie.P)(q,z)}remove(z){const{_finalizers:q}=this;q&&(0,ie.P)(q,z),z instanceof re&&z._removeParent(this)}}re.EMPTY=(()=>{const ue=new re;return ue.closed=!0,ue})();const Q=re.EMPTY;function me(ue){return ue instanceof re||ue&&"closed"in ue&&(0,l.m)(ue.remove)&&(0,l.m)(ue.add)&&(0,l.m)(ue.unsubscribe)}function de(ue){(0,l.m)(ue)?ue():ue.unsubscribe()}},2416:(gt,we,P)=>{P.d(we,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(gt,we,P)=>{P.d(we,{E:()=>J});const J=new(P(9751).y)(re=>re.complete())},8996:(gt,we,P)=>{P.d(we,{D:()=>be});var l=P(8421),J=P(5363),N=P(9468),Q=P(9751),de=P(2202),ue=P(576),z=P(9672);function K(Ae,Ve){if(!Ae)throw new Error("Iterable cannot be null");return new Q.y(Fe=>{(0,z.f)(Fe,Ve,()=>{const H=Ae[Symbol.asyncIterator]();(0,z.f)(Fe,Ve,()=>{H.next().then(ye=>{ye.done?Fe.complete():Fe.next(ye.value)})},0,!0)})})}var je=P(3670),xe=P(8239),Ge=P(1144),dt=P(6495),fe=P(2206),De=P(4532),Se=P(3260);function be(Ae,Ve){return Ve?function Ee(Ae,Ve){if(null!=Ae){if((0,je.c)(Ae))return function ie(Ae,Ve){return(0,l.Xf)(Ae).pipe((0,N.R)(Ve),(0,J.Q)(Ve))}(Ae,Ve);if((0,Ge.z)(Ae))return function me(Ae,Ve){return new Q.y(Fe=>{let H=0;return Ve.schedule(function(){H===Ae.length?Fe.complete():(Fe.next(Ae[H++]),Fe.closed||this.schedule())})})}(Ae,Ve);if((0,xe.t)(Ae))return function re(Ae,Ve){return(0,l.Xf)(Ae).pipe((0,N.R)(Ve),(0,J.Q)(Ve))}(Ae,Ve);if((0,fe.D)(Ae))return K(Ae,Ve);if((0,dt.T)(Ae))return function q(Ae,Ve){return new Q.y(Fe=>{let H;return(0,z.f)(Fe,Ve,()=>{H=Ae[de.h](),(0,z.f)(Fe,Ve,()=>{let ye,Ue;try{({value:ye,done:Ue}=H.next())}catch(Ze){return void Fe.error(Ze)}Ue?Fe.complete():Fe.next(ye)},0,!0)}),()=>(0,ue.m)(H?.return)&&H.return()})}(Ae,Ve);if((0,Se.L)(Ae))return function Ne(Ae,Ve){return K((0,Se.Q)(Ae),Ve)}(Ae,Ve)}throw(0,De.z)(Ae)}(Ae,Ve):(0,l.Xf)(Ae)}},8421:(gt,we,P)=>{P.d(we,{Xf:()=>je});var l=P(655),J=P(1144),N=P(8239),ie=P(9751),re=P(3670),Q=P(2206),me=P(4532),de=P(6495),ue=P(3260),z=P(576),q=P(7849),K=P(8822);function je(Ee){if(Ee instanceof ie.y)return Ee;if(null!=Ee){if((0,re.c)(Ee))return function xe(Ee){return new ie.y(be=>{const Ae=Ee[K.L]();if((0,z.m)(Ae.subscribe))return Ae.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,J.z)(Ee))return function Ge(Ee){return new ie.y(be=>{for(let Ae=0;Ae<Ee.length&&!be.closed;Ae++)be.next(Ee[Ae]);be.complete()})}(Ee);if((0,N.t)(Ee))return function dt(Ee){return new ie.y(be=>{Ee.then(Ae=>{be.closed||(be.next(Ae),be.complete())},Ae=>be.error(Ae)).then(null,q.h)})}(Ee);if((0,Q.D)(Ee))return De(Ee);if((0,de.T)(Ee))return function fe(Ee){return new ie.y(be=>{for(const Ae of Ee)if(be.next(Ae),be.closed)return;be.complete()})}(Ee);if((0,ue.L)(Ee))return function Se(Ee){return De((0,ue.Q)(Ee))}(Ee)}throw(0,me.z)(Ee)}function De(Ee){return new ie.y(be=>{(function Ne(Ee,be){var Ae,Ve,Fe,H;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,l.KL)(Ee);!(Ve=yield Ae.next()).done;)if(be.next(Ve.value),be.closed)return}catch(ye){Fe={error:ye}}finally{try{Ve&&!Ve.done&&(H=Ae.return)&&(yield H.call(Ae))}finally{if(Fe)throw Fe.error}}be.complete()})})(Ee,be).catch(Ae=>be.error(Ae))})}},6451:(gt,we,P)=>{P.d(we,{T:()=>Q});var l=P(8189),J=P(8421),N=P(515),ie=P(3269),re=P(8996);function Q(...me){const de=(0,ie.yG)(me),ue=(0,ie._6)(me,1/0),z=me;return z.length?1===z.length?(0,J.Xf)(z[0]):(0,l.J)(ue)((0,re.D)(z,de)):N.E}},5403:(gt,we,P)=>{P.d(we,{x:()=>J});var l=P(930);function J(ie,re,Q,me,de){return new N(ie,re,Q,me,de)}class N extends l.Lv{constructor(re,Q,me,de,ue,z){super(re),this.onFinalize=ue,this.shouldUnsubscribe=z,this._next=Q?function(q){try{Q(q)}catch(K){re.error(K)}}:super._next,this._error=de?function(q){try{de(q)}catch(K){re.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(q){re.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Q}=this;super.unsubscribe(),!Q&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(gt,we,P)=>{P.d(we,{U:()=>N});var l=P(4482),J=P(5403);function N(ie,re){return(0,l.e)((Q,me)=>{let de=0;Q.subscribe((0,J.x)(me,ue=>{me.next(ie.call(re,ue,de++))}))})}},8189:(gt,we,P)=>{P.d(we,{J:()=>N});var l=P(5577),J=P(4671);function N(ie=1/0){return(0,l.z)(J.y,ie)}},5577:(gt,we,P)=>{P.d(we,{z:()=>de});var l=P(4004),J=P(8421),N=P(4482),ie=P(9672),re=P(5403),me=P(576);function de(ue,z,q=1/0){return(0,me.m)(z)?de((K,je)=>(0,l.U)((xe,Ge)=>z(K,xe,je,Ge))((0,J.Xf)(ue(K,je))),q):("number"==typeof z&&(q=z),(0,N.e)((K,je)=>function Q(ue,z,q,K,je,xe,Ge,dt){const fe=[];let De=0,Se=0,Ne=!1;const Ee=()=>{Ne&&!fe.length&&!De&&z.complete()},be=Ve=>De<K?Ae(Ve):fe.push(Ve),Ae=Ve=>{xe&&z.next(Ve),De++;let Fe=!1;(0,J.Xf)(q(Ve,Se++)).subscribe((0,re.x)(z,H=>{je?.(H),xe?be(H):z.next(H)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(De--;fe.length&&De<K;){const H=fe.shift();Ge?(0,ie.f)(z,Ge,()=>Ae(H)):Ae(H)}Ee()}catch(H){z.error(H)}}))};return ue.subscribe((0,re.x)(z,be,()=>{Ne=!0,Ee()})),()=>{dt?.()}}(K,je,ue,q)))}},5363:(gt,we,P)=>{P.d(we,{Q:()=>ie});var l=P(9672),J=P(4482),N=P(5403);function ie(re,Q=0){return(0,J.e)((me,de)=>{me.subscribe((0,N.x)(de,ue=>(0,l.f)(de,re,()=>de.next(ue),Q),()=>(0,l.f)(de,re,()=>de.complete(),Q),ue=>(0,l.f)(de,re,()=>de.error(ue),Q)))})}},3099:(gt,we,P)=>{P.d(we,{B:()=>re});var l=P(8421),J=P(7579),N=P(930),ie=P(4482);function re(me={}){const{connector:de=(()=>new J.x),resetOnError:ue=!0,resetOnComplete:z=!0,resetOnRefCountZero:q=!0}=me;return K=>{let je,xe,Ge,dt=0,fe=!1,De=!1;const Se=()=>{xe?.unsubscribe(),xe=void 0},Ne=()=>{Se(),je=Ge=void 0,fe=De=!1},Ee=()=>{const be=je;Ne(),be?.unsubscribe()};return(0,ie.e)((be,Ae)=>{dt++,!De&&!fe&&Se();const Ve=Ge=Ge??de();Ae.add(()=>{dt--,0===dt&&!De&&!fe&&(xe=Q(Ee,q))}),Ve.subscribe(Ae),!je&&dt>0&&(je=new N.Hp({next:Fe=>Ve.next(Fe),error:Fe=>{De=!0,Se(),xe=Q(Ne,ue,Fe),Ve.error(Fe)},complete:()=>{fe=!0,Se(),xe=Q(Ne,z),Ve.complete()}}),(0,l.Xf)(be).subscribe(je))})(K)}}function Q(me,de,...ue){if(!0===de)return void me();if(!1===de)return;const z=new N.Hp({next:()=>{z.unsubscribe(),me()}});return(0,l.Xf)(de(...ue)).subscribe(z)}},9468:(gt,we,P)=>{P.d(we,{R:()=>J});var l=P(4482);function J(N,ie=0){return(0,l.e)((re,Q)=>{Q.add(N.schedule(()=>re.subscribe(Q),ie))})}},8505:(gt,we,P)=>{P.d(we,{b:()=>re});var l=P(576),J=P(4482),N=P(5403),ie=P(4671);function re(Q,me,de){const ue=(0,l.m)(Q)||me||de?{next:Q,error:me,complete:de}:Q;return ue?(0,J.e)((z,q)=>{var K;null===(K=ue.subscribe)||void 0===K||K.call(ue);let je=!0;z.subscribe((0,N.x)(q,xe=>{var Ge;null===(Ge=ue.next)||void 0===Ge||Ge.call(ue,xe),q.next(xe)},()=>{var xe;je=!1,null===(xe=ue.complete)||void 0===xe||xe.call(ue),q.complete()},xe=>{var Ge;je=!1,null===(Ge=ue.error)||void 0===Ge||Ge.call(ue,xe),q.error(xe)},()=>{var xe,Ge;je&&(null===(xe=ue.unsubscribe)||void 0===xe||xe.call(ue)),null===(Ge=ue.finalize)||void 0===Ge||Ge.call(ue)}))}):ie.y}},4408:(gt,we,P)=>{P.d(we,{o:()=>re});var l=P(727);class J extends l.w0{constructor(me,de){super()}schedule(me,de=0){return this}}const N={setInterval(Q,me,...de){const{delegate:ue}=N;return ue?.setInterval?ue.setInterval(Q,me,...de):setInterval(Q,me,...de)},clearInterval(Q){const{delegate:me}=N;return(me?.clearInterval||clearInterval)(Q)},delegate:void 0};var ie=P(8737);class re extends J{constructor(me,de){super(me,de),this.scheduler=me,this.work=de,this.pending=!1}schedule(me,de=0){var ue;if(this.closed)return this;this.state=me;const z=this.id,q=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(q,z,de)),this.pending=!0,this.delay=de,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(q,this.id,de),this}requestAsyncId(me,de,ue=0){return N.setInterval(me.flush.bind(me,this),ue)}recycleAsyncId(me,de,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return de;null!=de&&N.clearInterval(de)}execute(me,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(me,de);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,de){let z,ue=!1;try{this.work(me)}catch(q){ue=!0,z=q||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:me,scheduler:de}=this,{actions:ue}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ue,this),null!=me&&(this.id=this.recycleAsyncId(de,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(gt,we,P)=>{P.d(we,{v:()=>N});var l=P(6063);class J{constructor(re,Q=J.now){this.schedulerActionCtor=re,this.now=Q}schedule(re,Q=0,me){return new this.schedulerActionCtor(this,re).schedule(me,Q)}}J.now=l.l.now;class N extends J{constructor(re,Q=J.now){super(re,Q),this.actions=[],this._active=!1}flush(re){const{actions:Q}=this;if(this._active)return void Q.push(re);let me;this._active=!0;do{if(me=re.execute(re.state,re.delay))break}while(re=Q.shift());if(this._active=!1,me){for(;re=Q.shift();)re.unsubscribe();throw me}}}},4986:(gt,we,P)=>{P.d(we,{P:()=>ie,z:()=>N});var l=P(4408);const N=new(P(7565).v)(l.o),ie=N},6063:(gt,we,P)=>{P.d(we,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(gt,we,P)=>{P.d(we,{z:()=>l});const l={setTimeout(J,N,...ie){const{delegate:re}=l;return re?.setTimeout?re.setTimeout(J,N,...ie):setTimeout(J,N,...ie)},clearTimeout(J){const{delegate:N}=l;return(N?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(gt,we,P)=>{P.d(we,{h:()=>J});const J=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,we,P)=>{P.d(we,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(gt,we,P)=>{P.d(we,{_6:()=>Q,jO:()=>ie,yG:()=>re});var l=P(576),J=P(3532);function N(me){return me[me.length-1]}function ie(me){return(0,l.m)(N(me))?me.pop():void 0}function re(me){return(0,J.K)(N(me))?me.pop():void 0}function Q(me,de){return"number"==typeof N(me)?me.pop():de}},8737:(gt,we,P)=>{function l(J,N){if(J){const ie=J.indexOf(N);0<=ie&&J.splice(ie,1)}}P.d(we,{P:()=>l})},3888:(gt,we,P)=>{function l(J){const ie=J(re=>{Error.call(re),re.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}P.d(we,{d:()=>l})},2806:(gt,we,P)=>{P.d(we,{O:()=>ie,x:()=>N});var l=P(2416);let J=null;function N(re){if(l.v.useDeprecatedSynchronousErrorHandling){const Q=!J;if(Q&&(J={errorThrown:!1,error:null}),re(),Q){const{errorThrown:me,error:de}=J;if(J=null,me)throw de}}else re()}function ie(re){l.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=re)}},9672:(gt,we,P)=>{function l(J,N,ie,re=0,Q=!1){const me=N.schedule(function(){ie(),Q?J.add(this.schedule(null,re)):this.unsubscribe()},re);if(J.add(me),!Q)return me}P.d(we,{f:()=>l})},4671:(gt,we,P)=>{function l(J){return J}P.d(we,{y:()=>l})},1144:(gt,we,P)=>{P.d(we,{z:()=>l});const l=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(gt,we,P)=>{P.d(we,{D:()=>J});var l=P(576);function J(N){return Symbol.asyncIterator&&(0,l.m)(N?.[Symbol.asyncIterator])}},576:(gt,we,P)=>{function l(J){return"function"==typeof J}P.d(we,{m:()=>l})},3670:(gt,we,P)=>{P.d(we,{c:()=>N});var l=P(8822),J=P(576);function N(ie){return(0,J.m)(ie[l.L])}},6495:(gt,we,P)=>{P.d(we,{T:()=>N});var l=P(2202),J=P(576);function N(ie){return(0,J.m)(ie?.[l.h])}},8239:(gt,we,P)=>{P.d(we,{t:()=>J});var l=P(576);function J(N){return(0,l.m)(N?.then)}},3260:(gt,we,P)=>{P.d(we,{L:()=>ie,Q:()=>N});var l=P(655),J=P(576);function N(re){return(0,l.FC)(this,arguments,function*(){const me=re.getReader();try{for(;;){const{value:de,done:ue}=yield(0,l.qq)(me.read());if(ue)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(de)}}finally{me.releaseLock()}})}function ie(re){return(0,J.m)(re?.getReader)}},3532:(gt,we,P)=>{P.d(we,{K:()=>J});var l=P(576);function J(N){return N&&(0,l.m)(N.schedule)}},4482:(gt,we,P)=>{P.d(we,{A:()=>J,e:()=>N});var l=P(576);function J(ie){return(0,l.m)(ie?.lift)}function N(ie){return re=>{if(J(re))return re.lift(function(Q){try{return ie(Q,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(gt,we,P)=>{function l(){}P.d(we,{Z:()=>l})},9635:(gt,we,P)=>{P.d(we,{U:()=>N,z:()=>J});var l=P(4671);function J(...ie){return N(ie)}function N(ie){return 0===ie.length?l.y:1===ie.length?ie[0]:function(Q){return ie.reduce((me,de)=>de(me),Q)}}},7849:(gt,we,P)=>{P.d(we,{h:()=>N});var l=P(2416),J=P(3410);function N(ie){J.z.setTimeout(()=>{const{onUnhandledError:re}=l.v;if(!re)throw ie;re(ie)})}},4532:(gt,we,P)=>{function l(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(we,{z:()=>l})},655:(gt,we,P)=>{function ie(se,he){var ve={};for(var Re in se)Object.prototype.hasOwnProperty.call(se,Re)&&he.indexOf(Re)<0&&(ve[Re]=se[Re]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(Re=Object.getOwnPropertySymbols(se);Le<Re.length;Le++)he.indexOf(Re[Le])<0&&Object.prototype.propertyIsEnumerable.call(se,Re[Le])&&(ve[Re[Le]]=se[Re[Le]])}return ve}function K(se,he,ve,Re){return new(ve||(ve=Promise))(function(ze,et){function Qe(sn){try{St(Re.next(sn))}catch(nt){et(nt)}}function un(sn){try{St(Re.throw(sn))}catch(nt){et(nt)}}function St(sn){sn.done?ze(sn.value):function Le(ze){return ze instanceof ve?ze:new ve(function(et){et(ze)})}(sn.value).then(Qe,un)}St((Re=Re.apply(se,he||[])).next())})}function Ee(se){return this instanceof Ee?(this.v=se,this):new Ee(se)}function be(se,he,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Re=ve.apply(se,he||[]),ze=[];return Le={},et("next"),et("throw"),et("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function et(Rt){Re[Rt]&&(Le[Rt]=function(Jn){return new Promise(function(vn,Mn){ze.push([Rt,Jn,vn,Mn])>1||Qe(Rt,Jn)})})}function Qe(Rt,Jn){try{!function un(Rt){Rt.value instanceof Ee?Promise.resolve(Rt.value.v).then(St,sn):nt(ze[0][2],Rt)}(Re[Rt](Jn))}catch(vn){nt(ze[0][3],vn)}}function St(Rt){Qe("next",Rt)}function sn(Rt){Qe("throw",Rt)}function nt(Rt,Jn){Rt(Jn),ze.shift(),ze.length&&Qe(ze[0][0],ze[0][1])}}function Ve(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,he=se[Symbol.asyncIterator];return he?he.call(se):(se=function dt(se){var he="function"==typeof Symbol&&Symbol.iterator,ve=he&&se[he],Re=0;if(ve)return ve.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Re>=se.length&&(se=void 0),{value:se&&se[Re++],done:!se}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),ve={},Re("next"),Re("throw"),Re("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function Re(ze){ve[ze]=se[ze]&&function(et){return new Promise(function(Qe,un){!function Le(ze,et,Qe,un){Promise.resolve(un).then(function(St){ze({value:St,done:Qe})},et)}(Qe,un,(et=se[ze](et)).done,et.value)})}}}P.d(we,{FC:()=>be,KL:()=>Ve,_T:()=>ie,mG:()=>K,qq:()=>Ee})},4650:(gt,we,P)=>{P.d(we,{$8M:()=>ec,$WT:()=>Zo,$Z:()=>iC,AFp:()=>ax,ALo:()=>VE,AaK:()=>de,AsE:()=>rb,BQk:()=>zg,CHM:()=>Gl,CRH:()=>at,CZH:()=>Z_,CqO:()=>OC,D6c:()=>Qp,EJc:()=>xT,EiD:()=>TS,EpF:()=>Gg,F$t:()=>BC,F4k:()=>qg,FYo:()=>Bw,FiY:()=>lo,Gf:()=>Hs,GfV:()=>Vw,GkF:()=>$g,Gpc:()=>q,Hsn:()=>qv,Ikx:()=>ub,JOm:()=>Or,JVY:()=>sg,JZr:()=>dt,KtG:()=>uf,L6k:()=>y,LAX:()=>m,LFG:()=>$e,LSH:()=>Uf,Lbi:()=>bT,Lck:()=>rT,MAs:()=>Ug,MMx:()=>Ap,MR2:()=>zf,NdJ:()=>yh,O4$:()=>Io,OlP:()=>Cn,Oqu:()=>ib,P3R:()=>Yy,PXZ:()=>mx,Q6J:()=>Uv,QGY:()=>zv,QbO:()=>wT,Qsj:()=>VS,R0b:()=>cs,RDi:()=>Gy,Rgc:()=>Rh,SBq:()=>hl,Sil:()=>ir,Suo:()=>B_,TTD:()=>Es,TgZ:()=>Hg,Udp:()=>Jv,VKq:()=>Ob,W1O:()=>Ii,X6Q:()=>En,XFs:()=>bt,Xpm:()=>kl,Xts:()=>_c,Y36:()=>uh,YKP:()=>TE,YNc:()=>AC,Yjl:()=>Gc,Yz7:()=>nt,Z0I:()=>Mn,ZZ4:()=>ny,_Bn:()=>Tb,_UZ:()=>jg,_Vd:()=>vc,_c5:()=>Aa,_uU:()=>Kg,aQg:()=>p0,c2e:()=>CT,cJS:()=>Jn,cg1:()=>a_,dDg:()=>Fc,dqk:()=>Bt,eBb:()=>p,eFA:()=>_x,eJc:()=>Gb,ekj:()=>eb,eoX:()=>zp,f3M:()=>ot,g9A:()=>cx,h0i:()=>Us,hGG:()=>Dx,hij:()=>Qg,iGM:()=>mi,ifc:()=>te,ip1:()=>sx,jDz:()=>Ab,kL8:()=>gp,lG2:()=>$c,lqb:()=>Lu,lri:()=>fx,mCW:()=>tt,n5z:()=>Ud,n_E:()=>Fp,oAB:()=>Fl,oxw:()=>NC,pB0:()=>w,q3G:()=>Ci,q4F:()=>rv,qLn:()=>qf,qOj:()=>Fg,qZA:()=>jv,qzn:()=>No,rWj:()=>xl,sBO:()=>l0,s_b:()=>Np,soG:()=>Up,tBr:()=>ga,tb:()=>K_,tp0:()=>D,uIk:()=>rp,vHH:()=>fe,vpe:()=>Lr,wAp:()=>Mt,xi3:()=>Lb,xp6:()=>Zw,ynx:()=>ap,z2F:()=>Sl,z3N:()=>Bi,zSh:()=>Jy,zs3:()=>lh});var l=P(7579),J=P(727),N=P(9751),ie=P(6451),re=P(3099);function Q(o){for(let a in o)if(o[a]===Q)return a;throw Error("Could not find renamed property on target object.")}function me(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function de(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(de).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ue(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const z=Q({__forward_ref__:Q});function q(o){return o.__forward_ref__=q,o.toString=function(){return de(this())},o}function K(o){return je(o)?o():o}function je(o){return"function"==typeof o&&o.hasOwnProperty(z)&&o.__forward_ref__===q}function xe(o){return o&&!!o.\u0275providers}const dt="https://g.co/ng/security#xss";class fe extends Error{constructor(a,c){super(De(a,c)),this.code=a}}function De(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}function Se(o){return"string"==typeof o?o:null==o?"":String(o)}function Ve(o,a){throw new fe(-201,!1)}function et(o,a){null==o&&function Qe(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function nt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Jn(o){return{providers:o.providers||[],imports:o.imports||[]}}function vn(o){return Fn(o,lr)||Fn(o,An)}function Mn(o){return null!==vn(o)}function Fn(o,a){return o.hasOwnProperty(a)?o[a]:null}function xr(o){return o&&(o.hasOwnProperty(qo)||o.hasOwnProperty(cr))?o[qo]:null}const lr=Q({\u0275prov:Q}),qo=Q({\u0275inj:Q}),An=Q({ngInjectableDef:Q}),cr=Q({ngInjectorDef:Q});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let Wo;function Pn(o){const a=Wo;return Wo=o,a}function Mi(o,a,c){const d=vn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&bt.Optional?null:void 0!==a?a:void Ve(de(o))}const Bt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dn={},ei="__NG_DI_FLAG__",Gi="ngTempTokenPath",Ai="ngTokenPath",Pa=/\n/gm,fn="\u0275",Co="__source";let nn;function qi(o){const a=nn;return nn=o,a}function Jr(o,a=bt.Default){if(void 0===nn)throw new fe(-203,!1);return null===nn?Mi(o,void 0,a):nn.get(o,a&bt.Optional?null:void 0,a)}function $e(o,a=bt.Default){return(function zr(){return Wo}()||Jr)(K(o),a)}function ot(o,a=bt.Default){return $e(o,At(a))}function At(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Lt(o){const a=[];for(let c=0;c<o.length;c++){const d=K(o[c]);if(Array.isArray(d)){if(0===d.length)throw new fe(900,!1);let f,g=bt.Default;for(let v=0;v<d.length;v++){const C=d[v],x=Ri(C);"number"==typeof x?-1===x?f=C.token:g|=x:f=C}a.push($e(f,g))}else a.push($e(d))}return a}function $t(o,a){return o[ei]=a,o.prototype[ei]=a,o}function Ri(o){return o[ei]}function Z(o){return{toString:o}.toString()}var _e=(()=>((_e=_e||{})[_e.OnPush=0]="OnPush",_e[_e.Default=1]="Default",_e))(),te=(()=>{return(o=te||(te={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",te;var o})();const it={},Ye=[],gn=Q({\u0275cmp:Q}),Nn=Q({\u0275dir:Q}),Hn=Q({\u0275pipe:Q}),ai=Q({\u0275mod:Q}),Vt=Q({\u0275fac:Q}),Wi=Q({__NG_ELEMENT_ID__:Q});let eo=0;function kl(o){return Z(()=>{const a=ki(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===_e.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||te.Emulated,id:"c"+eo++,styles:o.styles||Ye,_:null,schemas:o.schemas||null,tView:null};Na(c);const d=o.dependencies;return c.directiveDefs=gs(d,!1),c.pipeDefs=gs(d,!0),c})}function zc(o){return rn(o)||ti(o)}function Ol(o){return null!==o}function Fl(o){return Z(()=>({type:o.type,bootstrap:o.bootstrap||Ye,declarations:o.declarations||Ye,imports:o.imports||Ye,exports:o.exports||Ye,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function jn(o,a){if(null==o)return it;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,a&&(a[f]=g)}return c}function $c(o){return Z(()=>{const a=ki(o);return Na(a),a})}function Gc(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function rn(o){return o[gn]||null}function ti(o){return o[Nn]||null}function yi(o){return o[Hn]||null}function Zo(o){const a=rn(o)||ti(o)||yi(o);return null!==a&&a.standalone}function li(o,a){const c=o[ai]||null;if(!c&&!0===a)throw new Error(`Type ${de(o)} does not have '\u0275mod' property.`);return c}function ki(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||Ye,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jn(o.inputs,a),outputs:jn(o.outputs)}}function Na(o){o.features?.forEach(a=>a(o))}function gs(o,a){if(!o)return null;const c=a?yi:zc;return()=>("function"==typeof o?o():o).map(d=>c(d)).filter(Ol)}const Dr=0,Je=1,Ut=2,wn=3,ur=4,to=5,Wn=6,_s=7,Rn=8,$r=9,La=10,Wt=11,Ws=12,ys=13,Yo=14,Ba=15,vi=16,Zs=17,Ko=18,Zi=19,Yi=20,qc=21,en=22,Wc=1,Pl=2,vs=7,Sr=8,Ys=9,bi=10;function dr(o){return Array.isArray(o)&&"object"==typeof o[Wc]}function hr(o){return Array.isArray(o)&&!0===o[Wc]}function xo(o){return 0!=(4&o.flags)}function Nl(o){return o.componentOffset>-1}function bs(o){return 1==(1&o.flags)}function Oi(o){return!!o.template}function Ed(o){return 0!=(256&o[Ut])}function fr(o,a){return o.hasOwnProperty(Vt)?o[Vt]:null}class Sd{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Es(){return Ua}function Ua(o){return o.type.prototype.ngOnChanges&&(o.setInput=Xs),Qs}function Qs(){const o=Vl(this),a=o?.current;if(a){const c=o.previous;if(c===it)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Xs(o,a,c,d){const f=this.declaredInputs[c],g=Vl(o)||function Ul(o,a){return o[Ha]=a}(o,{previous:it,current:null}),v=g.current||(g.current={}),C=g.previous,x=C[f];v[f]=new Sd(x&&x.currentValue,a,C===it),o[d]=a}Es.ngInherit=!0;const Ha="__ngSimpleChanges__";function Vl(o){return o[Ha]||null}const ln=function(o,a,c){},Hl="svg";function Ln(o){for(;Array.isArray(o);)o=o[Dr];return o}function ro(o,a){return Ln(a[o])}function Fi(o,a){return Ln(a[o.index])}function Qc(o,a){return o.data[a]}function oo(o,a){return o[a]}function ci(o,a){const c=a[o];return dr(c)?c:c[Dr]}function Js(o){return 64==(64&o[Ut])}function So(o,a){return null==a?null:o[a]}function ea(o){o[Ko]=0}function Jc(o,a){o[to]+=a;let c=o,d=o[wn];for(;null!==d&&(1===a&&1===c[to]||-1===a&&0===c[to]);)d[to]+=a,c=d,d=d[wn]}const Ot={lFrame:Fy(null),bindingsEnabled:!0};function $l(){return Ot.bindingsEnabled}function Me(){return Ot.lFrame.lView}function on(){return Ot.lFrame.tView}function Gl(o){return Ot.lFrame.contextLView=o,o[Rn]}function uf(o){return Ot.lFrame.contextLView=null,o}function ui(){let o=eu();for(;null!==o&&64===o.type;)o=o.parent;return o}function eu(){return Ot.lFrame.currentTNode}function pr(o,a){const c=Ot.lFrame;c.currentTNode=o,c.isParent=a}function Ad(){return Ot.lFrame.isParent}function na(){Ot.lFrame.isParent=!1}function zn(){const o=Ot.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Wa(){return Ot.lFrame.bindingIndex++}function Tr(o){const a=Ot.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Od(o,a){const c=Ot.lFrame;c.bindingIndex=c.bindingRootIndex=o,Zl(a)}function Zl(o){Ot.lFrame.currentDirectiveIndex=o}function iu(){return Ot.lFrame.currentQueryIndex}function Yl(o){Ot.lFrame.currentQueryIndex=o}function Am(o){const a=o[Je];return 2===a.type?a.declTNode:1===a.type?o[Wn]:null}function ru(o,a,c){if(c&bt.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||c&bt.Host||(f=Am(g),null===f||(g=g[Ba],10&f.type))););if(null===f)return!1;a=f,o=g}const d=Ot.lFrame=Rm();return d.currentTNode=a,d.lView=o,!0}function Fd(o){const a=Rm(),c=o[Je];Ot.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Rm(){const o=Ot.lFrame,a=null===o?null:o.child;return null===a?Fy(o):a}function Fy(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function ou(){const o=Ot.lFrame;return Ot.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const km=ou;function df(){const o=ou();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ki(){return Ot.lFrame.selectedIndex}function Za(o){Ot.lFrame.selectedIndex=o}function Sn(){const o=Ot.lFrame;return Qc(o.tView,o.selectedIndex)}function Io(){Ot.lFrame.currentNamespace=Hl}function su(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:x,ngAfterViewChecked:T,ngOnDestroy:k}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-c,v),C&&((o.contentHooks||(o.contentHooks=[])).push(c,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,C)),x&&(o.viewHooks||(o.viewHooks=[])).push(-c,x),T&&((o.viewHooks||(o.viewHooks=[])).push(c,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,T)),null!=k&&(o.destroyHooks||(o.destroyHooks=[])).push(c,k)}}function au(o,a,c){Xo(o,a,3,c)}function ia(o,a,c,d){(3&o[Ut])===c&&Xo(o,a,c,d)}function Ds(o,a){let c=o[Ut];(3&c)===a&&(c&=2047,c+=1,o[Ut]=c)}function Xo(o,a,c,d){const g=d??-1,v=a.length-1;let C=0;for(let x=void 0!==d?65535&o[Ko]:0;x<v;x++)if("number"==typeof a[x+1]){if(C=a[x],null!=d&&C>=d)break}else a[x]<0&&(o[Ko]+=65536),(C<g||-1==g)&&(Kl(o,c,a,x),o[Ko]=(4294901760&o[Ko])+x+2),x++}function Kl(o,a,c,d){const f=c[d]<0,g=c[d+1],C=o[f?-c[d]:c[d]];if(f){if(o[Ut]>>11<o[Ko]>>16&&(3&o[Ut])===a){o[Ut]+=2048,ln(4,C,g);try{g.call(C)}finally{ln(5,C,g)}}}else{ln(4,C,g);try{g.call(C)}finally{ln(5,C,g)}}}const Mr=-1;class Ya{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function so(o,a,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const g=c[d++],v=c[d++],C=c[d++];o.setAttribute(a,v,C,g)}else{const g=f,v=c[++d];In(g)?o.setProperty(a,g,v):o.setAttribute(a,g,v),d++}}return d}function ra(o){return 3===o||4===o||6===o}function In(o){return 64===o.charCodeAt(0)}function Jo(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||Ss(o,c,f,null,-1===c||2===c?a[++d]:null)}}return o}function Ss(o,a,c,d,f){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const C=o[g++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=g-1;break}}}for(;g<o.length;){const C=o[g];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==f&&(o[g+1]=f));if(d===o[g+1])return void(o[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,c),null!==d&&o.splice(g++,0,d),null!==f&&o.splice(g++,0,f)}function uu(o){return o!==Mr}function oa(o){return 32767&o}function sa(o,a){let c=function ff(o){return o>>16}(o),d=a;for(;c>0;)d=d[Ba],c--;return d}let Ka=!0;function aa(o){const a=Ka;return Ka=o,a}const la=255,Is=5;let To=0;const Rr={};function ca(o,a){const c=Ql(o,a);if(-1!==c)return c;const d=a[Je];d.firstCreatePass&&(o.injectorIndex=a.length,es(d.data,o),es(a,null),es(d.blueprint,null));const f=ts(o,a),g=o.injectorIndex;if(uu(f)){const v=oa(f),C=sa(f,a),x=C[Je].data;for(let T=0;T<8;T++)a[g+T]=C[v+T]|x[v+T]}return a[g+8]=f,g}function es(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Ql(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ts(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){if(d=jd(f),null===d)return Mr;if(c++,f=f[Ba],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Mr}function ua(o,a,c){!function Qa(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Wi)&&(d=c[Wi]),null==d&&(d=c[Wi]=To++);const f=d&la;a.data[o+(f>>Is)]|=1<<f}(o,a,c)}function Xa(o,a,c){if(c&bt.Optional||void 0!==o)return o;Ve()}function mf(o,a,c,d){if(c&bt.Optional&&void 0===d&&(d=null),!(c&(bt.Self|bt.Host))){const f=o[$r],g=Pn(void 0);try{return f?f.get(a,d,c&bt.Optional):Mi(a,d,c&bt.Optional)}finally{Pn(g)}}return Xa(d,0,c)}function Mo(o,a,c,d=bt.Default,f){if(null!==o){if(1024&a[Ut]){const v=function Hd(o,a,c,d,f){let g=o,v=a;for(;null!==g&&null!==v&&1024&v[Ut]&&!(256&v[Ut]);){const C=Bd(g,v,c,d|bt.Self,Rr);if(C!==Rr)return C;let x=g.parent;if(!x){const T=v[qc];if(T){const k=T.get(c,Rr,d);if(k!==Rr)return k}x=jd(v),v=v[Ba]}g=x}return f}(o,a,c,d,Rr);if(v!==Rr)return v}const g=Bd(o,a,c,d,Rr);if(g!==Rr)return g}return mf(a,c,d,f)}function Bd(o,a,c,d,f){const g=function Ms(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Wi)?o[Wi]:void 0;return"number"==typeof a?a>=0?a&la:hu:a}(c);if("function"==typeof g){if(!ru(a,o,d))return d&bt.Host?Xa(f,0,d):mf(a,c,d,f);try{const v=g(d);if(null!=v||d&bt.Optional)return v;Ve()}finally{km()}}else if("number"==typeof g){let v=null,C=Ql(o,a),x=Mr,T=d&bt.Host?a[vi][Wn]:null;for((-1===C||d&bt.SkipSelf)&&(x=-1===C?ts(o,a):a[C+8],x!==Mr&&Jl(d,!1)?(v=a[Je],C=oa(x),a=sa(x,a)):C=-1);-1!==C;){const k=a[Je];if(Vd(g,C,k.data)){const L=Gr(C,a,c,v,d,T);if(L!==Rr)return L}x=a[C+8],x!==Mr&&Jl(d,a[Je].data[C+8]===T)&&Vd(g,C,a)?(v=k,C=oa(x),a=sa(x,a)):C=-1}}return f}function Gr(o,a,c,d,f,g){const v=a[Je],C=v.data[o+8],k=Xl(C,v,c,null==d?Nl(C)&&Ka:d!=v&&0!=(3&C.type),f&bt.Host&&g===C);return null!==k?Ts(a,v,k,C):Rr}function Xl(o,a,c,d,f){const g=o.providerIndexes,v=a.data,C=1048575&g,x=o.directiveStart,k=g>>20,$=f?C+k:o.directiveEnd;for(let ee=d?C:C+k;ee<$;ee++){const ge=v[ee];if(ee<x&&c===ge||ee>=x&&ge.type===c)return ee}if(f){const ee=v[x];if(ee&&Oi(ee)&&ee.type===c)return x}return null}function Ts(o,a,c,d){let f=o[c];const g=a.data;if(function Nd(o){return o instanceof Ya}(f)){const v=f;v.resolving&&function Ee(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new fe(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Ne(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Se(o)}(g[c]));const C=aa(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?Pn(v.injectImpl):null;ru(o,d,bt.Default);try{f=o[c]=v.factory(void 0,g,o,d),a.firstCreatePass&&c>=d.directiveStart&&function Nm(o,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(d){const v=Ua(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],a)}finally{null!==x&&Pn(x),aa(C),v.resolving=!1,km()}}return f}function Vd(o,a,c){return!!(c[a+(o>>Is)]&1<<o)}function Jl(o,a){return!(o&bt.Self||o&bt.Host&&a)}class Pi{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Mo(this._tNode,this._lView,a,At(d),c)}}function hu(){return new Pi(ui(),Me())}function Ud(o){return Z(()=>{const a=o.prototype.constructor,c=a[Vt]||da(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const g=f[Vt]||da(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function da(o){return je(o)?()=>{const a=da(K(o));return a&&a()}:fr(o)}function jd(o){const a=o[Je],c=a.type;return 2===c?a.declTNode:1===c?o[Wn]:null}function ec(o){return function pf(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(ra(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===a)return c[f+1];f+=2}}}return null}(ui(),o)}const As="__parameters__";function ha(o,a,c){return Z(()=>{const d=function zd(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(x,T,k){const L=x.hasOwnProperty(As)?x[As]:Object.defineProperty(x,As,{value:[]})[As];for(;L.length<=k;)L.push(null);return(L[k]=L[k]||[]).push(v),x}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Cn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=nt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function is(o,a){o.forEach(c=>Array.isArray(c)?is(c,a):a(c))}function fu(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function tl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function rs(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function Qt(o,a,c){let d=qe(o,a);return d>=0?o[1|d]=c:(d=~d,function Ef(o,a,c,d){let f=o.length;if(f==a)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function ao(o,a){const c=qe(o,a);if(c>=0)return o[1|c]}function qe(o,a){return function Zn(o,a,c){let d=0,f=o.length>>c;for(;f!==d;){const g=d+(f-d>>1),v=o[g<<c];if(a===v)return g<<c;v>a?f=g:d=g+1}return~(f<<c)}(o,a,1)}const ga=$t(ha("Inject",o=>({token:o})),-1),lo=$t(ha("Optional"),8),D=$t(ha("SkipSelf"),4);var Or=(()=>((Or=Or||{})[Or.Important=1]="Important",Or[Or.DashCase=2]="DashCase",Or))();const co=new Map;let Gm=0;const Yd="__ngContext__";function _r(o,a){dr(a)?(o[Yd]=a[Yi],function Zd(o){co.set(o[Yi],o)}(a)):o[Yd]=a}let ol;function Kd(o,a){return ol(o,a)}function wa(o){const a=o[wn];return hr(a)?a[wn]:a}function lc(o){return Xd(o[ys])}function vu(o){return Xd(o[ur])}function Xd(o){for(;null!==o&&!hr(o);)o=o[ur];return o}function ks(o,a,c,d,f){if(null!=d){let g,v=!1;hr(d)?g=d:dr(d)&&(v=!0,d=d[Dr]);const C=Ln(d);0===o&&null!==c?null==f?Km(a,c,C):Ca(a,c,C,f||null,!0):1===o&&null!==c?Ca(a,c,C,f||null,!0):2===o?function ll(o,a,c){const d=Du(o,a);d&&function hc(o,a,c,d){o.removeChild(a,c,d)}(o,d,a,c)}(a,C,v):3===o&&a.destroyNode(C),null!=g&&function ss(o,a,c,d,f){const g=c[vs];g!==Ln(c)&&ks(a,o,d,g,f);for(let C=bi;C<c.length;C++){const x=c[C];cl(x[Je],x,o,a,d,g)}}(a,o,g,c,f)}}function bu(o,a,c){return o.createElement(a,c)}function eh(o,a){const c=o[Ys],d=c.indexOf(a),f=a[wn];512&a[Ut]&&(a[Ut]&=-513,Jc(f,-1)),c.splice(d,1)}function wu(o,a){if(o.length<=bi)return;const c=bi+a,d=o[c];if(d){const f=d[Zs];null!==f&&f!==o&&eh(f,d),a>0&&(o[c-1][ur]=d[ur]);const g=tl(o,bi+a);!function Vy(o,a){cl(o,a,a[Wt],2,null,null),a[Dr]=null,a[Wn]=null}(d[Je],d);const v=g[Zi];null!==v&&v.detachView(g[Je]),d[wn]=null,d[ur]=null,d[Ut]&=-65}return d}function Cu(o,a){if(!(128&a[Ut])){const c=a[Wt];c.destroyNode&&cl(o,a,c,3,null,null),function Hy(o){let a=o[ys];if(!a)return Eu(o[Je],o);for(;a;){let c=null;if(dr(a))c=a[ys];else{const d=a[bi];d&&(c=d)}if(!c){for(;a&&!a[ur]&&a!==o;)dr(a)&&Eu(a[Je],a),a=a[wn];null===a&&(a=o),dr(a)&&Eu(a[Je],a),c=a&&a[ur]}a=c}}(a)}}function Eu(o,a){if(!(128&a[Ut])){a[Ut]&=-65,a[Ut]|=128,function Of(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof Ya)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],x=g[v+1];ln(4,C,x);try{x.call(C)}finally{ln(5,C,x)}}else{ln(4,f,g);try{g.call(f)}finally{ln(5,f,g)}}}}}(o,a),function Os(o,a){const c=o.cleanup,d=a[_s];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+3];v>=0?d[f=v]():d[f=-v].unsubscribe(),g+=2}else{const v=d[f=c[g+1]];c[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)(0,d[g])();a[_s]=null}}(o,a),1===a[Je].type&&a[Wt].destroy();const c=a[Zs];if(null!==c&&hr(a[wn])){c!==a[wn]&&eh(c,a);const d=a[Zi];null!==d&&d.detachView(o)}!function wi(o){co.delete(o[Yi])}(a)}}function zy(o,a,c){return function uc(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[Dr];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:g}=o.data[d.directiveStart+f];if(g===te.None||g===te.Emulated)return null}return Fi(d,c)}}(o,a.parent,c)}function Ca(o,a,c,d,f){o.insertBefore(a,c,d,f)}function Km(o,a,c){o.appendChild(a,c)}function dc(o,a,c,d,f){null!==d?Ca(o,a,c,d,f):Km(o,a,c)}function Du(o,a){return o.parentNode(a)}function Ff(o,a,c){return Xm(o,a,c)}let th,xa,Nf,Mu,Xm=function Fo(o,a,c){return 40&o.type?Fi(o,c):null};function nh(o,a,c,d){const f=zy(o,d,a),g=a[Wt],C=Ff(d.parent||a[Wn],d,a);if(null!=f)if(Array.isArray(c))for(let x=0;x<c.length;x++)dc(g,f,c[x],C,!1);else dc(g,f,c,C,!1);void 0!==th&&th(g,d,a,c,f)}function fc(o,a){if(null!==a){const c=a.type;if(3&c)return Fi(a,o);if(4&c)return ih(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return fc(o,d);{const f=o[a.index];return hr(f)?ih(-1,f):Ln(f)}}if(32&c)return Kd(a,o)()||Ln(o[a.index]);{const d=al(o,a);return null!==d?Array.isArray(d)?d[0]:fc(wa(o[vi]),d):fc(o,a.next)}}return null}function al(o,a){return null!==a?o[vi][Wn].projection[a.projection]:null}function ih(o,a){const c=bi+o+1;if(c<a.length){const d=a[c],f=d[Je].firstChild;if(null!==f)return fc(d,f)}return a[vs]}function Su(o,a,c,d,f,g,v){for(;null!=c;){const C=d[c.index],x=c.type;if(v&&0===a&&(C&&_r(Ln(C),d),c.flags|=2),32!=(32&c.flags))if(8&x)Su(o,a,c.child,d,f,g,!1),ks(a,o,f,C,g);else if(32&x){const T=Kd(c,d);let k;for(;k=T();)ks(a,o,f,k,g);ks(a,o,f,C,g)}else 16&x?Ea(o,a,d,c,f,g):ks(a,o,f,C,g);c=v?c.projectionNext:c.next}}function cl(o,a,c,d,f,g){Su(c,d,o.firstChild,a,f,g,!1)}function Ea(o,a,c,d,f,g){const v=c[vi],x=v[Wn].projection[d.projection];if(Array.isArray(x))for(let T=0;T<x.length;T++)ks(a,o,f,x[T],g);else Su(o,a,x,v[wn],f,g,!0)}function pc(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function Iu(o,a,c){const{mergedAttrs:d,classes:f,styles:g}=c;null!==d&&so(o,a,d),null!==f&&pc(o,a,f),null!==g&&function Po(o,a,c){o.setAttribute(a,"style",c)}(o,a,g)}function mc(o){return function Tu(){if(void 0===xa&&(xa=null,Bt.trustedTypes))try{xa=Bt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return xa}()?.createHTML(o)||o}function Gy(o){Nf=o}function ig(o){return function Xi(){if(void 0===Mu&&(Mu=null,Bt.trustedTypes))try{Mu=Bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Mu}()?.createScriptURL(o)||o}class vr{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}class Ru extends vr{getTypeName(){return"HTML"}}class rg extends vr{getTypeName(){return"Style"}}class Lf extends vr{getTypeName(){return"Script"}}class Bf extends vr{getTypeName(){return"URL"}}class ku extends vr{getTypeName(){return"ResourceURL"}}function Bi(o){return o instanceof vr?o.changingThisBreaksApplicationSecurity:o}function No(o,a){const c=function og(o){return o instanceof vr&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${dt})`)}return c===a}function sg(o){return new Ru(o)}function y(o){return new rg(o)}function p(o){return new Lf(o)}function m(o){return new Bf(o)}function w(o){return new ku(o)}class O{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(mc(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class Y{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=mc(a),c}}const He=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function tt(o){return(o=String(o)).match(He)?o:"unsafe:"+o}function yt(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function pt(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const fi=yt("area,br,col,hr,img,wbr"),uo=yt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dl=yt("rp,rt"),Ou=pt(fi,pt(uo,yt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pt(dl,yt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pt(dl,uo)),Fu=yt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gc=pt(Fu,yt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cg=yt("script,style,template");class qy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!Ou.hasOwnProperty(c))return this.sanitizedSomething=!0,!cg.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,C=v.toLowerCase();if(!gc.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let x=g.value;Fu[C]&&(x=tt(x)),this.buf.push(" ",v,'="',IS(x),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();Ou.hasOwnProperty(c)&&!fi.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(IS(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Nu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ug=/([^\#-~ |!])/g;function IS(o){return o.replace(/&/g,"&amp;").replace(Nu,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(ug,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wy;function TS(o,a){let c=null;try{Wy=Wy||function I(o){const a=new Y(o);return function ce(){try{return!!(new window.DOMParser).parseFromString(mc(""),"text/html")}catch{return!1}}()?new O(a):a}(o);let d=a?String(a):"";c=Wy.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=Wy.getInertBodyElement(d)}while(d!==g);return mc((new qy).sanitizeChildren(Ew(c)||c))}finally{if(c){const d=Ew(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Ew(o){return"content"in o&&function Zy(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Ci=(()=>((Ci=Ci||{})[Ci.NONE=0]="NONE",Ci[Ci.HTML=1]="HTML",Ci[Ci.STYLE=2]="STYLE",Ci[Ci.SCRIPT=3]="SCRIPT",Ci[Ci.URL=4]="URL",Ci[Ci.RESOURCE_URL=5]="RESOURCE_URL",Ci))();function Uf(o){const a=jf();return a?a.sanitize(Ci.URL,o)||"":No(o,"URL")?Bi(o):tt(Se(o))}function Lo(o){const a=jf();if(a)return ig(a.sanitize(Ci.RESOURCE_URL,o)||"");if(No(o,"ResourceURL"))return ig(Bi(o));throw new fe(904,!1)}function Yy(o,a,c){return function kS(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?Lo:Uf}(a,c)(o)}function jf(){const o=Me();return o&&o[Ws]}const _c=new Cn("ENVIRONMENT_INITIALIZER"),sh=new Cn("INJECTOR",-1),Dw=new Cn("INJECTOR_DEF_TYPES");class Sw{get(a,c=Dn){if(c===Dn){const d=new Error(`NullInjectorError: No provider for ${de(a)}!`);throw d.name="NullInjectorError",d}return c}}function zf(o){return{\u0275providers:o}}function $f(...o){return{\u0275providers:Iw(0,o),\u0275fromNgModule:!0}}function Iw(o,...a){const c=[],d=new Set;let f;return is(a,g=>{const v=g;Qy(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&Tw(f,c),c}function Tw(o,a){for(let c=0;c<o.length;c++){const{providers:f}=o[c];Xy(f,g=>{a.push(g)})}}function Qy(o,a,c,d){if(!(o=K(o)))return!1;let f=null,g=xr(o);const v=!g&&rn(o);if(g||v){if(v&&!v.standalone)return!1;f=o}else{const x=o.ngModule;if(g=xr(x),!g)return!1;f=x}const C=d.has(f);if(v){if(C)return!1;if(d.add(f),v.dependencies){const x="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of x)Qy(T,a,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!C){let T;d.add(f);try{is(g.imports,k=>{Qy(k,a,c,d)&&(T||(T=[]),T.push(k))})}finally{}void 0!==T&&Tw(T,a)}if(!C){const T=fr(f)||(()=>new f);a.push({provide:f,useFactory:T,deps:Ye},{provide:Dw,useValue:f,multi:!0},{provide:_c,useValue:()=>$e(f),multi:!0})}const x=g.providers;null==x||C||Xy(x,k=>{a.push(k)})}}return f!==o&&void 0!==o.providers}function Xy(o,a){for(let c of o)xe(c)&&(c=c.\u0275providers),Array.isArray(c)?Xy(c,a):a(c)}const OS=Q({provide:String,useValue:Q});function Mw(o){return null!==o&&"object"==typeof o&&OS in o}function Da(o){return"function"==typeof o}const Jy=new Cn("Set Injector scope."),hg={},FS={};let ev;function fg(){return void 0===ev&&(ev=new Sw),ev}class Lu{}class Rw extends Lu{get destroyed(){return this._destroyed}constructor(a,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,iv(a,v=>this.processProvider(v)),this.records.set(sh,yc(void 0,this)),f.has("environment")&&this.records.set(Lu,yc(void 0,this));const g=this.records.get(Jy);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Dw.multi,Ye,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=qi(this),d=Pn(void 0);try{return a()}finally{qi(c),Pn(d)}}get(a,c=Dn,d=bt.Default){this.assertNotDestroyed(),d=At(d);const f=qi(this),g=Pn(void 0);try{if(!(d&bt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const x=function pg(o){return"function"==typeof o||"object"==typeof o&&o instanceof Cn}(a)&&vn(a);C=x&&this.injectableDefInScope(x)?yc(tv(a),hg):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(d&bt.Self?fg():this.parent).get(a,c=d&bt.Optional&&c===Dn?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Gi]=v[Gi]||[]).unshift(de(a)),f)throw v;return function j(o,a,c,d){const f=o[Gi];throw a[Co]&&f.unshift(a[Co]),o.message=function U(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==fn?o.slice(2):o;let f=de(a);if(Array.isArray(a))f=a.map(de).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):de(C)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(Pa,"\n  ")}`}("\n"+o.message,f,c,d),o[Ai]=f,o[Gi]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{Pn(g),qi(f)}}resolveInjectorInitializers(){const a=qi(this),c=Pn(void 0);try{const d=this.get(_c.multi,Ye,bt.Self);for(const f of d)f()}finally{qi(a),Pn(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(de(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(a){let c=Da(a=K(a))?a:K(a&&a.provide);const d=function kw(o){return Mw(o)?yc(void 0,o.useValue):yc(Ow(o),hg)}(a);if(Da(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=yc(void 0,hg,!0),f.factory=()=>Lt(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===hg&&(c.value=FS,c.value=c.factory()),"object"==typeof c.value&&c.value&&function nv(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=K(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function tv(o){const a=vn(o),c=null!==a?a.factory:fr(o);if(null!==c)return c;if(o instanceof Cn)throw new fe(204,!1);if(o instanceof Function)return function PS(o){const a=o.length;if(a>0)throw rs(a,"?"),new fe(204,!1);const c=function Er(o){const a=o&&(o[lr]||o[An]);return a?(function fs(o){if(o.hasOwnProperty("name"))return o.name;(""+o).match(/^function\s*([^\s(]+)/)}(o),a):null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new fe(204,!1)}function Ow(o,a,c){let d;if(Da(o)){const f=K(o);return fr(f)||tv(f)}if(Mw(o))d=()=>K(o.useValue);else if(function dg(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Lt(o.deps||[]));else if(function Aw(o){return!(!o||!o.useExisting)}(o))d=()=>$e(K(o.useExisting));else{const f=K(o&&(o.useClass||o.provide));if(!function Fw(o){return!!o.deps}(o))return fr(f)||tv(f);d=()=>new f(...Lt(o.deps))}return d}function yc(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function iv(o,a){for(const c of o)Array.isArray(c)?iv(c,a):c&&xe(c)?iv(c.\u0275providers,a):a(c)}class NS{}class Pw{}class Nw{resolveComponentFactory(a){throw function LS(o){const a=Error(`No component factory found for ${de(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let vc=(()=>{class o{}return o.NULL=new Nw,o})();function mg(){return Bu(ui(),Me())}function Bu(o,a){return new hl(Fi(o,a))}let hl=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=mg,o})();function Lw(o){return o instanceof hl?o.nativeElement:o}class Bw{}let VS=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function US(){const o=Me(),c=ci(ui().index,o);return(dr(c)?c:o)[Wt]}(),o})(),HS=(()=>{class o{}return o.\u0275prov=nt({token:o,providedIn:"root",factory:()=>null}),o})();class Vw{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const rv=new Vw("15.2.4"),ov={},sv="ngOriginalError";function av(o){return o[sv]}class qf{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&av(a);for(;c&&av(c);)c=av(c);return c||null}}function Sa(o){return o instanceof Function?o():o}function lv(o,a,c){let d=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===d||o.charCodeAt(f+g)<=32)return f}c=f+1}}const gg="ng-template";function $w(o,a,c){let d=0,f=!0;for(;d<o.length;){let g=o[d++];if("string"==typeof g&&f){const v=o[d++];if(c&&"class"===g&&-1!==lv(v.toLowerCase(),a,0))return!0}else{if(1===g){for(;d<o.length&&"string"==typeof(g=o[d++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Uu(o){return 4===o.type&&o.value!==gg}function cv(o,a,c){return a===(4!==o.type||c?o.value:gg)}function ZS(o,a,c){let d=4;const f=o.attrs||[],g=function qw(o){for(let a=0;a<o.length;a++)if(ra(o[a]))return a;return o.length}(f);let v=!1;for(let C=0;C<a.length;C++){const x=a[C];if("number"!=typeof x){if(!v)if(4&d){if(d=2|1&d,""!==x&&!cv(o,x,c)||""===x&&1===a.length){if(as(d))return!1;v=!0}}else{const T=8&d?x:a[++C];if(8&d&&null!==o.attrs){if(!$w(o.attrs,T,c)){if(as(d))return!1;v=!0}continue}const L=_g(8&d?"class":x,f,Uu(o),c);if(-1===L){if(as(d))return!1;v=!0;continue}if(""!==T){let $;$=L>g?"":f[L+1].toLowerCase();const ee=8&d?$:null;if(ee&&-1!==lv(ee,T,0)||2&d&&T!==$){if(as(d))return!1;v=!0}}}}else{if(!v&&!as(d)&&!as(x))return!1;if(v&&as(x))continue;v=!1,d=x|1&d}}return as(d)||v}function as(o){return 0==(1&o)}function _g(o,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let g=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=a[++f];for(;"string"==typeof C;)C=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function YS(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function Wf(o,a,c=!1){for(let d=0;d<a.length;d++)if(ZS(o,a[d],c))return!0;return!1}function KS(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function Ww(o,a){return o?":not("+a.trim()+")":a}function QS(o){let a=o[0],c=1,d=2,f="",g=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const C=o[++c];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!as(v)&&(a+=Ww(g,f),f=""),d=v,g=g||!as(d);c++}return""!==f&&(a+=Ww(g,f)),a}const Zt={};function Zw(o){vg(on(),Me(),Ki()+o,!1)}function vg(o,a,c,d){if(!d)if(3==(3&a[Ut])){const g=o.preOrderCheckHooks;null!==g&&au(a,g,c)}else{const g=o.preOrderHooks;null!==g&&ia(a,g,0,c)}Za(c)}function uv(o,a=null,c=null,d){const f=nI(o,a,c,d);return f.resolveInjectorInitializers(),f}function nI(o,a=null,c=null,d,f=new Set){const g=[c||Ye,$f(o)];return d=d||("object"==typeof o?void 0:de(o)),new Rw(g,a||fg(),d||null,f)}let lh=(()=>{class o{static create(c,d){if(Array.isArray(c))return uv({name:""},d,c,"");{const f=c.name??"";return uv({name:f},c.parent,c.providers,f)}}}return o.THROW_IF_NOT_FOUND=Dn,o.NULL=new Sw,o.\u0275prov=nt({token:o,providedIn:"any",factory:()=>$e(sh)}),o.__NG_ELEMENT_ID__=-1,o})();function uh(o,a=bt.Default){const c=Me();return null===c?$e(o,a):Mo(ui(),c,K(o),a)}function iC(){throw new Error("invalid")}function rC(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const g=c[d+1];if(-1!==g){const v=o.data[g];Yl(c[d]),v.contentQueries(2,a[g],g)}}}function pv(o,a,c,d,f,g,v,C,x,T,k){const L=a.blueprint.slice();return L[Dr]=f,L[Ut]=76|d,(null!==k||o&&1024&o[Ut])&&(L[Ut]|=1024),ea(L),L[wn]=L[Ba]=o,L[Rn]=c,L[La]=v||o&&o[La],L[Wt]=C||o&&o[Wt],L[Ws]=x||o&&o[Ws]||null,L[$r]=T||o&&o[$r]||null,L[Wn]=g,L[Yi]=function qm(){return Gm++}(),L[qc]=k,L[vi]=2==a.type?o[vi]:L,L}function Hu(o,a,c,d,f){let g=o.data[a];if(null===g)g=function Eg(o,a,c,d,f){const g=eu(),v=Ad(),x=o.data[a]=function wc(o,a,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,a,d,f);return null===o.firstChild&&(o.firstChild=x),null!==g&&(v?null==g.child&&null!==x.parent&&(g.child=x):null===g.next&&(g.next=x,x.prev=g)),x}(o,a,c,d,f),function Wl(){return Ot.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const v=function ta(){const o=Ot.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return pr(g,!0),g}function Fs(o,a,c,d){if(0===c)return-1;const f=a.length;for(let g=0;g<c;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function ho(o,a,c){Fd(a);try{const d=o.viewQuery;null!==d&&hh(1,d,c);const f=o.template;null!==f&&mv(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&rC(o,a),o.staticViewQueries&&hh(2,o.viewQuery,c);const g=o.components;null!==g&&function dI(o,a){for(let c=0;c<a.length;c++)bC(o,a[c])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[Ut]&=-5,df()}}function xg(o,a,c,d){const f=a[Ut];if(128!=(128&f)){Fd(a);try{ea(a),function qa(o){return Ot.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&mv(o,a,c,2,d);const v=3==(3&f);if(v){const T=o.preOrderCheckHooks;null!==T&&au(a,T,null)}else{const T=o.preOrderHooks;null!==T&&ia(a,T,0,null),Ds(a,0)}if(function vC(o){for(let a=lc(o);null!==a;a=vu(a)){if(!a[Pl])continue;const c=a[Ys];for(let d=0;d<c.length;d++){const f=c[d];512&f[Ut]||Jc(f[wn],1),f[Ut]|=512}}}(a),function yC(o){for(let a=lc(o);null!==a;a=vu(a))for(let c=bi;c<a.length;c++){const d=a[c],f=d[Je];Js(d)&&xg(f,d,f.template,d[Rn])}}(a),null!==o.contentQueries&&rC(o,a),v){const T=o.contentCheckHooks;null!==T&&au(a,T)}else{const T=o.contentHooks;null!==T&&ia(a,T,1),Ds(a,1)}!function uI(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Za(~f);else{const g=f,v=c[++d],C=c[++d];Od(v,g),C(2,a[g])}}}finally{Za(-1)}}(o,a);const C=o.components;null!==C&&function oC(o,a){for(let c=0;c<a.length;c++)Zr(o,a[c])}(a,C);const x=o.viewQuery;if(null!==x&&hh(2,x,d),v){const T=o.viewCheckHooks;null!==T&&au(a,T)}else{const T=o.viewHooks;null!==T&&ia(a,T,2),Ds(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Ut]&=-41,512&a[Ut]&&(a[Ut]&=-513,Jc(a[wn],-1))}finally{df()}}}function mv(o,a,c,d,f){const g=Ki(),v=2&d;try{Za(-1),v&&a.length>en&&vg(o,a,en,!1),ln(v?2:0,f),c(d,f)}finally{Za(g),ln(v?3:1,f)}}function gv(o,a,c){if(xo(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function _v(o,a,c){$l()&&(function fC(o,a,c,d){const f=c.directiveStart,g=c.directiveEnd;Nl(c)&&function _C(o,a,c){const d=Fi(a,o),f=dh(c),g=o[La],v=Iv(o,pv(o,f,null,c.onPush?32:16,d,a,g,g.createRenderer(d,c),null,null,null));o[a.index]=v}(a,c,o.data[f+c.componentOffset]),o.firstCreatePass||ca(c,a),_r(d,a);const v=c.initialInputs;for(let C=f;C<g;C++){const x=o.data[C],T=Ts(a,o,C,c);_r(T,a),null!==v&&Dv(0,C-f,T,x,0,v),Oi(x)&&(ci(c.index,a)[Rn]=Ts(a,o,C,c))}}(o,a,c,Fi(c,a)),64==(64&c.flags)&&Cv(o,a,c))}function yv(o,a,c=Fi){const d=a.localNames;if(null!==d){let f=a.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?c(a,o):o[v];o[f++]=C}}}function dh(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=vv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function vv(o,a,c,d,f,g,v,C,x,T){const k=en+d,L=k+f,$=function bc(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:Zt);return c}(k,L),ee="function"==typeof T?T():T;return $[Je]={type:o,blueprint:$,template:c,queries:null,viewQuery:C,declTNode:a,data:$.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:ee,incompleteFirstPass:!1}}function br(o,a,c,d){const f=Rg(a);null===c?f.push(d):(f.push(c),o.firstCreatePass&&CC(o).push(d,f.length-1))}function aC(o,a,c,d){for(let f in o)if(o.hasOwnProperty(f)){c=null===c?{}:c;const g=o[f];null===d?lC(c,a,f,g):d.hasOwnProperty(f)&&lC(c,a,d[f],g)}return c}function lC(o,a,c,d){o.hasOwnProperty(c)?o[c].push(a,d):o[c]=[a,d]}function fo(o,a,c,d,f,g,v,C){const x=Fi(a,c);let k,T=a.inputs;!C&&null!=T&&(k=T[d])?(EC(o,c,k,d,f),Nl(a)&&bv(c,a.index)):3&a.type&&(d=function uC(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,g.setProperty(x,d,f))}function bv(o,a){const c=ci(a,o);16&c[Ut]||(c[Ut]|=32)}function Dg(o,a,c,d){if($l()){const f=null===d?null:{"":-1},g=function fI(o,a){const c=o.directiveRegistry;let d=null,f=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];if(Wf(a,v.selectors,!1))if(d||(d=[]),Oi(v))if(null!==v.findHostDirectiveDefs){const C=[];f=f||new Map,v.findHostDirectiveDefs(v,C,f),d.unshift(...C,v),Ig(o,a,C.length)}else d.unshift(v),Ig(o,a,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,d,f),d.push(v)}return null===d?null:[d,f]}(o,c);let v,C;null===g?v=C=null:[v,C]=g,null!==v&&wv(o,a,c,v,f,C),f&&function mC(o,a,c){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=c[a[f+1]];if(null==g)throw new fe(-301,!1);d.push(a[f],g)}}}(c,d,f)}c.mergedAttrs=Jo(c.mergedAttrs,c.attrs)}function wv(o,a,c,d,f,g){for(let T=0;T<d.length;T++)ua(ca(c,a),o,d[T].type);!function gC(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,d.length);for(let T=0;T<d.length;T++){const k=d[T];k.providersResolver&&k.providersResolver(k)}let v=!1,C=!1,x=Fs(o,a,d.length,null);for(let T=0;T<d.length;T++){const k=d[T];c.mergedAttrs=Jo(c.mergedAttrs,k.hostAttrs),xv(o,c,a,x,k),Ev(x,k,f),null!==k.contentQueries&&(c.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=64);const L=k.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),v=!0),!C&&(L.ngOnChanges||L.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),C=!0),x++}!function cC(o,a,c){const f=a.directiveEnd,g=o.data,v=a.attrs,C=[];let x=null,T=null;for(let k=a.directiveStart;k<f;k++){const L=g[k],$=c?c.get(L):null,ge=$?$.outputs:null;x=aC(L.inputs,k,x,$?$.inputs:null),T=aC(L.outputs,k,T,ge);const Be=null===x||null===v||Uu(a)?null:Mg(x,k,v);C.push(Be)}null!==x&&(x.hasOwnProperty("class")&&(a.flags|=8),x.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=C,a.inputs=x,a.outputs=T}(o,c,g)}function Cv(o,a,c){const d=c.directiveStart,f=c.directiveEnd,g=c.index,v=function nu(){return Ot.lFrame.currentDirectiveIndex}();try{Za(g);for(let C=d;C<f;C++){const x=o.data[C],T=a[C];Zl(C),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&pC(x,T)}}finally{Za(-1),Zl(v)}}function pC(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Ig(o,a,c){a.componentOffset=c,(o.components||(o.components=[])).push(a.index)}function Ev(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;Oi(a)&&(c[""]=o)}}function xv(o,a,c,d,f){o.data[d]=f;const g=f.factory||(f.factory=fr(f.type)),v=new Ya(g,Oi(f),uh);o.blueprint[d]=v,c[d]=v,function Sg(o,a,c,d,f){const g=f.hostBindings;if(g){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const C=~a.index;(function hC(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(v)!=C&&v.push(C),v.push(c,d,g)}}(o,a,d,Fs(o,c,f.hostVars,Zt),f)}function Ps(o,a,c,d,f,g){const v=Fi(o,a);!function Tg(o,a,c,d,f,g,v){if(null==g)o.removeAttribute(a,f,c);else{const C=null==v?Se(g):v(g,d||"",f);o.setAttribute(a,f,C,c)}}(a[Wt],v,g,o.value,c,d,f)}function Dv(o,a,c,d,f,g){const v=g[a];if(null!==v){const C=d.setInput;for(let x=0;x<v.length;){const T=v[x++],k=v[x++],L=v[x++];null!==C?d.setInput(c,L,T,k):c[k]=L}}}function Mg(o,a,c){let d=null,f=0;for(;f<c.length;){const g=c[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===d&&(d=[]);const v=o[g];for(let C=0;C<v.length;C+=2)if(v[C]===a){d.push(g,v[C+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function Sv(o,a,c,d){return[o,!0,!1,a,null,0,d,c,null,null]}function Zr(o,a){const c=ci(a,o);if(Js(c)){const d=c[Je];48&c[Ut]?xg(d,c,d.template,c[Rn]):c[to]>0&&Ns(c)}}function Ns(o){for(let d=lc(o);null!==d;d=vu(d))for(let f=bi;f<d.length;f++){const g=d[f];if(Js(g))if(512&g[Ut]){const v=g[Je];xg(v,g,v.template,g[Rn])}else g[to]>0&&Ns(g)}const c=o[Je].components;if(null!==c)for(let d=0;d<c.length;d++){const f=ci(c[d],o);Js(f)&&f[to]>0&&Ns(f)}}function bC(o,a){const c=ci(a,o),d=c[Je];(function Xk(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),ho(d,c,c[Rn])}function Iv(o,a){return o[ys]?o[Yo][ur]=a:o[ys]=a,o[Yo]=a,a}function Xf(o){for(;o;){o[Ut]|=32;const a=wa(o);if(Ed(o)&&!a)return o;o=a}return null}function Ag(o,a,c,d=!0){const f=a[La];f.begin&&f.begin();try{xg(o,a,o.template,c)}catch(v){throw d&&mI(a,v),v}finally{f.end&&f.end()}}function hh(o,a,c){Yl(0),a(o,c)}function Rg(o){return o[_s]||(o[_s]=[])}function CC(o){return o.cleanup||(o.cleanup=[])}function mI(o,a){const c=o[$r],d=c?c.get(qf,null):null;d&&d.handleError(a)}function EC(o,a,c,d,f){for(let g=0;g<c.length;){const v=c[g++],C=c[g++],x=a[v],T=o.data[v];null!==T.setInput?T.setInput(x,f,d,C):x[C]=f}}function Cc(o,a,c){const d=ro(a,o);!function kf(o,a,c){o.setValue(a,c)}(o[Wt],d,c)}function Tv(o,a,c){let d=c?o.styles:null,f=c?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?g=C:1==g?f=ue(f,C):2==g&&(d=ue(d,C+": "+a[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}function Mv(o,a,c,d,f=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&d.push(Ln(g)),hr(g))for(let C=bi;C<g.length;C++){const x=g[C],T=x[Je].firstChild;null!==T&&Mv(x[Je],x,T,d)}const v=c.type;if(8&v)Mv(o,a,c.child,d);else if(32&v){const C=Kd(c,a);let x;for(;x=C();)d.push(x)}else if(16&v){const C=al(a,c);if(Array.isArray(C))d.push(...C);else{const x=wa(a[vi]);Mv(x[Je],x,C,d,!0)}}c=f?c.projectionNext:c.next}return d}class kg{get rootNodes(){const a=this._lView,c=a[Je];return Mv(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(a){this._lView[Rn]=a}get destroyed(){return 128==(128&this._lView[Ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[wn];if(hr(a)){const c=a[Sr],d=c?c.indexOf(this):-1;d>-1&&(wu(a,d),tl(c,d))}this._attachedToViewContainer=!1}Cu(this._lView[Je],this._lView)}onDestroy(a){br(this._lView[Je],this._lView,null,a)}markForCheck(){Xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ut]&=-65}reattach(){this._lView[Ut]|=64}detectChanges(){Ag(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Uy(o,a){cl(o,a,a[Wt],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=a}}class gI extends kg{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Ag(a[Je],a,a[Rn],!1)}checkNoChanges(){}get context(){return null}}class Av extends vc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=rn(a);return new ju(c,this.ngModule)}}function xC(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class yI{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=At(d);const f=this.injector.get(a,ov,d);return f!==ov||c===ov?f:this.parentInjector.get(a,c,d)}}class ju extends Pw{get inputs(){return xC(this.componentDef.inputs)}get outputs(){return xC(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function XS(o){return o.map(QS).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,f){let g=(f=f||this.ngModule)instanceof Lu?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new yI(a,g):a,C=v.get(Bw,null);if(null===C)throw new fe(407,!1);const x=v.get(HS,null),T=C.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",L=d?function sC(o,a,c){return o.selectRootElement(a,c===te.ShadowDom)}(T,d,this.componentDef.encapsulation):bu(T,k,function _I(o){const a=o.toLowerCase();return"svg"===a?Hl:"math"===a?"math":null}(k)),$=this.componentDef.onPush?288:272,ee=vv(0,null,null,1,0,null,null,null,null,null),ge=pv(null,ee,null,$,null,null,C,T,x,v,null);let Be,Xe;Fd(ge);try{const lt=this.componentDef;let Ft,ke=null;lt.findHostDirectiveDefs?(Ft=[],ke=new Map,lt.findHostDirectiveDefs(lt,Ft,ke),Ft.push(lt)):Ft=[lt];const Nt=function fh(o,a){const c=o[Je],d=en;return o[d]=a,Hu(c,d,2,"#host",null)}(ge,L),pn=function ep(o,a,c,d,f,g,v,C){const x=f[Je];!function kv(o,a,c,d){for(const f of o)a.mergedAttrs=Jo(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(Tv(a,a.mergedAttrs,!0),null!==c&&Iu(d,c,a))}(d,o,a,v);const T=g.createRenderer(a,c),k=pv(f,dh(c),null,c.onPush?32:16,f[o.index],o,g,T,C||null,null,null);return x.firstCreatePass&&Ig(x,o,d.length-1),Iv(f,k),f[o.index]=k}(Nt,L,lt,Ft,ge,C,T);Xe=Qc(ee,en),L&&function Ov(o,a,c,d){if(d)so(o,c,["ng-version",rv.full]);else{const{attrs:f,classes:g}=function yg(o){const a=[],c=[];let d=1,f=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++d]):8===f&&c.push(g);else{if(!as(f))break;f=g}d++}return{attrs:a,classes:c}}(a.selectors[0]);f&&so(o,c,f),g&&g.length>0&&pc(o,c,g.join(" "))}}(T,lt,L,d),void 0!==c&&function bI(o,a,c){const d=o.projection=[];for(let f=0;f<a.length;f++){const g=c[f];d.push(null!=g?Array.from(g):null)}}(Xe,this.ngContentSelectors,c),Be=function vI(o,a,c,d,f,g){const v=ui(),C=f[Je],x=Fi(v,f);wv(C,f,v,c,null,d);for(let k=0;k<c.length;k++)_r(Ts(f,C,v.directiveStart+k,v),f);Cv(C,f,v),x&&_r(x,f);const T=Ts(f,C,v.directiveStart+v.componentOffset,v);if(o[Rn]=f[Rn]=T,null!==g)for(const k of g)k(T,a);return gv(C,v,o),T}(pn,lt,Ft,ke,ge,[Og]),ho(ee,ge,null)}finally{df()}return new Jf(this.componentType,Be,Bu(Xe,ge),ge,Xe)}}class Jf extends NS{constructor(a,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new gI(f),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const g=this._rootLView;EC(g[Je],g,f,a,c),bv(g,this._tNode.index)}}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Og(){const o=ui();su(Me()[Je],o)}function Fg(o){let a=function Fv(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let f;if(Oi(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new fe(903,!1);f=a.\u0275dir}if(f){if(c){d.push(f);const v=o;v.inputs=tp(o.inputs),v.declaredInputs=tp(o.declaredInputs),v.outputs=tp(o.outputs);const C=f.hostBindings;C&&wI(o,C);const x=f.viewQuery,T=f.contentQueries;if(x&&eO(o,x),T&&tO(o,T),me(o.inputs,f.inputs),me(o.declaredInputs,f.declaredInputs),me(o.outputs,f.outputs),Oi(f)&&f.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(o),C===Fg&&(c=!1)}}a=Object.getPrototypeOf(a)}!function DC(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Jo(f.hostAttrs,c=Jo(c,f.hostAttrs))}}(d)}function tp(o){return o===it?{}:o===Ye?[]:o}function eO(o,a){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function tO(o,a){const c=o.contentQueries;o.contentQueries=c?(d,f,g)=>{a(d,f,g),c(d,f,g)}:a}function wI(o,a){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}function Bg(o){return!!Nv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Nv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ia(o,a,c){return o[a]=c}function Fr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function pl(o,a,c,d){const f=Fr(o,a,c);return Fr(o,a+1,d)||f}function rp(o,a,c,d){const f=Me();return Fr(f,Wa(),a)&&(on(),Ps(Sn(),f,o,a,c,d)),rp}function Ec(o,a,c,d,f,g){const C=pl(o,function mr(){return Ot.lFrame.bindingIndex}(),c,f);return Tr(2),C?a+Se(c)+d+Se(f)+g:Zt}function AC(o,a,c,d,f,g,v,C){const x=Me(),T=on(),k=o+en,L=T.firstCreatePass?function MC(o,a,c,d,f,g,v,C,x){const T=a.consts,k=Hu(a,o,4,v||null,So(T,C));Dg(a,c,k,So(T,x)),su(a,k);const L=k.tView=vv(2,k,d,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,T);return null!==a.queries&&(a.queries.template(a,k),L.queries=a.queries.embeddedTView(k)),k}(k,T,x,a,c,d,f,g,v):T.data[k];pr(L,!1);const $=x[Wt].createComment("");nh(T,x,$,L),_r($,x),Iv(x,x[k]=Sv($,x,$,L)),bs(L)&&_v(T,x,L),null!=v&&yv(x,L,C)}function Ug(o){return oo(function Rd(){return Ot.lFrame.contextLView}(),en+o)}function Uv(o,a,c){const d=Me();return Fr(d,Wa(),a)&&fo(on(),Sn(),d,o,a,d[Wt],c,!1),Uv}function Hv(o,a,c,d,f){const v=f?"class":"style";EC(o,c,a.inputs[v],v,d)}function Hg(o,a,c,d){const f=Me(),g=on(),v=en+o,C=f[Wt],x=g.firstCreatePass?function kC(o,a,c,d,f,g){const v=a.consts,x=Hu(a,o,2,d,So(v,f));return Dg(a,c,x,So(v,g)),null!==x.attrs&&Tv(x,x.attrs,!1),null!==x.mergedAttrs&&Tv(x,x.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,x),x}(v,g,f,a,c,d):g.data[v],T=f[v]=bu(C,a,function Pm(){return Ot.lFrame.currentNamespace}()),k=bs(x);return pr(x,!0),Iu(C,T,x),32!=(32&x.flags)&&nh(g,f,T,x),0===function Md(){return Ot.lFrame.elementDepthCount}()&&_r(T,f),function Ga(){Ot.lFrame.elementDepthCount++}(),k&&(_v(g,f,x),gv(g,x,f)),null!==d&&yv(f,x),Hg}function jv(){let o=ui();Ad()?na():(o=o.parent,pr(o,!1));const a=o;!function lf(){Ot.lFrame.elementDepthCount--}();const c=on();return c.firstCreatePass&&(su(c,o),xo(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Bm(o){return 0!=(8&o.flags)}(a)&&Hv(c,a,Me(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Ar(o){return 0!=(16&o.flags)}(a)&&Hv(c,a,Me(),a.stylesWithoutHost,!1),jv}function jg(o,a,c,d){return Hg(o,a,c,d),jv(),jg}function ap(o,a,c){const d=Me(),f=on(),g=o+en,v=f.firstCreatePass?function MI(o,a,c,d,f){const g=a.consts,v=So(g,d),C=Hu(a,o,8,"ng-container",v);return null!==v&&Tv(C,v,!0),Dg(a,c,C,So(g,f)),null!==a.queries&&a.queries.elementStart(a,C),C}(g,f,d,a,c):f.data[g];pr(v,!0);const C=d[g]=d[Wt].createComment("");return nh(f,d,C,v),_r(C,d),bs(v)&&(_v(f,d,v),gv(f,v,d)),null!=c&&yv(d,v),ap}function zg(){let o=ui();const a=on();return Ad()?na():(o=o.parent,pr(o,!1)),a.firstCreatePass&&(su(a,o),xo(o)&&a.queries.elementEnd(o)),zg}function $g(o,a,c){return ap(o,a,c),zg(),$g}function Gg(){return Me()}function zv(o){return!!o&&"function"==typeof o.then}function qg(o){return!!o&&"function"==typeof o.subscribe}const OC=qg;function yh(o,a,c,d){const f=Me(),g=on(),v=ui();return function PC(o,a,c,d,f,g,v){const C=bs(d),T=o.firstCreatePass&&CC(o),k=a[Rn],L=Rg(a);let $=!0;if(3&d.type||v){const Be=Fi(d,a),Xe=v?v(Be):Be,lt=L.length,Ft=v?Nt=>v(Ln(Nt[d.index])):d.index;let ke=null;if(!v&&C&&(ke=function $v(o,a,c,d){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===d){const C=a[_s],x=f[g+2];return C.length>x?C[x]:null}"string"==typeof v&&(g+=2)}return null}(o,a,f,d.index)),null!==ke)(ke.__ngLastListenerFn__||ke).__ngNextListenerFn__=g,ke.__ngLastListenerFn__=g,$=!1;else{g=Gv(d,a,k,g,!1);const Nt=c.listen(Xe,f,g);L.push(g,Nt),T&&T.push(f,Ft,lt,lt+1)}}else g=Gv(d,a,k,g,!1);const ee=d.outputs;let ge;if($&&null!==ee&&(ge=ee[f])){const Be=ge.length;if(Be)for(let Xe=0;Xe<Be;Xe+=2){const pn=a[ge[Xe]][ge[Xe+1]].subscribe(g),_i=L.length;L.push(g,pn),T&&T.push(f,d.index,_i,-(_i+1))}}}(g,f,f[Wt],v,o,a,d),yh}function Wg(o,a,c,d){try{return ln(6,a,c),!1!==c(d)}catch(f){return mI(o,f),!1}finally{ln(7,a,c)}}function Gv(o,a,c,d,f){return function g(v){if(v===Function)return d;Xf(o.componentOffset>-1?ci(o.index,a):a);let x=Wg(a,c,d,v),T=g.__ngNextListenerFn__;for(;T;)x=Wg(a,c,T,v)&&x,T=T.__ngNextListenerFn__;return f&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}function NC(o=1){return function Pd(o){return(Ot.lFrame.contextLView=function Om(o,a){for(;o>0;)a=a[Ba],o--;return a}(o,Ot.lFrame.contextLView))[Rn]}(o)}function LC(o,a){let c=null;const d=function Gw(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===d?Wf(o,g,!0):KS(d,g))return f}else c=f}return c}function BC(o){const a=Me()[vi][Wn];if(!a.projection){const d=a.projection=rs(o?o.length:1,null),f=d.slice();let g=a.child;for(;null!==g;){const v=o?LC(g,o):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function qv(o,a=0,c){const d=Me(),f=on(),g=Hu(f,en+o,16,null,c||null);null===g.projection&&(g.projection=a),na(),32!=(32&g.flags)&&function Jm(o,a,c){Ea(a[Wt],0,a,c,zy(o,c,a),Ff(c.parent||a[Wn],c,a))}(f,d,g)}function cp(o,a){return o<<17|a<<2}function po(o){return o>>17&32767}function Yv(o){return 2|o}function xc(o){return(131068&o)>>2}function Kv(o,a){return-131069&o|a<<2}function up(o){return 1|o}function Qv(o,a,c,d,f){const g=o[c+1],v=null===a;let C=d?po(g):xc(g),x=!1;for(;0!==C&&(!1===x||v);){const k=o[C+1];PI(o[C],a)&&(x=!0,o[C+1]=d?up(k):Yv(k)),C=d?po(k):xc(k)}x&&(o[c+1]=d?Yv(g):up(g))}function PI(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&qe(o,a)>=0}function Jv(o,a,c){return Vs(o,a,c,!1),Jv}function eb(o,a){return Vs(o,a,null,!0),eb}function Vs(o,a,c,d){const f=Me(),g=on(),v=Tr(2);g.firstUpdatePass&&function YC(o,a,c,d){const f=o.data;if(null===f[c+1]){const g=f[Ki()],v=function VI(o,a){return a>=o.expandoStartIndex}(o,c);(function KC(o,a){return 0!=(o.flags&(a?8:16))})(g,d)&&null===a&&!v&&(a=!1),a=function pe(o,a,c,d){const f=function xs(o){const a=Ot.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=hp(c=dn(null,o,a,c,d),a.attrs,d),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(c=dn(f,o,a,c,d),null===g){let x=function qu(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==xc(d))return o[po(d)]}(o,a,d);void 0!==x&&Array.isArray(x)&&(x=dn(null,o,a,x[1],d),x=hp(x,a.attrs,d),function Yg(o,a,c,d){o[po(c?a.classBindings:a.styleBindings)]=d}(o,a,d,x))}else g=function Dc(o,a,c){let d;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)d=hp(d,o[g].hostAttrs,c);return hp(d,a.attrs,c)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),c}(f,g,a,d),function GC(o,a,c,d,f,g){let v=g?a.classBindings:a.styleBindings,C=po(v),x=xc(v);o[d]=c;let k,T=!1;if(Array.isArray(c)?(k=c[1],(null===k||qe(c,k)>0)&&(T=!0)):k=c,f)if(0!==x){const $=po(o[C+1]);o[d+1]=cp($,C),0!==$&&(o[$+1]=Kv(o[$+1],d)),o[C+1]=function $C(o,a){return 131071&o|a<<17}(o[C+1],d)}else o[d+1]=cp(C,0),0!==C&&(o[C+1]=Kv(o[C+1],d)),C=d;else o[d+1]=cp(x,0),0===C?C=d:o[x+1]=Kv(o[x+1],d),x=d;T&&(o[d+1]=Yv(o[d+1])),Qv(o,k,d,!0),Qv(o,k,d,!1),function FI(o,a,c,d,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&qe(g,a)>=0&&(c[d+1]=up(c[d+1]))}(a,k,o,d,g),v=cp(C,x),g?a.classBindings=v:a.styleBindings=v}(f,g,a,c,v,d)}}(g,o,v,d),a!==Zt&&Fr(f,v,a)&&function zt(o,a,c,d,f,g,v,C){if(!(3&a.type))return;const x=o.data,T=x[C+1],k=function kI(o){return 1==(1&o)}(T)?fp(x,a,c,f,xc(T),v):void 0;Wu(k)||(Wu(g)||function RI(o){return 2==(2&o)}(T)&&(g=fp(x,null,c,f,C,v)),function yr(o,a,c,d,f){if(a)f?o.addClass(c,d):o.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Or.DashCase;null==f?o.removeStyle(c,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Or.Important),o.setStyle(c,d,f,g))}}(d,v,ro(Ki(),c),f,g))}(g,g.data[Ki()],f,f[Wt],o,f[v+1]=function pp(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=de(Bi(o)))),o}(a,c),d,v)}function dn(o,a,c,d,f){let g=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(g=a[C],d=hp(d,g.hostAttrs,f),g!==o);)C++;return null!==o&&(c.directiveStylingLast=C),d}function hp(o,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Qt(o,v,!!c||a[++g]))}return void 0===o?null:o}function fp(o,a,c,d,f,g){const v=null===a;let C;for(;f>0;){const x=o[f],T=Array.isArray(x),k=T?x[1]:x,L=null===k;let $=c[f+1];$===Zt&&($=L?Ye:void 0);let ee=L?ao($,d):k===d?$:void 0;if(T&&!Wu(ee)&&(ee=ao(x,d)),Wu(ee)&&(C=ee,v))return C;const ge=o[f+1];f=v?po(ge):xc(ge)}if(null!==a){let x=g?a.residualClasses:a.residualStyles;null!=x&&(C=ao(x,d))}return C}function Wu(o){return void 0!==o}function Kg(o,a=""){const c=Me(),d=on(),f=o+en,g=d.firstCreatePass?Hu(d,f,1,a,null):d.data[f],v=c[f]=function cc(o,a){return o.createText(a)}(c[Wt],a);nh(d,c,v,g),pr(g,!1)}function ib(o){return Qg("",o,""),ib}function Qg(o,a,c){const d=Me(),f=function $u(o,a,c,d){return Fr(o,Wa(),c)?a+Se(c)+d:Zt}(d,o,a,c);return f!==Zt&&Cc(d,Ki(),f),Qg}function rb(o,a,c,d,f){const g=Me(),v=Ec(g,o,a,c,d,f);return v!==Zt&&Cc(g,Ki(),v),rb}function ub(o,a,c){const d=Me();return Fr(d,Wa(),a)&&fo(on(),Sn(),d,o,a,d[Wt],c,!0),ub}const Zu=void 0;var s_=["en",[["a","p"],["AM","PM"],Zu],[["AM","PM"],Zu,Zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zu,"{1} 'at' {0}",Zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $I(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Sc={};function a_(o){const a=function db(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=l_(a);if(c)return c;const d=a.split("-")[0];if(c=l_(d),c)return c;if("en"===d)return s_;throw new fe(701,!1)}function gp(o){return a_(o)[Mt.PluralCase]}function l_(o){return o in Sc||(Sc[o]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[o]),Sc[o]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const Ch="en-US";let c_=Ch;function Db(o,a,c,d,f){if(o=K(o),Array.isArray(o))for(let g=0;g<o.length;g++)Db(o[g],a,c,d,f);else{const g=on(),v=Me();let C=Da(o)?o:K(o.provide),x=Ow(o);const T=ui(),k=1048575&T.providerIndexes,L=T.directiveStart,$=T.providerIndexes>>20;if(Da(o)||!o.multi){const ee=new Ya(x,f,uh),ge=Ib(C,a,f?k:k+$,L);-1===ge?(ua(ca(T,v),g,C),Sb(g,o,a.length),a.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(ee),v.push(ee)):(c[ge]=ee,v[ge]=ee)}else{const ee=Ib(C,a,k+$,L),ge=Ib(C,a,k,k+$),Xe=ge>=0&&c[ge];if(f&&!Xe||!f&&!(ee>=0&&c[ee])){ua(ca(T,v),g,C);const lt=function IE(o,a,c,d,f){const g=new Ya(o,c,uh);return g.multi=[],g.index=a,g.componentProviders=0,SE(g,f,d&&!c),g}(f?Ic:Mp,c.length,f,d,x);!f&&Xe&&(c[ge].providerFactory=lt),Sb(g,o,a.length,0),a.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(lt),v.push(lt)}else Sb(g,o,ee>-1?ee:ge,SE(c[f?ge:ee],x,!f&&d));!f&&d&&Xe&&c[ge].componentProviders++}}}function Sb(o,a,c,d){const f=Da(a),g=function ah(o){return!!o.useClass}(a);if(f||g){const x=(g?K(a.useClass):a).prototype.ngOnDestroy;if(x){const T=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const k=T.indexOf(c);-1===k?T.push(c,[d,x]):T[k+1].push(d,x)}else T.push(c,x)}}}function SE(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Ib(o,a,c,d){for(let f=c;f<d;f++)if(a[f]===o)return f;return-1}function Mp(o,a,c,d){return E_(this.multi,[])}function Ic(o,a,c,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Ts(c,c[Je],this.providerFactory.index,d);g=C.slice(0,v),E_(f,g);for(let x=v;x<C.length;x++)g.push(C[x])}else g=[],E_(f,g);return g}function E_(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Tb(o,a=[]){return c=>{c.providersResolver=(d,f)=>function DE(o,a,c){const d=on();if(d.firstCreatePass){const f=Oi(o);Db(c,d.data,d.blueprint,f,!0),Db(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class Us{}class TE{}function rT(o,a){return new ME(o,a??null)}class ME extends Us{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Av(this);const d=li(a);this._bootstrapComponents=Sa(d.bootstrap),this._r3Injector=nI(a,c,[{provide:Us,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],de(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class x_ extends TE{constructor(a){super(),this.moduleType=a}create(a){return new ME(this.moduleType,a)}}class AE extends Us{constructor(a,c,d){super(),this.componentFactoryResolver=new Av(this),this.instance=null;const f=new Rw([...a,{provide:Us,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],c||fg(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Ap(o,a,c=null){return new AE(o,a,c).injector}let Mb=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=Iw(0,c.type),f=d.length>0?Ap([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=nt({token:o,providedIn:"environment",factory:()=>new o($e(Lu))}),o})();function Ab(o){o.getStandaloneInjector=a=>a.get(Mb).getOrCreateStandaloneInjector(o)}function Ob(o,a,c,d){return function Pb(o,a,c,d,f,g){const v=a+c;return Fr(o,v,f)?Ia(o,v+1,g?d.call(g,f):d(f)):bl(o,v+1)}(Me(),zn(),o,a,c,d)}function bl(o,a){const c=o[a];return c===Zt?void 0:c}function VE(o,a){const c=on();let d;const f=o+en;c.firstCreatePass?(d=function UE(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}}(a,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=fr(d.type)),v=Pn(uh);try{const C=aa(!1),x=g();return aa(C),function RC(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}(c,Me(),f,x),x}finally{Pn(v)}}function Lb(o,a,c,d){const f=o+en,g=Me(),v=oo(g,f);return function Tc(o,a){return o[Je].data[a].pure}(g,f)?function R_(o,a,c,d,f,g,v){const C=a+c;return pl(o,C,f,g)?Ia(o,C+2,v?d.call(v,f,g):d(f,g)):bl(o,C+2)}(g,zn(),a,v.transform,c,d,v):v.transform(c,d)}function O_(o){return a=>{setTimeout(o,void 0,a)}}const Lr=class zE extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let f=a,g=c||(()=>null),v=d;if(a&&"object"==typeof a){const x=a;f=x.next?.bind(x),g=x.error?.bind(x),v=x.complete?.bind(x)}this.__isAsync&&(g=O_(g),f&&(f=O_(f)),v&&(v=O_(v)));const C=super.subscribe({next:f,error:g,complete:v});return a instanceof J.w0&&a.add(C),C}};function $E(){return this._results[Symbol.iterator]()}class Fp{get changes(){return this._changes||(this._changes=new Lr)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Fp.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=$E)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=function Ni(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function pa(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],g=a[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Rh=(()=>{class o{}return o.__NG_ELEMENT_ID__=Vo,o})();const GE=Rh,F_=class extends GE{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a,c){const d=this._declarationTContainer.tView,f=pv(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,c||null);f[Zs]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Zi];return null!==v&&(f[Zi]=v.createEmbeddedView(d)),ho(d,f,a),new kg(f)}};function Vo(){return Pp(ui(),Me())}function Pp(o,a){return 4&o.type?new F_(a,o,Bu(o,a)):null}let Np=(()=>{class o{}return o.__NG_ELEMENT_ID__=kh,o})();function kh(){return WE(ui(),Me())}const dT=Np,qE=class extends dT{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return Bu(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){const a=ts(this._hostTNode,this._hostLView);if(uu(a)){const c=sa(a,this._hostLView),d=oa(a);return new Pi(c[Je].data[d+8],c)}return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=P_(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-bi}createEmbeddedView(a,c,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const v=a.createEmbeddedView(c||{},g);return this.insert(v,f),v}createComponent(a,c,d,f,g){const v=a&&!function Ro(o){return"function"==typeof o}(a);let C;if(v)C=c;else{const L=c||{};C=L.index,d=L.injector,f=L.projectableNodes,g=L.environmentInjector||L.ngModuleRef}const x=v?a:new ju(rn(a)),T=d||this.parentInjector;if(!g&&null==x.ngModule){const $=(v?T:this.parentInjector).get(Lu,null);$&&(g=$)}const k=x.create(T,f,void 0,g);return this.insert(k.hostView,C),k}insert(a,c){const d=a._lView,f=d[Je];if(function $a(o){return hr(o[wn])}(d)){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const L=d[wn],$=new qE(L,L[Wn],L[wn]);$.detach($.indexOf(a))}}const g=this._adjustIndex(c),v=this._lContainer;!function jy(o,a,c,d){const f=bi+d,g=c.length;d>0&&(c[f-1][ur]=a),d<g-bi?(a[ur]=c[f],fu(c,bi+d,a)):(c.push(a),a[ur]=null),a[wn]=c;const v=a[Zs];null!==v&&c!==v&&function Ym(o,a){const c=o[Ys];a[vi]!==a[wn][wn][vi]&&(o[Pl]=!0),null===c?o[Ys]=[a]:c.push(a)}(v,a);const C=a[Zi];null!==C&&C.insertView(o),a[Ut]|=64}(f,d,v,g);const C=ih(g,v),x=d[Wt],T=Du(x,v[vs]);return null!==T&&function Jd(o,a,c,d,f,g){d[Dr]=f,d[Wn]=a,cl(o,d,c,1,f,g)}(f,v[Wn],x,d,T,C),a.attachToViewContainerRef(),fu(Ub(v),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=P_(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=wu(this._lContainer,c);d&&(tl(Ub(this._lContainer),c),Cu(d[Je],d))}detach(a){const c=this._adjustIndex(a,-1),d=wu(this._lContainer,c);return d&&null!=tl(Ub(this._lContainer),c)?new kg(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function P_(o){return o[Sr]}function Ub(o){return o[Sr]||(o[Sr]=[])}function WE(o,a){let c;const d=a[o.index];if(hr(d))c=d;else{let f;if(8&o.type)f=Ln(d);else{const g=a[Wt];f=g.createComment("");const v=Fi(o,a);Ca(g,Du(g,v),f,function Qm(o,a){return o.nextSibling(a)}(g,v),!1)}a[o.index]=c=Sv(d,a,f,o),Iv(a,c)}return new qE(c,o,a)}class N_{constructor(a){this.queryList=a,this.matches=null}clone(){return new N_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hb{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new Hb(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Te(a,c).matches&&this.queries[c].setDirty()}}class Lp{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class jb{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(a,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new jb(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class L_{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new L_(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(a,c,nr(c,g)),this.matchTNodeWithReadOption(a,c,Xl(c,a,g,!1,!1))}else d===Rh?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Xl(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===hl||f===Np||f===Rh&&4&c.type)this.addMatch(c.index,-2);else{const g=Xl(c,a,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function nr(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function Mc(o,a,c,d){return-1===c?function Oh(o,a){return 11&o.type?Bu(o,a):4&o.type?Pp(o,a):null}(a,o):-2===c?function zb(o,a,c){return c===hl?Bu(a,o):c===Rh?Pp(a,o):c===Np?WE(a,o):void 0}(o,a,d):Ts(o,o[Je],c,a)}function ZE(o,a,c,d){const f=a[Zi].queries[d];if(null===f.matches){const g=o.data,v=c.matches,C=[];for(let x=0;x<v.length;x+=2){const T=v[x];C.push(T<0?null:Mc(a,g[T],v[x+1],c.metadata.read))}f.matches=C}return f.matches}function Oe(o,a,c,d){const f=o.queries.getByIndex(c),g=f.matches;if(null!==g){const v=ZE(o,a,f,c);for(let C=0;C<g.length;C+=2){const x=g[C];if(x>0)d.push(v[C/2]);else{const T=g[C+1],k=a[-x];for(let L=bi;L<k.length;L++){const $=k[L];$[Zs]===$[wn]&&Oe($[Je],$,T,d)}if(null!==k[Ys]){const L=k[Ys];for(let $=0;$<L.length;$++){const ee=L[$];Oe(ee[Je],ee,T,d)}}}}}return d}function mi(o){const a=Me(),c=on(),d=iu();Yl(d+1);const f=Te(c,d);if(o.dirty&&function Xc(o){return 4==(4&o[Ut])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?Oe(c,a,d,[]):ZE(c,a,f,d);o.reset(g,Lw),o.notifyOnChanges()}return!0}return!1}function Hs(o,a,c){const d=on();d.firstCreatePass&&(Ke(d,new Lp(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),YE(d,Me(),a)}function B_(o,a,c,d){const f=on();if(f.firstCreatePass){const g=ui();Ke(f,new Lp(a,c,d),g.index),function ae(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}YE(f,Me(),c)}function at(){return function Ct(o,a){return o[Zi].queries[a].queryList}(Me(),iu())}function YE(o,a,c){const d=new Fp(4==(4&c));br(o,a,d,d.destroy),null===a[Zi]&&(a[Zi]=new Hb),a[Zi].queries.push(new N_(d))}function Ke(o,a,c){null===o.queries&&(o.queries=new jb),o.queries.track(new L_(a,c))}function Te(o,a){return o.queries.getByIndex(a)}function Ii(o,a){return Pp(o,a)}function Gb(o){return!!li(o)}function W_(...o){}const sx=new Cn("Application Initializer");let Z_=(()=>{class o{constructor(c){this.appInits=c,this.resolve=W_,this.reject=W_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(zv(g))c.push(g);else if(OC(g)){const v=new Promise((C,x)=>{g.subscribe({complete:C,error:x})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)($e(sx,8))},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ax=new Cn("AppId",{providedIn:"root",factory:function lx(){return`${Kb()}${Kb()}${Kb()}`}});function Kb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cx=new Cn("Platform Initializer"),bT=new Cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wT=new Cn("AnimationModuleType");let CT=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Up=new Cn("LocaleId",{providedIn:"root",factory:()=>ot(Up,bt.Optional|bt.SkipSelf)||function ET(){return typeof $localize<"u"&&$localize.locale||Ch}()}),xT=new Cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Qb{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let ir=(()=>{class o{compileModuleSync(c){return new x_(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Sa(li(c).declarations).reduce((v,C)=>{const x=rn(C);return x&&v.push(new ju(x)),v},[]);return new Qb(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const hx=(()=>Promise.resolve(0))();function kc(o){typeof Zone>"u"?hx.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class cs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lr(!1),this.onMicrotaskEmpty=new Lr(!1),this.onStable=new Lr(!1),this.onError=new Lr(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function _o(){let o=Bt.requestAnimationFrame,a=Bt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function gi(o){const a=()=>{!function Oc(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Bt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,El(o),o.isCheckStableRunning=!0,Xb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),El(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,v,C)=>{try{return Y_(o),c.invokeTask(f,g,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),Jb(o)}},onInvoke:(c,d,f,g,v,C,x)=>{try{return Y_(o),c.invoke(f,g,v,C,x)}finally{o.shouldCoalesceRunChangeDetection&&a(),Jb(o)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,El(o),Xb(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cs.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(cs.isInAngularZone())throw new fe(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,a,Ui,W_,W_);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const Ui={};function Xb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function El(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Y_(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Jb(o){o._nesting--,Xb(o)}class jp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lr,this.onMicrotaskEmpty=new Lr,this.onStable=new Lr,this.onError=new Lr}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}const fx=new Cn(""),xl=new Cn("");let us,Fc=(()=>{class o{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,us||(function od(o){us=o}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cs.assertNotInAngularZone(),kc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kc(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)($e(cs),$e(zp),$e(xl))},o.\u0275prov=nt({token:o,factory:o.\u0275fac}),o})(),zp=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return us?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const jo=!1;let Yr=null;const e0=new Cn("AllowMultipleToken"),Pc=new Cn("PlatformDestroyListeners"),K_=new Cn("appBootstrapListener");class mx{constructor(a,c){this.name=a,this.token=c}}function _x(o,a,c=[]){const d=`Platform: ${a}`,f=new Cn(d);return(g=[])=>{let v=Ti();if(!v||v.injector.get(e0,!1)){const C=[...c,...g,{provide:f,useValue:!0}];o?o(C):function gx(o){if(Yr&&!Yr.get(e0,!1))throw new fe(400,!1);Yr=o;const a=o.get(n0);(function Lh(o){const a=o.get(cx,null);a&&a.forEach(c=>c())})(o)}(function t0(o=[],a){return lh.create({name:a,providers:[{provide:Jy,useValue:"platform"},{provide:Pc,useValue:new Set([()=>Yr=null])},...o]})}(C,d))}return function TT(o){const a=Ti();if(!a)throw new fe(401,!1);return a}()}}function Ti(){return Yr?.get(n0)??null}let n0=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function Dl(o,a){let c;return c="noop"===o?new jp:("zone.js"===o?void 0:o)||new cs(a),c}(d?.ngZone,function Un(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:cs,useValue:f}];return f.run(()=>{const v=lh.create({providers:g,parent:this.injector,name:c.moduleType.name}),C=c.create(v),x=C.injector.get(qf,null);if(!x)throw new fe(402,!1);return f.runOutsideAngular(()=>{const T=f.onError.subscribe({next:k=>{x.handleError(k)}});C.onDestroy(()=>{X_(this._modules,C),T.unsubscribe()})}),function r0(o,a,c){try{const d=c();return zv(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(x,f,()=>{const T=C.injector.get(Z_);return T.runInitializers(),T.donePromise.then(()=>(function u_(o){et(o,"Expected localeId to be defined"),"string"==typeof o&&(c_=o.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Up,Ch)||Ch),this._moduleDoBootstrap(C),C))})})}bootstrapModule(c,d=[]){const f=o0({},d);return function sd(o,a,c){const d=new x_(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(Sl);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new fe(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Pc,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)($e(lh))},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function o0(o,a){return Array.isArray(a)?a.reduce(o0,o):{...o,...a}}let Sl=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new N.y(C=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{cs.assertNotInAngularZone(),kc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{cs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{x.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ie.T)(g,v.pipe((0,re.B)()))}bootstrap(c,d){const f=c instanceof Pw;if(!this._injector.get(Z_).done){!f&&Zo(c);throw new fe(405,jo)}let v;v=f?c:this._injector.get(vc).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const C=function $p(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Us),T=v.create(lh.NULL,[],d||v.selector,C),k=T.location.nativeElement,L=T.injector.get(fx,null);return L?.registerApplication(k),T.onDestroy(()=>{this.detachView(T.hostView),X_(this.components,T),L?.unregisterApplication(k)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;X_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(K_,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>X_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new fe(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)($e(cs),$e(Lu),$e(qf))},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function X_(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}function En(){return!1}let l0=(()=>{class o{}return o.__NG_ELEMENT_ID__=bx,o})();function bx(o){return function wx(o,a,c){if(Nl(o)&&!c){const d=ci(o.index,a);return new kg(d,d)}return 47&o.type?new kg(a[vi],a):null}(ui(),Me(),16==(16&o))}class Zp{constructor(){}supports(a){return Bg(a)}create(a){return new ld(a)}}const c0=(o,a)=>a;class ld{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||c0}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<Vh(d,f,g)?c:d,C=Vh(v,f,g),x=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const T=C-f,k=x-f;if(T!=k){for(let $=0;$<T;$++){const ee=$<g.length?g[$]:g[$]=0,ge=ee+$;k<=ge&&ge<T&&(g[$]=ee+1)}g[v.previousIndex]=k-T}}C!==x&&a(v,C,x)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Bg(a))throw new fe(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,v,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)g=a[C],v=this._trackByFn(C,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,C)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,C),d=!0),c=c._next}else f=0,function SC(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,C=>{v=this._trackByFn(f,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,f)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,f)):a=this._addAfter(new Kr(c,d),g,f),a}_verifyReinsertion(a,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new Yp),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yp),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Kr{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class u0{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Yp{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new u0,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vh(o,a,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class d0{constructor(){}supports(a){return a instanceof Map||Nv(a)}create(){return new h0}}class h0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Nv(a)))throw new fe(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new Kp(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class Kp{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function f0(){return new ny([new Zp])}let ny=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||f0()),deps:[[o,new D,new lo]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new fe(901,!1)}}return o.\u0275prov=nt({token:o,providedIn:"root",factory:f0}),o})();function Tl(){return new p0([new d0])}let p0=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Tl()),deps:[[o,new D,new lo]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new fe(901,!1)}}return o.\u0275prov=nt({token:o,providedIn:"root",factory:Tl}),o})();const Aa=_x(null,"core",[]);let Dx=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)($e(Sl))},o.\u0275mod=Fl({type:o}),o.\u0275inj=Jn({}),o})();function Qp(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(gt,we,P)=>{P.d(we,{Z:()=>Ge});var l=P(2090),J=P(4859),N=P(9681),ie=P(1877);class re{constructor(fe,De){this._delegate=fe,this.firebase=De,(0,N._addComponent)(fe,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(fe,De=N._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(fe);return!Ne.isInitialized()&&"EXPLICIT"===(null===(Se=Ne.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:De})}_removeServiceInstance(fe,De=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(De)}_addComponent(fe){(0,N._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,N._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function ue(){const dt=function de(dt){const fe={},De={__esModule:!0,initializeApp:function Ee(Fe,H={}){const ye=N.initializeApp(Fe,H);if((0,l.r3)(fe,ye.name))return fe[ye.name];const Ue=new dt(ye,De);return fe[ye.name]=Ue,Ue},app:Ne,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ae(Fe){const H=Fe.name,ye=H.replace("-compat","");if(N._registerComponent(Fe)&&"PUBLIC"===Fe.type){const Ue=(Ze=Ne())=>{if("function"!=typeof Ze[ye])throw me.create("invalid-app-argument",{appName:H});return Ze[ye]()};void 0!==Fe.serviceProps&&(0,l.ZB)(Ue,Fe.serviceProps),De[ye]=Ue,dt.prototype[ye]=function(...Ze){return this._getService.bind(this,H).apply(this,Fe.multipleInstances?Ze:[])}}return"PUBLIC"===Fe.type?De[ye]:null},removeApp:function Se(Fe){delete fe[Fe]},useAsService:function Ve(Fe,H){return"serverAuth"===H?null:H},modularAPIs:N}};function Ne(Fe){if(!(0,l.r3)(fe,Fe=Fe||N._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Fe});return fe[Fe]}return De.default=De,Object.defineProperty(De,"apps",{get:function be(){return Object.keys(fe).map(Fe=>fe[Fe])}}),Ne.App=dt,De}(re);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function fe(De){(0,l.ZB)(dt,De)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),dt}(),q=new ie.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=z;!function xe(dt){(0,N.registerVersion)("@firebase/app-compat","0.2.7",dt)}()},9681:(gt,we,P)=>{P.r(we),P.d(we,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Er,_DEFAULT_ENTRY_NAME:()=>Le,_addComponent:()=>un,_addOrOverwriteComponent:()=>St,_apps:()=>et,_clearComponents:()=>Jn,_components:()=>Qe,_getProvider:()=>nt,_registerComponent:()=>sn,_removeServiceInstance:()=>Rt,deleteApp:()=>qo,getApp:()=>xr,getApps:()=>lr,initializeApp:()=>fs,onLog:()=>bt,registerVersion:()=>cr,setLogLevel:()=>Wo});var l=P(5861),J=P(4859),N=P(1877),ie=P(2090),re=P(8766);class Q{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function me($e){return"VERSION"===$e.getComponent()?.type}(ot)){const At=ot.getImmediate();return`${At.library}/${At.version}`}return null}).filter(ot=>ot).join(" ")}}const de="@firebase/app",z=new N.Yd("@firebase/app"),Le="[DEFAULT]",ze={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Qe=new Map;function un($e,Ce){try{$e.container.addComponent(Ce)}catch(ot){z.debug(`Component ${Ce.name} failed to register with FirebaseApp ${$e.name}`,ot)}}function St($e,Ce){$e.container.addOrOverwriteComponent(Ce)}function sn($e){const Ce=$e.name;if(Qe.has(Ce))return z.debug(`There were multiple attempts to register component ${Ce}.`),!1;Qe.set(Ce,$e);for(const ot of et.values())un(ot,$e);return!0}function nt($e,Ce){const ot=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),$e.container.getProvider(Ce)}function Rt($e,Ce,ot=Le){nt($e,Ce).clearInstance(ot)}function Jn(){Qe.clear()}const Mn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fn{constructor(Ce,ot,At){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}const Er="9.19.1";function fs($e,Ce={}){let ot=$e;"object"!=typeof Ce&&(Ce={name:Ce});const At=Object.assign({name:Le,automaticDataCollectionEnabled:!1},Ce),Lt=At.name;if("string"!=typeof Lt||!Lt)throw Mn.create("bad-app-name",{appName:String(Lt)});if(ot||(ot=(0,ie.aH)()),!ot)throw Mn.create("no-options");const $t=et.get(Lt);if($t){if((0,ie.vZ)(ot,$t.options)&&(0,ie.vZ)(At,$t.config))return $t;throw Mn.create("duplicate-app",{appName:Lt})}const Ri=new J.H0(Lt);for(const U of Qe.values())Ri.addComponent(U);const j=new Fn(ot,At,Ri);return et.set(Lt,j),j}function xr($e=Le){const Ce=et.get($e);if(!Ce&&$e===Le)return fs();if(!Ce)throw Mn.create("no-app",{appName:$e});return Ce}function lr(){return Array.from(et.values())}function qo($e){return An.apply(this,arguments)}function An(){return(An=(0,l.Z)(function*($e){const Ce=$e.name;et.has(Ce)&&(et.delete(Ce),yield Promise.all($e.container.getProviders().map(ot=>ot.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function cr($e,Ce,ot){var At;let Lt=null!==(At=ze[$e])&&void 0!==At?At:$e;ot&&(Lt+=`-${ot}`);const $t=Lt.match(/\s|\//),Ri=Ce.match(/\s|\//);if($t||Ri){const j=[`Unable to register library "${Lt}" with version "${Ce}":`];return $t&&j.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),$t&&Ri&&j.push("and"),Ri&&j.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void z.warn(j.join(" "))}sn(new J.wA(`${Lt}-version`,()=>({library:Lt,version:Ce}),"VERSION"))}function bt($e,Ce){if(null!==$e&&"function"!=typeof $e)throw Mn.create("invalid-log-argument");(0,N.Am)($e,Ce)}function Wo($e){(0,N.Ub)($e)}const zr="firebase-heartbeat-database",Pn=1,Mi="firebase-heartbeat-store";let ps=null;function Bt(){return ps||(ps=(0,re.X3)(zr,Pn,{upgrade:($e,Ce)=>{0===Ce&&$e.createObjectStore(Mi)}}).catch($e=>{throw Mn.create("idb-open",{originalErrorMessage:$e.message})})),ps}function kt(){return(kt=(0,l.Z)(function*($e){try{return(yield Bt()).transaction(Mi).objectStore(Mi).get(ei($e))}catch(Ce){if(Ce instanceof ie.ZR)z.warn(Ce.message);else{const ot=Mn.create("idb-get",{originalErrorMessage:Ce?.message});z.warn(ot.message)}}})).apply(this,arguments)}function ms($e,Ce){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*($e,Ce){try{const At=(yield Bt()).transaction(Mi,"readwrite");return yield At.objectStore(Mi).put(Ce,ei($e)),At.done}catch(ot){if(ot instanceof ie.ZR)z.warn(ot.message);else{const At=Mn.create("idb-set",{originalErrorMessage:ot?.message});z.warn(At.message)}}})).apply(this,arguments)}function ei($e){return`${$e.name}!${$e.options.appId}`}class Pa{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new nn(ot),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var Ce=this;return(0,l.Z)(function*(){const At=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=fn();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!Ce._heartbeatsCache.heartbeats.some($t=>$t.date===Lt))return Ce._heartbeatsCache.heartbeats.push({date:Lt,agent:At}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter($t=>{const Ri=new Date($t.date).valueOf();return Date.now()-Ri<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,l.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const ot=fn(),{heartbeatsToSend:At,unsentEntries:Lt}=function Co($e,Ce=1024){const ot=[];let At=$e.slice();for(const Lt of $e){const $t=ot.find(Ri=>Ri.agent===Lt.agent);if($t){if($t.dates.push(Lt.date),qi(ot)>Ce){$t.dates.pop();break}}else if(ot.push({agent:Lt.agent,dates:[Lt.date]}),qi(ot)>Ce){ot.pop();break}At=At.slice(1)}return{heartbeatsToSend:ot,unsentEntries:At}}(Ce._heartbeatsCache.heartbeats),$t=(0,ie.L)(JSON.stringify({version:2,heartbeats:At}));return Ce._heartbeatsCache.lastSentHeartbeatDate=ot,Lt.length>0?(Ce._heartbeatsCache.heartbeats=Lt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),$t})()}}function fn(){return(new Date).toISOString().substring(0,10)}class nn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,l.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function xt($e){return kt.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var ot=this;return(0,l.Z)(function*(){var At;if(yield ot._canUseIndexedDBPromise){const $t=yield ot.read();return ms(ot.app,{lastSentHeartbeatDate:null!==(At=Ce.lastSentHeartbeatDate)&&void 0!==At?At:$t.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var ot=this;return(0,l.Z)(function*(){var At;if(yield ot._canUseIndexedDBPromise){const $t=yield ot.read();return ms(ot.app,{lastSentHeartbeatDate:null!==(At=Ce.lastSentHeartbeatDate)&&void 0!==At?At:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...Ce.heartbeats]})}})()}}function qi($e){return(0,ie.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function Jr($e){sn(new J.wA("platform-logger",Ce=>new Q(Ce),"PRIVATE")),sn(new J.wA("heartbeat",Ce=>new Pa(Ce),"PRIVATE")),cr(de,"0.9.7",$e),cr(de,"0.9.7","esm2017"),cr("fire-js","")}("")},4859:(gt,we,P)=>{P.d(we,{H0:()=>de,wA:()=>N});var l=P(5861),J=P(2090);class N{constructor(z,q,K){this.name=z,this.instanceFactory=q,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const ie="[DEFAULT]";class re{constructor(z,q){this.name=z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const q=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(q)){const K=new J.BH;if(this.instancesDeferred.set(q,K),this.isInitialized(q)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:q});je&&K.resolve(je)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(z){var q;const K=this.normalizeInstanceIdentifier(z?.identifier),je=null!==(q=z?.optional)&&void 0!==q&&q;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(xe){if(je)return null;throw xe}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function me(ue){return"EAGER"===ue.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[q,K]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(q);try{const xe=this.getOrInitializeService({instanceIdentifier:je});K.resolve(xe)}catch{}}}}clearInstance(z=ie){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,l.Z)(function*(){const q=Array.from(z.instances.values());yield Promise.all([...q.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...q.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=ie){return this.instances.has(z)}getOptions(z=ie){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:q={}}=z,K=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:K,options:q});for(const[xe,Ge]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(xe)&&Ge.resolve(je);return je}onInit(z,q){var K;const je=this.normalizeInstanceIdentifier(q),xe=null!==(K=this.onInitCallbacks.get(je))&&void 0!==K?K:new Set;xe.add(z),this.onInitCallbacks.set(je,xe);const Ge=this.instances.get(je);return Ge&&z(Ge,je),()=>{xe.delete(z)}}invokeOnInitCallbacks(z,q){const K=this.onInitCallbacks.get(q);if(K)for(const je of K)try{je(z,q)}catch{}}getOrInitializeService({instanceIdentifier:z,options:q={}}){let K=this.instances.get(z);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=z,ue===ie?void 0:ue),options:q}),this.instances.set(z,K),this.instancesOptions.set(z,q),this.invokeOnInitCallbacks(K,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,K)}catch{}var ue;return K||null}normalizeInstanceIdentifier(z=ie){return this.component?this.component.multipleInstances?z:ie:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const q=this.getProvider(z.name);if(q.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);q.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const q=new re(z,this);return this.providers.set(z,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(gt,we,P)=>{P.d(we,{Am:()=>ue,Ub:()=>de,Yd:()=>me,in:()=>J});const l=[];var J=(()=>{return(z=J||(J={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",J;var z})();const N={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ie=J.INFO,re={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},Q=(z,q,...K)=>{if(q<z.logLevel)return;const je=(new Date).toISOString(),xe=re[q];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[xe](`[${je}]  ${z.name}:`,...K)};class me{constructor(q){this.name=q,this._logLevel=ie,this._logHandler=Q,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in J))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?N[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...q),this._logHandler(this,J.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...q),this._logHandler(this,J.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,J.INFO,...q),this._logHandler(this,J.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,J.WARN,...q),this._logHandler(this,J.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...q),this._logHandler(this,J.ERROR,...q)}}function de(z){l.forEach(q=>{q.setLogLevel(z)})}function ue(z,q){for(const K of l){let je=null;q&&q.level&&(je=N[q.level]),K.userLogHandler=null===z?null:(xe,Ge,...dt)=>{const fe=dt.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch{return null}}).filter(De=>De).join(" ");Ge>=(je??xe.logLevel)&&z({level:J[Ge].toLowerCase(),message:fe,args:dt,type:xe.name})}}}},259:(gt,we,P)=>{P.d(we,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=P(9681);(0,l.registerVersion)("firebase","9.19.1","app")},9260:(gt,we,P)=>{P.d(we,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.19.1","app-compat")},9800:(gt,we,P)=>{P.r(we);var l=P(5861),J=P(3942),N=P(2090),ie=P(9681),re=P(1877),Q=P(655),me=P(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K_EMAIL_SIGNIN="EMAIL_SIGNIN",K_PASSWORD_RESET="PASSWORD_RESET",K_RECOVER_EMAIL="RECOVER_EMAIL",K_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",K_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",K_VERIFY_EMAIL="VERIFY_EMAIL";const Ge=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},dt=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new re.Yd("@firebase/auth");function Ne(y,...p){Se.logLevel<=re.in.ERROR&&Se.error(`Auth (${ie.SDK_VERSION}): ${y}`,...p)}function Ee(y,...p){throw Fe(y,...p)}function be(y,...p){return Fe(y,...p)}function Ae(y,p,m){const w=Object.assign(Object.assign({},dt()),{[p]:m});return new N.LL("auth","Firebase",w).create(p,{appName:y.name})}function Ve(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ee(y,"argument-error"),Ae(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return fe.create(y,...p)}function H(y,p,...m){if(!y)throw Fe(p,...m)}function ye(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Ne(p),new Error(p)}function Ue(y,p){y||ye(p)}const Ze=new Map;function _t(y){Ue(y instanceof Function,"Expected a class definition");let p=Ze.get(y);return p?(Ue(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Ze.set(y,p),p)}function he(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ve(){return"http:"===Re()||"https:"===Re()}function Re(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class et{constructor(p,m){this.shortDelay=p,this.longDelay=m,Ue(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Le(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ve()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qe(y,p){Ue(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class un{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const St={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new et(3e4,6e4);function nt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Rt(y,p,m,w){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(y,p,m,w,I={}){return vn(y,I,(0,l.Z)(function*(){let O={},Y={};w&&("GET"===p?Y=w:O={body:JSON.stringify(w)});const ce=(0,N.xO)(Object.assign({key:y.config.apiKey},Y)).slice(1),He=yield y._getAdditionalHeaders();return He["Content-Type"]="application/json",y.languageCode&&(He["X-Firebase-Locale"]=y.languageCode),un.fetch()(fs(y,y.config.apiHost,m,ce),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function vn(y,p,m){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},St),p);try{const I=new xr(y),O=yield Promise.race([m(),I.promise]);I.clearNetworkTimeout();const Y=yield O.json();if("needConfirmation"in Y)throw lr(y,"account-exists-with-different-credential",Y);if(O.ok&&!("errorMessage"in Y))return Y;{const ce=O.ok?Y.errorMessage:Y.error.message,[He,tt]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw lr(y,"credential-already-in-use",Y);if("EMAIL_EXISTS"===He)throw lr(y,"email-already-in-use",Y);if("USER_DISABLED"===He)throw lr(y,"user-disabled",Y);const yt=w[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw Ae(y,yt,tt);Ee(y,yt)}}catch(I){if(I instanceof N.ZR)throw I;Ee(y,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function Fn(y,p,m,w){return Er.apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(y,p,m,w,I={}){const O=yield Rt(y,p,m,w,I);return"mfaPendingCredential"in O&&Ee(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function fs(y,p,m,w){const I=`${p}${m}?${w}`;return y.config.emulator?Qe(y.config,I):`${y.config.apiScheme}://${I}`}class xr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lr(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const I=be(y,p,w);return I.customData._tokenResponse=m,I}function An(){return(An=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function bt(){return(bt=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Pn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Bt(){return(Bt=(0,l.Z)(function*(y,p=!1){const m=(0,N.m9)(y),w=yield m.getIdToken(p),I=kt(w);H(I&&I.exp&&I.auth_time&&I.iat,m.auth,"internal-error");const O="object"==typeof I.firebase?I.firebase:void 0,Y=O?.sign_in_provider;return{claims:I,token:w,authTime:Pn(xt(I.auth_time)),issuedAtTime:Pn(xt(I.iat)),expirationTime:Pn(xt(I.exp)),signInProvider:Y||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function xt(y){return 1e3*Number(y)}function kt(y){const[p,m,w]=y.split(".");if(void 0===p||void 0===m||void 0===w)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,N.tV)(m);return I?JSON.parse(I):(Ne("Failed to decode base64 JWT payload"),null)}catch(I){return Ne("Caught error parsing JWT payload as JSON",I?.toString()),null}}function Dn(y,p){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof N.ZR&&function Gi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class Ai{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const I=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Pa{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pn(this.lastLoginAt),this.creationTime=Pn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fn(y){return Co.apply(this,arguments)}function Co(){return Co=(0,l.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),I=yield Dn(y,function Wo(y,p){return zr.apply(this,arguments)}(m,{idToken:w}));H(I?.users.length,m,"internal-error");const O=I.users[0];y._notifyReloadListener(O);const Y=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function $e(y){return y.map(p=>{var{providerId:m}=p,w=(0,Q._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(O.providerUserInfo):[],ce=function Jr(y,p){return[...y.filter(w=>!p.some(I=>I.providerId===w.providerId)),...p]}(y.providerData,Y),yt=!!y.isAnonymous&&!(y.email&&O.passwordHash||ce?.length),pt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ce,metadata:new Pa(O.createdAt,O.lastLoginAt),isAnonymous:yt};Object.assign(y,pt)}),Co.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(y){const p=(0,N.m9)(y);yield fn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ot(){return(ot=(0,l.Z)(function*(y,p){const m=yield vn(y,{},(0,l.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:I,apiKey:O}=y.config,Y=fs(y,I,"/v1/token",`key=${O}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(Y,{method:"POST",headers:ce,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class At{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){H(p.idToken,"internal-error"),H(typeof p.idToken<"u","internal-error"),H(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ms(y){const p=kt(y);return H(p,"internal-error"),H(typeof p.exp<"u","internal-error"),H(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,l.Z)(function*(){return H(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,l.Z)(function*(){const{accessToken:I,refreshToken:O,expiresIn:Y}=yield function Ce(y,p){return ot.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(I,O,Number(Y))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:I,expirationTime:O}=m,Y=new At;return w&&(H("string"==typeof w,"internal-error",{appName:p}),Y.refreshToken=w),I&&(H("string"==typeof I,"internal-error",{appName:p}),Y.accessToken=I),O&&(H("number"==typeof O,"internal-error",{appName:p}),Y.expirationTime=O),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new At,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Lt(y,p){H("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class $t{constructor(p){var{uid:m,auth:w,stsTokenManager:I}=p,O=(0,Q._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Pa(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const w=yield Dn(m,m.stsTokenManager.getToken(m.auth,p));return H(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function ps(y){return Bt.apply(this,arguments)}(this,p)}reload(){return function nn(y){return qi.apply(this,arguments)}(this)}_assign(p){this!==p&&(H(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new $t(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,l.Z)(function*(){let I=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),I=!0),m&&(yield fn(w)),yield w.auth._persistUserIfCurrent(w),I&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield Dn(p,function qo(y,p){return An.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,I,O,Y,ce,He,tt,yt;const pt=null!==(w=m.displayName)&&void 0!==w?w:void 0,fi=null!==(I=m.email)&&void 0!==I?I:void 0,uo=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,dl=null!==(Y=m.photoURL)&&void 0!==Y?Y:void 0,ag=null!==(ce=m.tenantId)&&void 0!==ce?ce:void 0,Vf=null!==(He=m._redirectEventId)&&void 0!==He?He:void 0,lg=null!==(tt=m.createdAt)&&void 0!==tt?tt:void 0,Ou=null!==(yt=m.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:Fu,emailVerified:Pu,isAnonymous:oh,providerData:gc,stsTokenManager:cg}=m;H(Fu&&cg,p,"internal-error");const qy=At.fromJSON(this.name,cg);H("string"==typeof Fu,p,"internal-error"),Lt(pt,p.name),Lt(fi,p.name),H("boolean"==typeof Pu,p,"internal-error"),H("boolean"==typeof oh,p,"internal-error"),Lt(uo,p.name),Lt(dl,p.name),Lt(ag,p.name),Lt(Vf,p.name),Lt(lg,p.name),Lt(Ou,p.name);const Nu=new $t({uid:Fu,auth:p,email:fi,emailVerified:Pu,displayName:pt,isAnonymous:oh,photoURL:dl,phoneNumber:uo,tenantId:ag,stsTokenManager:qy,createdAt:lg,lastLoginAt:Ou});return gc&&Array.isArray(gc)&&(Nu.providerData=gc.map(ug=>Object.assign({},ug))),Vf&&(Nu._redirectEventId=Vf),Nu}static _fromIdTokenResponse(p,m,w=!1){return(0,l.Z)(function*(){const I=new At;I.updateFromServerResponse(m);const O=new $t({uid:m.localId,auth:p,stsTokenManager:I,isAnonymous:w});return yield fn(O),O})()}}const j=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var I=this;return(0,l.Z)(function*(){I.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const I=w.storage[m];return void 0===I?null:I})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function U(y,p,m){return`firebase:${y}:${p}:${m}`}class Z{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:I,name:O}=this.auth;this.fullUserKey=U(this.userKey,I.apiKey,O),this.fullPersistenceKey=U("persistence",I.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?$t._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Z(_t(j),p,w);const I=(yield Promise.all(m.map(function(){var tt=(0,l.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let O=I[0]||_t(j);const Y=U(w,p.config.apiKey,p.name);let ce=null;for(const tt of m)try{const yt=yield tt._get(Y);if(yt){const pt=$t._fromJSON(p,yt);tt!==O&&(ce=pt),O=tt;break}}catch{}const He=I.filter(tt=>tt._shouldAllowMigration);return O._shouldAllowMigration&&He.length?(O=He[0],ce&&(yield O._set(Y,ce.toJSON())),yield Promise.all(m.map(function(){var tt=(0,l.Z)(function*(yt){if(yt!==O)try{yield yt._remove(Y)}catch{}});return function(yt){return tt.apply(this,arguments)}}())),new Z(O,p,w)):new Z(O,p,w)})()}}function _e(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(gn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(te(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Hn(p))return"Blackberry";if(ai(p))return"Webos";if(it(p))return"Safari";if((p.includes("chrome/")||Ye(p))&&!p.includes("edge/"))return"Chrome";if(Nn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function te(y=(0,N.z$)()){return/firefox\//i.test(y)}function it(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ye(y=(0,N.z$)()){return/crios\//i.test(y)}function gn(y=(0,N.z$)()){return/iemobile/i.test(y)}function Nn(y=(0,N.z$)()){return/android/i.test(y)}function Hn(y=(0,N.z$)()){return/blackberry/i.test(y)}function ai(y=(0,N.z$)()){return/webos/i.test(y)}function Vt(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function nf(y=(0,N.z$)()){return Vt(y)||Nn(y)||ai(y)||Hn(y)||/windows phone/i.test(y)||gn(y)}function Ol(y,p=[]){let m;switch(y){case"Browser":m=_e((0,N.z$)());break;case"Worker":m=`${_e((0,N.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ie.SDK_VERSION}/${w}`}class Fl{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=O=>new Promise((Y,ce)=>{try{Y(p(O))}catch(He){ce(He)}});w.onAbort=m,this.queue.push(w);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===p)return;const w=[];try{for(const I of m.queue)yield I(p),I.onAbort&&w.push(I.onAbort)}catch(I){w.reverse();for(const O of w)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}class rf{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $c(this),this.idTokenSubscription=new $c(this),this.beforeStateQueue=new Fl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=_t(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var I,O;if(!w._deleted&&(w.persistenceManager=yield Z.create(w,p),!w._deleted)){if(null!==(I=w._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var w;const I=yield m.assertedPersistence.getCurrentUser();let O=I,Y=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ce=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,He=O?._redirectEventId,tt=yield m.tryRedirectSignIn(p);(!ce||ce===He)&&tt?.user&&(O=tt.user,Y=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(Y)try{yield m.beforeStateQueue.runMiddleware(O)}catch(ce){O=I,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ce))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return H(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){try{yield fn(p)}catch(w){if("auth/network-request-failed"!==w?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ze(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const w=p?(0,N.m9)(p):null;return w&&H(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&H(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(_t(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,l.Z)(function*(){const I=yield w.getOrInitRedirectPersistenceManager(m);return null===p?I.removeCurrentUser():I.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&_t(p)||m._popupRedirectResolver;H(w,m,"argument-error"),m.redirectPersistenceManager=yield Z.create(m,[_t(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var w,I;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,I){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return H(Y,this,"internal-error"),Y.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,w,I):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ol(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const I=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return I&&(w["X-Firebase-Client"]=I),w})()}}function jn(y){return(0,N.m9)(y)}class $c{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rn(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function yi(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class li{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ye("not implemented")}_getIdTokenResponse(p){return ye("not implemented")}_linkToIdToken(p,m){return ye("not implemented")}_getReauthenticationResolver(p){return ye("not implemented")}}function ki(y,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:resetPassword",nt(y,p))})).apply(this,arguments)}function gs(y,p){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",nt(y,p))})).apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithPassword",nt(y,p))})).apply(this,arguments)}function to(y,p){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:sendOobCode",nt(y,p))})).apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(y,p){return to(y,p)})).apply(this,arguments)}function La(){return(La=(0,l.Z)(function*(y,p){return to(y,p)})).apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(y,p){return to(y,p)})).apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(y,p){return to(y,p)})).apply(this,arguments)}function vi(){return(vi=(0,l.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithEmailLink",nt(y,p))})).apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithEmailLink",nt(y,p))})).apply(this,arguments)}class Zi extends li{constructor(p,m,w,I=null){super("password",w),this._email=p,this._password=m,this._tenantId=I}static _fromEmailAndPassword(p,m){return new Zi(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Zi(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function wn(y,p){return ur.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ba(y,p){return vi.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ee(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return gs(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Zs(y,p){return Ko.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Ee(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Yi(y,p){return qc.apply(this,arguments)}function qc(){return(qc=(0,l.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithIdp",nt(y,p))})).apply(this,arguments)}class Eo extends li{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Eo(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ee("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:I}=m,O=(0,Q._T)(m,["providerId","signInMethod"]);if(!w||!I)return null;const Y=new Eo(w,I);return Y.idToken=O.idToken||void 0,Y.accessToken=O.accessToken||void 0,Y.secret=O.secret,Y.nonce=O.nonce,Y.pendingToken=O.pendingToken||null,Y}_getIdTokenResponse(p){return Yi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Yi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Yi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,N.xO)(m)}return p}}function Pl(){return(Pl=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:sendVerificationCode",nt(y,p))})).apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,p))})).apply(this,arguments)}function bi(){return(bi=(0,l.Z)(function*(y,p){const m=yield Fn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,p));if(m.temporaryProof)throw lr(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Sm={USER_NOT_FOUND:"user-not-found"};function hr(){return(hr=(0,l.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Sm)})).apply(this,arguments)}class xo extends li{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new xo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new xo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function vs(y,p){return Sr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Ys(y,p){return bi.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function dr(y,p){return hr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:I}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:I}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:I,temporaryProof:O}=p;return w||m||I||O?new xo({verificationId:m,verificationCode:w,phoneNumber:I,temporaryProof:O}):null}}class Oi{constructor(p){var m,w,I,O,Y,ce;const He=(0,N.zd)((0,N.pd)(p)),tt=null!==(m=He.apiKey)&&void 0!==m?m:null,yt=null!==(w=He.oobCode)&&void 0!==w?w:null,pt=function Nl(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=He.mode)&&void 0!==I?I:null);H(tt&&yt&&pt,"argument-error"),this.apiKey=tt,this.operation=pt,this.code=yt,this.continueUrl=null!==(O=He.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Y=He.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(ce=He.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const m=function bs(y){const p=(0,N.zd)((0,N.pd)(y)).link,m=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||m||p||y}(p);try{return new Oi(m)}catch{return null}}}let xd=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Zi._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const I=Oi.parseLink(w);return H(I,"argument-error"),Zi._fromEmailAndCode(m,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Do{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ws extends Do{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Va extends ws{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return H("providerId"in m&&"signInMethod"in m,"argument-error"),Eo._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return H(p.idToken||p.accessToken,"argument-error"),Eo._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Va.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Va.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:I,pendingToken:O,nonce:Y,providerId:ce}=p;if(!w&&!I&&!m&&!O||!ce)return null;try{return new Va(ce)._credential({idToken:m,accessToken:w,nonce:Y,pendingToken:O})}catch{return null}}}let Zc=(()=>{class y extends ws{constructor(){super("facebook.com")}static credential(m){return Eo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),sf=(()=>{class y extends ws{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Eo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:I}=m;if(!w&&!I)return null;try{return y.credential(w,I)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),af=(()=>{class y extends ws{constructor(){super("github.com")}static credential(m){return Eo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ks extends li{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Yi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Yi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Yi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:I,pendingToken:O}=m;return w&&I&&O&&w===I?new Ks(w,O):null}static _create(p,m){return new Ks(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class no extends Do{constructor(p){H(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return no.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return no.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Ks.fromJSON(p);return H(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Ks._create(w,m)}catch{return null}}}let Tm=(()=>{class y extends ws{constructor(){super("twitter.com")}static credential(m,w){return Eo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:I}=m;if(!w||!I)return null;try{return y.credential(w,I)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function io(y,p){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,l.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signUp",nt(y,p))})).apply(this,arguments)}class Ir{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,I=!1){return(0,l.Z)(function*(){const O=yield $t._fromIdTokenResponse(p,w,I),Y=Kc(w);return new Ir({user:O,providerId:Y,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const I=Kc(w);return new Ir({user:p,providerId:I,_tokenResponse:w,operationType:m})})()}}function Kc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Dd(){return(Dd=(0,l.Z)(function*(y){var p;const m=jn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Ir({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield io(m,{returnSecureToken:!0}),I=yield Ir._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(I.user),I})).apply(this,arguments)}class Bl extends N.ZR{constructor(p,m,w,I){var O;super(m.code,m.message),this.operationType=w,this.user=I,Object.setPrototypeOf(this,Bl.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,I){return new Bl(p,m,w,I)}}function Mm(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Bl._fromErrorAndOperation(y,O,p,w):O})}function fr(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Es(){return Es=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y);yield Xs(!0,m,p);const{providerUserInfo:w}=yield function cr(y,p){return bt.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),I=fr(w||[]);return m.providerData=m.providerData.filter(O=>I.has(O.providerId)),I.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Es.apply(this,arguments)}function Ua(y,p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,l.Z)(function*(y,p,m=!1){const w=yield Dn(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Ir._forOperation(y,"link",w)})).apply(this,arguments)}function Xs(y,p,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(y,p,m){yield fn(p);const I=!1===y?"provider-already-linked":"no-such-provider";H(fr(p.providerData).has(m)===y,p.auth,I)})).apply(this,arguments)}function Vl(y,p){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,l.Z)(function*(y,p,m=!1){const{auth:w}=y,I="reauthenticate";try{const O=yield Dn(y,Mm(w,I,p,y),m);H(O.idToken,w,"internal-error");const Y=kt(O.idToken);H(Y,w,"internal-error");const{sub:ce}=Y;return H(y.uid===ce,w,"user-mismatch"),Ir._forOperation(y,I,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ee(w,"user-mismatch"),O}})).apply(this,arguments)}function Qo(y,p){return Id.apply(this,arguments)}function Id(){return(Id=(0,l.Z)(function*(y,p,m=!1){const w="signIn",I=yield Mm(y,w,p),O=yield Ir._fromIdTokenResponse(y,w,I);return m||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function ln(y,p){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,l.Z)(function*(y,p){return Qo(jn(y),p)})).apply(this,arguments)}function ja(y,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y);return yield Xs(!1,m,p.providerId),Ua(m,p)})).apply(this,arguments)}function jl(y,p){return ro.apply(this,arguments)}function ro(){return(ro=(0,l.Z)(function*(y,p){return Vl((0,N.m9)(y),p)})).apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(y,p){return Fn(y,"POST","/v1/accounts:signInWithCustomToken",nt(y,p))})).apply(this,arguments)}function oo(){return oo=(0,l.Z)(function*(y,p){const m=jn(y),w=yield function Fi(y,p){return za.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),I=yield Ir._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(I.user),I}),oo.apply(this,arguments)}class ci{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Xc._fromServerResponse(p,m):"totpInfo"in m?Js._fromServerResponse(p,m):Ee(p,"internal-error")}}class Xc extends ci{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Xc(m)}}class Js extends ci{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Js(m)}}function $a(y,p,m){var w;H((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),H(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(H(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(H(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ea(){return ea=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),I={requestType:"PASSWORD_RESET",email:p};m&&$a(w,I,m),yield function $r(y,p){return La.apply(this,arguments)}(w,I)}),ea.apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(y,p,m){yield ki((0,N.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function zl(){return zl=(0,l.Z)(function*(y,p){yield function Je(y,p){return Ut.apply(this,arguments)}((0,N.m9)(y),{oobCode:p})}),zl.apply(this,arguments)}function Md(y,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y),w=yield ki(m,{oobCode:p}),I=w.requestType;switch(H(I,m,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(w.mfaInfo,m,"internal-error");default:H(w.email,m,"internal-error")}let O=null;return w.mfaInfo&&(O=ci._fromServerResponse(jn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:I}})).apply(this,arguments)}function $l(){return($l=(0,l.Z)(function*(y,p){const{data:m}=yield Md((0,N.m9)(y),p);return m.email})).apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(y,p,m){const w=jn(y),I=yield io(w,{returnSecureToken:!0,email:p,password:m}),O=yield Ir._fromIdTokenResponse(w,"signIn",I);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function Gl(){return Gl=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),I={requestType:"EMAIL_SIGNIN",email:p};H(m.handleCodeInApp,w,"argument-error"),m&&$a(w,I,m),yield function Wt(y,p){return Ws.apply(this,arguments)}(w,I)}),Gl.apply(this,arguments)}function eu(){return(eu=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),I=xd.credentialWithLink(p,m||he());return H(I._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),ln(w,I)})).apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:createAuthUri",nt(y,p))})).apply(this,arguments)}function na(){return na=(0,l.Z)(function*(y,p){const w={identifier:p,continueUri:ve()?he():"http://localhost"},{signinMethods:I}=yield function ta(y,p){return pr.apply(this,arguments)}((0,N.m9)(y),w);return I||[]}),na.apply(this,arguments)}function ql(){return ql=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&$a(m.auth,I,p);const{email:O}=yield function _s(y,p){return Rn.apply(this,arguments)}(m.auth,I);O!==y.email&&(yield y.reload())}),ql.apply(this,arguments)}function zn(){return zn=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&$a(w.auth,O,m);const{email:Y}=yield function ys(y,p){return Yo.apply(this,arguments)}(w.auth,O);Y!==y.email&&(yield y.reload())}),zn.apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Tr(){return Tr=(0,l.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,N.m9)(y),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Y=yield Dn(w,function mr(y,p){return qa.apply(this,arguments)}(w.auth,O));w.displayName=Y.displayName||null,w.photoURL=Y.photoUrl||null;const ce=w.providerData.find(({providerId:He})=>"password"===He);ce&&(ce.displayName=w.displayName,ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Y)}),Tr.apply(this,arguments)}function Od(y,p,m){return nu.apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(y,p,m){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const Y=yield Dn(y,gs(w,O));yield y._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class xs{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class iu extends xs{constructor(p,m,w,I){super(p,m,w),this.username=I}}class Yl extends xs{constructor(p,m){super(p,"facebook.com",m)}}class Am extends iu{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class ru extends xs{constructor(p,m){super(p,"google.com",m)}}class Fd extends iu{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Rm(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Zl(y){var p,m;if(!y)return null;const{providerId:w}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const Y=null===(m=null===(p=kt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Y)return new xs(O,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!w)return null;switch(w){case"facebook.com":return new Yl(O,I);case"github.com":return new Am(O,I);case"google.com":return new ru(O,I);case"twitter.com":return new Fd(O,I,y.screenName||null);case"custom":case"anonymous":return new xs(O,null);default:return new xs(O,w,I)}}(m)}class Io{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new Io("enroll",p,m)}static _fromMfaPendingCredential(p){return new Io("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Io._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Io._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ni{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=jn(p),I=m.customData._serverResponse,O=(I.mfaInfo||[]).map(ce=>ci._fromServerResponse(w,ce));H(I.mfaPendingCredential,w,"internal-error");const Y=Io._fromMfaPendingCredential(I.mfaPendingCredential);return new ni(Y,O,function(){var ce=(0,l.Z)(function*(He){const tt=yield He._process(w,Y);delete I.mfaInfo,delete I.mfaPendingCredential;const yt=Object.assign(Object.assign({},I),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(m.operationType){case"signIn":const pt=yield Ir._fromIdTokenResponse(w,m.operationType,yt);return yield w._updateCurrentUser(pt.user),pt;case"reauthenticate":return H(m.user,w,"internal-error"),Ir._forOperation(m.user,m.operationType,yt);default:Ee(w,"internal-error")}});return function(He){return ce.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}class ia{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>ci._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new ia(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Io._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,l.Z)(function*(){const I=p,O=yield w.getSession(),Y=yield Dn(w.user,I._process(w.user.auth,O,m));return yield w.user._updateTokensIfNecessary(Y),w.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,I=yield m.user.getIdToken();try{const O=yield Dn(m.user,function au(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",nt(y,p))}(m.user.auth,{idToken:I,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Y})=>Y!==w),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const Ds=new WeakMap,Kl="__sak";class Mr{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Kl,"1"),this.storage.removeItem(Kl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const lu=(()=>{class y extends Mr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ya(){const y=(0,N.z$)();return it(y)||Vt(y)}()&&function zc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=nf(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const I=this.storage.getItem(w),O=this.localCache[w];I!==O&&m(w,O,I)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ce,He,tt)=>{this.notifyListeners(ce,tt)});const I=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(I);if(m.newValue!==ce)null!==m.newValue?this.storage.setItem(I,m.newValue):this.storage.removeItem(I);else if(this.localCache[I]===m.newValue&&!w)return}const O=()=>{const ce=this.storage.getItem(I);!w&&this.localCache[I]===ce||this.notifyListeners(I,ce)},Y=this.storage.getItem(I);!function kl(){return(0,N.w1)()&&10===document.documentMode}()||Y===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,w){this.localCache[m]=w;const I=this.listeners[m];if(I)for(const O of Array.from(I))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var I=()=>super._set,O=this;return(0,l.Z)(function*(){yield I().call(O,m,w),O.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,I=this;return(0,l.Z)(function*(){const O=yield w().call(I,m);return I.localCache[m]=JSON.stringify(O),O})()}_remove(m){var w=()=>super._remove,I=this;return(0,l.Z)(function*(){yield w().call(I,m),delete I.localCache[m]})()}}return y.type="LOCAL",y})(),Ar=(()=>{class y extends Mr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let hf=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(O=>O.isListeningto(m));if(w)return w;const I=new y(m);return this.receivers.push(I),I}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const I=m,{eventId:O,eventType:Y,data:ce}=I.data,He=w.handlersMap[Y];if(!He?.size)return;I.ports[0].postMessage({status:"ack",eventId:O,eventType:Y});const tt=Array.from(He).map(function(){var pt=(0,l.Z)(function*(fi){return fi(I.origin,ce)});return function(fi){return pt.apply(this,arguments)}}()),yt=yield function cu(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(tt);I.ports[0].postMessage({status:"done",eventId:O,eventType:Y,response:yt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function so(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class ra{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var I=this;return(0,l.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Y,ce;return new Promise((He,tt)=>{const yt=so("",20);O.port1.start();const pt=setTimeout(()=>{tt(new Error("unsupported_event"))},w);ce={messageChannel:O,onMessage(fi){const uo=fi;if(uo.data.eventId===yt)switch(uo.data.status){case"ack":clearTimeout(pt),Y=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),He(uo.data.response);break;default:clearTimeout(pt),clearTimeout(Y),tt(new Error("invalid_response"))}}},I.handlers.add(ce),O.port1.addEventListener("message",ce.onMessage),I.target.postMessage({eventType:p,eventId:yt,data:m},[O.port2])}).finally(()=>{ce&&I.removeMessageHandler(ce)})})()}}function In(){return window}function Ss(){return typeof In().WorkerGlobalScope<"u"&&"function"==typeof In().importScripts}function oa(){return(oa=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ka="firebaseLocalStorageDb",aa=1,du="firebaseLocalStorage",la="fbase_key";class Is{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function To(y,p){return y.transaction([du],p?"readwrite":"readonly").objectStore(du)}function Qa(){const y=indexedDB.open(Ka,aa);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(du,{keyPath:la})}catch(I){m(I)}}),y.addEventListener("success",(0,l.Z)(function*(){const w=y.result;w.objectStoreNames.contains(du)?p(w):(w.close(),yield function Rr(){const y=indexedDB.deleteDatabase(Ka);return new Is(y).toPromise()}(),p(yield Qa()))}))})}function ca(y,p,m){return es.apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(y,p,m){const w=To(y,!0).put({[la]:p,value:m});return new Is(w).toPromise()})).apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(y,p){const m=To(y,!1).get(p),w=yield new Is(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ua(y,p){const m=To(y,!0).delete(p);return new Is(m).toPromise()}const Mo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield Qa()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let I=0;for(;;)try{const O=yield w._openDb();return yield m(O)}catch(O){if(I++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return Ss()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=hf._getInstance(function sa(){return Ss()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(I,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(I,O){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(I,O){return["keyChanged"]});return function(I,O){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,I;if(m.activeServiceWorker=yield function uu(){return oa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ra(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);O&&null!==(w=O[0])&&void 0!==w&&w.fulfilled&&null!==(I=O[0])&&void 0!==I&&I.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function ff(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Qa();return yield ca(m,Kl,"1"),yield ua(m,Kl),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var I=this;return(0,l.Z)(function*(){return I._withPendingWrite((0,l.Z)(function*(){return yield I._withRetries(O=>ca(O,m,w)),I.localCache[m]=w,I.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const I=yield w._withRetries(O=>function Ql(y,p){return ts.apply(this,arguments)}(O,m));return w.localCache[m]=I,I})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(I=>ua(I,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(Y=>{const ce=To(Y,!1).getAll();return new Is(ce).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const I=[],O=new Set;for(const{fbase_key:Y,value:ce}of w)O.add(Y),JSON.stringify(m.localCache[Y])!==JSON.stringify(ce)&&(m.notifyListeners(Y,ce),I.push(Y));for(const Y of Object.keys(m.localCache))m.localCache[Y]&&!O.has(Y)&&(m.notifyListeners(Y,null),I.push(Y));return I})()}notifyListeners(m,w){this.localCache[m]=w;const I=this.listeners[m];if(I)for(const O of Array.from(I))O(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ms(){return(Ms=(0,l.Z)(function*(y){return(yield Rt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jl(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=I=>{const O=be("internal-error");O.customData=I,m(O)},w.type="text/javascript",w.charset="UTF-8",function Vd(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Pi(y){return`__${y}${Math.floor(1e6*Math.random())}`}const da=1e12;class Hd{constructor(p){this.auth=p,this.counter=da,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new jd(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||da;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||da))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(p||da))||void 0===w||w.execute(),""})()}}class jd{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof p?document.getElementById(p):p;H(I,"argument-error",{appName:m}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ec(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ao=Pi("rcb"),As=new et(3e4,6e4);class Vm{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=In().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return H(function zd(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(In().grecaptcha):new Promise((w,I)=>{const O=In().setTimeout(()=>{I(be(p,"network-request-failed"))},As.get());In()[Ao]=()=>{In().clearTimeout(O),delete In()[Ao];const ce=In().grecaptcha;if(!ce)return void I(be(p,"internal-error"));const He=ce.render;ce.render=(tt,yt)=>{const pt=He(tt,yt);return this.counter++,pt},this.hostLanguage=m,w(ce)},Jl(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Ao,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),I(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=In().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ha{load(p){return(0,l.Z)(function*(){return new Hd(p)})()}clearedOneInstance(){}}const gf="recaptcha",ns={theme:"light",type:"image"};class Cn{constructor(p,m=Object.assign({},ns),w){this.parameters=m,this.type=gf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jn(w),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof p?document.getElementById(p):p;H(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ha:new Vm,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(O=>{const Y=ce=>{ce&&(p.tokenChangeListeners.delete(Y),O(ce))};p.tokenChangeListeners.add(Y),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=In()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){H(ve()&&!Ss(),p.auth,"internal-error"),yield function _f(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Ts(y){return Ms.apply(this,arguments)}(p.auth);H(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class el{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=xo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function vf(){return(vf=(0,l.Z)(function*(y,p,m){const w=jn(y),I=yield wf(w,p,(0,N.m9)(m));return new el(I,O=>ln(w,O))})).apply(this,arguments)}function bf(){return(bf=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);yield Xs(!1,w,"phone");const I=yield wf(w.auth,p,(0,N.m9)(m));return new el(I,O=>ja(w,O))})).apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),I=yield wf(w.auth,p,(0,N.m9)(m));return new el(I,O=>jl(w,O))})).apply(this,arguments)}function wf(y,p,m){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,l.Z)(function*(y,p,m){var w;const I=yield m.verify();try{let O;if(H("string"==typeof I,y,"argument-error"),H(m.type===gf,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Y=O.session;if("phoneNumber"in O)return H("enroll"===Y.type,y,"internal-error"),(yield function gr(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:start",nt(y,p))}(y,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{H("signin"===Y.type,y,"internal-error");const ce=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return H(ce,y,"missing-multi-factor-info"),(yield function Bd(y,p){return Rt(y,"POST","/v2/accounts/mfaSignIn:start",nt(y,p))}(y,{mfaPendingCredential:Y.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield function Wc(y,p){return Pl.apply(this,arguments)}(y,{phoneNumber:O.phoneNumber,recaptchaToken:I});return Y}}finally{m._reset()}}),Cf.apply(this,arguments)}function tc(){return(tc=(0,l.Z)(function*(y,p){yield Ua((0,N.m9)(y),p)})).apply(this,arguments)}let Ro=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=jn(m)}verifyPhoneNumber(m,w){return wf(this.auth,m,(0,N.m9)(w))}static credential(m,w){return xo._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:I}=m;return w&&I?xo._fromTokenResponse(w,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function pa(y,p){return p?_t(p):(H(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ni extends li{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Yi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Yi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Yi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function is(y){return Qo(y.auth,new Ni(y),y.bypassAuthState)}function fu(y){const{auth:p,user:m}=y;return H(m,p,"internal-error"),Vl(m,new Ni(y),y.bypassAuthState)}function tl(y){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(y){const{auth:p,user:m}=y;return H(m,p,"internal-error"),Ua(m,new Ni(y),y.bypassAuthState)})).apply(this,arguments)}class Rs{constructor(p,m,w,I,O=!1){this.auth=p,this.resolver=w,this.user=I,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(w,I){p.pendingPromise={resolve:w,reject:I};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,I){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:I,postBody:O,tenantId:Y,error:ce,type:He}=p;if(ce)return void m.reject(ce);const tt={auth:m.auth,requestUri:w,sessionId:I,tenantId:Y||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(He)(tt))}catch(yt){m.reject(yt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return is;case"linkViaPopup":case"linkViaRedirect":return tl;case"reauthViaPopup":case"reauthViaRedirect":return fu;default:Ee(this.auth,"internal-error")}}resolve(p){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $d=new et(2e3,1e4);function Hm(){return(Hm=(0,l.Z)(function*(y,p,m){const w=jn(y);Ve(y,p,Do);const I=pa(w,m);return new Zn(w,"signInViaPopup",p,I).executeNotNull()})).apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Ve(w.auth,p,Do);const I=pa(w.auth,m);return new Zn(w.auth,"reauthViaPopup",p,I,w).executeNotNull()})).apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Ve(w.auth,p,Do);const I=pa(w.auth,m);return new Zn(w.auth,"linkViaPopup",p,I,w).executeNotNull()})).apply(this,arguments)}let Zn=(()=>{class y extends Rs{constructor(m,w,I,O,Y){super(m,w,O,Y),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return H(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){Ue(1===m.filter.length,"Popup operations only handle one event");const w=so();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(I=>{m.reject(I)}),m.resolver._isIframeWebStorageSupported(m.auth,I=>{I||m.reject(be(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,I;this.pollId=null!==(I=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,$d.get())};m()}}return y.currentPopupAction=null,y})();const xf="pendingRedirect",os=new Map;class Tn extends Rs{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=os.get(m.auth._key());if(!w){try{const O=(yield function Df(y,p){return ko.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(O)}catch(I){w=()=>Promise.reject(I)}os.set(m.auth._key(),w)}return m.bypassAuthState||os.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const I=yield w.auth._redirectUserForId(p.eventId);if(I)return w.user=I,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ko(){return(ko=(0,l.Z)(function*(y,p){const m=st(p),w=lo(y);if(!(yield w._isAvailable()))return!1;const I="true"===(yield w._get(m));return yield w._remove(m),I})).apply(this,arguments)}function Gd(y,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,l.Z)(function*(y,p){return lo(y)._set(st(p),"true")})).apply(this,arguments)}function ga(y,p){os.set(y._key(),p)}function lo(y){return _t(y._redirectPersistence)}function st(y){return U(xf,y.config.apiKey,y.name)}function D(y,p,m){return function S(y,p,m){return R.apply(this,arguments)}(y,p,m)}function R(){return(R=(0,l.Z)(function*(y,p,m){const w=jn(y);Ve(y,p,Do),yield w._initializationPromise;const I=pa(w,m);return yield Gd(I,w),I._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function V(y,p,m){return function W(y,p,m){return ne.apply(this,arguments)}(y,p,m)}function ne(){return(ne=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Ve(w.auth,p,Do),yield w.auth._initializationPromise;const I=pa(w.auth,m);yield Gd(I,w.auth);const O=yield Vn(w);return I._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Ie(y,p,m){return function ct(y,p,m){return ut.apply(this,arguments)}(y,p,m)}function ut(){return(ut=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Ve(w.auth,p,Do),yield w.auth._initializationPromise;const I=pa(w.auth,m);yield Xs(!1,w,p.providerId),yield Gd(I,w.auth);const O=yield Vn(w);return I._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(y,p){return yield jn(y)._initializationPromise,Tt(y,p,!1)})).apply(this,arguments)}function Tt(y,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(y,p,m=!1){const w=jn(y),I=pa(w,p),Y=yield new Tn(w,I,m).execute();return Y&&!m&&(delete Y.user._redirectEventId,yield w._persistUserIfCurrent(Y.user),yield w._setRedirectUser(null,p)),Y})).apply(this,arguments)}function Vn(y){return nl.apply(this,arguments)}function nl(){return(nl=(0,l.Z)(function*(y){const p=so(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class qr{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function $n(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return On(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!On(p)){const I=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(be(this.auth,I))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yn(p))}saveEventToCache(p){this.cachedEventUids.add(Yn(p)),this.lastProcessedEventTime=Date.now()}}function Yn(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function On({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function qd(y){return ic.apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(y,p={}){return Rt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Kn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gn=/^https?/;function bn(){return(bn=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield qd(y);for(const m of p)try{if(Li(m))return}catch{}Ee(y,"unauthorized-domain")})).apply(this,arguments)}function Li(y){const p=he(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const Y=new URL(y);return""===Y.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Y.hostname===w}if(!Gn.test(m))return!1;if(Kn.test(y))return w===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(w)}const rc=new et(3e4,6e4);function jm(){const y=In().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let kr=null;const hi=new et(5e3,15e3),_a="__/auth/iframe",Cw="emulator/auth/iframe",Wd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function If(y){const p=y.config;H(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Qe(p,Cw):`https://${y.config.authDomain}/${_a}`,w={apiKey:p.apiKey,appName:y.name,v:ie.SDK_VERSION},I=Sf.get(y.config.apiHost);I&&(w.eid=I);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${m}?${(0,N.xO)(w).slice(1)}`}function pu(){return pu=(0,l.Z)(function*(y){const p=yield function il(y){return kr=kr||function ww(y){return new Promise((p,m)=>{var w,I,O;function Y(){jm(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{jm(),m(be(y,"network-request-failed"))},timeout:rc.get()})}if(null!==(I=null===(w=In().gapi)||void 0===w?void 0:w.iframes)&&void 0!==I&&I.Iframe)p(gapi.iframes.getContext());else{if(null===(O=In().gapi)||void 0===O||!O.load){const ce=Pi("iframefcb");return In()[ce]=()=>{gapi.load?Y():m(be(y,"network-request-failed"))},Jl(`https://apis.google.com/js/api.js?onload=${ce}`).catch(He=>m(He))}Y()}}).catch(p=>{throw kr=null,p})}(y),kr}(y),m=In().gapi;return H(m,y,"internal-error"),p.open({where:document.body,url:If(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wd,dontclear:!0},w=>new Promise(function(){var I=(0,l.Z)(function*(O,Y){yield w.restyle({setHideOnLeave:!1});const ce=be(y,"network-request-failed"),He=In().setTimeout(()=>{Y(ce)},hi.get());function tt(){In().clearTimeout(He),O(w)}w.ping(tt).then(tt,()=>{Y(ce)})});return function(O,Y){return I.apply(this,arguments)}}()))}),pu.apply(this,arguments)}const mu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jt=500,Or=600,Ny="_blank",oc="http://localhost";class zm{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Gm="__/auth/handler",qm="emulator/auth/handler";function Zd(y,p,m,w,I,O){H(y.config.authDomain,y,"auth-domain-config-required"),H(y.config.apiKey,y,"invalid-api-key");const Y={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:ie.SDK_VERSION,eventId:I};if(p instanceof Do){p.setDefaultLanguage(y.languageCode),Y.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(Y.customParameters=JSON.stringify(p.getCustomParameters()));for(const[He,tt]of Object.entries(O||{}))Y[He]=tt}if(p instanceof ws){const He=p.getScopes().filter(tt=>""!==tt);He.length>0&&(Y.scopes=He.join(","))}y.tenantId&&(Y.tid=y.tenantId);const ce=Y;for(const He of Object.keys(ce))void 0===ce[He]&&delete ce[He];return`${function Ly({config:y}){return y.emulator?Qe(y,qm):`https://${y.authDomain}/${Gm}`}(y)}?${(0,N.xO)(ce).slice(1)}`}const wi="webStorageSupport",Di=class ya{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ar,this._completeRedirectFn=Tt,this._overrideRedirectResult=ga}_openPopup(p,m,w,I){var O=this;return(0,l.Z)(function*(){var Y;Ue(null===(Y=O.eventManagers[p._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const ce=Zd(p,m,w,he(),I);return function $m(y,p,m,w=jt,I=Or){const O=Math.max((window.screen.availHeight-I)/2,0).toString(),Y=Math.max((window.screen.availWidth-w)/2,0).toString();let ce="";const He=Object.assign(Object.assign({},mu),{width:w.toString(),height:I.toString(),top:O,left:Y}),tt=(0,N.z$)().toLowerCase();m&&(ce=Ye(tt)?Ny:m),te(tt)&&(p=p||oc,He.scrollbars="yes");const yt=Object.entries(He).reduce((fi,[uo,dl])=>`${fi}${uo}=${dl},`,"");if(function eo(y=(0,N.z$)()){var p;return Vt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(tt)&&"_self"!==ce)return function co(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ce),new zm(null);const pt=window.open(p||"",ce,yt);H(pt,y,"popup-blocked");try{pt.focus()}catch{}return new zm(pt)}(p,ce,so())})()}_openRedirect(p,m,w,I){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(p),function Jo(y){In().location.href=y}(Zd(p,m,w,he(),I)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:I,promise:O}=this.eventManagers[m];return I?Promise.resolve(I):(Ue(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const w=yield function Tf(y){return pu.apply(this,arguments)}(p),I=new qr(p);return w.register("authEvent",O=>(H(O?.authEvent,p,"invalid-auth-event"),{status:I.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:I},m.iframes[p._key()]=w,I})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(wi,{type:wi},I=>{var O;const Y=null===(O=I?.[0])||void 0===O?void 0:O[wi];void 0!==Y&&m(!!Y),Ee(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Oo(y){return bn.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return nf()||it()||Vt()}};class Mf{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return ye("unexpected MultiFactorSessionType")}}}class gu extends Mf{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new gu(p)}_finalizeEnroll(p,m,w){return function Pm(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:finalize",nt(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Gr(y,p){return Rt(y,"POST","/v2/accounts/mfaSignIn:finalize",nt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Yd=(()=>{class y{constructor(){}static assertion(m){return gu._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Rf="@firebase/auth";class ba{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sl(){return window}(0,N.Pz)("authIdTokenMaxAge"),function _u(y){(0,ie._registerComponent)(new me.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),I=p.getProvider("heartbeat"),{apiKey:O,authDomain:Y}=w.options;return((ce,He)=>{H(O&&!O.includes(":"),"invalid-api-key",{appName:ce.name}),H(!Y?.includes(":"),"argument-error",{appName:ce.name});const tt={apiKey:O,authDomain:Y,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ol(y)},yt=new rf(ce,He,tt);return function se(y,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(_t);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(yt,m),yt})(w,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new me.wA("auth-internal",p=>{const m=jn(p.getProvider("auth").getImmediate());return new ba(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(Rf,"0.22.0",function Xt(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ie.registerVersion)(Rf,"0.22.0","esm2017")}("Browser");const wa=2e3;function Qd(){return Qd=(0,l.Z)(function*(y,p,m){var w;const{BuildInfo:I}=sl();Ue(p.sessionId,"AuthEvent did not contain a session ID");const O=yield function By(y){return bu.apply(this,arguments)}(p.sessionId),Y={};return Vt()?Y.ibi=I.packageName:Nn()?Y.apn=I.packageName:Ee(y,"operation-not-supported-in-this-environment"),I.displayName&&(Y.appDisplayName=I.displayName),Y.sessionId=O,Zd(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,Y)}),Qd.apply(this,arguments)}function vu(){return(vu=(0,l.Z)(function*(y){const{BuildInfo:p}=sl(),m={};Vt()?m.iosBundleId=p.packageName:Nn()?m.androidPackageName=p.packageName:Ee(y,"operation-not-supported-in-this-environment"),yield qd(y,m)})).apply(this,arguments)}function cc(){return(cc=(0,l.Z)(function*(y,p,m){const{cordova:w}=sl();let I=()=>{};try{yield new Promise((O,Y)=>{let ce=null;function He(){var pt;O();const fi=null===(pt=w.plugins.browsertab)||void 0===pt?void 0:pt.close;"function"==typeof fi&&fi(),"function"==typeof m?.close&&m.close()}function tt(){ce||(ce=window.setTimeout(()=>{Y(be(y,"redirect-cancelled-by-user"))},wa))}function yt(){"visible"===document?.visibilityState&&tt()}p.addPassiveListener(He),document.addEventListener("resume",tt,!1),Nn()&&document.addEventListener("visibilitychange",yt,!1),I=()=>{p.removePassiveListener(He),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",yt,!1),ce&&window.clearTimeout(ce)}})}finally{I()}})).apply(this,arguments)}function bu(){return(bu=(0,l.Z)(function*(y){const p=function Vy(y){if(Ue(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Jd=20;class Uy extends qr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function Ym(y){return eh.apply(this,arguments)}function eh(){return(eh=(0,l.Z)(function*(y){const p=yield Eu()._get(Os(y));return p&&(yield Eu()._remove(Os(y))),p})).apply(this,arguments)}function Cu(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<Jd;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Eu(){return _t(lu)}function Os(y){return U("authEvent",y.config.apiKey,y.name)}function uc(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,N.zd)(m.join("?"))}const dc=class Km{constructor(){this._redirectPersistence=Ar,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tt,this._overrideRedirectResult=ga}_initialize(p){var m=this;return(0,l.Z)(function*(){const w=p._key();let I=m.eventManagers.get(w);return I||(I=new Uy(p),m.eventManagers.set(w,I),m.attachCallbackListeners(p,I)),I})()}_openPopup(p){Ee(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,I){var O=this;return(0,l.Z)(function*(){!function kf(y){var p,m,w,I,O,Y,ce,He,tt,yt;const pt=sl();H("function"==typeof(null===(p=pt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof(null===(m=pt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(O=null===(I=null===(w=pt?.cordova)||void 0===w?void 0:w.plugins)||void 0===I?void 0:I.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(He=null===(ce=null===(Y=pt?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===He?void 0:He.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(yt=null===(tt=pt?.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===yt?void 0:yt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Y=yield O._initialize(p);yield Y.initialized(),Y.resetRedirect(),function ma(){os.clear()}(),yield O._originValidation(p);const ce=function Hy(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Cu(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(p,w,I);yield function jy(y,p){return Eu()._set(Os(y),p)}(p,ce);const He=yield function yu(y,p,m){return Qd.apply(this,arguments)}(p,ce,m),tt=yield function Xd(y){const{cordova:p}=sl();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let I=null;w?p.plugins.browsertab.openUrl(y):I=p.InAppBrowser.open(y,function Wi(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(I)})})}(He);return function ks(y,p,m){return cc.apply(this,arguments)}(p,Y,tt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function lc(y){return vu.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:I,BuildInfo:O}=sl(),Y=setTimeout((0,l.Z)(function*(){yield Ym(p),m.onEvent(hc())}),500),ce=function(){var yt=(0,l.Z)(function*(pt){clearTimeout(Y);const fi=yield Ym(p);let uo=null;fi&&pt?.url&&(uo=function wu(y,p){var m,w;const I=function zy(y){const p=uc(y),m=p.link?decodeURIComponent(p.link):void 0,w=uc(m).link,I=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return uc(I).link||I||w||m||y}(p);if(I.includes("/__/auth/callback")){const O=uc(I),Y=O.firebaseError?function Of(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ce=null===(w=null===(m=Y?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],He=ce?be(ce):null;return He?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(fi,pt.url)),m.onEvent(uo||hc())});return function(fi){return yt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ce);const He=I,tt=`${O.packageName.toLowerCase()}://`;sl().handleOpenURL=function(){var yt=(0,l.Z)(function*(pt){if(pt.toLowerCase().startsWith(tt)&&ce({url:pt}),"function"==typeof He)try{He(pt)}catch(fi){console.error(fi)}});return function(pt){return yt.apply(this,arguments)}}()}};function hc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}const Ff=1e3;function Fo(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function th(y=(0,N.z$)()){return!("file:"!==Fo()&&"ionic:"!==Fo()&&"capacitor:"!==Fo()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ih(){try{const y=self.localStorage,p=so();if(y)return y.setItem(p,"1"),y.removeItem(p),!function al(y=(0,N.z$)()){return function nh(){return(0,N.w1)()&&11===document?.documentMode}()||function fc(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return ll()&&(0,N.hl)()}return!1}function ll(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Su(){return(function Xm(){return"http:"===Fo()||"https:"===Fo()}()||(0,N.ru)()||th())&&!function Pf(){return(0,N.b$)()||(0,N.UG)()}()&&ih()&&!ll()}function cl(){return th()&&typeof document<"u"}function Ea(){return(Ea=(0,l.Z)(function*(){return!!cl()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},Ff);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const yr={LOCAL:"local",NONE:"none",SESSION:"session"},Po=H,pc="persistence";function xa(y){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,l.Z)(function*(y){yield y._initializationPromise;const p=eg(),m=U(pc,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function eg(){var y;try{return(null===(y=function ss(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const $y=H;class ul{constructor(){this.browserResolver=_t(Di),this.cordovaResolver=_t(dc),this.underlyingResolver=null,this._redirectPersistence=Ar,this._completeRedirectFn=Tt,this._overrideRedirectResult=ga}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,I){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,m,w,I)})()}_openRedirect(p,m,w,I){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,m,w,I)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return cl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $y(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Jm(){return Ea.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function tg(y){return y.unwrap()}function Gy(y){return Mu(y)}function Mu(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Ro.credentialFromResult(y);const m=p.providerId;if(!m||m===ue.PASSWORD)return null;let w;switch(m){case ue.GOOGLE:w=sf;break;case ue.FACEBOOK:w=Zc;break;case ue.GITHUB:w=af;break;case ue.TWITTER:w=Tm;break;default:const{oauthIdToken:I,oauthAccessToken:O,oauthTokenSecret:Y,pendingToken:ce,nonce:He}=p;return O||Y||I||ce?ce?m.startsWith("saml.")?Ks._create(m,ce):Eo._fromParams({providerId:m,signInMethod:m,pendingToken:ce,idToken:I,accessToken:O}):new Va(m).credential({idToken:I,accessToken:O,rawNonce:He}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Xi(y,p){return p.catch(m=>{throw m instanceof N.ZR&&function ng(y,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new ig(y,function Fm(y,p){var m;const w=(0,N.m9)(y),I=p;return H(p.customData.operationType,w,"argument-error"),H(null===(m=I.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),ni._fromError(w,I)}(y,p));else if(w){const I=Mu(p),O=p;I&&(O.credential=I,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(y,m),m}).then(m=>{const I=m.user;return{operationType:m.operationType,credential:Gy(m),additionalUserInfo:Rm(m),user:vr.getOrCreate(I)}})}function Au(y,p){return rh.apply(this,arguments)}function rh(){return(rh=(0,l.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Xi(y,m.confirm(w))}})).apply(this,arguments)}class ig{constructor(p,m){this.resolver=m,this.auth=function Nf(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Xi(tg(this.auth),this.resolver.resolveSignIn(p))}}class vr{constructor(p){this._delegate=p,this.multiFactor=function Xo(y){const p=(0,N.m9)(y);return Ds.has(p)||Ds.set(p,ia._fromUser(p)),Ds.get(p)}(p)}static getOrCreate(p){return vr.USER_MAP.has(p)||vr.USER_MAP.set(p,new vr(p)),vr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return Xi(m.auth,ja(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,l.Z)(function*(){return Au(w.auth,function Py(y,p,m){return bf.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return Xi(m.auth,function qe(y,p,m){return It.apply(this,arguments)}(m._delegate,p,ul))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield xa(jn(m.auth)),Ie(m._delegate,p,ul)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return Xi(m.auth,jl(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Au(this.auth,function Um(y,p,m){return fa.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Xi(this.auth,function Qt(y,p,m){return ao.apply(this,arguments)}(this._delegate,p,ul))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield xa(jn(m.auth)),V(m._delegate,p,ul)})()}sendEmailVerification(p){return function Rd(y,p){return ql.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function Sd(y,p){return Es.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Wl(y,p){return Od((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function kd(y,p){return Od((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function di(y,p){return tc.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Wa(y,p){return Tr.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function tu(y,p,m){return zn.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vr.USER_MAP=new WeakMap;const Ru=H;let rg=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=m.options;Ru(I,"invalid-api-key",{appName:m.name}),Ru(I,"invalid-api-key",{appName:m.name});const O=typeof window<"u"?ul:void 0;this._delegate=w.initialize({options:{persistence:Bf(I,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ge),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Gc(y,p,m){const w=jn(y);H(w._canInitEmulator,w,"emulator-config-failed"),H(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const I=!!m?.disableWarnings,O=rn(p),{host:Y,port:ce}=function ti(y){const p=rn(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(w);if(I){const O=I[1];return{host:O,port:yi(w.substr(O.length+1))}}{const[O,Y]=w.split(":");return{host:O,port:yi(Y)}}}(p);w.config.emulator={url:`${O}//${Y}${null===ce?"":`:${ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Y,port:ce,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function Zo(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function Td(y,p){return zl.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Md(this._delegate,m)}confirmPasswordReset(m,w){return function Jc(y,p,m){return Ot.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var I=this;return(0,l.Z)(function*(){return Xi(I._delegate,function cf(y,p,m){return kn.apply(this,arguments)}(I._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ad(y,p){return na.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function uf(y,p){return"EMAIL_SIGNIN"===Oi.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){Ru(Su(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function mt(y,p){return Kt.apply(this,arguments)}(m._delegate,ul);return w?Xi(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function xu(y,p){jn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,I){const{next:O,error:Y,complete:ce}=Lf(m,w,I);return this._delegate.onAuthStateChanged(O,Y,ce)}onIdTokenChanged(m,w,I){const{next:O,error:Y,complete:ce}=Lf(m,w,I);return this._delegate.onIdTokenChanged(O,Y,ce)}sendSignInLinkToEmail(m,w){return function on(y,p,m){return Gl.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function So(y,p,m){return ea.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,l.Z)(function*(){let I;switch(function Iu(y,p){Po(Object.values(yr).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?Po(p!==yr.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?Po(p===yr.NONE,y,"unsupported-persistence-type"):ll()?Po(p===yr.NONE||p===yr.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):Po(p===yr.NONE||ih(),y,"unsupported-persistence-type")}(w._delegate,m),m){case yr.SESSION:I=Ar;break;case yr.LOCAL:I=(yield _t(Mo)._isAvailable())?Mo:lu;break;case yr.NONE:I=j;break;default:return Ee("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Xi(this._delegate,function Ll(y){return Dd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Xi(this._delegate,ln(this._delegate,m))}signInWithCustomToken(m){return Xi(this._delegate,function Qc(y,p){return oo.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Xi(this._delegate,function Me(y,p,m){return ln((0,N.m9)(y),xd.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Xi(this._delegate,function ui(y,p,m){return eu.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Au(this._delegate,function yf(y,p,m){return vf.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,l.Z)(function*(){return Ru(Su(),w._delegate,"operation-not-supported-in-this-environment"),Xi(w._delegate,function Ef(y,p,m){return Hm.apply(this,arguments)}(w._delegate,m,ul))})()}signInWithRedirect(m){var w=this;return(0,l.Z)(function*(){return Ru(Su(),w._delegate,"operation-not-supported-in-this-environment"),yield xa(w._delegate),D(w._delegate,m,ul)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function lf(y,p){return $l.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=yr,y})();function Lf(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const I=w;return{next:Y=>I(Y&&vr.getOrCreate(Y)),error:p,complete:m}}function Bf(y,p){const m=function mc(y,p){const m=eg();if(!m)return[];const w=U(pc,y,p);switch(m.getItem(w)){case yr.NONE:return[j];case yr.LOCAL:return[Mo,Ar];case yr.SESSION:return[Ar];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(Mo)&&m.push(Mo),typeof window<"u")for(const w of[lu,Ar])m.includes(w)||m.push(w);return m.includes(j)||m.push(j),m}class ku{constructor(){this.providerId="phone",this._delegate=new Ro(tg(J.Z.auth()))}static credential(p,m){return Ro.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}ku.PHONE_SIGN_IN_METHOD=Ro.PHONE_SIGN_IN_METHOD,ku.PROVIDER_ID=Ro.PROVIDER_ID;const Bi=H;class No{constructor(p,m,w=J.Z.app()){var I;Bi(null===(I=w.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Cn(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function sg(y){y.INTERNAL.registerComponent(new me.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new rg(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K_EMAIL_SIGNIN,PASSWORD_RESET:K_PASSWORD_RESET,RECOVER_EMAIL:K_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K_VERIFY_EMAIL}},EmailAuthProvider:xd,FacebookAuthProvider:Zc,GithubAuthProvider:af,GoogleAuthProvider:sf,OAuthProvider:Va,SAMLAuthProvider:no,PhoneAuthProvider:ku,PhoneMultiFactorGenerator:Yd,RecaptchaVerifier:No,TwitterAuthProvider:Tm,Auth:rg,AuthCredential:li,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.7")}(J.Z)},8766:(gt,we,P)=>{P.d(we,{Lj:()=>Ee,X3:()=>Ne});var l=P(5861);const J=(H,ye)=>ye.some(Ue=>H instanceof Ue);let N,ie;const me=new WeakMap,de=new WeakMap,ue=new WeakMap,z=new WeakMap,q=new WeakMap;let xe={get(H,ye,Ue){if(H instanceof IDBTransaction){if("done"===ye)return de.get(H);if("objectStoreNames"===ye)return H.objectStoreNames||ue.get(H);if("store"===ye)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return De(H[ye])},set:(H,ye,Ue)=>(H[ye]=Ue,!0),has:(H,ye)=>H instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in H};function fe(H){return"function"==typeof H?function dt(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...ye){return H.apply(Se(this),ye),De(me.get(this))}:function(...ye){return De(H.apply(Se(this),ye))}:function(ye,...Ue){const Ze=H.call(Se(this),ye,...Ue);return ue.set(Ze,ye.sort?ye.sort():[ye]),De(Ze)}}(H):(H instanceof IDBTransaction&&function je(H){if(de.has(H))return;const ye=new Promise((Ue,Ze)=>{const _t=()=>{H.removeEventListener("complete",rt),H.removeEventListener("error",se),H.removeEventListener("abort",se)},rt=()=>{Ue(),_t()},se=()=>{Ze(H.error||new DOMException("AbortError","AbortError")),_t()};H.addEventListener("complete",rt),H.addEventListener("error",se),H.addEventListener("abort",se)});de.set(H,ye)}(H),J(H,function re(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,xe):H)}function De(H){if(H instanceof IDBRequest)return function K(H){const ye=new Promise((Ue,Ze)=>{const _t=()=>{H.removeEventListener("success",rt),H.removeEventListener("error",se)},rt=()=>{Ue(De(H.result)),_t()},se=()=>{Ze(H.error),_t()};H.addEventListener("success",rt),H.addEventListener("error",se)});return ye.then(Ue=>{Ue instanceof IDBCursor&&me.set(Ue,H)}).catch(()=>{}),q.set(ye,H),ye}(H);if(z.has(H))return z.get(H);const ye=fe(H);return ye!==H&&(z.set(H,ye),q.set(ye,H)),ye}const Se=H=>q.get(H);function Ne(H,ye,{blocked:Ue,upgrade:Ze,blocking:_t,terminated:rt}={}){const se=indexedDB.open(H,ye),he=De(se);return Ze&&se.addEventListener("upgradeneeded",ve=>{Ze(De(se.result),ve.oldVersion,ve.newVersion,De(se.transaction))}),Ue&&se.addEventListener("blocked",()=>Ue()),he.then(ve=>{rt&&ve.addEventListener("close",()=>rt()),_t&&ve.addEventListener("versionchange",()=>_t())}).catch(()=>{}),he}function Ee(H,{blocked:ye}={}){const Ue=indexedDB.deleteDatabase(H);return ye&&Ue.addEventListener("blocked",()=>ye()),De(Ue).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Ve=new Map;function Fe(H,ye){if(!(H instanceof IDBDatabase)||ye in H||"string"!=typeof ye)return;if(Ve.get(ye))return Ve.get(ye);const Ue=ye.replace(/FromIndex$/,""),Ze=ye!==Ue,_t=Ae.includes(Ue);if(!(Ue in(Ze?IDBIndex:IDBObjectStore).prototype)||!_t&&!be.includes(Ue))return;const rt=function(){var se=(0,l.Z)(function*(he,...ve){const Re=this.transaction(he,_t?"readwrite":"readonly");let Le=Re.store;return Ze&&(Le=Le.index(ve.shift())),(yield Promise.all([Le[Ue](...ve),_t&&Re.done]))[0]});return function(ve){return se.apply(this,arguments)}}();return Ve.set(ye,rt),rt}!function Ge(H){xe=H(xe)}(H=>({...H,get:(ye,Ue,Ze)=>Fe(ye,Ue)||H.get(ye,Ue,Ze),has:(ye,Ue)=>!!Fe(ye,Ue)||H.has(ye,Ue)}))},5861:(gt,we,P)=>{function l(N,ie,re,Q,me,de,ue){try{var z=N[de](ue),q=z.value}catch(K){return void re(K)}z.done?ie(q):Promise.resolve(q).then(Q,me)}function J(N){return function(){var ie=this,re=arguments;return new Promise(function(Q,me){var de=N.apply(ie,re);function ue(q){l(de,Q,me,ue,z,"next",q)}function z(q){l(de,Q,me,ue,z,"throw",q)}ue(void 0)})}}P.d(we,{Z:()=>J})}},gt=>{gt(gt.s=3783)}]);