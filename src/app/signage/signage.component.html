<mat-card class="card">
  <div class="table">
  <table mat-table [dataSource]="matDataSource" mat-table-layout="fixed">
    <ng-container matColumnDef="roomName">
      <th mat-header-cell *matHeaderCellDef>教室名</th>
      <td mat-cell *matCellDef="let element" class="className">{{ element.roomName }}</td>
    </ng-container>

    <ng-container matColumnDef="period1">
      <th mat-header-cell *matHeaderCellDef>1限目 <span class="timeZone">08:45~10:15</span></th>
      <td mat-cell *matCellDef="let element"  [ngClass]="{'highlight': currentColumn === 1}">
        <ng-container *ngIf="isOpen(element.period1)">
          <mat-icon class="check">check_circle</mat-icon>
        </ng-container>
        <ng-container *ngIf="isOpen(element.period1) === false">
          {{ element.period1 }}
        </ng-container>
      </td>
    </ng-container>

    <ng-container matColumnDef="period2">
      <th mat-header-cell *matHeaderCellDef>2限目 <span class="timeZone">10:30~12:00</span></th>
      <td mat-cell *matCellDef="let element"  [ngClass]="{'highlight': currentColumn === 2}">
        <ng-container *ngIf="isOpen(element.period2)">
          <mat-icon class="check">check_circle</mat-icon>
        </ng-container>
        <ng-container *ngIf="isOpen(element.period2) === false">
          {{ element.period2 }}
        </ng-container>
      </td>
    </ng-container>

    <ng-container matColumnDef="lunch">
      <th mat-header-cell *matHeaderCellDef>昼休み <span class="timeZone">12:00~13:00</span></th>
      <td mat-cell *matCellDef="let element"  [ngClass]="{'highlight': currentColumn === 3}">
        <ng-container *ngIf="isOpen(element.lunch)">
          <mat-icon class="check">check_circle</mat-icon>
        </ng-container>
        <ng-container *ngIf="isOpen(element.lunch) === false">
          {{ element.lunch }}
        </ng-container>
      </td>
    </ng-container>

    <ng-container matColumnDef="period3">
      <th mat-header-cell *matHeaderCellDef>3限目 <span class="timeZone">13:00~14:30</span></th>
      <td mat-cell *matCellDef="let element"  [ngClass]="{'highlight': currentColumn === 4}">
        <ng-container *ngIf="isOpen(element.period3)">
          <mat-icon class="check">check_circle</mat-icon>
        </ng-container>
        <ng-container *ngIf="isOpen(element.period3) === false">
          {{ element.period3 }}
        </ng-container>
      </td>
    </ng-container>

    <ng-container matColumnDef="period4">
      <th mat-header-cell *matHeaderCellDef>4限目 <span class="timeZone">14:45~16:15</span></th>
      <td mat-cell *matCellDef="let element"  [ngClass]="{'highlight': currentColumn === 5}">
        <ng-container *ngIf="isOpen(element.period4)">
          <mat-icon class="check">check_circle</mat-icon>
        </ng-container>
        <ng-container *ngIf="isOpen(element.period4) === false">
          {{ element.period4 }}
        </ng-container>
      </td>
    </ng-container>

    <ng-container matColumnDef="period5">
      <th mat-header-cell *matHeaderCellDef>5限目 <span class="timeZone">16:30~18:00</span></th>
      <td mat-cell *matCellDef="let element"  [ngClass]="{'highlight': currentColumn === 6}">
        <ng-container *ngIf="isOpen(element.period5)">
          <mat-icon class="check">check_circle</mat-icon>
        </ng-container>
        <ng-container *ngIf="isOpen(element.period5) === false">
          {{ element.period5 }}
        </ng-container>
      </td>
    </ng-container>

    <ng-container matColumnDef="period6">
      <th mat-header-cell *matHeaderCellDef>6限目 <span class="timeZone">18:15~20:00</span></th>
      <td mat-cell *matCellDef="let element"  [ngClass]="{'highlight': currentColumn === 7}">
        <ng-container *ngIf="isOpen(element.period6)">
          <mat-icon class="check">check_circle</mat-icon>
        </ng-container>
        <ng-container *ngIf="isOpen(element.period6) === false">
          {{ element.period6 }}
        </ng-container>
      </td>
    </ng-container>

    <ng-container matColumnDef="afterSchool">
      <th mat-header-cell *matHeaderCellDef>放課後</th>
      <td mat-cell *matCellDef="let element"  [ngClass]="{'highlight': currentColumn === 8}">
        <ng-container *ngIf="isOpen(element.afterSchool)">
          <mat-icon class="check">check_circle</mat-icon>
        </ng-container>
        <ng-container *ngIf="isOpen(element.afterSchool) === false">
          {{ element.afterSchool }}
        </ng-container>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  </div>
  <div class="footer">
    <mat-icon class="footerIcon">check_circle</mat-icon>は空き教室です
  </div>
</mat-card>


  <mat-card class="timeCard">
    <mat-card-header>
      <mat-card-title>現在時刻は{{ currentTime | date:'HH:mm' }}  {{ nowPeriod }} </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>
        今日は{{ currentTime | date:'MM' }}月{{ currentTime | date:'dd' }}日です<br>
        {{ todaysWeek }}の授業です
      </p>
    </mat-card-content>
  </mat-card>

