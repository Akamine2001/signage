"use strict";(self.webpackChunkmeio_classroom_info=self.webpackChunkmeio_classroom_info||[]).push([[179],{2011:(_t,Ee,F)=>{F.d(Ee,{Dh:()=>he,GT:()=>X,cc:()=>De,hO:()=>je,on:()=>z,pX:()=>oe,xv:()=>de});var c=F(4650),ee=F(9260),N=F(2122);_t=F.hmd(_t);const re=["ngOnDestroy"],oe=(Ie,Se,Ne,xe={})=>new Proxy(Ie,{get:(we,Me)=>Ne.runOutsideAngular(()=>{var Be;if(Ie[Me])return!(null===(Be=xe?.spy)||void 0===Be)&&Be.get&&xe.spy.get(Me,Ie[Me]),Ie[Me];if(re.indexOf(Me)>-1)return()=>{};const Fe=Se.toPromise().then(H=>{const ye=H&&H[Me];return"function"==typeof ye?ye.bind(H):ye&&ye.then?ye.then(Ue=>Ne.run(()=>Ue)):Ne.run(()=>ye)});return new Proxy(()=>{},{get:(H,ye)=>Fe[ye],apply:(H,ye,Ue)=>Fe.then(Ze=>{var yt;const ot=Ze&&Ze(...Ue);return!(null===(yt=xe?.spy)||void 0===yt)&&yt.apply&&xe.spy.apply(Me,Ue,ot),ot})})})}),X=(Ie,Se)=>{Se.forEach(Ne=>{Object.getOwnPropertyNames(Ne.prototype||Ne).forEach(xe=>{Object.defineProperty(Ie.prototype,xe,Object.getOwnPropertyDescriptor(Ne.prototype||Ne,xe))})})};class me{constructor(Se){return Se}}const he=new c.OlP("angularfire2.app.options"),de=new c.OlP("angularfire2.app.name");function z(Ie,Se,Ne){const we="object"==typeof Ne&&Ne||{};we.name=we.name||"string"==typeof Ne&&Ne||"[DEFAULT]";const Be=ee.Z.apps.filter(Fe=>Fe&&Fe.name===we.name)[0]||Se.runOutsideAngular(()=>ee.Z.initializeApp(Ie,we));try{JSON.stringify(Ie)!==JSON.stringify(Be.options)&&G("error",`${Be.name} Firebase App already initialized with different options${_t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(Be)}const G=(Ie,...Se)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ie](...Se)},Q={provide:me,useFactory:z,deps:[he,c.R0b,[new c.FiY,de]]};let je=(()=>{class Ie{constructor(Ne){ee.Z.registerVersion("angularfire",N.q4.full,"core"),ee.Z.registerVersion("angularfire",N.q4.full,"app-compat"),ee.Z.registerVersion("angular",c.q4F.full,Ne.toString())}static initializeApp(Ne,xe){return{ngModule:Ie,providers:[{provide:he,useValue:Ne},{provide:de,useValue:xe}]}}}return Ie.\u0275fac=function(Ne){return new(Ne||Ie)(c.LFG(c.Lbi))},Ie.\u0275mod=c.oAB({type:Ie}),Ie.\u0275inj=c.cJS({providers:[Q]}),Ie})();function De(Ie,Se,Ne,xe,we){const[,Me,Be]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===Ie)||[];if(Me)return function Ge(Ie,Se){try{return Ie.toString()===Se.toString()}catch{return Ie===Se}}(we,Be)||(pe("error",`${Se} was already initialized on the ${Ne} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:we,was:Be})),Me;{const Fe=xe();return globalThis.\u0275AngularfireInstanceCache.push([Ie,Fe,we]),Fe}}const dt=!!_t.hot,pe=(Ie,...Se)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ie](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(_t,Ee,F)=>{F.d(Ee,{q4:()=>ca,iC:()=>da,HU:()=>ts,vb:()=>Xe,JM:()=>io});var c=F(4650),ee=F(259),N=F(5861),re=F(9681),oe=F(2090),X=F(4859),me=F(1877),he=F(8766);const de="@firebase/installations",z="0.6.4",G=1e4,Q=`w:${z}`,je="FIS_v2",De="https://firebaseinstallations.googleapis.com/v1",Ge=36e5,Se=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ne(D){return D instanceof oe.ZR&&D.code.includes("request-failed")}function xe({projectId:D}){return`${De}/projects/${D}/installations`}function we(D){return{token:D.token,requestStatus:2,expiresIn:Ze(D.expiresIn),creationTime:Date.now()}}function Me(D,I){return Be.apply(this,arguments)}function Be(){return(Be=(0,N.Z)(function*(D,I){const V=(yield I.json()).error;return Se.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Fe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ye(D){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,N.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function Ze(D){return Number(D.replace("s","000"))}function ae(){return(ae=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:R}){const V=xe(D),W=Fe(D),ie=I.getImmediate({optional:!0});if(ie){const mt=yield ie.getHeartbeatsHeader();mt&&W.append("x-firebase-client",mt)}const ct={method:"POST",headers:W,body:JSON.stringify({fid:R,authVersion:je,appId:D.appId,sdkVersion:Q})},ut=yield ye(()=>fetch(V,ct));if(ut.ok){const mt=yield ut.json();return{fid:mt.fid||R,registrationStatus:2,refreshToken:mt.refreshToken,authToken:we(mt.authToken)}}throw yield Me("Create Installation",ut)})).apply(this,arguments)}function fe(D){return new Promise(I=>{setTimeout(I,D)})}const Re=/^[cdef][\w-]{21}$/,Le="";function ze(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function et(D){return function be(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Re.test(R)?R:Le}catch{return Le}}function Qe(D){return`${D.appName}!${D.appId}`}const dn=new Map;function St(D,I){const R=Qe(D);Rt(R,I),function Zn(D,I){const R=function Sn(){return!vn&&"BroadcastChannel"in self&&(vn=new BroadcastChannel("[Firebase] FID Change"),vn.onmessage=D=>{Rt(D.data.key,D.data.fid)}),vn}();R&&R.postMessage({key:D,fid:I}),function kn(){0===dn.size&&vn&&(vn.close(),vn=null)}()}(R,I)}function Rt(D,I){const R=dn.get(D);if(R)for(const V of R)V(I)}let vn=null;const br="firebase-installations-database",cs=1,wr="firebase-installations-store";let or=null;function Uo(){return or||(or=(0,he.X3)(br,cs,{upgrade:(D,I)=>{0===I&&D.createObjectStore(wr)}})),or}function Tn(D,I){return sr.apply(this,arguments)}function sr(){return(sr=(0,N.Z)(function*(D,I){const R=Qe(D),W=(yield Uo()).transaction(wr,"readwrite"),ie=W.objectStore(wr),ke=yield ie.get(R);return yield ie.put(I,R),yield W.done,(!ke||ke.fid!==I.fid)&&St(D,I.fid),I})).apply(this,arguments)}function wt(D){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,N.Z)(function*(D){const I=Qe(D),V=(yield Uo()).transaction(wr,"readwrite");yield V.objectStore(wr).delete(I),yield V.done})).apply(this,arguments)}function Hr(D,I){return On.apply(this,arguments)}function On(){return(On=(0,N.Z)(function*(D,I){const R=Qe(D),W=(yield Uo()).transaction(wr,"readwrite"),ie=W.objectStore(wr),ke=yield ie.get(R),ct=I(ke);return void 0===ct?yield ie.delete(R):yield ie.put(ct,R),yield W.done,ct&&(!ke||ke.fid!==ct.fid)&&St(D,ct.fid),ct})).apply(this,arguments)}function Ai(D){return us.apply(this,arguments)}function us(){return us=(0,N.Z)(function*(D){let I;const R=yield Hr(D.appConfig,V=>{const W=function Vt(D){return Mi(D||{fid:ze(),registrationStatus:0})}(V),ie=function xt(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Se.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},V=function kt(D,I){return ds.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:V}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:xn(D)}:{installationEntry:I}}(D,W);return I=ie.registrationPromise,ie.installationEntry});return R.fid===Le?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}}),us.apply(this,arguments)}function ds(){return ds=(0,N.Z)(function*(D,I){try{const R=yield function ot(D,I){return ae.apply(this,arguments)}(D,I);return Tn(D.appConfig,R)}catch(R){throw Ne(R)&&409===R.customData.serverCode?yield wt(D.appConfig):yield Tn(D.appConfig,{fid:I.fid,registrationStatus:0}),R}}),ds.apply(this,arguments)}function xn(D){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,N.Z)(function*(D){let I=yield zi(D.appConfig);for(;1===I.registrationStatus;)yield fe(100),I=yield zi(D.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:V}=yield Ai(D);return V||R}return I})).apply(this,arguments)}function zi(D){return Hr(D,I=>{if(!I)throw Se.create("installation-not-found");return Mi(I)})}function Mi(D){return function Ra(D){return 1===D.registrationStatus&&D.registrationTime+G<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function _o(){return(_o=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:I},R){const V=function rn(D,{fid:I}){return`${xe(D)}/${I}/authTokens:generate`}(D,R),W=function H(D,{refreshToken:I}){const R=Fe(D);return R.append("Authorization",function yt(D){return`${je} ${D}`}(I)),R}(D,R),ie=I.getImmediate({optional:!0});if(ie){const mt=yield ie.getHeartbeatsHeader();mt&&W.append("x-firebase-client",mt)}const ct={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Q,appId:D.appId}})},ut=yield ye(()=>fetch(V,ct));if(ut.ok)return we(yield ut.json());throw yield Me("Generate Auth Token",ut)})).apply(this,arguments)}function $i(D){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,N.Z)(function*(D,I=!1){let R;const V=yield Hr(D.appConfig,ie=>{if(!$t(ie))throw Se.create("not-registered");const ke=ie.authToken;if(!I&&function Ri(D){return 2===D.requestStatus&&!function j(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+Ge}(D)}(ke))return ie;if(1===ke.requestStatus)return R=function $e(D,I){return Ce.apply(this,arguments)}(D,I),ie;{if(!navigator.onLine)throw Se.create("app-offline");const ct=function U(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}(ie);return R=function Mt(D,I){return Lt.apply(this,arguments)}(D,ct),ct}});return R?yield R:V.authToken}),Yr.apply(this,arguments)}function Ce(){return(Ce=(0,N.Z)(function*(D,I){let R=yield st(D.appConfig);for(;1===R.authToken.requestStatus;)yield fe(100),R=yield st(D.appConfig);const V=R.authToken;return 0===V.requestStatus?$i(D,I):V})).apply(this,arguments)}function st(D){return Hr(D,I=>{if(!$t(I))throw Se.create("not-registered");return function K(D){return 1===D.requestStatus&&D.requestTime+G<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Lt(){return Lt=(0,N.Z)(function*(D,I){try{const R=yield function pn(D,I){return _o.apply(this,arguments)}(D,I),V=Object.assign(Object.assign({},I),{authToken:R});return yield Tn(D.appConfig,V),R}catch(R){if(!Ne(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const V=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Tn(D.appConfig,V)}else yield wt(D.appConfig);throw R}}),Lt.apply(this,arguments)}function $t(D){return void 0!==D&&2===D.registrationStatus}function ne(){return(ne=(0,N.Z)(function*(D){const I=D,{installationEntry:R,registrationPromise:V}=yield Ai(I);return V?V.catch(console.error):$i(I).catch(console.error),R.fid})).apply(this,arguments)}function Ke(){return Ke=(0,N.Z)(function*(D,I=!1){const R=D;return yield function _n(D){return Pn.apply(this,arguments)}(R),(yield $i(R,I)).token}),Ke.apply(this,arguments)}function Pn(){return(Pn=(0,N.Z)(function*(D){const{registrationPromise:I}=yield Ai(D);I&&(yield I)})).apply(this,arguments)}function Il(D){return Se.create("missing-app-config-values",{valueName:D})}const Sl="installations",Bn=D=>{const I=D.getProvider("app").getImmediate(),R=function Nc(D){if(!D||!D.options)throw Il("App Configuration");if(!D.name)throw Il("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!D.options[R])throw Il(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,re._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Lc=D=>{const I=D.getProvider("app").getImmediate(),R=(0,re._getProvider)(I,Sl).getImmediate();return{getId:()=>function _e(D){return ne.apply(this,arguments)}(R),getToken:W=>function rt(D){return Ke.apply(this,arguments)}(R,W)}};(function Vc(){(0,re._registerComponent)(new X.wA(Sl,Bn,"PUBLIC")),(0,re._registerComponent)(new X.wA("installations-internal",Lc,"PRIVATE"))})(),(0,re.registerVersion)(de,z),(0,re.registerVersion)(de,z,"esm2017");const on="@firebase/remote-config",ki=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zs{constructor(I,R,V,W){this.client=I,this.storage=R,this.storageCache=V,this.logger=W}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-R,W=V<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${W}.`),W}fetch(I){var R=this;return(0,N.Z)(function*(){const[V,W]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(W&&R.isCachedDataFresh(I.cacheMaxAgeMillis,V))return W;I.eTag=W&&W.eTag;const ie=yield R.client.fetch(I),ke=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&ke.push(R.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(ke),ie})()}}function $o(D=navigator){return D.languages&&D.languages[0]||D.language}class qi{constructor(I,R,V,W,ie,ke){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=V,this.projectId=W,this.apiKey=ie,this.appId=ke}fetch(I){var R=this;return(0,N.Z)(function*(){const[V,W]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ut={sdk_version:R.sdkVersion,app_instance_id:V,app_instance_id_token:W,app_id:R.appId,language_code:$o()},mt={method:"POST",headers:ct,body:JSON.stringify(ut)},Yt=fetch(ke,mt),Tt=new Promise((Gn,Xn)=>{I.signal.addEventListener(()=>{const Hn=new Error("The operation was aborted.");Hn.name="AbortError",Xn(Hn)})});let Nn;try{yield Promise.race([Yt,Tt]),Nn=yield Yt}catch(Gn){let Xn="fetch-client-network";throw"AbortError"===Gn?.name&&(Xn="fetch-timeout"),ki.create(Xn,{originalErrorMessage:Gn?.message})}let $n=Nn.status;const Qa=Nn.headers.get("ETag")||void 0;let Ki,zr;if(200===Nn.status){let Gn;try{Gn=yield Nn.json()}catch(Xn){throw ki.create("fetch-client-parse",{originalErrorMessage:Xn?.message})}Ki=Gn.entries,zr=Gn.state}if("INSTANCE_STATE_UNSPECIFIED"===zr?$n=500:"NO_CHANGE"===zr?$n=304:("NO_TEMPLATE"===zr||"EMPTY_CONFIG"===zr)&&(Ki={}),304!==$n&&200!==$n)throw ki.create("fetch-status",{httpStatus:$n});return{status:$n,eTag:Qa,config:Ki}})()}}class tn{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,N.Z)(function*(){const V=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,V)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:V}){var W=this;return(0,N.Z)(function*(){yield function Wi(D,I){return new Promise((R,V)=>{const W=Math.max(I-Date.now(),0),ie=setTimeout(R,W);D.addEventListener(()=>{clearTimeout(ie),V(ki.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const ie=yield W.client.fetch(I);return yield W.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Bc(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ie))throw ie;const ke={throttleEndTimeMillis:Date.now()+(0,oe.$s)(V),backoffCount:V+1};return yield W.storage.setThrottleMetadata(ke),W.attemptFetch(I,ke)}})()}}class Al{constructor(I,R,V,W,ie){this.app=I,this._client=R,this._storageCache=V,this._storage=W,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gs(D,I){const R=D.target.error||void 0;return ki.create(I,{originalErrorMessage:R&&R?.message})}const Cr="app_namespace_store";class lr{constructor(I,R,V,W=function dm(){return new Promise((D,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=V=>{I(gs(V,"storage-open"))},R.onsuccess=V=>{D(V.target.result)},R.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Cr,{keyPath:"compositeKey"})}}catch(R){I(ki.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=I,this.appName=R,this.namespace=V,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((W,ie)=>{const ct=V.transaction([Cr],"readonly").objectStore(Cr),ut=R.createCompositeKey(I);try{const mt=ct.get(ut);mt.onerror=Yt=>{ie(gs(Yt,"storage-get"))},mt.onsuccess=Yt=>{const Tt=Yt.target.result;W(Tt?Tt.value:void 0)}}catch(mt){ie(ki.create("storage-get",{originalErrorMessage:mt?.message}))}})})()}set(I,R){var V=this;return(0,N.Z)(function*(){const W=yield V.openDbPromise;return new Promise((ie,ke)=>{const ut=W.transaction([Cr],"readwrite").objectStore(Cr),mt=V.createCompositeKey(I);try{const Yt=ut.put({compositeKey:mt,value:R});Yt.onerror=Tt=>{ke(gs(Tt,"storage-set"))},Yt.onsuccess=()=>{ie()}}catch(Yt){ke(ki.create("storage-set",{originalErrorMessage:Yt?.message}))}})})()}delete(I){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((W,ie)=>{const ct=V.transaction([Cr],"readwrite").objectStore(Cr),ut=R.createCompositeKey(I);try{const mt=ct.delete(ut);mt.onerror=Yt=>{ie(gs(Yt,"storage-delete"))},mt.onsuccess=()=>{W()}}catch(mt){ie(ki.create("storage-delete",{originalErrorMessage:mt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class cr{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const R=I.storage.getLastFetchStatus(),V=I.storage.getLastSuccessfulFetchTimestampMillis(),W=I.storage.getActiveConfig(),ie=yield R;ie&&(I.lastFetchStatus=ie);const ke=yield V;ke&&(I.lastSuccessfulFetchTimestampMillis=ke);const ct=yield W;ct&&(I.activeConfig=ct)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Oi(){return pd.apply(this,arguments)}function pd(){return(pd=(0,N.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function vo(){(0,re._registerComponent)(new X.wA("remote-config",function D(I,{instanceIdentifier:R}){const V=I.getProvider("app").getImmediate(),W=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ki.create("registration-window");if(!(0,oe.hl)())throw ki.create("indexed-db-unavailable");const{projectId:ie,apiKey:ke,appId:ct}=V.options;if(!ie)throw ki.create("registration-project-id");if(!ke)throw ki.create("registration-api-key");if(!ct)throw ki.create("registration-app-id");const ut=new lr(ct,V.name,R=R||"firebase"),mt=new cr(ut),Yt=new me.Yd(on);Yt.logLevel=me.in.ERROR;const Tt=new qi(W,re.SDK_VERSION,R,ie,ke,ct),Nn=new tn(Tt,ut),$n=new zs(Nn,ut,mt,Yt),Qa=new Al(V,$n,mt,ut,Yt);return function fs(D){const I=(0,oe.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Qa),Qa},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(on,"0.4.4"),(0,re.registerVersion)(on,"0.4.4","esm2017")}();const md="/firebase-messaging-sw.js",bo="/firebase-cloud-messaging-push-scope",ys="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pa="https://fcmregistrations.googleapis.com/v1",Hc="google.c.a.c_id",Yh="google.c.a.c_l",Qh="google.c.a.ts",hm="google.c.a.e";var vs=(()=>{return(D=vs||(vs={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",vs;var D})();function Jr(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fm(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(R),W=new Uint8Array(V.length);for(let ie=0;ie<V.length;++ie)W[ie]=V.charCodeAt(ie);return W}const Go="fcm_token_details_db",jc=5,xr="fcm_token_object_Store";function Rl(){return Rl=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Go))return null;let I=null;return(yield(0,he.X3)(Go,jc,{upgrade:(V=(0,N.Z)(function*(W,ie,ke,ct){var ut;if(ie<2||!W.objectStoreNames.contains(xr))return;const mt=ct.objectStore(xr),Yt=yield mt.index("fcmSenderId").get(D);if(yield mt.clear(),Yt)if(2===ie){const Tt=Yt;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;I={token:Tt.fcmToken,createTime:null!==(ut=Tt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:Jr(Tt.vapidKey)}}}else if(3===ie){const Tt=Yt;I={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:Jr(Tt.auth),p256dh:Jr(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:Jr(Tt.vapidKey)}}}else if(4===ie){const Tt=Yt;I={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:Jr(Tt.auth),p256dh:Jr(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:Jr(Tt.vapidKey)}}}}),function(ie,ke,ct,ut){return V.apply(this,arguments)})})).close(),yield(0,he.Lj)(Go),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),function gd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var V}),Rl.apply(this,arguments)}const kl="firebase-messaging-database",pm=1,ur="firebase-messaging-store";let _d=null;function bs(){return _d||(_d=(0,he.X3)(kl,pm,{upgrade:(D,I)=>{0===I&&D.createObjectStore(ur)}})),_d}function Fa(D){return qs.apply(this,arguments)}function qs(){return qs=(0,N.Z)(function*(D){const I=qo(D),V=yield(yield bs()).transaction(ur).objectStore(ur).get(I);if(V)return V;{const W=yield function zc(D){return Rl.apply(this,arguments)}(D.appConfig.senderId);if(W)return yield Ws(D,W),W}}),qs.apply(this,arguments)}function Ws(D,I){return Na.apply(this,arguments)}function Na(){return(Na=(0,N.Z)(function*(D,I){const R=qo(D),W=(yield bs()).transaction(ur,"readwrite");return yield W.objectStore(ur).put(I,R),yield W.done,I})).apply(this,arguments)}function Ol(){return(Ol=(0,N.Z)(function*(D){const I=qo(D),V=(yield bs()).transaction(ur,"readwrite");yield V.objectStore(ur).delete(I),yield V.done})).apply(this,arguments)}function qo({appConfig:D}){return D.appId}const cn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pl(D,I){return La.apply(this,arguments)}function La(){return(La=(0,N.Z)(function*(D,I){const R=yield Gc(D),V=si(I),W={method:"POST",headers:R,body:JSON.stringify(V)};let ie;try{ie=yield(yield fetch(Va(D.appConfig),W)).json()}catch(ke){throw cn.create("token-subscribe-failed",{errorInfo:ke?.toString()})}if(ie.error)throw cn.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw cn.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function Fl(){return(Fl=(0,N.Z)(function*(D,I){const R=yield Gc(D),V=si(I.subscriptionOptions),W={method:"PATCH",headers:R,body:JSON.stringify(V)};let ie;try{ie=yield(yield fetch(`${Va(D.appConfig)}/${I.token}`,W)).json()}catch(ke){throw cn.create("token-update-failed",{errorInfo:ke?.toString()})}if(ie.error)throw cn.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw cn.create("token-update-no-token");return ie.token})).apply(this,arguments)}function eo(D,I){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,N.Z)(function*(D,I){const V={method:"DELETE",headers:yield Gc(D)};try{const ie=yield(yield fetch(`${Va(D.appConfig)}/${I}`,V)).json();if(ie.error)throw cn.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(W){throw cn.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function Va({projectId:D}){return`${Pa}/projects/${D}/registrations`}function Gc(D){return to.apply(this,arguments)}function to(){return(to=(0,N.Z)(function*({appConfig:D,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function si({p256dh:D,auth:I,endpoint:R,vapidKey:V}){const W={web:{endpoint:R,auth:I,p256dh:D}};return V!==ys&&(W.web.applicationPubKey=V),W}const qc=6048e5;function Ba(){return Ba=(0,N.Z)(function*(D){const I=yield function bd(D,I){return Ua.apply(this,arguments)}(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:Jr(I.getKey("auth")),p256dh:Jr(I.getKey("p256dh"))},V=yield Fa(D.firebaseDependencies);if(V){if(function Xh(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}(V.subscriptionOptions,R))return Date.now()>=V.createTime+qc?function Wc(D,I){return Ot.apply(this,arguments)}(D,{token:V.token,createTime:Date.now(),subscriptionOptions:R}):V.token;try{yield eo(D.firebaseDependencies,V.token)}catch(W){console.warn(W)}return vd(D.firebaseDependencies,R)}return vd(D.firebaseDependencies,R)}),Ba.apply(this,arguments)}function Ks(){return Ks=(0,N.Z)(function*(D){const I=yield Fa(D.firebaseDependencies);I&&(yield eo(D.firebaseDependencies,I.token),yield function $c(D){return Ol.apply(this,arguments)}(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),Ks.apply(this,arguments)}function Ot(){return Ot=(0,N.Z)(function*(D,I){try{const R=yield function Fn(D,I){return Fl.apply(this,arguments)}(D.firebaseDependencies,I),V=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Ws(D.firebaseDependencies,V),R}catch(R){throw yield function wo(D){return Ks.apply(this,arguments)}(D),R}}),Ot.apply(this,arguments)}function vd(D,I){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,N.Z)(function*(D,I){const V={token:yield Pl(D,I),createTime:Date.now(),subscriptionOptions:I};return yield Ws(D,V),V.token})).apply(this,arguments)}function Ua(){return(Ua=(0,N.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fm(I)})})).apply(this,arguments)}function Ll(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Jh(D,I){if(!I.notification)return;D.notification={};const R=I.notification.title;R&&(D.notification.title=R);const V=I.notification.body;V&&(D.notification.body=V);const W=I.notification.image;W&&(D.notification.image=W);const ie=I.notification.icon;ie&&(D.notification.icon=ie)}(I,D),function Mn(D,I){I.data&&(D.data=I.data)}(I,D),function Ae(D,I){var R,V,W,ie,ke;if(!(I.fcmOptions||null!==(R=I.notification)&&void 0!==R&&R.click_action))return;D.fcmOptions={};const ct=null!==(W=null===(V=I.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==W?W:null===(ie=I.notification)||void 0===ie?void 0:ie.click_action;ct&&(D.fcmOptions.link=ct);const ut=null===(ke=I.fcmOptions)||void 0===ke?void 0:ke.analytics_label;ut&&(D.fcmOptions.analyticsLabel=ut)}(I,D),I}function Vl(D,I){const R=[];for(let V=0;V<D.length;V++)R.push(D.charAt(V)),V<I.length&&R.push(I.charAt(V));return R.join("")}function ai(D){return cn.create("missing-app-config-values",{valueName:D})}Vl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Vl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zc{constructor(I,R,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function ef(D){if(!D||!D.options)throw ai("App Configuration Object");if(!D.name)throw ai("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const V of I)if(!R[V])throw ai(V);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:W,installations:R,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Ys(D){return dr.apply(this,arguments)}function dr(){return(dr=(0,N.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(md,{scope:bo}),D.swRegistration.update().catch(()=>{})}catch(I){throw cn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Qs(){return(Qs=(0,N.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield Ys(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function Bl(){return(Bl=(0,N.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=ys)})).apply(this,arguments)}function Un(){return Un=(0,N.Z)(function*(D,I){if(!navigator)throw cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cn.create("permission-blocked");return yield function Ed(D,I){return Bl.apply(this,arguments)}(D,I?.vapidKey),yield function wd(D,I){return Qs.apply(this,arguments)}(D,I?.serviceWorkerRegistration),function Zs(D){return Ba.apply(this,arguments)}(D)}),Un.apply(this,arguments)}function Ha(){return(Ha=(0,N.Z)(function*(D,I,R){const V=function ja(D){switch(D){case vs.NOTIFICATION_CLICKED:return"notification_open";case vs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:R[Hc],message_name:R[Yh],message_time:R[Qh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ul(){return Ul=(0,N.Z)(function*(D,I){const R=I.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===vs.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ll(R)):D.onMessageHandler.next(Ll(R)));const V=R.data;(function sn(D){return"object"==typeof D&&!!D&&Hc in D})(V)&&"1"===V[hm]&&(yield function hr(D,I,R){return Ha.apply(this,arguments)}(D,R.messageType,V))}),Ul.apply(this,arguments)}const Cd="@firebase/messaging",Yc=D=>{const I=new Zc(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Dr(D,I){return Ul.apply(this,arguments)}(I,R)),I},Hl=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:V=>function Kc(D,I){return Un.apply(this,arguments)}(I,V)}};function Qc(){return jl.apply(this,arguments)}function jl(){return(jl=(0,N.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ws(){(0,re._registerComponent)(new X.wA("messaging",Yc,"PUBLIC")),(0,re._registerComponent)(new X.wA("messaging-internal",Hl,"PRIVATE")),(0,re.registerVersion)(Cd,"0.12.4"),(0,re.registerVersion)(Cd,"0.12.4","esm2017")}();const Id="analytics",ym="firebase_id",Zi="origin",za=6e4,Dn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wo="https://www.googletagmanager.com/gtag/js",Qn=new me.Yd("@firebase/analytics"),fr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function bm(D){if(!D.startsWith(Wo)){const I=fr.create("invalid-gtag-resource",{gtagURL:D});return Qn.warn(I.message),""}return D}function wm(D){return Promise.all(D.map(I=>I.catch(R=>R)))}function Zo(){return(Zo=(0,N.Z)(function*(D,I,R,V,W,ie){const ke=V[W];try{if(ke)yield I[ke];else{const ut=(yield wm(R)).find(mt=>mt.measurementId===W);ut&&(yield I[ut.appId])}}catch(ct){Qn.error(ct)}D("config",W,ie)})).apply(this,arguments)}function Ir(){return(Ir=(0,N.Z)(function*(D,I,R,V,W){try{let ie=[];if(W&&W.send_to){let ke=W.send_to;Array.isArray(ke)||(ke=[ke]);const ct=yield wm(R);for(const ut of ke){const mt=ct.find(Tt=>Tt.measurementId===ut),Yt=mt&&I[mt.appId];if(!Yt){ie=[];break}ie.push(Yt)}}0===ie.length&&(ie=Object.values(I)),yield Promise.all(ie),D("event",V,W||{})}catch(ie){Qn.error(ie)}})).apply(this,arguments)}const Td=30,Sr=new class Cm{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function iu(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function no(){return(no=(0,N.Z)(function*(D){var I;const{appId:R,apiKey:V}=D,W={method:"GET",headers:iu(V)},ie=Dn.replace("{app-id}",R),ke=yield fetch(ie,W);if(200!==ke.status&&304!==ke.status){let ct="";try{const ut=yield ke.json();null!==(I=ut.error)&&void 0!==I&&I.message&&(ct=ut.error.message)}catch{}throw fr.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:ct})}return ke.json()})).apply(this,arguments)}function In(){return(In=(0,N.Z)(function*(D,I=Sr,R){const{appId:V,apiKey:W,measurementId:ie}=D.options;if(!V)throw fr.create("no-app-id");if(!W){if(ie)return{measurementId:ie,appId:V};throw fr.create("no-api-key")}const ke=I.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new rf;return setTimeout((0,N.Z)(function*(){ct.abort()}),void 0!==R?R:za),Ko({appId:V,apiKey:W,measurementId:ie},ke,ct,I)})).apply(this,arguments)}function Ko(D,I,R){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,N.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:R},V,W=Sr){var ie;const{appId:ke,measurementId:ct}=D;try{yield function ru(D,I){return new Promise((R,V)=>{const W=Math.max(I-Date.now(),0),ie=setTimeout(R,W);D.addEventListener(()=>{clearTimeout(ie),V(fr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(V,I)}catch(ut){if(ct)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:ke,measurementId:ct};throw ut}try{const ut=yield function nf(D){return no.apply(this,arguments)}(D);return W.deleteThrottleMetadata(ke),ut}catch(ut){const mt=ut;if(!function ea(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(mt)){if(W.deleteThrottleMetadata(ke),ct)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:ke,measurementId:ct};throw ut}const Yt=503===Number(null===(ie=mt?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,oe.$s)(R,W.intervalMillis,Td):(0,oe.$s)(R,W.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+Yt,backoffCount:R+1};return W.setThrottleMetadata(ke,Tt),Qn.debug(`Calling attemptFetch again in ${Yt} millis`),Ko(D,Tt,V,W)}}),Cs.apply(this,arguments)}class rf{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let ta,$l;function na(){return(na=(0,N.Z)(function*(D,I,R,V,W){if(W&&W.global)D("event",R,V);else{const ie=yield I;D("event",R,Object.assign(Object.assign({},V),{send_to:ie}))}})).apply(this,arguments)}function Wa(){return(Wa=(0,N.Z)(function*(){if(!(0,oe.hl)())return Qn.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(D){return Qn.warn(fr.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function Co(){return Co=(0,N.Z)(function*(D,I,R,V,W,ie,ke){var ct;const ut=function Js(D){return In.apply(this,arguments)}(D);ut.then($n=>{R[$n.measurementId]=$n.appId,D.options.measurementId&&$n.measurementId!==D.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${$n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($n=>Qn.error($n)),I.push(ut);const mt=function sf(){return Wa.apply(this,arguments)}().then($n=>{if($n)return V.getId()}),[Yt,Tt]=yield Promise.all([ut,mt]);(function Em(D){const I=window.document.getElementsByTagName("script");for(const R of Object.values(I))if(R.src&&R.src.includes(Wo)&&R.src.includes(D))return R;return null})(ie)||function tu(D,I){const R=function eu(D,I){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(D,I)),R}("firebase-js-sdk-policy",{createScriptURL:bm}),V=document.createElement("script"),W=`${Wo}?l=${D}&id=${I}`;V.src=R?R?.createScriptURL(W):W,V.async=!0,document.head.appendChild(V)}(ie,Yt.measurementId),$l&&(W("consent","default",$l),function Qo(D){$l=D}(void 0)),W("js",new Date);const Nn=null!==(ct=ke?.config)&&void 0!==ct?ct:{};return Nn[Zi]="firebase",Nn.update=!0,null!=Tt&&(Nn[ym]=Tt),W("config",Yt.measurementId,Nn),ta&&(W("set",ta),function oa(D){ta=D}(void 0)),Yt.measurementId}),Co.apply(this,arguments)}class Ad{constructor(I){this.app=I}_delete(){return delete jr[this.app.options.appId],Promise.resolve()}}let jr={},Gl=[];const Ds={};let ql,Fi,Is="dataLayer",Md="gtag",su=!1;function kd(D,I,R){!function sa(){const D=[];if((0,oe.ru)()&&D.push("This is a browser extension environment."),(0,oe.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((V,W)=>`(${W+1}) ${V}`).join(" "),R=fr.create("invalid-analytics-context",{errorInfo:I});Qn.warn(R.message)}}();const V=D.options.appId;if(!V)throw fr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw fr.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jr[V])throw fr.create("already-exists",{id:V});if(!su){!function Xs(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(Is);const{wrappedGtag:ie,gtagCore:ke}=function Sd(D,I,R,V,W){let ie=function(...ke){window[V].push(arguments)};return window[W]&&"function"==typeof window[W]&&(ie=window[W]),window[W]=function $a(D,I,R,V){function ie(){return ie=(0,N.Z)(function*(ke,ct,ut){try{"event"===ke?yield function zl(D,I,R,V,W){return Ir.apply(this,arguments)}(D,I,R,ct,ut):"config"===ke?yield function Es(D,I,R,V,W,ie){return Zo.apply(this,arguments)}(D,I,R,V,ct,ut):"consent"===ke?D("consent","update",ut):D("set",ct)}catch(mt){Qn.error(mt)}}),ie.apply(this,arguments)}return function W(ke,ct,ut){return ie.apply(this,arguments)}}(ie,D,I,R),{gtagCore:ie,wrappedGtag:window[W]}}(jr,Gl,Ds,Is,Md);Fi=ie,ql=ke,su=!0}return jr[V]=function af(D,I,R,V,W,ie,ke){return Co.apply(this,arguments)}(D,Gl,Ds,I,ql,Is,R),new Ad(D)}function xo(){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,N.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const cf="@firebase/analytics";!function uf(){(0,re._registerComponent)(new X.wA(Id,(I,{options:R})=>kd(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,re._registerComponent)(new X.wA("analytics-internal",function D(I){try{const R=I.getProvider(Id).getImmediate();return{logEvent:(V,W,ie)=>function Xo(D,I,R,V){D=(0,oe.m9)(D),function Ga(D,I,R,V,W){return na.apply(this,arguments)}(Fi,jr[D.app.options.appId],I,R,V).catch(W=>Qn.error(W))}(R,V,W,ie)}}catch(R){throw fr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,re.registerVersion)(cf,"0.9.5"),(0,re.registerVersion)(cf,"0.9.5","esm2017")}();var df=F(4408),hf=F(7565);const la=new class Dm extends hf.v{}(class Iy extends df.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(I,R,V):(I.flush(this),0)}});var pf=F(4986),li=F(8505),Zl=F(9468),Do=F(5363);const ca=new c.GfV("7.5.0"),Ni="__angularfire_symbol__analyticsIsSupportedValue",Jo="__angularfire_symbol__analyticsIsSupported",au="__angularfire_symbol__remoteConfigIsSupportedValue",Ya="__angularfire_symbol__remoteConfigIsSupported",es="__angularfire_symbol__messagingIsSupportedValue",ua="__angularfire_symbol__messagingIsSupported";function io(D,I,R){if(I){if(1===I.length)return I[0];const ie=I.filter(ke=>ke.app===R);if(1===ie.length)return ie[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[Jo]||(globalThis[Jo]=xo().then(D=>globalThis[Ni]=D).catch(()=>globalThis[Ni]=!1)),globalThis[ua]||(globalThis[ua]=Qc().then(D=>globalThis[es]=D).catch(()=>globalThis[es]=!1)),globalThis[Ya]||(globalThis[Ya]=Oi().then(D=>globalThis[au]=D).catch(()=>globalThis[au]=!1));const Xe=(D,I)=>{const R=I?[I]:(0,ee.C6)(),V=[];return R.forEach(W=>{W.container.getProvider(D).instances.forEach(ke=>{V.includes(ke)||V.push(ke)})}),V};function Xt(){}class yi{constructor(I,R=la){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,V){const W=this.zone;return this.delegate.schedule(function(ke){W.runGuarded(()=>{I.apply(this,[ke])})},R,V)}}class gf{constructor(I){this.zone=I,this.task=null}call(I,R){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xt,{},Xt,Xt)),R.pipe((0,li.b)({next:V,complete:V,error:V})).subscribe(I).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ts=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new yi(Zone.current)),this.insideAngular=R.run(()=>new yi(Zone.current,pf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Rn(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function da(D){return Rn(),function ha(D){return function(R){return(R=R.lift(new gf(D.ngZone))).pipe((0,Zl.R)(D.outsideAngular),(0,Do.Q)(D.insideAngular))}}(Rn())(D)}},2090:(_t,Ee,F)=>{F.d(Ee,{$s:()=>Mt,BH:()=>Me,G6:()=>Re,L:()=>de,LL:()=>St,Pz:()=>we,Sg:()=>Be,UG:()=>ye,US:()=>X,ZB:()=>Q,ZR:()=>dn,aH:()=>xe,b$:()=>yt,eu:()=>ze,hl:()=>Le,jU:()=>Ue,m9:()=>Ri,ne:()=>Vt,pd:()=>Ai,r3:()=>wr,ru:()=>Ze,tV:()=>z,uI:()=>H,vZ:()=>sr,w1:()=>ae,xO:()=>Hr,xb:()=>Uo,z$:()=>Fe,zI:()=>et,zd:()=>On});const re=function(j){const U=[];let K=0;for(let _e=0;_e<j.length;_e++){let ne=j.charCodeAt(_e);ne<128?U[K++]=ne:ne<2048?(U[K++]=ne>>6|192,U[K++]=63&ne|128):55296==(64512&ne)&&_e+1<j.length&&56320==(64512&j.charCodeAt(_e+1))?(ne=65536+((1023&ne)<<10)+(1023&j.charCodeAt(++_e)),U[K++]=ne>>18|240,U[K++]=ne>>12&63|128,U[K++]=ne>>6&63|128,U[K++]=63&ne|128):(U[K++]=ne>>12|224,U[K++]=ne>>6&63|128,U[K++]=63&ne|128)}return U},X={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,U){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let ne=0;ne<j.length;ne+=3){const rt=j[ne],Ke=ne+1<j.length,_n=Ke?j[ne+1]:0,Pn=ne+2<j.length,Vn=Pn?j[ne+2]:0;let Gi=(15&_n)<<2|Vn>>6,Qr=63&Vn;Pn||(Qr=64,Ke||(Gi=64)),_e.push(K[rt>>2],K[(3&rt)<<4|_n>>4],K[Gi],K[Qr])}return _e.join("")},encodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(j):this.encodeByteArray(re(j),U)},decodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(j):function(j){const U=[];let K=0,_e=0;for(;K<j.length;){const ne=j[K++];if(ne<128)U[_e++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const rt=j[K++];U[_e++]=String.fromCharCode((31&ne)<<6|63&rt)}else if(ne>239&&ne<365){const Pn=((7&ne)<<18|(63&j[K++])<<12|(63&j[K++])<<6|63&j[K++])-65536;U[_e++]=String.fromCharCode(55296+(Pn>>10)),U[_e++]=String.fromCharCode(56320+(1023&Pn))}else{const rt=j[K++],Ke=j[K++];U[_e++]=String.fromCharCode((15&ne)<<12|(63&rt)<<6|63&Ke)}}return U.join("")}(this.decodeStringToByteArray(j,U))},decodeStringToByteArray(j,U){this.init_();const K=U?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let ne=0;ne<j.length;){const rt=K[j.charAt(ne++)],_n=ne<j.length?K[j.charAt(ne)]:0;++ne;const Vn=ne<j.length?K[j.charAt(ne)]:64;++ne;const Bt=ne<j.length?K[j.charAt(ne)]:64;if(++ne,null==rt||null==_n||null==Vn||null==Bt)throw new me;_e.push(rt<<2|_n>>4),64!==Vn&&(_e.push(_n<<4&240|Vn>>2),64!==Bt&&_e.push(Vn<<6&192|Bt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(j){return function(j){const U=re(j);return X.encodeByteArray(U,!0)}(j).replace(/\./g,"")},z=function(j){try{return X.decodeString(j,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function Q(j,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return U}for(const K in U)!U.hasOwnProperty(K)||!je(K)||(j[K]=Q(j[K],U[K]));return j}function je(j){return"__proto__"!==j}const Ie=()=>{try{return function De(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=j&&z(j[1]);return U&&JSON.parse(U)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},xe=()=>{var j;return null===(j=Ie())||void 0===j?void 0:j.config},we=j=>{var U;return null===(U=Ie())||void 0===U?void 0:U[`_${j}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,K)=>{this.resolve=U,this.reject=K})}wrapCallback(U){return(K,_e)=>{K?this.reject(K):this.resolve(_e),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(K):U(K,_e))}}}function Be(j,U){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=U||"demo-project",ne=j.iat||0,rt=j.sub||j.user_id;if(!rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ke=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:ne,exp:ne+3600,auth_time:ne,sub:rt,user_id:rt,firebase:{sign_in_provider:"custom",identities:{}}},j);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ke)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function H(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function ye(){var j;const U=null===(j=Ie())||void 0===j?void 0:j.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ue(){return"object"==typeof self&&self.self===self}function Ze(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ae(){const j=Fe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Re(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function ze(){return new Promise((j,U)=>{try{let K=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(_e);ne.onsuccess=()=>{ne.result.close(),K||self.indexedDB.deleteDatabase(_e),j(!0)},ne.onupgradeneeded=()=>{K=!1},ne.onerror=()=>{var rt;U((null===(rt=ne.error)||void 0===rt?void 0:rt.message)||"")}}catch(K){U(K)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class dn extends Error{constructor(U,K,_e){super(K),this.code=U,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(U,K,_e){this.service=U,this.serviceName=K,this.errors=_e}create(U,...K){const _e=K[0]||{},ne=`${this.service}/${U}`,rt=this.errors[U],Ke=rt?function an(j,U){return j.replace(it,(K,_e)=>{const ne=U[_e];return null!=ne?String(ne):`<${_e}?>`})}(rt,_e):"Error";return new dn(ne,`${this.serviceName}: ${Ke} (${ne}).`,_e)}}const it=/\{\$([^}]+)}/g;function wr(j,U){return Object.prototype.hasOwnProperty.call(j,U)}function Uo(j){for(const U in j)if(Object.prototype.hasOwnProperty.call(j,U))return!1;return!0}function sr(j,U){if(j===U)return!0;const K=Object.keys(j),_e=Object.keys(U);for(const ne of K){if(!_e.includes(ne))return!1;const rt=j[ne],Ke=U[ne];if(wt(rt)&&wt(Ke)){if(!sr(rt,Ke))return!1}else if(rt!==Ke)return!1}for(const ne of _e)if(!K.includes(ne))return!1;return!0}function wt(j){return null!==j&&"object"==typeof j}function Hr(j){const U=[];for(const[K,_e]of Object.entries(j))Array.isArray(_e)?_e.forEach(ne=>{U.push(encodeURIComponent(K)+"="+encodeURIComponent(ne))}):U.push(encodeURIComponent(K)+"="+encodeURIComponent(_e));return U.length?"&"+U.join("&"):""}function On(j){const U={};return j.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[ne,rt]=_e.split("=");U[decodeURIComponent(ne)]=decodeURIComponent(rt)}}),U}function Ai(j){const U=j.indexOf("?");if(!U)return"";const K=j.indexOf("#",U);return j.substring(U,K>0?K:void 0)}function Vt(j,U){const K=new xt(j,U);return K.subscribe.bind(K)}class xt{constructor(U,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{U(this)}).catch(_e=>{this.error(_e)})}next(U){this.forEachObserver(K=>{K.next(U)})}error(U){this.forEachObserver(K=>{K.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,K,_e){let ne;if(void 0===U&&void 0===K&&void 0===_e)throw new Error("Missing Observer.");ne=function ds(j,U){if("object"!=typeof j||null===j)return!1;for(const K of U)if(K in j&&"function"==typeof j[K])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:K,complete:_e},void 0===ne.next&&(ne.next=xn),void 0===ne.error&&(ne.error=xn),void 0===ne.complete&&(ne.complete=xn);const rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),rt}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,U)}sendOne(U,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{K(this.observers[U])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}const Yr=1e3,$e=2,Ce=144e5,st=.5;function Mt(j,U=Yr,K=$e){const _e=U*Math.pow(K,j),ne=Math.round(st*_e*(Math.random()-.5)*2);return Math.min(Ce,_e+ne)}function Ri(j){return j&&j._delegate?j._delegate:j}},7551:(_t,Ee,F)=>{var c=F(4650);let ee=null;function N(){return ee}class oe{}const X=new c.OlP("DocumentToken");let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function he(){return(0,c.LFG)(z)}()},providedIn:"platform"}),n})();const de=new c.OlP("Location Initialized");let z=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){G()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){G()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Q(){return new z((0,c.LFG)(X))}()},providedIn:"platform"}),n})();function G(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ge(n){return n&&"?"!==n[0]?"?"+n:n}let dt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ie)},providedIn:"root"}),n})();const pe=new c.OlP("appBaseHref");let Ie=(()=>{class n extends dt{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(X).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ge(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+Ge(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+Ge(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(me),c.LFG(pe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n extends dt{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=je(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+Ge(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+Ge(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(me),c.LFG(pe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Be(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(De(Me(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ge(i))}normalize(t){return n.stripTrailingSlash(function we(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Me(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ge,n.joinWithSlash=je,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(c.LFG(dt))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function xe(){return new Ne((0,c.LFG)(dt))}()},providedIn:"root"}),n})();function Me(n){return n.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),Ze=(()=>((Ze=Ze||{})[Ze.Narrow=0]="Narrow",Ze[Ze.Abbreviated=1]="Abbreviated",Ze[Ze.Wide=2]="Wide",Ze[Ze.Short=3]="Short",Ze))(),yt=(()=>((yt=yt||{})[yt.Short=0]="Short",yt[yt.Medium=1]="Medium",yt[yt.Long=2]="Long",yt[yt.Full=3]="Full",yt))(),ot=(()=>((ot=ot||{})[ot.Decimal=0]="Decimal",ot[ot.Group=1]="Group",ot[ot.List=2]="List",ot[ot.PercentSign=3]="PercentSign",ot[ot.PlusSign=4]="PlusSign",ot[ot.MinusSign=5]="MinusSign",ot[ot.Exponential=6]="Exponential",ot[ot.SuperscriptingExponent=7]="SuperscriptingExponent",ot[ot.PerMille=8]="PerMille",ot[ot.Infinity=9]="Infinity",ot[ot.NaN=10]="NaN",ot[ot.TimeSeparator=11]="TimeSeparator",ot[ot.CurrencyDecimal=12]="CurrencyDecimal",ot[ot.CurrencyGroup=13]="CurrencyGroup",ot))();function dn(n,e){return Tn((0,c.cg1)(n)[c.wAp.DateFormat],e)}function St(n,e){return Tn((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function an(n,e){return Tn((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function it(n,e){const t=(0,c.cg1)(n),i=t[c.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===ot.CurrencyDecimal)return t[c.wAp.NumberSymbols][ot.Decimal];if(e===ot.CurrencyGroup)return t[c.wAp.NumberSymbols][ot.Group]}return i}function cs(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Tn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function sr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const On=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ai={},us=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Vt=(()=>((Vt=Vt||{})[Vt.Short=0]="Short",Vt[Vt.ShortGMT=1]="ShortGMT",Vt[Vt.Long=2]="Long",Vt[Vt.Extended=3]="Extended",Vt))(),xt=(()=>((xt=xt||{})[xt.FullYear=0]="FullYear",xt[xt.Month=1]="Month",xt[xt.Date=2]="Date",xt[xt.Hours=3]="Hours",xt[xt.Minutes=4]="Minutes",xt[xt.Seconds=5]="Seconds",xt[xt.FractionalSeconds=6]="FractionalSeconds",xt[xt.Day=7]="Day",xt))(),kt=(()=>((kt=kt||{})[kt.DayPeriods=0]="DayPeriods",kt[kt.Days=1]="Days",kt[kt.Months=2]="Months",kt[kt.Eras=3]="Eras",kt))();function ds(n,e,t,i){let r=function ne(n){if(Ke(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,a=1,u=1]=n.split("-").map(f=>+f);return xn(r,a-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(On))return function rt(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,f=Number(n[5]||0)-i,_=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,u,f,_,b),e}(i)}const e=new Date(n);if(!Ke(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Kn(t,e)||e;let f,u=[];for(;e;){if(f=us.exec(e),!f){u.push(e);break}{u=u.concat(f.slice(1));const C=u.pop();if(!C)break;e=C}}let _=r.getTimezoneOffset();i&&(_=U(i,_),r=function _e(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function K(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(U(e,r)-r))}(r,i,!0));let b="";return u.forEach(C=>{const M=function j(n){if(Ri[n])return Ri[n];let e;switch(n){case"G":case"GG":case"GGG":e=rn(kt.Eras,Ze.Abbreviated);break;case"GGGG":e=rn(kt.Eras,Ze.Wide);break;case"GGGGG":e=rn(kt.Eras,Ze.Narrow);break;case"y":e=pn(xt.FullYear,1,0,!1,!0);break;case"yy":e=pn(xt.FullYear,2,0,!0,!0);break;case"yyy":e=pn(xt.FullYear,3,0,!1,!0);break;case"yyyy":e=pn(xt.FullYear,4,0,!1,!0);break;case"Y":e=$t(1);break;case"YY":e=$t(2,!0);break;case"YYY":e=$t(3);break;case"YYYY":e=$t(4);break;case"M":case"L":e=pn(xt.Month,1,1);break;case"MM":case"LL":e=pn(xt.Month,2,1);break;case"MMM":e=rn(kt.Months,Ze.Abbreviated);break;case"MMMM":e=rn(kt.Months,Ze.Wide);break;case"MMMMM":e=rn(kt.Months,Ze.Narrow);break;case"LLL":e=rn(kt.Months,Ze.Abbreviated,Ue.Standalone);break;case"LLLL":e=rn(kt.Months,Ze.Wide,Ue.Standalone);break;case"LLLLL":e=rn(kt.Months,Ze.Narrow,Ue.Standalone);break;case"w":e=Lt(1);break;case"ww":e=Lt(2);break;case"W":e=Lt(1,!0);break;case"d":e=pn(xt.Date,1);break;case"dd":e=pn(xt.Date,2);break;case"c":case"cc":e=pn(xt.Day,1);break;case"ccc":e=rn(kt.Days,Ze.Abbreviated,Ue.Standalone);break;case"cccc":e=rn(kt.Days,Ze.Wide,Ue.Standalone);break;case"ccccc":e=rn(kt.Days,Ze.Narrow,Ue.Standalone);break;case"cccccc":e=rn(kt.Days,Ze.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":e=rn(kt.Days,Ze.Abbreviated);break;case"EEEE":e=rn(kt.Days,Ze.Wide);break;case"EEEEE":e=rn(kt.Days,Ze.Narrow);break;case"EEEEEE":e=rn(kt.Days,Ze.Short);break;case"a":case"aa":case"aaa":e=rn(kt.DayPeriods,Ze.Abbreviated);break;case"aaaa":e=rn(kt.DayPeriods,Ze.Wide);break;case"aaaaa":e=rn(kt.DayPeriods,Ze.Narrow);break;case"b":case"bb":case"bbb":e=rn(kt.DayPeriods,Ze.Abbreviated,Ue.Standalone,!0);break;case"bbbb":e=rn(kt.DayPeriods,Ze.Wide,Ue.Standalone,!0);break;case"bbbbb":e=rn(kt.DayPeriods,Ze.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":e=rn(kt.DayPeriods,Ze.Abbreviated,Ue.Format,!0);break;case"BBBB":e=rn(kt.DayPeriods,Ze.Wide,Ue.Format,!0);break;case"BBBBB":e=rn(kt.DayPeriods,Ze.Narrow,Ue.Format,!0);break;case"h":e=pn(xt.Hours,1,-12);break;case"hh":e=pn(xt.Hours,2,-12);break;case"H":e=pn(xt.Hours,1);break;case"HH":e=pn(xt.Hours,2);break;case"m":e=pn(xt.Minutes,1);break;case"mm":e=pn(xt.Minutes,2);break;case"s":e=pn(xt.Seconds,1);break;case"ss":e=pn(xt.Seconds,2);break;case"S":e=pn(xt.FractionalSeconds,1);break;case"SS":e=pn(xt.FractionalSeconds,2);break;case"SSS":e=pn(xt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Yr(Vt.Short);break;case"ZZZZZ":e=Yr(Vt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Yr(Vt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Yr(Vt.Long);break;default:return null}return Ri[n]=e,e}(C);b+=M?M(r,t,_):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function xn(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Kn(n,e){const t=function fe(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(Ai[t]=Ai[t]||{},Ai[t][e])return Ai[t][e];let i="";switch(e){case"shortDate":i=dn(n,yt.Short);break;case"mediumDate":i=dn(n,yt.Medium);break;case"longDate":i=dn(n,yt.Long);break;case"fullDate":i=dn(n,yt.Full);break;case"shortTime":i=St(n,yt.Short);break;case"mediumTime":i=St(n,yt.Medium);break;case"longTime":i=St(n,yt.Long);break;case"fullTime":i=St(n,yt.Full);break;case"short":const r=Kn(n,"shortTime"),a=Kn(n,"shortDate");i=zi(an(n,yt.Short),[r,a]);break;case"medium":const u=Kn(n,"mediumTime"),f=Kn(n,"mediumDate");i=zi(an(n,yt.Medium),[u,f]);break;case"long":const _=Kn(n,"longTime"),b=Kn(n,"longDate");i=zi(an(n,yt.Long),[_,b]);break;case"full":const C=Kn(n,"fullTime"),M=Kn(n,"fullDate");i=zi(an(n,yt.Full),[C,M])}return i&&(Ai[t][e]=i),i}function zi(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Mi(n,e,t="-",i,r){let a="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,a=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),a+u}function pn(n,e,t=0,i=!1,r=!1){return function(a,u){let f=function _o(n,e){switch(n){case xt.FullYear:return e.getFullYear();case xt.Month:return e.getMonth();case xt.Date:return e.getDate();case xt.Hours:return e.getHours();case xt.Minutes:return e.getMinutes();case xt.Seconds:return e.getSeconds();case xt.FractionalSeconds:return e.getMilliseconds();case xt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===xt.Hours)0===f&&-12===t&&(f=12);else if(n===xt.FractionalSeconds)return function Ra(n,e){return Mi(n,3).substring(0,e)}(f,e);const _=it(u,ot.MinusSign);return Mi(f,e,_,i,r)}}function rn(n,e,t=Ue.Format,i=!1){return function(r,a){return function $i(n,e,t,i,r,a){switch(t){case kt.Months:return function Le(n,e,t){const i=(0,c.cg1)(n),a=Tn([i[c.wAp.MonthsFormat],i[c.wAp.MonthsStandalone]],e);return Tn(a,t)}(e,r,i)[n.getMonth()];case kt.Days:return function Re(n,e,t){const i=(0,c.cg1)(n),a=Tn([i[c.wAp.DaysFormat],i[c.wAp.DaysStandalone]],e);return Tn(a,t)}(e,r,i)[n.getDay()];case kt.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(a){const b=function wr(n){const e=(0,c.cg1)(n);return cs(e),(e[c.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?sr(i):[sr(i[0]),sr(i[1])])}(e),C=function or(n,e,t){const i=(0,c.cg1)(n);cs(i);const a=Tn([i[c.wAp.ExtraData][0],i[c.wAp.ExtraData][1]],e)||[];return Tn(a,t)||[]}(e,r,i),M=b.findIndex(P=>{if(Array.isArray(P)){const[B,q]=P,J=u>=B.hours&&f>=B.minutes,ce=u<q.hours||u===q.hours&&f<q.minutes;if(B.hours<q.hours){if(J&&ce)return!0}else if(J||ce)return!0}else if(P.hours===u&&P.minutes===f)return!0;return!1});if(-1!==M)return C[M]}return function be(n,e,t){const i=(0,c.cg1)(n),a=Tn([i[c.wAp.DayPeriodsFormat],i[c.wAp.DayPeriodsStandalone]],e);return Tn(a,t)}(e,r,i)[u<12?0:1];case kt.Eras:return function ze(n,e){return Tn((0,c.cg1)(n)[c.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,a,n,e,t,i)}}function Yr(n){return function(e,t,i){const r=-1*i,a=it(t,ot.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Vt.Short:return(r>=0?"+":"")+Mi(u,2,a)+Mi(Math.abs(r%60),2,a);case Vt.ShortGMT:return"GMT"+(r>=0?"+":"")+Mi(u,1,a);case Vt.Long:return"GMT"+(r>=0?"+":"")+Mi(u,2,a)+":"+Mi(Math.abs(r%60),2,a);case Vt.Extended:return 0===i?"Z":(r>=0?"+":"")+Mi(u,2,a)+":"+Mi(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}const $e=0,Ce=4;function Mt(n){return xn(n.getFullYear(),n.getMonth(),n.getDate()+(Ce-n.getDay()))}function Lt(n,e=!1){return function(t,i){let r;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+a)/7)}else{const a=Mt(t),u=function st(n){const e=xn(n,$e,1).getDay();return xn(n,0,1+(e<=Ce?Ce:Ce+7)-e)}(a.getFullYear()),f=a.getTime()-u.getTime();r=1+Math.round(f/6048e5)}return Mi(r,n,it(i,ot.MinusSign))}}function $t(n,e=!1){return function(t,i){return Mi(Mt(t).getFullYear(),n,it(i,ot.MinusSign),e)}}const Ri={};function U(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ke(n){return n instanceof Date&&!isNaN(n.valueOf())}const hs=/\s+/,Er=[];let tt=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this.initialClasses=Er,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(hs):Er}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(hs):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(hs).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})(),ps=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new ka,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Wt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Wt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ka{constructor(){this.$implicit=null,this.ngIf=null}}function Wt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class js{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ms=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),zo=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new js(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(ms,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Wi=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:a,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,a,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})();const vo=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ml=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let _s=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,a){if(null==t||""===t||t!=t)return null;try{return ds(t,i??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw function tn(n,e){return new c.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(vo,24),c.Y36(Ml,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Go=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const jc="browser",xr="server";function kl(n){return n===xr}let bs=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Fa((0,c.LFG)(X),window)}),n})();class Fa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ws(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qs(this.window.history)||qs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xs extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Es extends Xs{static makeCurrent(){!function re(n){ee||(ee=n)}(new Es)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function zl(){return Zo=Zo||document.querySelector("base"),Zo?Zo.getAttribute("href"):null}();return null==t?null:function $a(n){Ir=Ir||document.createElement("a"),Ir.setAttribute("href",n);const e=Ir.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Tl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Ir,Zo=null;const Sd=new c.OlP("TRANSITION_ID"),Td=[{provide:c.ip1,useFactory:function Em(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=N(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Sd,X,c.zs3],multi:!0}];let Cm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Sr=new c.OlP("EventManagerPlugins");let iu=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sr),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class nf{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=N().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let no=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let a=r.get(t)??0;return a+=i,a>0?r.set(t,a):r.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Js=(()=>{class n extends no{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(a=>a.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const a=this.styleRef.get(i);a?a.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const In={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ko=/%COMP%/g,Ga=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ia(n,e){return e.flat(100).map(t=>t.replace(Ko,n))}function xs(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Eo=(()=>{class n{constructor(t,i,r,a){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Tr(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof oa?r.applyToHost(t):r instanceof Qo&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let a=r.get(i.id);if(!a){const u=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(i.encapsulation){case c.ifc.Emulated:a=new oa(u,f,i,this.appId,_);break;case c.ifc.ShadowDom:return new $l(u,f,t,i);default:a=new Qo(u,f,i,_)}a.onDestroy=()=>r.delete(i.id),r.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(iu),c.LFG(Js),c.LFG(c.AFp),c.LFG(Ga))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Tr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(In[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Yo(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Yo(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=In[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=In[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xs(i)):this.eventManager.addEventListener(e,t,xs(i))}}function Yo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class $l extends Tr{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ia(r.id,r.styles);for(const u of a){const f=document.createElement("style");f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qo extends Tr{constructor(e,t,i,r,a=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=ia(a,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class oa extends Qo{constructor(e,t,i,r,a){const u=r+"-"+i.id;super(e,t,i,a,u),this.contentAttr=function na(n){return"_ngcontent-%COMP%".replace(Ko,n)}(u),this.hostAttr=function ou(n){return"_nghost-%COMP%".replace(Ko,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let sf=(()=>{class n extends nf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Wa=["alt","control","meta","shift"],af={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Co={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ad=(()=>{class n extends nf{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),Wa.forEach(b=>{const C=i.indexOf(b);C>-1&&(i.splice(C,1),u+=b+".")}),u+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(t,i){let r=af[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Wa.forEach(u=>{u!==r&&(0,Co[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const sa=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:jc},{provide:c.g9A,useValue:function ql(){Es.makeCurrent()},multi:!0},{provide:X,useFactory:function su(){return(0,c.RDi)(document),document},deps:[]}]),kd=new c.OlP(""),Od=[{provide:c.rWj,useClass:class nu{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Wl=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Fi(){return new c.qLn},deps:[]},{provide:Sr,useClass:sf,multi:!0,deps:[X,c.R0b,c.Lbi]},{provide:Sr,useClass:Ad,multi:!0,deps:[X]},{provide:Eo,useClass:Eo,deps:[iu,Js,c.AFp,Ga]},{provide:c.FYo,useExisting:Eo},{provide:no,useExisting:Js},{provide:Js,useClass:Js,deps:[X]},{provide:iu,useClass:iu,deps:[Sr,c.R0b]},{provide:class $c{},useClass:Cm,deps:[]},[]];let xo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Sd,useExisting:c.AFp},Td]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kd,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Wl,...Od],imports:[Go,c.hGG]}),n})(),aa=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Pd(){return new aa((0,c.LFG)(X))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ua=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(mf),i},providedIn:"root"}),n})(),mf=(()=>{class n extends ua{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${c.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${c.JZr})`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Fd(n){return new mf(n.get(X))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var Qt=F(8996),io=F(3269);function Xe(...n){const e=(0,io.yG)(n);return(0,Qt.D)(n,e)}var Xt=F(7579);class yi extends Xt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const ts=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Rn=F(9751);const{isArray:_f}=Array,{getPrototypeOf:Io,prototype:Nd,keys:Kl}=Object;function da(n){if(1===n.length){const e=n[0];if(_f(e))return{args:e,keys:null};if(function ha(n){return n&&"object"==typeof n&&Io(n)===Nd}(e)){const t=Kl(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var ro=F(4671),ht=F(4004);const{isArray:D}=Array;function R(n){return(0,ht.U)(e=>function I(n,e){return D(e)?n(...e):n(e)}(n,e))}function V(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var W=F(5403),ie=F(9672);function ke(...n){const e=(0,io.yG)(n),t=(0,io.jO)(n),{args:i,keys:r}=da(n);if(0===i.length)return(0,Qt.D)([],e);const a=new Rn.y(function ct(n,e,t=ro.y){return i=>{ut(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)ut(e,()=>{const b=(0,Qt.D)(n[_],e);let C=!1;b.subscribe((0,W.x)(i,M=>{a[_]=M,C||(C=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>V(r,u):ro.y));return t?a.pipe(R(t)):a}function ut(n,e,t){n?(0,ie.f)(t,n,e):e()}var mt=F(8189);function Tt(...n){return function Yt(){return(0,mt.J)(1)}()((0,Qt.D)(n,(0,io.yG)(n)))}var Nn=F(8421);function $n(n){return new Rn.y(e=>{(0,Nn.Xf)(n()).subscribe(e)})}var Qa=F(9635),Ki=F(576);function zr(n,e){const t=(0,Ki.m)(n)?n:()=>n,i=r=>r.error(t());return new Rn.y(e?r=>e.schedule(i,0,r):i)}var Gn=F(515),Xn=F(727),Hn=F(4482);function Ld(){return(0,Hn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,W.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Yl extends Rn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Hn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,W.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xn.w0.EMPTY)}return e}refCount(){return Ld()(this)}}function ci(n,e){return(0,Hn.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,W.x)(i,_=>{r?.unsubscribe();let b=0;const C=a++;(0,Nn.Xf)(n(_,C)).subscribe(r=(0,W.x)(i,M=>i.next(e?e(_,M,C,b++):M),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function Yi(n){return n<=0?()=>Gn.E:(0,Hn.e)((e,t)=>{let i=0;e.subscribe((0,W.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ql(...n){const e=(0,io.yG)(n);return(0,Hn.e)((t,i)=>{(e?Tt(n,t,e):Tt(n,t)).subscribe(i)})}function vi(n,e){return(0,Hn.e)((t,i)=>{let r=0;t.subscribe((0,W.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var Li=F(5577);function Xl(n){return(0,Hn.e)((e,t)=>{let i=!1;e.subscribe((0,W.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Sm(n=ew){return(0,Hn.e)((e,t)=>{let i=!1;e.subscribe((0,W.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function ew(){return new ts}function Ar(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vi((r,a)=>n(r,a,i)):ro.y,Yi(1),t?Xl(e):Sm(()=>new ts))}function Xa(n,e){return(0,Ki.m)(e)?(0,Li.z)(n,e,1):(0,Li.z)(n,1)}var bi=F(8505);function fa(n){return(0,Hn.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,W.x)(t,void 0,void 0,u=>{a=(0,Nn.Xf)(n(u,fa(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function Vd(n,e){return(0,Hn.e)(function tw(n,e,t,i,r){return(a,u)=>{let f=t,_=e,b=0;a.subscribe((0,W.x)(u,C=>{const M=b++;_=f?n(_,C,M):(f=!0,C),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}(n,e,arguments.length>=2,!0))}function yf(n){return n<=0?()=>Gn.E:(0,Hn.e)((e,t)=>{let i=[];e.subscribe((0,W.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function vf(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vi((r,a)=>n(r,a,i)):ro.y,yf(1),t?Xl(e):Sm(()=>new ts))}function cu(n){return(0,Hn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const jt="primary",Mr=Symbol("RouteTitle");class Sy{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Jl(n){return new Sy(n)}function Tm(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function oo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!Mm(n[r],e[r]))return!1;return!0}function Mm(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Rm(n){return Array.prototype.concat.apply([],n)}function Bd(n){return n.length>0?n[n.length-1]:null}function wi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function pa(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Qt.D)(Promise.resolve(n)):Xe(n)}const Di=!1,wf={exact:function ma(n,e,t){if(!Ja(n.segments,e.segments)||!tc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!ma(n.children[i],e.children[i],t))return!1;return!0},subset:ec},uu={exact:function pr(n,e){return oo(n,e)},subset:function Ef(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Mm(n[t],e[t]))},ignored:()=>!0};function Ud(n,e,t){return wf[t.paths](n.root,e.root,t.matrixParams)&&uu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ec(n,e,t){return Cf(n,e,e.segments,t)}function Cf(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ja(r,t)||e.hasChildren()||!tc(r,t,i))}if(n.segments.length===t.length){if(!Ja(n.segments,t)||!tc(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!ec(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Ja(n.segments,r)&&tc(n.segments,r,i)&&n.children[jt])&&Cf(n.children[jt],e,a,i)}}function tc(n,e,t){return e.every((i,r)=>uu[t](n[r].parameters,i.parameters))}class ga{constructor(e=new Jt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jl(this.queryParams)),this._queryParamMap}toString(){return tl.serialize(this)}}class Jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,wi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _a(this)}}class du{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Jl(this.parameters)),this._parameterMap}toString(){return xf(this)}}function Ja(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let el=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Hd},providedIn:"root"}),n})();class Hd{parse(e){const t=new Gd(e);return new ga(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${hu(e.root,!0)}`,i=function pu(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${nc(t)}=${nc(r)}`).join("&"):`${nc(t)}=${nc(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function fu(n){return encodeURI(n)}(e.fragment)}`:""}`}}const tl=new Hd;function _a(n){return n.segments.map(e=>xf(e)).join("/")}function hu(n,e){if(!n.hasChildren())return _a(n);if(e){const t=n.children[jt]?hu(n.children[jt],!1):"",i=[];return wi(n.children,(r,a)=>{a!==jt&&i.push(`${a}:${hu(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Om(n,e){let t=[];return wi(n.children,(i,r)=>{r===jt&&(t=t.concat(e(i,r)))}),wi(n.children,(i,r)=>{r!==jt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===jt?[hu(n.children[jt],!1)]:[`${r}:${hu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jt]?`${_a(n)}/${t[0]}`:`${_a(n)}/(${t.join("//")})`}}function jd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nc(n){return jd(n).replace(/%3B/gi,";")}function zd(n){return jd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ts(n){return decodeURIComponent(n)}function ic(n){return Ts(n.replace(/\+/g,"%20"))}function xf(n){return`${zd(n.path)}${function Ay(n){return Object.keys(n).map(e=>`;${zd(e)}=${zd(n[e])}`).join("")}(n.parameters)}`}const My=/^[^\/()?;=#]+/;function $d(n){const e=n.match(My);return e?e[0]:""}const Ry=/^[^=?&#]+/,Oy=/^[^&#]+/;class Gd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[jt]=new Jt(e,t)),i}parseSegment(){const e=$d(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,Di);return this.capture(e),new du(Ts(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=$d(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=$d(this.remaining);r&&(i=r,this.capture(i))}e[Ts(t)]=Ts(i)}parseQueryParam(e){const t=function ky(n){const e=n.match(Ry);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function Pm(n){const e=n.match(Oy);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=ic(t),a=ic(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=$d(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,Di);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=jt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[jt]:new Jt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,Di)}}function mu(n){return n.segments.length>0?new Jt([],{[jt]:n}):n}function gu(n){const e={};for(const i of Object.keys(n.children)){const a=gu(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function _u(n){if(1===n.numberOfChildren&&n.children[jt]){const e=n.children[jt];return new Jt(n.segments.concat(e.segments),e.children)}return n}(new Jt(n.segments,e))}function As(n){return n instanceof ga}const Df=!1;function Fm(n,e,t,i,r){if(0===t.length)return yu(e.root,e.root,e.root,i,r);const a=function If(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Nm(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return wi(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Nm(t,e,i)}(t);return a.toRoot()?yu(e.root,e.root,new Jt([],{}),i,r):function u(_){const b=function qd(n,e,t,i){if(n.isAbsolute)return new So(e.root,!0,0);if(-1===i)return new So(t,t===e.root,0);return function Sf(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new c.vHH(4005,Df&&"Invalid number of '../'");r=i.segments.length}return new So(i,!1,r-a)}(t,i+(oc(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),C=b.processChildren?nl(b.segmentGroup,b.index,a.commands):ac(b.segmentGroup,b.index,a.commands);return yu(e.root,b.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function oc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sc(n){return"object"==typeof n&&null!=n&&n.outlets}function yu(n,e,t,i,r){let u,a={};i&&wi(i,(_,b)=>{a[b]=Array.isArray(_)?_.map(C=>`${C}`):`${_}`}),u=n===e?t:vu(n,e,t);const f=mu(gu(u));return new ga(f,a,r)}function vu(n,e,t){const i={};return wi(n.children,(r,a)=>{i[a]=r===e?t:vu(r,e,t)}),new Jt(n.segments,i)}class Nm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&oc(i[0]))throw new c.vHH(4003,Df&&"Root segment cannot have matrix parameters");const r=i.find(sc);if(r&&r!==Bd(i))throw new c.vHH(4004,Df&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class So{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function ac(n,e,t){if(n||(n=new Jt([],{})),0===n.segments.length&&n.hasChildren())return nl(n,e,t);const i=function Zd(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(sc(f))break;const _=`${f}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Vm(_,b,u))return a;i+=2}else{if(!Vm(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Jt(n.segments.slice(0,i.pathIndex),{});return a.children[jt]=new Jt(n.segments.slice(i.pathIndex),n.children),nl(a,0,r)}return i.match&&0===r.length?new Jt(n.segments,{}):i.match&&!n.hasChildren()?il(n,e,t):i.match?nl(n,0,r):il(n,e,t)}function nl(n,e,t){if(0===t.length)return new Jt(n.segments,{});{const i=function Wd(n){return sc(n[0])?n[0].outlets:{[jt]:n}}(t),r={};return!i[jt]&&n.children[jt]&&1===n.numberOfChildren&&0===n.children[jt].segments.length?nl(n.children[jt],e,t):(wi(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=ac(n.children[u],e,a))}),wi(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new Jt(n.segments,r))}}function il(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(sc(a)){const _=bu(a.outlets);return new Jt(i,_)}if(0===r&&oc(t[0])){i.push(new du(n.segments[e].path,rl(t[0]))),r++;continue}const u=sc(a)?a.outlets[jt]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&oc(f)?(i.push(new du(u,rl(f))),r+=2):(i.push(new du(u,{})),r++)}return new Jt(i,{})}function bu(n){const e={};return wi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=il(new Jt([],{}),0,t))}),e}function rl(n){const e={};return wi(n,(t,i)=>e[i]=`${t}`),e}function Vm(n,e,t){return n==t.path&&oo(e,t.parameters)}const va="imperative";class ns{constructor(e,t){this.id=e,this.url=t}}class mr extends ns{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class To extends ns{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lc extends ns{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wu extends ns{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class ba extends ns{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Eu extends ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cc extends ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bm extends ns{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fy extends ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ol extends ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Um{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tf{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ny{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hm{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cu{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qi{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xu{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let gr=(()=>{class n{createUrlTree(t,i,r,a,u,f){return Fm(t||i.root,r,a,u,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),zm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return gr.\u0275fac(e)},providedIn:"root"}),n})();class Af{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Mf(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Mf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Iu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Iu(e,this._root).map(t=>t.value)}}function Mf(n,e){if(n===e.value)return e;for(const t of e.children){const i=Mf(n,t);if(i)return i}return null}function Iu(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Iu(n,t);if(i.length)return i.unshift(e),i}return[]}class Vi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ao(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class $m extends Af{constructor(e,t){super(e),this.snapshot=t,Y(this,e)}toString(){return this.snapshot.toString()}}function Gm(n,e){const t=function y(n,e){const u=new S([],{},{},"",{},jt,e,null,n.root,-1,{});return new O("",new Vi(u,[]))}(n,e),i=new yi([new du("",{})]),r=new yi({}),a=new yi({}),u=new yi({}),f=new yi(""),_=new p(i,r,u,f,a,jt,e,t.root);return _.snapshot=t.root,new $m(new Vi(_,[]),t)}class p{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,ht.U)(b=>b[Mr]))??Xe(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>Jl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>Jl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function m(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function w(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class S{get title(){return this.data?.[Mr]}constructor(e,t,i,r,a,u,f,_,b,C,M){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=C,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class O extends Af{constructor(e,t){super(t),this.url=e,Y(this,t)}toString(){return ue(this._root)}}function Y(n,e){e.value._routerState=n,e.children.forEach(t=>Y(n,t))}function ue(n){const e=n.children.length>0?` { ${n.children.map(ue).join(", ")} } `:"";return`${n.value}${e}`}function He(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,oo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),oo(e.params,t.params)||n.params.next(t.params),function Am(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!oo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),oo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nt(n,e){const t=oo(n.params,e.params)&&function km(n,e){return Ja(n,e)&&n.every((t,i)=>oo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nt(n.parent,e.parent))}function ft(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function ui(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ft(n,i,r);return ft(n,i)})}(n,e,t);return new Vi(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>ft(n,f)),u}}const i=function so(n){return new p(new yi(n.url),new yi(n.params),new yi(n.queryParams),new yi(n.fragment),new yi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>ft(n,a));return new Vi(i,r)}}const sl="ngNavigationCancelingError";function qm(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=As(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Rf(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Rf(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[sl]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Wm(n){return Su(n)&&As(n.url)}function Su(n){return n&&n[sl]}class Tu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Au,this.attachRef=null}}let Au=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Tu,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yd=!1;let uc=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Au),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Yd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Yd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Yd);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,Yd);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new Zm(t,f,r.injector);if(i&&function Ly(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(u);this.activated=r.createComponent(b,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class Zm{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===p?this.route:e===Au?this.childContexts:this.parent.get(e,t)}}let Mu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[uc],encapsulation:2}),n})();function Km(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ym(n){const e=n.children&&n.children.map(Ym),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==jt&&(t.component=Mu),t}function Mo(n){return n.outlet||jt}function iw(n,e){const t=n.filter(i=>Mo(i)===e);return t.push(...n.filter(i=>Mo(i)!==e)),t}function kf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class tI{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),He(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Ao(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),wi(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Ao(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Ao(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Ao(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Qi(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Hm(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(He(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),He(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=kf(r.snapshot),_=f?.get(c._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class Uy{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hy{constructor(e,t){this.component=e,this.route=t}}function jR(n,e,t){const i=n._root;return Qd(i,e?e._root:null,t,[i.value])}function dc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function Qd(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ao(e);return n.children.forEach(u=>{(function rw(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function ow(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ja(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ja(n.url,e.url)||!oo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nt(n,e)||!oo(n.queryParams,e.queryParams);default:return!nt(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Uy(i)):(a.data=u.data,a._resolvedData=u._resolvedData),Qd(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Hy(f.outlet.component,u))}else u&&Qm(e,f,r),r.canActivateChecks.push(new Uy(i)),Qd(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),wi(a,(u,f)=>Qm(u,t.getContext(f),r)),r}function Qm(n,e,t){const i=Ao(n),r=n.value;wi(i,(a,u)=>{Qm(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Hy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Pf(n){return"function"==typeof n}function Xm(n){return n instanceof ts||"EmptyError"===n?.name}const wa=Symbol("INITIAL_VALUE");function Xd(){return ci(n=>ke(n.map(e=>e.pipe(Yi(1),Ql(wa)))).pipe((0,ht.U)(e=>{for(const t of e)if(!0!==t){if(t===wa)return wa;if(!1===t||t instanceof ga)return t}return!0}),vi(e=>e!==wa),Yi(1)))}function dw(n){return(0,Qa.z)((0,bi.b)(e=>{if(As(e))throw qm(0,e)}),(0,ht.U)(e=>!0===e))}const hc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fw(n,e,t,i,r){const a=Wy(n,e,t);return a.matched?function hw(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Xe(r.map(u=>{const f=dc(u,n);return pa(function nI(n){return n&&Pf(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Xd(),dw()):Xe(!0)}(i=Km(e,i),e,t).pipe((0,ht.U)(u=>!0===u?a:{...hc})):Xe(a)}function Wy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...hc}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Tm)(t,n,e);if(!r)return{...hc};const a={};wi(r.posParams,(f,_)=>{a[_]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function tg(n,e,t,i){if(t.length>0&&function pw(n,e,t){return t.some(i=>Ff(n,e,i)&&Mo(i)!==jt)}(n,t,i)){const a=new Jt(e,function oI(n,e,t,i){const r={};r[jt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Mo(a)!==jt){const u=new Jt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Mo(a)]=u}return r}(n,e,i,new Jt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function sI(n,e,t){return t.some(i=>Ff(n,e,i))}(n,t,i)){const a=new Jt(n.segments,function Zy(n,e,t,i,r){const a={};for(const u of i)if(Ff(n,t,u)&&!r[Mo(u)]){const f=new Jt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[Mo(u)]=f}return{...r,...a}}(n,e,t,i,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const r=new Jt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function Ff(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function aI(n,e,t,i){return!!(Mo(n)===i||i!==jt&&Ff(e,t,n))&&("**"===n.path||Wy(e,n,t).matched)}function mw(n,e,t){return 0===e.length&&!n.children[t]}const fc=!1;class ng{constructor(e){this.segmentGroup=e||null}}class ku{constructor(e){this.urlTree=e}}function al(n){return zr(new ng(n))}function gw(n){return zr(new ku(n))}class uI{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=tg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Jt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,jt).pipe((0,ht.U)(a=>this.createUrlTree(gu(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fa(a=>{if(a instanceof ku)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof ng?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,jt).pipe((0,ht.U)(r=>this.createUrlTree(gu(r),e.queryParams,e.fragment))).pipe(fa(r=>{throw r instanceof ng?this.noMatchError(r):r}))}noMatchError(e){return new c.vHH(4002,fc)}createUrlTree(e,t,i){const r=mu(e);return new ga(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,ht.U)(a=>new Jt([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Qt.D)(r).pipe(Xa(a=>{const u=i.children[a],f=iw(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,ht.U)(_=>({segment:_,outlet:a})))}),Vd((a,u)=>(a[u.outlet]=u.segment,a),{}),vf())}expandSegment(e,t,i,r,a,u){return(0,Qt.D)(i).pipe(Xa(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(fa(b=>{if(b instanceof ng)return Xe(null);throw b}))),Ar(f=>!!f),fa((f,_)=>{if(Xm(f))return mw(t,r,a)?Xe(new Jt([],{})):al(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return aI(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):al(t):al(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?gw(a):this.lineralizeSegments(i,a).pipe((0,Li.z)(u=>{const f=new Jt(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:C}=Wy(t,r,a);if(!f)return al(t);const M=this.applyRedirectCommands(_,r.redirectTo,C);return r.redirectTo.startsWith("/")?gw(M):this.lineralizeSegments(r,M).pipe((0,Li.z)(P=>this.expandSegment(e,t,i,P.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=Km(i,e),i.loadChildren?(i._loadedRoutes?Xe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,ht.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new Jt(r,{})))):Xe(new Jt(r,{}))):fw(t,i,r,e).pipe(ci(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Li.z)(C=>{const M=C.injector??e,P=C.routes,{segmentGroup:B,slicedSegments:q}=tg(t,f,_,P),J=new Jt(B.segments,B.children);if(0===q.length&&J.hasChildren())return this.expandChildren(M,P,J).pipe((0,ht.U)(pt=>new Jt(f,pt)));if(0===P.length&&0===q.length)return Xe(new Jt(f,{}));const ce=Mo(i)===a;return this.expandSegment(M,J,P,q,ce?jt:a,!0).pipe((0,ht.U)(gt=>new Jt(f.concat(gt.segments),gt.children)))})):al(t)))}getChildConfig(e,t,i){return t.children?Xe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Xe({routes:t._loadedRoutes,injector:t._loadedInjector}):function rI(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Xe(!0):Xe(r.map(u=>{const f=dc(u,n);return pa(function aw(n){return n&&Pf(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Xd(),dw())}(e,t,i).pipe((0,Li.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,bi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function lI(n){return zr(Rf(fc,3))}())):Xe({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Xe(i);if(r.numberOfChildren>1||!r.children[jt])return e.redirectTo,zr(new c.vHH(4e3,fc));r=r.children[jt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new ga(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return wi(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return wi(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new Jt(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,fc);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Yy{}class Xy{constructor(e,t,i,r,a,u,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.urlSerializer=f}recognize(){const e=tg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,jt).pipe((0,ht.U)(t=>{if(null===t)return null;const i=new S([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vi(i,t),a=new O(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=m(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Qt.D)(Object.keys(i.children)).pipe(Xa(r=>{const a=i.children[r],u=iw(t,r);return this.processSegmentGroup(e,u,a,r)}),Vd((r,a)=>r&&a?(r.push(...a),r):null),function bf(n,e=!1){return(0,Hn.e)((t,i)=>{let r=0;t.subscribe((0,W.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),Xl(null),vf(),(0,ht.U)(r=>{if(null===r)return null;const a=vw(r);return function Nf(n){n.sort((e,t)=>e.value.outlet===jt?-1:t.value.outlet===jt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,Qt.D)(t).pipe(Xa(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),Ar(u=>!!u),fa(u=>{if(Xm(u))return mw(i,r,a)?Xe([]):Xe(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!aI(t,i,r,a))return Xe(null);let u;if("**"===t.path){const f=r.length>0?Bd(r).parameters:{},_=ww(i)+r.length;u=Xe({snapshot:new S(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ou(t),Mo(t),t.component??t._loadedComponent??null,t,bw(i),_,Ea(t)),consumedSegments:[],remainingSegments:[]})}else u=fw(i,t,r,e).pipe((0,ht.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:C})=>{if(!f)return null;const M=ww(i)+_.length;return{snapshot:new S(_,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ou(t),Mo(t),t.component??t._loadedComponent??null,t,bw(i),M,Ea(t)),consumedSegments:_,remainingSegments:b}}));return u.pipe(ci(f=>{if(null===f)return Xe(null);const{snapshot:_,consumedSegments:b,remainingSegments:C}=f;e=t._injector??e;const M=t._loadedInjector??e,P=function hI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:q}=tg(i,b,C,P.filter(ce=>void 0===ce.redirectTo));if(0===q.length&&B.hasChildren())return this.processChildren(M,P,B).pipe((0,ht.U)(ce=>null===ce?null:[new Vi(_,ce)]));if(0===P.length&&0===q.length)return Xe([new Vi(_,[])]);const J=Mo(t)===a;return this.processSegment(M,P,B,q,J?jt:a).pipe((0,ht.U)(ce=>null===ce?null:[new Vi(_,ce)]))}))}}function fI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vw(n){const e=[],t=new Set;for(const i of n){if(!fI(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=vw(i.children);e.push(new Vi(i.value,r))}return e.filter(i=>!t.has(i))}function bw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ww(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Ou(n){return n.data||{}}function Ea(n){return n.resolve||{}}function gI(n,e){return(0,Li.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Xe(t);let a=0;return(0,Qt.D)(r).pipe(Xa(u=>function GR(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!Jy(r)&&(a[Mr]=r.title),function qR(n,e,t,i){const r=function Ew(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Xe({});const a={};return(0,Qt.D)(r).pipe((0,Li.z)(u=>function WR(n,e,t,i){const r=kf(e)??i,a=dc(n,r);return pa(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[u],e,t,i).pipe(Ar(),(0,bi.b)(f=>{a[u]=f}))),yf(1),function lu(n){return(0,ht.U)(()=>n)}(a),fa(u=>Xm(u)?Gn.E:zr(u)))}(a,n,e,i).pipe((0,ht.U)(u=>(n._resolvedData=u,n.data=m(n,t).resolve,r&&Jy(r)&&(n.data[Mr]=r.title),null)))}(u.route,i,n,e)),(0,bi.b)(()=>a++),yf(1),(0,Li.z)(u=>a===r.length?Xe(t):Gn.E))})}function Jy(n){return"string"==typeof n.title||null===n.title}function ig(n){return ci(e=>{const t=n(e);return t?(0,Qt.D)(t).pipe((0,ht.U)(()=>e)):Xe(e)})}const Pu=new c.OlP("ROUTES");let ev=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Xe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=pa(t.loadComponent()).pipe((0,ht.U)(is),(0,bi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),cu(()=>{this.componentLoaders.delete(t)})),r=new Yl(i,()=>new Xt.x).pipe(Ld());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ht.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b,C=!1;Array.isArray(f)?b=f:(_=f.create(t).injector,b=Rm(_.get(Pu,[],c.XFs.Self|c.XFs.Optional)));return{routes:b.map(Ym),injector:_}}),cu(()=>{this.childrenLoaders.delete(i)})),u=new Yl(a,()=>new Xt.x).pipe(Ld());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return pa(t()).pipe((0,ht.U)(is),(0,Li.z)(i=>i instanceof c.YKP||Array.isArray(i)?Xe(i):(0,Qt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function is(n){return function _I(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Lf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Xt.x,this.configLoader=(0,c.f3M)(ev),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(el),this.rootContexts=(0,c.f3M)(Au),this.navigationId=0,this.afterPreactivation=()=>Xe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Tf(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Um(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new yi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:va,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vi(i=>0!==i.id),(0,ht.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),ci(i=>{let r=!1,a=!1;return Xe(i).pipe((0,bi.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ci(u=>{const f=t.browserUrlTree.toString(),_=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new wu(u.id,t.serializeUrl(i.rawUrl),C,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),Gn.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return xw(u.source)&&(t.browserUrlTree=u.extractedUrl),Xe(u).pipe(ci(C=>{const M=this.transitions?.getValue();return this.events.next(new mr(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),M!==this.transitions?.getValue()?Gn.E:Promise.resolve(C)}),function yw(n,e,t,i){return ci(r=>function cI(n,e,t,i,r){return new uI(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,ht.U)(a=>({...r,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,bi.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},i.urlAfterRedirects=C.urlAfterRedirects}),function mI(n,e,t,i,r){return(0,Li.z)(a=>function dI(n,e,t,i,r,a,u="emptyOnly"){return new Xy(n,e,t,i,r,u,a).recognize().pipe(ci(f=>null===f?function Qy(n){return new Rn.y(e=>e.error(n))}(new Yy):Xe(f)))}(n,e,t,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r).pipe((0,ht.U)(u=>({...a,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,bi.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const P=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(P,C)}t.browserUrlTree=C.urlAfterRedirects}const M=new Eu(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:M,source:P,restoredState:B,extras:q}=u,J=new mr(C,this.urlSerializer.serialize(M),P,B);this.events.next(J);const ce=Gm(M,this.rootComponentType).snapshot;return Xe(i={...u,targetSnapshot:ce,urlAfterRedirects:M,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new wu(u.id,t.serializeUrl(i.extractedUrl),C,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),Gn.E}}),(0,bi.b)(u=>{const f=new cc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,ht.U)(u=>i={...u,guards:jR(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function $y(n,e){return(0,Li.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?Xe({...t,guardsResult:!0}):function Jm(n,e,t,i){return(0,Qt.D)(n).pipe((0,Li.z)(r=>function qy(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Xe(a.map(f=>{const _=kf(e)??r,b=dc(f,_);return pa(function zy(n){return n&&Pf(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,i):_.runInContext(()=>b(n,e,t,i))).pipe(Ar())})).pipe(Xd()):Xe(!0)}(r.component,r.route,t,e,i)),Ar(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Li.z)(f=>f&&function sw(n){return"boolean"==typeof n}(f)?function iI(n,e,t,i){return(0,Qt.D)(e).pipe(Xa(r=>Tt(function eg(n,e){return null!==n&&e&&e(new Ny(n)),Xe(!0)}(r.route.parent,i),function Gy(n,e){return null!==n&&e&&e(new Cu(n)),Xe(!0)}(r.route,i),function uw(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function Of(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>$n(()=>Xe(u.guards.map(_=>{const b=kf(u.node)??t,C=dc(_,b);return pa(function zR(n){return n&&Pf(n.canActivateChild)}(C)?C.canActivateChild(i,n):b.runInContext(()=>C(i,n))).pipe(Ar())})).pipe(Xd())));return Xe(a).pipe(Xd())}(n,r.path,t),function Ru(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Xe(!0);const r=i.map(a=>$n(()=>{const u=kf(e)??t,f=dc(a,u);return pa(function jy(n){return n&&Pf(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(Ar())}));return Xe(r).pipe(Xd())}(n,r.route,t))),Ar(r=>!0!==r,!0))}(i,a,n,e):Xe(f)),(0,ht.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),(0,bi.b)(u=>{if(i.guardsResult=u.guardsResult,As(u.guardsResult))throw qm(0,u.guardsResult);const f=new Bm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),vi(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),ig(u=>{if(u.guards.canActivateChecks.length)return Xe(u).pipe((0,bi.b)(f=>{const _=new Fy(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),ci(f=>{let _=!1;return Xe(f).pipe(gI(t.paramsInheritanceStrategy,this.environmentInjector),(0,bi.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,bi.b)(f=>{const _=new ol(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),ig(u=>{const f=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,bi.b)(C=>{_.component=C}),(0,ht.U)(()=>{})));for(const C of _.children)b.push(...f(C));return b};return ke(f(u.targetSnapshot.root)).pipe(Xl(),Yi(1))}),ig(()=>this.afterPreactivation()),(0,ht.U)(u=>{const f=function vt(n,e,t){const i=ft(n,e._root,t?t._root:void 0);return new $m(i,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:f}}),(0,bi.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,ht.U)(i=>(new tI(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),(0,bi.b)({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new To(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),cu(()=>{r||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),fa(u=>{if(a=!0,Su(u)){Wm(u)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new lc(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),Wm(u)){const _=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||xw(i.source)};t.scheduleNavigation(_,va,null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new ba(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(u))}catch(_){i.reject(_)}}return Gn.E}))}))}cancelNavigationTransition(t,i,r){const a=new lc(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xw(n){return n!==va}let Dw=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===jt);return i}getResolvedTitleForRoute(t){return t.data[Mr]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(yI)},providedIn:"root"}),n})(),yI=(()=>{class n extends Dw{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aa))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(bI)},providedIn:"root"}),n})();class Iw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let bI=(()=>{class n extends Iw{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const og=new c.OlP("",{providedIn:"root",factory:()=>({})});let Zt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Sw)},providedIn:"root"}),n})(),Sw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tw(n){throw n}function EI(n,e,t){return e.parse("/")}const CI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Aw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ro=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(og,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Tw,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||EI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(Zt),this.routeReuseStrategy=(0,c.f3M)(vI),this.urlCreationStrategy=(0,c.f3M)(zm),this.titleStrategy=(0,c.f3M)(Dw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Rm((0,c.f3M)(Pu,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(Lf),this.urlSerializer=(0,c.f3M)(el),this.location=(0,c.f3M)(Ne),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ga,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Gm(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),va,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const a={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,u,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Ym),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,b=_?this.currentUrlTree.fragment:u;let C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...a};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=a||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,C,b??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=As(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,va,null,i)}navigate(t,i={skipLocationChange:!1}){return function Mw(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...CI}:!1===i?{...Aw}:i,As(t))return Ud(this.currentUrlTree,t,r);const a=this.parseUrl(t);return Ud(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,_,b,C;return u?(f=u.resolve,_=u.reject,b=u.promise):b=new Promise((M,P)=>{f=M,_=P}),C="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(M=>Promise.reject(M))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ag=(()=>{class n{constructor(t,i,r,a,u,f){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Xt.x;const _=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof To&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,a,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,a=this.el.nativeElement;null!==i?r.setAttribute(a,t,i):r.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ro),c.Y36(p),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(dt))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&c.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class tv{}let II=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(vi(t=>t instanceof To),Xa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Qt.D)(r).pipe((0,mt.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Xe(null);const a=r.pipe((0,Li.z)(u=>null===u?Xe(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Qt.D)([a,u]).pipe((0,mt.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ro),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(tv),c.LFG(ev))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vf=new c.OlP("");let lg=(()=>{class n{constructor(t,i,r,a,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=a,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof mr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof To&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();var ko=(()=>((ko=ko||{})[ko.COMPLETE=0]="COMPLETE",ko[ko.FAILED=1]="FAILED",ko[ko.REDIRECTING=2]="REDIRECTING",ko))();const Bf=!1;function ll(n,e){return{\u0275kind:n,\u0275providers:e}}const kw=new c.OlP("",{providedIn:"root",factory:()=>!1});function nv(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(Ro),r=n.get(Hf);1===n.get(iv)&&i.initialNavigation(),n.get(Pw,null,c.XFs.Optional)?.setUpPreloading(),n.get(Vf,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Hf=new c.OlP(Bf?"bootstrap done indicator":"",{factory:()=>new Xt.x}),iv=new c.OlP(Bf?"initial navigation":"",{providedIn:"root",factory:()=>1});function AI(){let n=[];return n=Bf?[{provide:c.Xts,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Ro);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Kd(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],ll(1,n)}const Pw=new c.OlP(Bf?"router preloader":"");function MI(n){return ll(0,[{provide:Pw,useExisting:II},{provide:tv,useExisting:n}])}const eh=!1,cg=new c.OlP(eh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),JR=[Ne,{provide:el,useClass:Hd},Ro,Au,{provide:p,useFactory:function Rw(n){return n.routerState.root},deps:[Ro]},ev,eh?{provide:kw,useValue:!0}:[]];function rv(){return new c.PXZ("Router",Ro)}let Fw=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[JR,eh&&i?.enableTracing?AI().\u0275providers:[],{provide:Pu,multi:!0,useValue:t},{provide:cg,useFactory:OI,deps:[[Ro,new c.FiY,new c.tp0]]},{provide:og,useValue:i||{}},i?.useHash?{provide:dt,useClass:Se}:{provide:dt,useClass:Ie},{provide:Vf,useFactory:()=>{const n=(0,c.f3M)(bs),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(og),i=(0,c.f3M)(Lf),r=(0,c.f3M)(el);return t.scrollOffset&&n.setOffset(t.scrollOffset),new lg(r,i,n,e,t)}},i?.preloadingStrategy?MI(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:rv},i?.initialNavigation?Lw(i):[],[{provide:Vw,useFactory:nv},{provide:c.tb,multi:!0,useExisting:Vw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Pu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(cg,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mu]}),n})();function OI(n){if(eh&&n)throw new c.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Lw(n){return["disabled"===n.initialNavigation?ll(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(Ro);return()=>{e.setUpLocationChangeListener()}}},{provide:iv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ll(2,[{provide:iv,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(de,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Ro),a=e.get(Hf);(function KR(n,e){n.events.pipe(vi(t=>t instanceof To||t instanceof lc||t instanceof ba||t instanceof wu),(0,ht.U)(t=>t instanceof To||t instanceof wu?ko.COMPLETE:t instanceof lc&&(0===t.code||1===t.code)?ko.REDIRECTING:ko.FAILED),vi(t=>t!==ko.REDIRECTING),Yi(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(Lf).afterPreactivation=()=>(i(!0),a.closed?Xe(void 0):a),r.initialNavigation()}))}}]).\u0275providers:[]]}const Vw=new c.OlP(eh?"Router Initializer":"");function Fu(...n){const e=(0,io.jO)(n),{args:t,keys:i}=da(n),r=new Rn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,b=u;for(let C=0;C<u;C++){let M=!1;(0,Nn.Xf)(t[C]).subscribe((0,W.x)(a,P=>{M||(M=!0,b--),f[C]=P},()=>_--,void 0,()=>{(!_||!M)&&(b||a.next(i?V(i,f):f),a.complete())}))}});return e?r.pipe(R(e)):r}let ug=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Ms=(()=>{class n extends ug{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const ao=new c.OlP("NgValueAccessor"),av={provide:ao,useExisting:(0,c.Gpc)(()=>jf),multi:!0},cv=new c.OlP("CompositionEventMode");let jf=(()=>{class n extends ug{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lv(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(cv,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([av]),c.qOj]}),n})();const uv=!1;function pc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Bw(n){return null!=n&&"number"==typeof n.length}const _r=new c.OlP("NgValidators"),mc=new c.OlP("NgAsyncValidators"),Uw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hw{static min(e){return function jw(n){return e=>{if(pc(e.value)||pc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function zw(n){return e=>{if(pc(e.value)||pc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function lo(n){return pc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function dv(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function $w(n){return pc(n.value)||Uw.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function FI(n){return e=>pc(e.value)||!Bw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function hg(n){return e=>Bw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function hv(n){if(!n)return fg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(pc(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Zw(e)}static composeAsync(e){return Kw(e)}}function fg(n){return null}function Gw(n){return null!=n}function qw(n){const e=(0,c.QGY)(n)?(0,Qt.D)(n):n;if(uv&&!(0,c.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new c.vHH(-1101,t)}return e}function fv(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Ww(n,e){return e.map(t=>t(n))}function pg(n){return n.map(e=>function NI(n){return!n.validate}(e)?e:t=>e.validate(t))}function Zw(n){if(!n)return null;const e=n.filter(Gw);return 0==e.length?null:function(t){return fv(Ww(t,e))}}function pv(n){return null!=n?Zw(pg(n)):null}function Kw(n){if(!n)return null;const e=n.filter(Gw);return 0==e.length?null:function(t){return Fu(Ww(t,e).map(qw)).pipe((0,ht.U)(fv))}}function mv(n){return null!=n?Kw(pg(n)):null}function Yw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Rs(n){return n._rawValidators}function mg(n){return n._rawAsyncValidators}function gv(n){return n?Array.isArray(n)?n:[n]:[]}function gg(n,e){return Array.isArray(n)?n.includes(e):n===e}function _v(n,e){const t=gv(e);return gv(n).forEach(r=>{gg(t,r)||t.push(r)}),t}function Qw(n,e){return gv(e).filter(t=>!gg(n,t))}class Xw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class $r extends Xw{get formDirective(){return null}get path(){return null}}class ks extends Xw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jw{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _g=(()=>{class n extends Jw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ks,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[c.qOj]}),n})();function wv(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Nu=!1,zf="VALID",Ev="INVALID",ih="PENDING",$f="DISABLED";function Cv(n){return(wg(n)?n.validators:n)||null}function xv(n,e){return(wg(e)?e.asyncValidators:n)||null}function wg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class rE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zf}get invalid(){return this.status===Ev}get pending(){return this.status==ih}get disabled(){return this.status===$f}get enabled(){return this.status!==$f}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_v(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_v(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qw(e,this._rawAsyncValidators))}hasValidator(e){return gg(this._rawValidators,e)}hasAsyncValidator(e){return gg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ih,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$f,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zf,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zf||this.status===ih)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$f:zf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ih,this._hasOwnPendingAsyncValidator=!0;const t=qw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?$f:this.errors?Ev:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ih)?ih:this._anyControlsHaveStatus(Ev)?Ev:zf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function jI(n){return Array.isArray(n)?pv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zI(n){return Array.isArray(n)?mv(n):n||null}(this._rawAsyncValidators)}}class Gf extends rE{constructor(e,t,i){super(Cv(t),xv(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Eg(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,Nu?function HI(n,e){return`Must supply a value for form control ${wv(n,e)}`}(e,r):"")})})(this,!0,e),Object.keys(e).forEach(i=>{(function Dv(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,Nu?function iE(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new c.vHH(1001,Nu?function UI(n,e){return`Cannot find form control ${wv(n,e)}`}(e,t):"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const rh=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Cg}),Cg="always";function oh(n,e,t=Cg){Ig(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Sg(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oE(n,e)})}(n,e),function Sv(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function GI(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function sk(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qf(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Iv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Dg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ig(n,e){const t=Rs(n);null!==e.validator?n.setValidators(Yw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=mg(n);null!==e.asyncValidator?n.setAsyncValidators(Yw(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Dg(e._rawValidators,r),Dg(e._rawAsyncValidators,r)}function Iv(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Rs(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=mg(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Dg(e._rawValidators,i),Dg(e._rawAsyncValidators,i),t}function oE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sE(n,e){Ig(n,e)}function Lu(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const lh={provide:$r,useExisting:(0,c.Gpc)(()=>ul)},xa=(()=>Promise.resolve())();let ul=(()=>{class n extends $r{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Gf({},pv(t),mv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xa.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),oh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xa.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xa.then(()=>{const i=this._findContainer(t.path),r=new Gf({});sE(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xa.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){xa.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Lu(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_r,10),c.Y36(mc,10),c.Y36(rh,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([lh]),c.qOj]}),n})();function Vu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Av(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Kf=class extends rE{constructor(e=null,t,i){super(Cv(t),xv(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Av(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Av(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Mg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Og=new c.OlP("NgModelWithFormControlWarning"),Fv={provide:ks,useExisting:(0,c.Gpc)(()=>Pg)};let Pg=(()=>{class n extends ks{set isDisabled(t){}constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=a,this.callSetDisabledState=u,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=function _c(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===jf?t=a:function sh(n){return Object.getPrototypeOf(n.constructor)===Ms}(a)?i=a:r=a}),r||i||t||null}(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&qf(i,this,!1),oh(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function Wf(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&qf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(_r,10),c.Y36(mc,10),c.Y36(ao,10),c.Y36(Og,8),c.Y36(rh,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([Fv]),c.qOj,c.TTD]}),n})();const hE={provide:$r,useExisting:(0,c.Gpc)(()=>ch)};let ch=(()=>{class n extends $r{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Iv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return oh(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){qf(t.control||null,t,!1),function ah(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Lu(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(qf(i||null,t),(n=>n instanceof Kf)(r)&&(oh(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);sE(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Ca(n,e){return Iv(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ig(this.form,this),this._oldForm&&Iv(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_r,10),c.Y36(mc,10),c.Y36(rh,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([hE]),c.qOj,c.TTD]}),n})(),SE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mg]}),n})(),$v=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Og,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:rh,useValue:t.callSetDisabledState??Cg}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[SE]}),n})();var uo=F(4986),Xi=F(2122);function Gv(){return(0,Hn.e)((n,e)=>{let t,i=!1;n.subscribe((0,W.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function Ps(n,e=ro.y){return n=n??Fs,(0,Hn.e)((t,i)=>{let r,a=!0;t.subscribe((0,W.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function Fs(n,e){return n===e}var bt,Ci=F(2011),ME=(F(9800),F(3942)),ve=F(5861),Bu=F(9681),Lg=F(4859),vc=F(1877),hn=F(2090),tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dl={},qv=qv||{},zt=tp||self;function np(){}function Uu(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ip(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Vg="closure_uid_"+(1e9*Math.random()>>>0),Wv=0;function Bg(n,e,t){return n.call.apply(n.bind,arguments)}function kE(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function yr(n,e,t){return(yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bg:kE).apply(null,arguments)}function rp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ji(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function hl(){this.s=this.s,this.o=this.o}hl.prototype.s=!1,hl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function RE(n){Object.prototype.hasOwnProperty.call(n,Vg)&&n[Vg]||(n[Vg]=++Wv)}(this)},hl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Ug(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function PE(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Uu(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let u=0;u<a;u++)n[r+u]=i[u]}else n.push(i)}}function kr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}kr.prototype.h=function(){this.defaultPrevented=!0};var cS=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",np,e),zt.removeEventListener("test",np,e)}catch{}return n}();function Hg(n){return/^[\s\xa0]*$/.test(n)}var FE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Kv(n,e){return n<e?-1:n>e?1:0}function jg(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function Da(n){return-1!=jg().indexOf(n)}function Yv(n){return Yv[" "](n),n}Yv[" "]=np;var zg,n,dS=Da("Opera"),uh=Da("Trident")||Da("MSIE"),NE=Da("Edge"),Qv=NE||uh,LE=Da("Gecko")&&!(-1!=jg().toLowerCase().indexOf("webkit")&&!Da("Edge"))&&!(Da("Trident")||Da("MSIE"))&&!Da("Edge"),hS=-1!=jg().toLowerCase().indexOf("webkit")&&!Da("Edge");function VE(){var n=zt.document;return n?n.documentMode:void 0}e:{var $g="",Gg=(n=jg(),LE?/rv:([^\);]+)(\)|;)/.exec(n):NE?/Edge\/([\d\.]+)/.exec(n):uh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):hS?/WebKit\/(\S+)/.exec(n):dS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Gg&&($g=Gg?Gg[1]:""),uh){var qg=VE();if(null!=qg&&qg>parseFloat($g)){zg=String(qg);break e}}zg=$g}var BE={};var HE=zt.document&&uh&&(VE()||parseInt(zg,10))||void 0;function dh(n,e){if(kr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(LE){e:{try{Yv(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Jv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&dh.X.h.call(this)}}Ji(dh,kr);var Jv={2:"touch",3:"pen",4:"mouse"};dh.prototype.h=function(){dh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hh="closure_listenable_"+(1e6*Math.random()|0),Hu=0;function fS(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++Hu,this.ba=this.ea=!1}function Zg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function bc(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function pS(n){const e={};for(const t in n)e[t]=n[t];return e}const Kg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mS(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<Kg.length;a++)t=Kg[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function op(n){this.src=n,this.g={},this.h=0}function Yg(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Zv(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(Zg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function jE(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}op.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=jE(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new fS(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var At="closure_lm_"+(1e6*Math.random()|0),eb={};function zE(n,e,t,i,r){if(i&&i.once)return GE(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)zE(n,e[a],t,i,r);return null}return t=tb(t),n&&n[hh]?n.N(e,t,ip(i)?!!i.capture:!!i,r):$E(n,e,t,!1,i,r)}function $E(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=ip(r)?!!r.capture:!!r,f=Qg(n);if(f||(n[At]=f=new op(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function fh(){const e=fk;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)cS||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Jn(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function GE(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)GE(n,e[a],t,i,r);return null}return t=tb(t),n&&n[hh]?n.O(e,t,ip(i)?!!i.capture:!!i,r):$E(n,e,t,!0,i,r)}function sp(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)sp(n,e[a],t,i,r);else i=ip(i)?!!i.capture:!!i,t=tb(t),n&&n[hh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=jE(a=n.g[e],t,i,r))&&(Zg(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Qg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=jE(e,t,i,r)),(t=-1<n?e[n]:null)&&ph(t))}function ph(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[hh])Yg(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Jn(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Qg(e))?(Yg(t,n),0==t.h&&(t.src=null,e[At]=null)):Zg(n)}}}function Jn(n){return n in eb?eb[n]:eb[n]="on"+n}function fk(n,e){if(n.ba)n=!0;else{e=new dh(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&ph(n),n=t.call(i,e)}return n}function Qg(n){return(n=n[At])instanceof op?n:null}var Xg="__closure_events_fn_"+(1e9*Math.random()>>>0);function tb(n){return"function"==typeof n?n:(n[Xg]||(n[Xg]=function(e){return n.handleEvent(e)}),n[Xg])}function Bi(){hl.call(this),this.i=new op(this),this.P=this,this.I=null}function er(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new kr(e,n);else if(e instanceof kr)e.target=e.target||n;else{var r=e;mS(e=new kr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=ap(u,i,!0,e)&&r}if(r=ap(u=e.g=n,i,!0,e)&&r,r=ap(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=ap(u=e.g=t[a],i,!1,e)&&r}function ap(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var f=u.listener,_=u.ha||u.src;u.ea&&Yg(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}Ji(Bi,hl),Bi.prototype[hh]=!0,Bi.prototype.removeEventListener=function(n,e,t,i){sp(this,n,e,t,i)},Bi.prototype.M=function(){if(Bi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Zg(t[i]);delete n.g[e],n.h--}}this.I=null},Bi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Bi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Jg=zt.JSON.stringify;function gS(){var n=ib;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var nb,qE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new lp,n=>n.reset());class lp{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function yS(n){zt.setTimeout(()=>{throw n},0)}function WE(n,e){nb||function e_(){var n=zt.Promise.resolve(void 0);nb=function(){n.then(ZE)}}(),t_||(nb(),t_=!0),ib.add(n,e)}var t_=!1,ib=new class _S{constructor(){this.h=this.g=null}add(e,t){const i=qE.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function ZE(){for(var n;n=gS();){try{n.h.call(n.g)}catch(t){yS(t)}var e=qE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}t_=!1}function n_(n,e){Bi.call(this),this.h=n||1,this.g=e||zt,this.j=yr(this.lb,this),this.l=Date.now()}function ju(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function zu(n,e,t){if("function"==typeof n)t&&(n=yr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yr(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function KE(n){n.g=zu(()=>{n.g=null,n.i&&(n.i=!1,KE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ji(n_,Bi),(bt=n_.prototype).ca=!1,bt.R=null,bt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),er(this,"tick"),this.ca&&(ju(this),this.start()))}},bt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bt.M=function(){n_.X.M.call(this),ju(this),delete this.g};class vS extends hl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KE(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cp(n){hl.call(this),this.h=n,this.g={}}Ji(cp,hl);var rb=[];function ob(n,e,t,i){Array.isArray(t)||(t&&(rb[0]=t.toString()),t=rb);for(var r=0;r<t.length;r++){var a=zE(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function sb(n){bc(n.g,function(e,t){this.g.hasOwnProperty(t)&&ph(e)},n),n.g={}}function i_(){this.g=!0}function mh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function mk(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Jg(t)}catch{return e}}(n,t)+(i?" "+i:"")})}cp.prototype.M=function(){cp.X.M.call(this),sb(this)},cp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},i_.prototype.Aa=function(){this.g=!1},i_.prototype.info=function(){};var gh={},wS=null;function up(){return wS=wS||new Bi}function dp(n){kr.call(this,gh.Pa,n)}function hp(n){const e=up();er(e,new dp(e))}function QE(n,e){kr.call(this,gh.STAT_EVENT,n),this.stat=e}function Or(n){const e=up();er(e,new QE(e,n))}function _h(n,e){kr.call(this,gh.Qa,n),this.size=e}function fp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}gh.Pa="serverreachability",Ji(dp,kr),gh.STAT_EVENT="statevent",Ji(QE,kr),gh.Qa="timingevent",Ji(_h,kr);var r_={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},XE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ab(){}function JE(){}ab.prototype.h=null;var $u,yh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function lb(){kr.call(this,"d")}function cb(){kr.call(this,"c")}function o_(){}function vh(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new cp(this),this.O=tC,this.T=new n_(n=Qv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new eC}function eC(){this.i=null,this.g="",this.h=!1}Ji(lb,kr),Ji(cb,kr),Ji(o_,ab),o_.prototype.g=function(){return new XMLHttpRequest},o_.prototype.i=function(){return{}},$u=new o_;var tC=45e3,ub={},pp={};function db(n,e,t){n.K=1,n.v=u_(fl(e)),n.s=t,n.P=!0,s_(n,null)}function s_(n,e){n.F=Date.now(),mp(n),n.A=fl(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),_b(t.i,"t",i),n.C=0,t=n.l.H,n.h=new eC,n.g=Eh(n.l,t?e:null,!n.s),0<n.N&&(n.L=new vS(yr(n.La,n,n.g),n.N)),ob(n.S,n.g,"readystatechange",n.ib),e=n.H?pS(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),hp(),function YE(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var C=b[0];b=b[1];var M=C.split("_");u=2<=M.length&&"type"==M[1]?u+(C+"=")+b+"&":u+(C+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function nC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function hb(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=iC(n,t),r==pp){4==e&&(n.o=4,Or(14),i=!1),mh(n.j,n.m,null,"[Incomplete Response]");break}if(r==ub){n.o=4,Or(15),mh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}mh(n.j,n.m,r,null),l_(n,r)}nC(n)&&r!=pp&&r!=ub&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Or(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Tb(e),e.K=!0,Or(11))):(mh(n.j,n.m,t,"[Invalid Chunked Response]"),qu(n),Gu(n))}function iC(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?pp:(t=Number(e.substring(t,i)),isNaN(t)?ub:(i+=1)+t>e.length?pp:(e=e.substr(i,t),n.C=i+t,e))}function mp(n){n.V=Date.now()+n.O,rC(n,n.O)}function rC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=fp(yr(n.gb,n),e)}function a_(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function Gu(n){0==n.l.G||n.I||IC(n.l,n)}function qu(n){a_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ju(n.T),sb(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function l_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||vp(t.h,n)))if(!n.J&&vp(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Ec(t),wp(t)}Sb(t),Or(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=fp(yr(t.cb,t),6e3));if(1>=hC(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Pr(t,11)}else if((n.J||t.g==n)&&Ec(t),!Hg(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const C=b[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const M=b[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const P=b[5];null!=P&&"number"==typeof P&&0<P&&(t.J=i=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const B=n.g;if(B){const q=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=i.h;a.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(yb(a,a.h),a.h=null))}if(i.D){const J=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(i.za=J,qn(i.F,i.D,J))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=E_(i,i.H?i.ka:null,i.V),u.J){vb(i.h,u);var f=u,_=i.J;_&&f.setTimeout(_),f.B&&(a_(f),mp(f)),i.g=u}else Ib(i);0<t.i.length&&Ep(t)}else"stop"!=b[0]&&"close"!=b[0]||Pr(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Pr(t,7):v_(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}hp()}catch{}}function oC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Uu(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function xS(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Uu(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function CS(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Uu(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(bt=vh.prototype).setTimeout=function(n){this.O=n},bt.ib=function(n){n=n.target;const e=this.L;e&&3==pl(n)?e.l():this.La(n)},bt.La=function(n){try{if(n==this.g)e:{const C=pl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||Qv||this.g&&(this.h.h||this.g.fa()||bC(this.g)))){this.I||4!=C||7==e||hp(),a_(this);var t=this.g.aa();this.Y=t;t:if(nC(this)){var i=bC(this.g);n="";var r=i.length,a=4==pl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qu(this),Gu(this);var u="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function bS(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hg(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Or(12),qu(this),Gu(this);break e}mh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,l_(this,t)}this.P?(hb(this,C,u),Qv&&this.i&&3==C&&(ob(this.S,this.T,"tick",this.hb),this.T.start())):(mh(this.j,this.m,u,null),l_(this,u)),4==C&&qu(this),this.i&&!this.I&&(4==C?IC(this.l,this):(this.i=!1,mp(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Or(12)):(this.o=0,Or(13)),qu(this),Gu(this)}}}catch{}},bt.hb=function(){if(this.g){var n=pl(this.g),e=this.g.fa();this.C<e.length&&(a_(this),hb(this,n,e),this.i&&4!=n&&mp(this))}},bt.cancel=function(){this.I=!0,qu(this)},bt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function pk(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(hp(),Or(17)),qu(this),this.o=2,Gu(this)):rC(this,this.V-n)};var sC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Wu){this.h=void 0!==e?e:n.h,c_(this,n.j),this.s=n.s,this.g=n.g,gp(this,n.m),this.l=n.l,e=n.i;var t=new yp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),fb(this,t),this.o=n.o}else n&&(t=String(n).match(sC))?(this.h=!!e,c_(this,t[1]||"",!0),this.s=bh(t[2]||""),this.g=bh(t[3]||"",!0),gp(this,t[4]),this.l=bh(t[5]||"",!0),fb(this,t[6]||"",!0),this.o=bh(t[7]||"")):(this.h=!!e,this.i=new yp(null,this.h))}function fl(n){return new Wu(n)}function c_(n,e,t){n.j=t?bh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function fb(n,e,t){e instanceof yp?(n.i=e,function uC(n,e){e&&!n.j&&(wc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(d_(this,i),_b(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=_p(e,lC)),n.i=new yp(e,n.h))}function qn(n,e,t){n.i.set(e,t)}function u_(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _p(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,IS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function IS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Wu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_p(e,aC,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_p(e,aC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(_p(t,"/"==t.charAt(0)?mb:pb,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_p(t,gb)),n.join("")};var aC=/[#\/\?@]/g,pb=/[#\?:]/g,mb=/[#\?]/g,lC=/[#\?@]/g,gb=/#/g;function yp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wc(n){n.g||(n.g=new Map,n.h=0,n.i&&function DS(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function d_(n,e){wc(n),e=Ns(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function cC(n,e){return wc(n),e=Ns(n,e),n.g.has(e)}function _b(n,e,t){d_(n,e),0<t.length&&(n.i=null,n.g.set(Ns(n,e),Ug(t)),n.h+=t.length)}function Ns(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function TS(n){this.l=n||dC,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ga&&zt.g.Ga()&&zt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(bt=yp.prototype).add=function(n,e){wc(this),this.i=null,n=Ns(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},bt.forEach=function(n,e){wc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},bt.oa=function(){wc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},bt.W=function(n){wc(this);let e=[];if("string"==typeof n)cC(this,n)&&(e=e.concat(this.g.get(Ns(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},bt.set=function(n,e){return wc(this),this.i=null,cC(this,n=Ns(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},bt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},bt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=a;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var dC=10;function h_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function hC(n){return n.h?1:n.g?n.g.size:0}function vp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function yb(n,e){n.g?n.g.add(e):n.h=e}function vb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function f_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ug(n.i)}function p_(){}function fC(){this.g=new p_}function pC(n,e,t){const i=t||"";try{oC(n,function(r,a){let u=r;ip(r)&&(u=Jg(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function m_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function bp(n){this.l=n.ac||null,this.j=n.jb||!1}function g_(n,e){Bi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=bb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}TS.prototype.cancel=function(){if(this.i=f_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},p_.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},p_.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},Ji(bp,ab),bp.prototype.g=function(){return new g_(this.l,this.j)},bp.prototype.i=function(n){return function(){return n}}({}),Ji(g_,Bi);var bb=0;function wb(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function __(n){n.readyState=4,n.l=null,n.j=null,n.A=null,wh(n)}function wh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(bt=g_.prototype).open=function(n,e){if(this.readyState!=bb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,wh(this)},bt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||zt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},bt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,__(this)),this.readyState=bb},bt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,wh(this)),this.g&&(this.readyState=3,wh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wb(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},bt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?__(this):wh(this),3==this.readyState&&wb(this)}},bt.Va=function(n){this.g&&(this.response=this.responseText=n,__(this))},bt.Ua=function(n){this.g&&(this.response=n,__(this))},bt.ga=function(){this.g&&__(this)},bt.setRequestHeader=function(n,e){this.v.append(n,e)},bt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},bt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(g_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var AS=zt.JSON.parse;function di(n){Bi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=MS,this.K=this.L=!1}Ji(di,Bi);var MS="",RS=/^https?$/i,kS=["POST","PUT"];function Eb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,_C(n),y_(n)}function _C(n){n.D||(n.D=!0,er(n,"complete"),er(n,"error"))}function yC(n){if(n.h&&typeof qv<"u"&&(!n.C[1]||4!=pl(n)||2!=n.aa()))if(n.v&&4==pl(n))zu(n.Ha,0,n);else if(er(n,"readystatechange"),4==pl(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(sC)[1]||null;if(!r&&zt.self&&zt.self.location){var a=zt.self.location.protocol;r=a.substr(0,a.length-1)}i=!RS.test(r?r.toLowerCase():"")}t=i}if(t)er(n,"complete"),er(n,"success");else{n.m=6;try{var u=2<pl(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",_C(n)}}finally{y_(n)}}}function y_(n,e){if(n.g){vC(n);const t=n.g,i=n.C[0]?np:null;n.g=null,n.C=null,e||er(n,"ready");try{t.onreadystatechange=i}catch{}}}function vC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function pl(n){return n.g?n.g.readyState:0}function bC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case MS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function wC(n){let e="";return bc(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Cb(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=wC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qn(n,e,t))}function ml(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xb(n){this.Ca=0,this.i=[],this.j=new i_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ml("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ml("baseRetryDelayMs",5e3,n),this.bb=ml("retryDelaySeedMs",1e4,n),this.$a=ml("forwardChannelMaxRetries",2,n),this.ta=ml("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new TS(n&&n.concurrentRequestLimit),this.Fa=new fC,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function v_(n){if(Db(n),3==n.G){var e=n.U++,t=fl(n.F);qn(t,"SID",n.I),qn(t,"RID",e),qn(t,"TYPE","terminate"),b_(n,t),(e=new vh(n,n.j,e,void 0)).K=2,e.v=u_(fl(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon&&(t=zt.navigator.sendBeacon(e.v.toString(),"")),!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Eh(e.l,null),e.g.da(e.v)),e.F=Date.now(),mp(e)}SC(n)}function wp(n){n.g&&(Tb(n),n.g.cancel(),n.g=null)}function Db(n){wp(n),n.u&&(zt.clearTimeout(n.u),n.u=null),Ec(n),n.h.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function Ep(n){h_(n.h)||n.m||(n.m=!0,WE(n.Ja,n),n.C=0)}function CC(n,e){var t;t=e?e.m:n.U++;const i=fl(n.F);qn(i,"SID",n.I),qn(i,"RID",t),qn(i,"AID",n.T),b_(n,i),n.o&&n.s&&Cb(i,n.o,n.s),t=new vh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=xC(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),yb(n.h,t),db(t,i,e)}function b_(n,e){n.ia&&bc(n.ia,function(t,i){qn(e,i,t)}),n.l&&oC({},function(t,i){qn(e,i,t)})}function xC(n,e,t){t=Math.min(n.i.length,t);var i=n.l?yr(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=r[_].h;const C=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{pC(C,u,"req"+b+"_")}catch{i&&i(C)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function Ib(n){n.g||n.u||(n.Z=1,WE(n.Ia,n),n.A=0)}function Sb(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=fp(yr(n.Ia,n),w_(n,n.A)),n.A++,0))}function Tb(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function DC(n){n.g=new vh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=fl(n.sa);qn(e,"RID","rpc"),qn(e,"SID",n.I),qn(e,"CI",n.L?"0":"1"),qn(e,"AID",n.T),qn(e,"TYPE","xmlhttp"),b_(n,e),n.o&&n.s&&Cb(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=u_(fl(e)),t.s=null,t.P=!0,s_(t,n)}function Ec(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function IC(n,e){var t=null;if(n.g==e){Ec(n),Tb(n),n.g=null;var i=2}else{if(!vp(n.h,e))return;t=e.D,vb(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;er(i=up(),new _h(i,t)),Ep(n)}else Ib(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function EC(n,e){return!(hC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=fp(yr(n.Ja,n,e),w_(n,n.C)),n.C++,0)))}(n,e)||2==i&&Sb(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Pr(n,5);break;case 4:Pr(n,10);break;case 3:Pr(n,6);break;default:Pr(n,2)}}function w_(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Pr(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=yr(n.kb,n);t||(t=new Wu("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||c_(t,"https"),u_(t)),function mC(n,e){const t=new i_;if(zt.Image){const i=new Image;i.onload=rp(m_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=rp(m_,t,i,"TestLoadImage: error",!1,e),i.onabort=rp(m_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=rp(m_,t,i,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Or(2);n.G=0,n.l&&n.l.va(e),SC(n),Db(n)}function SC(n){if(n.G=0,n.la=[],n.l){const e=f_(n.h);(0!=e.length||0!=n.i.length)&&(PE(n.la,e),PE(n.la,n.i),n.h.i.length=0,Ug(n.i),n.i.length=0),n.l.ua()}}function E_(n,e,t){var i=t instanceof Wu?fl(t):new Wu(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),gp(i,i.m);else{var r=zt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Wu(null,void 0);i&&c_(a,i),e&&(a.g=e),r&&gp(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&qn(i,t,e),qn(i,"VER",n.ma),b_(n,i),i}function Eh(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new di(t&&n.Da&&!n.ra?new bp({jb:!0}):n.ra)).Ka(n.H),e}function TC(){}function C_(){if(uh&&!(10<=Number(HE)))throw Error("Environmental error: no available transport.")}function Oo(n,e){Bi.call(this),this.g=new xb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Hg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ch(this)}function Cp(n){lb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xp(){cb.call(this),this.status=1}function Ch(n){this.g=n}(bt=di.prototype).Ka=function(n){this.L=n},bt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$u.g(),this.C=function ES(n){return n.h||(n.h=n.i())}(this.u?this.u:$u),this.g.onreadystatechange=yr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Eb(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=zt.FormData&&n instanceof zt.FormData,!(0<=Zv(kS,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vC(this),0<this.B&&((this.K=function gC(n){return uh&&function UE(){return function uS(n){var e=BE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=FE(String(zg)).split("."),t=FE("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Kv(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Kv(0==r[2].length,0==a[2].length)||Kv(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.qa,this)):this.A=zu(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Eb(this,a)}},bt.qa=function(){typeof qv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,er(this,"timeout"),this.abort(8))},bt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,er(this,"complete"),er(this,"abort"),y_(this))},bt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),y_(this,!0)),di.X.M.call(this)},bt.Ha=function(){this.s||(this.F||this.v||this.l?yC(this):this.fb())},bt.fb=function(){yC(this)},bt.aa=function(){try{return 2<pl(this)?this.g.status:-1}catch{return-1}},bt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},bt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),AS(e)}},bt.Ea=function(){return this.m},bt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(bt=xb.prototype).ma=8,bt.G=1,bt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new vh(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=pS(a),mS(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xC(this,r,e),qn(t=fl(this.F),"RID",n),qn(t,"CVER",22),this.D&&qn(t,"X-HTTP-Session-Id",this.D),b_(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(wC(a)))+"&"+e:this.o&&Cb(t,this.o,a)),yb(this.h,r),this.Ya&&qn(t,"TYPE","init"),this.O?(qn(t,"$req",e),qn(t,"SID","null"),r.Z=!0,db(r,t,null)):db(r,t,e),this.G=2}}else 3==this.G&&(n?CC(this,n):0==this.i.length||h_(this.h)||CC(this))},bt.Ia=function(){if(this.u=null,DC(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=fp(yr(this.eb,this),n)}},bt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Or(10),wp(this),DC(this))},bt.cb=function(){null!=this.v&&(this.v=null,wp(this),Sb(this),Or(19))},bt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Or(2)):(this.j.info("Failed to ping google.com"),Or(1))},(bt=TC.prototype).xa=function(){},bt.wa=function(){},bt.va=function(){},bt.ua=function(){},bt.Ra=function(){},C_.prototype.g=function(n,e){return new Oo(n,e)},Ji(Oo,Bi),Oo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Or(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=E_(n,null,n.V),Ep(n)},Oo.prototype.close=function(){v_(this.g)},Oo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Jg(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Ep(e)},Oo.prototype.M=function(){this.g.l=null,delete this.j,v_(this.g),delete this.g,Oo.X.M.call(this)},Ji(Cp,lb),Ji(xp,cb),Ji(Ch,TC),Ch.prototype.xa=function(){er(this.g,"a")},Ch.prototype.wa=function(n){er(this.g,new Cp(n))},Ch.prototype.va=function(n){er(this.g,new xp)},Ch.prototype.ua=function(){er(this.g,"b")},C_.prototype.createWebChannel=C_.prototype.g,Oo.prototype.send=Oo.prototype.u,Oo.prototype.open=Oo.prototype.m,Oo.prototype.close=Oo.prototype.close,r_.NO_ERROR=0,r_.TIMEOUT=8,r_.HTTP_ERROR=6,XE.COMPLETE="complete",JE.EventType=yh,yh.OPEN="a",yh.CLOSE="b",yh.ERROR="c",yh.MESSAGE="d",Bi.prototype.listen=Bi.prototype.N,di.prototype.listenOnce=di.prototype.O,di.prototype.getLastError=di.prototype.Oa,di.prototype.getLastErrorCode=di.prototype.Ea,di.prototype.getStatus=di.prototype.aa,di.prototype.getResponseJson=di.prototype.Sa,di.prototype.getResponseText=di.prototype.fa,di.prototype.send=di.prototype.da,di.prototype.setWithCredentials=di.prototype.Ka;var OS=dl.createWebChannelTransport=function(){return new C_},AC=dl.getStatEventTarget=function(){return up()},x_=dl.ErrorCode=r_,Ab=dl.EventType=XE,MC=dl.Event=gh,D_=dl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Mb=dl.FetchXmlHttpFactory=bp,Dp=dl.WebChannel=JE,Rb=dl.XhrIo=di;const I_="@firebase/firestore";class tr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tr.UNAUTHENTICATED=new tr(null),tr.GOOGLE_CREDENTIALS=new tr("google-credentials-uid"),tr.FIRST_PARTY=new tr("first-party-uid"),tr.MOCK_USER=new tr("mock-user");let xh="9.19.0";const Cc=new vc.Yd("@firebase/firestore");function kb(){return Cc.logLevel}function Pe(n,...e){if(Cc.logLevel<=vc.in.DEBUG){const t=e.map(S_);Cc.debug(`Firestore (${xh}): ${n}`,...t)}}function hi(n,...e){if(Cc.logLevel<=vc.in.ERROR){const t=e.map(S_);Cc.error(`Firestore (${xh}): ${n}`,...t)}}function Ls(n,...e){if(Cc.logLevel<=vc.in.WARN){const t=e.map(S_);Cc.warn(`Firestore (${xh}): ${n}`,...t)}}function S_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${xh}) INTERNAL ASSERTION FAILED: `+n;throw hi(e),new Error(e)}function Ct(n,e){n||at()}function Ye(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends hn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Fr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tr.UNAUTHENTICATED))}shutdown(){}}class PS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FS{constructor(e){this.t=e,this.currentUser=tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let u=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Si,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Si)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct("string"==typeof i.accessToken),new Fr(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new tr(e)}}class gk{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=tr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class _k{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new gk(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pb{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.T=t.token,new Ob(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function NS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class A_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=NS(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Gt(n,e){return n<e?-1:n>e?1:0}function Zu(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function OC(n){return n+"\0"}class Wn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wn.fromMillis(Date.now())}static fromDate(e){return Wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Wn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new Wn(0,0))}static max(){return new It(new Wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ku{constructor(e,t,i){void 0===t?t=0:t>e.length&&at(),void 0===i?i=e.length-t:i>e.length-t&&at(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ku.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ku?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends Ku{construct(e,t,i){return new un(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new un(t)}static emptyPath(){return new un([])}}const PC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends Ku{construct(e,t,i){return new jn(e,t,i)}static isValidIdentifier(e){return PC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Te(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Te(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Te(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Te(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(t)}static emptyPath(){return new jn([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(un.fromString(e))}static fromName(e){return new We(un.fromString(e).popFirst(5))}static empty(){return new We(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new un(e.slice()))}}class Fb{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function M_(n){return n.fields.find(e=>2===e.kind)}function Yu(n){return n.fields.filter(e=>2!==e.kind)}Fb.UNKNOWN_ID=-1;class gl{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ih{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ih(0,Po.min())}}function R_(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=It.fromTimestamp(1e9===i?new Wn(t+1,0):new Wn(t,i));return new Po(r,We.empty(),e)}function VS(n){return new Po(n.readTime,n.key,-1)}class Po{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Po(It.min(),We.empty(),-1)}static max(){return new Po(It.max(),We.empty(),-1)}}function NC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}const LC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xc(n){return k_.apply(this,arguments)}function k_(){return k_=(0,ve.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==LC)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),k_.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(r=>r?se.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new se((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(C=>{u[b]=C,++f,f===a&&i(u)},C=>r(C))}})}static doWhile(e,t){return new se((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class O_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Si,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Ip(e,t.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=P_(i.target.error);this.R.reject(new Ip(e,r))}}static open(e,t,i,r){try{return new O_(t,e.transaction(r,i))}catch(a){throw new Ip(t,a)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new UC(t)}}class rs{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===rs.S((0,hn.z$)())&&hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Qu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,hn.hl)())return!1;if(rs.C())return!0;const e=(0,hn.z$)(),t=rs.S(e),i=0<t&&t<10,r=rs.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Ip(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Te(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Te(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ip(e,f))},a.onupgradeneeded=u=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.M(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,ve.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const _=O_.open(a.db,e,u?"readonly":"readwrite",i),b=r(_).next(C=>(_.P(),C)).catch(C=>(_.abort(C),se.reject(C))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,C="FirebaseError"!==b.name&&f<3;if(Pe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),a.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class BC{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Qu(this.L.delete())}}class Ip extends Te{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Dc(n){return"IndexedDbTransactionError"===n.name}class UC{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Qu(i)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Qu(this.store.add(e))}get(e){return Qu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Qu(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Qu(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new se((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new se((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,u,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}X(e){const t=this.cursor({});return new se((i,r)=>{t.onerror=a=>{const u=P_(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}W(e,t){const i=[];return new se((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new BC(f),b=t(f.primaryKey,f.value,_);if(b instanceof se){const C=b.catch(M=>(_.done(),se.reject(M)));i.push(C)}_.isDone?r():null===_.K?f.continue():f.continue(_.K)}}).next(()=>se.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Qu(n){return new se((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=P_(i.target.error);t(r)}})}let Nb=!1;function P_(n){const e=rs.S((0,hn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Nb||(Nb=!0,setTimeout(()=>{throw i},0)),i}}return n}class HC{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Dc(i)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield xc(i)}yield t.et(6e4)}))}}class jC{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return se.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Pe("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,a)).next(f=>(Pe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=VS(a);NC(u,i)>0&&(i=u)}),new Po(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Fo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Sp(n){return null==n}function F_(n){return 0===n&&1/n==-1/0}function Lb(n){return"number"==typeof n&&Number.isInteger(n)&&!F_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ho(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=BS(e)),e=yk(n.get(t),e);return BS(e)}function yk(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function BS(n){return n+"\x01\x01"}function _l(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&at(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:at()}a=u+2}return new un(i)}const US=["userId","batchId"];function Vb(n,e){return[n,ho(e)]}function HS(n,e,t){return[n,ho(e),t]}const vk={},N_=["prefixPath","collectionGroup","readTime","documentId"],bk=["prefixPath","collectionGroup","documentId"],zC=["collectionGroup","readTime","prefixPath","documentId"],L_=["canonicalId","targetId"],$C=["targetId","path"],GC=["path","targetId"],wk=["collectionId","parent"],Bb=["indexId","uid"],qC=["uid","sequenceNumber"],jS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ek=["indexId","uid","orderedDocumentKey"],zS=["userId","collectionPath","documentId"],$S=["userId","collectionPath","largestBatchId"],GS=["userId","collectionGroup","largestBatchId"],Tp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qS=[...Tp,"documentOverlays"],WS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZS=WS,Ck=[...ZS,"indexConfiguration","indexState","indexEntries"];class Ub extends VC{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function nr(n,e){const t=Ye(n);return rs.O(t.at,e)}function WC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ei{constructor(e,t){this.comparator=e,this.root=t||Nr.EMPTY}insert(e,t){return new ei(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nr.BLACK,null,null))}remove(e){return new ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ap(this.root,e,this.comparator,!0)}}class Ap{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Nr.RED,this.left=r??Nr.EMPTY,this.right=a??Nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Nr(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Nr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}Nr.EMPTY=null,Nr.RED=!0,Nr.BLACK=!1,Nr.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Nr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new ei(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KC(this.data.getIterator())}getIteratorFrom(e){return new KC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class KC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ic(n){return n.hasNext()?n.getNext():void 0}class fo{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new fo([])}unionWith(e){let t=new nn(jn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new fo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class xk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new xk("Invalid base64 string: "+r):r}}(e);return new Ui(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Ui(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const Hb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sc(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=Hb.exec(n);if(Ct(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fi(n.seconds),nanos:fi(n.nanos)}}function fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function yl(n){return"string"==typeof n?Ui.fromBase64String(n):Ui.fromUint8Array(n)}function V_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function jb(n){const e=n.mapValue.fields.__previous_value__;return V_(e)?jb(e):e}function Mp(n){const e=Sc(n.mapValue.fields.__local_write_time__.timestampValue);return new Wn(e.seconds,e.nanos)}class YC{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class vl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}const Tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rp={nullValue:"NULL_VALUE"};function Xu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?V_(n)?4:KS(n)?9007199254740991:10:at()}function ss(n,e){if(n===e)return!0;const t=Xu(n);if(t!==Xu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mp(n).isEqual(Mp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Sc(i.timestampValue),u=Sc(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,yl(n.bytesValue).isEqual(yl(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return fi(i.geoPointValue.latitude)===fi(r.geoPointValue.latitude)&&fi(i.geoPointValue.longitude)===fi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return fi(i.integerValue)===fi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=fi(i.doubleValue),u=fi(r.doubleValue);return a===u?F_(a)===F_(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Zu(n.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(WC(a)!==WC(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!ss(a[f],u[f])))return!1;return!0}(n,e);default:return at()}var r}function No(n,e){return void 0!==(n.values||[]).find(t=>ss(t,e))}function Gr(n,e){if(n===e)return 0;const t=Xu(n),i=Xu(e);if(t!==i)return Gt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=fi(r.integerValue||r.doubleValue),f=fi(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return zb(n.timestampValue,e.timestampValue);case 4:return zb(Mp(n),Mp(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=yl(r),f=yl(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=Gt(u[_],f[_]);if(0!==b)return b}return Gt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Gt(fi(r.latitude),fi(a.latitude));return 0!==u?u:Gt(fi(r.longitude),fi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=Gr(u[_],f[_]);if(b)return b}return Gt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Tc.mapValue&&a===Tc.mapValue)return 0;if(r===Tc.mapValue)return 1;if(a===Tc.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let C=0;C<f.length&&C<b.length;++C){const M=Gt(f[C],b[C]);if(0!==M)return M;const P=Gr(u[f[C]],_[b[C]]);if(0!==P)return P}return Gt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw at()}}function zb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=Sc(n),i=Sc(e),r=Gt(t.seconds,i.seconds);return 0!==r?r:Gt(t.nanos,i.nanos)}function Ac(n){return B_(n)}function B_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Sc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?yl(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=B_(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${B_(i.fields[f])}`;return a+"}"}(n.mapValue):at();var e}function Ju(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function QC(n){return!!n&&"integerValue"in n}function kp(n){return!!n&&"arrayValue"in n}function XC(n){return!!n&&"nullValue"in n}function JC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function U_(n){return!!n&&"mapValue"in n}function Th(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sh(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Th(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Th(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KS(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ex(n){return"nullValue"in n?Rp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ju(vl.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function YS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ju(vl.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Tc:at()}function $b(n,e){const t=Gr(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function QS(n,e){const t=Gr(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!U_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Th(t)}setAll(e){let t=jn.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=Th(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());U_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];U_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Sh(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Ti(Th(this.value))}}function Gb(n){const e=[];return Sh(n.fields,(t,i)=>{const r=new jn([t]);if(U_(i)){const a=Gb(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new fo(e)}class Ln{constructor(e,t,i,r,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Ln(e,0,It.min(),It.min(),It.min(),Ti.empty(),0)}static newFoundDocument(e,t,i,r){return new Ln(e,1,t,It.min(),i,r,0)}static newNoDocument(e,t){return new Ln(e,2,t,It.min(),It.min(),Ti.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,It.min(),It.min(),Ti.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bl{constructor(e,t){this.position=e,this.inclusive=t}}function qb(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?We.comparator(We.fromName(u.referenceValue),t.key):Gr(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function Wb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ss(n.position[t],e.position[t]))return!1;return!0}class wl{constructor(e,t="asc"){this.field=e,this.dir=t}}function H_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Zb{}class ln extends Zb{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Dk(e,t,i):"array-contains"===t?new eT(e,i):"in"===t?new Pp(e,i):"not-in"===t?new tT(e,i):"array-contains-any"===t?new nT(e,i):new ln(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Ik(e,i):new Sk(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Gr(t,this.value)):null!==t&&Xu(this.value)===Xu(t)&&this.matchesComparison(Gr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class En extends Zb{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new En(e,t)}matches(e){return Op(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Op(n){return"and"===n.op}function tx(n){return"or"===n.op}function nx(n){return Kb(n)&&Op(n)}function Kb(n){for(const e of n.filters)if(e instanceof En)return!1;return!0}function Yb(n){if(n instanceof ln)return n.field.canonicalString()+n.op.toString()+Ac(n.value);if(nx(n))return n.filters.map(e=>Yb(e)).join(",");{const e=n.filters.map(t=>Yb(t)).join(",");return`${n.op}(${e})`}}function ix(n,e){return n instanceof ln?(t=n,(i=e)instanceof ln&&t.op===i.op&&t.field.isEqual(i.field)&&ss(t.value,i.value)):n instanceof En?function(t,i){return i instanceof En&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,u)=>r&&ix(a,i.filters[u]),!0)}(n,e):void at();var t,i}function rx(n,e){const t=n.filters.concat(e);return En.create(t,n.op)}function XS(n){return n instanceof ln?`${(e=n).field.canonicalString()} ${e.op} ${Ac(e.value)}`:n instanceof En?function(e){return e.op.toString()+" {"+e.getFilters().map(XS).join(" ,")+"}"}(n):"Filter";var e}class Dk extends ln{constructor(e,t,i){super(e,t,i),this.key=We.fromName(i.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ik extends ln{constructor(e,t){super(e,"in",t),this.keys=JS(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sk extends ln{constructor(e,t){super(e,"not-in",t),this.keys=JS(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function JS(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>We.fromName(i.referenceValue))}class eT extends ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kp(t)&&No(t.arrayValue,this.value)}}class Pp extends ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&No(this.value.arrayValue,t)}}class tT extends ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!No(this.value.arrayValue,t)}}class nT extends ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>No(this.value.arrayValue,i))}}class ox{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ft=null}}function El(n,e=null,t=[],i=[],r=null,a=null,u=null){return new ox(n,e,t,i,r,a,u)}function Mc(n){const e=Ye(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Yb(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Sp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ac(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ac(i)).join(",")),e.ft=t}return e.ft}function ed(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!H_(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ix(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wb(n.startAt,e.startAt)&&Wb(n.endAt,e.endAt)}function Ah(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function j_(n,e){return n.filters.filter(t=>t instanceof ln&&t.field.isEqual(e))}function z_(n,e,t){let i=Rp,r=!0;for(const a of j_(n,e)){let u=Rp,f=!0;switch(a.op){case"<":case"<=":u=ex(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=Rp}$b({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];$b({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function $_(n,e,t){let i=Tc,r=!0;for(const a of j_(n,e)){let u=Tc,f=!0;switch(a.op){case">=":case">":u=YS(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Tc}QS({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];QS({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class as{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.dt=null,this.wt=null}}function iT(n,e,t,i,r,a,u,f){return new as(n,e,t,i,r,a,u,f)}function Fp(n){return new as(n)}function rT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function sx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Np(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Qb(n){return null!==n.collectionGroup}function td(n){const e=Ye(n);if(null===e.dt){e.dt=[];const t=Np(e),i=sx(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new wl(t)),e.dt.push(new wl(jn.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new wl(jn.keyField(),a))}}}return e.dt}function qr(n){const e=Ye(n);if(!e.wt)if("F"===e.limitType)e.wt=El(e.path,e.collectionGroup,td(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of td(e))t.push(new wl(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new bl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new bl(e.startAt.position,e.startAt.inclusive):null;e.wt=El(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function Xb(n,e){e.getFirstInequalityField(),Np(n);const t=n.filters.concat([e]);return new as(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Lp(n,e,t){return new as(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mh(n,e){return ed(qr(n),qr(e))&&n.limitType===e.limitType}function Jb(n){return`${Mc(qr(n))}|lt:${n.limitType}`}function e0(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>XS(i)).join(", ")}]`),Sp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ac(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ac(i)).join(",")),`Target(${t})`}(qr(n))}; limitType=${n.limitType})`}function Vp(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):We.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of td(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=qb(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,td(t),i)||t.endAt&&!function(r,a,u){const f=qb(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,td(t),i)));var t,i}function t0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function G_(n){return(e,t)=>{let i=!1;for(const r of td(n)){const a=Tk(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function Tk(n,e,t){const i=n.field.isKeyField()?We.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Gr(f,_):at()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return at()}}class Cl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Sh(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return ZC(this.inner)}size(){return this.innerSize}}const n0=new ei(We.comparator);function po(){return n0}const ax=new ei(We.comparator);function q_(...n){let e=ax;for(const t of n)e=e.insert(t.key,t);return e}function oT(n){let e=ax;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ia(){return Bp()}function lx(){return Bp()}function Bp(){return new Cl(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ak=new ei(We.comparator),Mk=new nn(We.comparator);function en(...n){let e=Mk;for(const t of n)e=e.add(t);return e}const Rk=new nn(Gt);function W_(){return Rk}function sT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F_(e)?"-0":e}}function aT(n){return{integerValue:""+n}}function lT(n,e){return Lb(e)?aT(e):sT(n,e)}class r0{constructor(){this._=void 0}}function kk(n,e,t){return n instanceof s?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof l?d(n,e):n instanceof h?g(n,e):function(i,r){const a=o(i,r),u=E(a)+E(i._t);return QC(a)&&QC(i._t)?aT(u):sT(i.serializer,u)}(n,e)}function Ok(n,e,t){return n instanceof l?d(n,e):n instanceof h?g(n,e):t}function o(n,e){return n instanceof v?QC(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class s extends r0{}class l extends r0{constructor(e){super(),this.elements=e}}function d(n,e){const t=x(e);for(const i of n.elements)t.some(r=>ss(r,i))||t.push(i);return{arrayValue:{values:t}}}class h extends r0{constructor(e){super(),this.elements=e}}function g(n,e){let t=x(e);for(const i of n.elements)t=t.filter(r=>!ss(r,i));return{arrayValue:{values:t}}}class v extends r0{constructor(e,t){super(),this.serializer=e,this._t=t}}function E(n){return fi(n.integerValue||n.doubleValue)}function x(n){return kp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class T{constructor(e,t){this.field=e,this.transform=t}}class L{constructor(e,t){this.version=e,this.transformResults=t}}class ${constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $}static exists(e){return new $(void 0,e)}static updateTime(e){return new $(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function te(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ge{}function Ve(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Z_(n.key,$.none()):new Nt(n.key,n.data,$.none());{const t=n.data,i=Ti.empty();let r=new nn(jn.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new mn(n.key,i,new fo(r.toArray()),$.none())}}function Je(n,e,t){n instanceof Nt?function(i,r,a){const u=i.value.clone(),f=cT(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof mn?function(i,r,a){if(!te(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=cT(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(pi(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function lt(n,e,t,i){return n instanceof Nt?function(r,a,u,f){if(!te(r.precondition,a))return u;const _=r.value.clone(),b=Pk(r.fieldTransforms,f,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof mn?function(r,a,u,f){if(!te(r.precondition,a))return u;const _=Pk(r.fieldTransforms,f,a),b=a.data;return b.setAll(pi(r)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(u=t,te(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function Pt(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=o(i.transform,r||null);null!=a&&(null===t&&(t=Ti.empty()),t.set(i.field,a))}return t||null}function Oe(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Zu(t,i,(r,a)=>function k(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof l&&i instanceof l||t instanceof h&&i instanceof h?Zu(t.elements,i.elements,ss):t instanceof v&&i instanceof v?ss(t._t,i._t):t instanceof s&&i instanceof s);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Nt extends ge{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class mn extends ge{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pi(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function cT(n,e,t){const i=new Map;Ct(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,Ok(u,f,t[r]))}return i}function Pk(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,kk(a,u,e))}return i}class Z_ extends ge{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uT extends ge{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dT{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&Je(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=lt(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=lt(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=lx();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=Ve(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(It.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),en())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(t,i)=>Oe(t,i))&&Zu(this.baseMutations,e.baseMutations,(t,i)=>Oe(t,i))}}class hT{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ct(e.mutations.length===i.length);let r=Ak;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new hT(e,t,i,r)}}class fT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class IL{constructor(e){this.count=e}}var ir,gn;function Fk(n){switch(n){default:return at();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function Nk(n){if(void 0===n)return hi("GRPC error has no .code"),le.UNKNOWN;switch(n){case ir.OK:return le.OK;case ir.CANCELLED:return le.CANCELLED;case ir.UNKNOWN:return le.UNKNOWN;case ir.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case ir.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case ir.INTERNAL:return le.INTERNAL;case ir.UNAVAILABLE:return le.UNAVAILABLE;case ir.UNAUTHENTICATED:return le.UNAUTHENTICATED;case ir.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case ir.NOT_FOUND:return le.NOT_FOUND;case ir.ALREADY_EXISTS:return le.ALREADY_EXISTS;case ir.PERMISSION_DENIED:return le.PERMISSION_DENIED;case ir.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case ir.ABORTED:return le.ABORTED;case ir.OUT_OF_RANGE:return le.OUT_OF_RANGE;case ir.UNIMPLEMENTED:return le.UNIMPLEMENTED;case ir.DATA_LOSS:return le.DATA_LOSS;default:return at()}}(gn=ir||(ir={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class mT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return cx}static getOrCreateInstance(){return null===cx&&(cx=new mT),cx}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let cx=null;class o0{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,s0.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new o0(It.min(),r,W_(),po(),en())}}class s0{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new s0(i,t,en(),en(),en())}}class ux{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class Lk{constructor(e,t){this.targetId=e,this.Et=t}}class Vk{constructor(e,t,i=Ui.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Bk{constructor(){this.At=0,this.Rt=Hk(),this.vt=Ui.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=en(),t=en(),i=en();return this.Rt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:at()}}),new s0(this.vt,this.bt,e,t,i)}xt(){this.Pt=!1,this.Rt=Hk()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class SL{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=po(),this.qt=Uk(),this.Ut=new nn(Gt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const i=this.jt(t);switch(e.state){case 0:this.Wt(t)&&i.Dt(e.resumeToken);break;case 1:i.$t(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.$t(),i.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(i.Mt(),i.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.Wt(r)&&t(r)})}Jt(e){var t;const i=e.targetId,r=e.Et.count,a=this.Yt(i);if(a){const u=a.target;if(Ah(u))if(0===r){const f=new We(u.path);this.Qt(i,f,Ln.newNoDocument(f,It.min()))}else Ct(1===r);else{const f=this.Zt(i);f!==r&&(this.Ht(i),this.Ut=this.Ut.add(i),null===(t=mT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:f,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((a,u)=>{const f=this.Yt(u);if(f){if(a.current&&Ah(f.target)){const _=new We(f.target.path);null!==this.Lt.get(_)||this.te(u,_)||this.Qt(u,_,Ln.newNoDocument(_,e))}a.St&&(t.set(u,a.Ct()),a.xt())}});let i=en();this.qt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.Yt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Lt.forEach((a,u)=>u.setReadTime(e));const r=new o0(e,t,this.Ut,this.Lt,i);return this.Lt=po(),this.qt=Uk(),this.Ut=new nn(Gt),r}Gt(e,t){if(!this.Wt(e))return;const i=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.Wt(e))return;const r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new Bk,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new nn(Gt),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Bk),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function Uk(){return new ei(We.comparator)}function Hk(){return new ei(We.comparator)}const TL={asc:"ASCENDING",desc:"DESCENDING"},AL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ML={and:"AND",or:"OR"};class RL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function K_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kL(n,e){return K_(n,e.toTimestamp())}function Hi(n){return Ct(!!n),It.fromTimestamp(function(e){const t=Sc(e);return new Wn(t.seconds,t.nanos)}(n))}function gT(n,e){return(t=n,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function zk(n){const e=un.fromString(n);return Ct(Xk(e)),e}function a0(n,e){return gT(n.databaseId,e.path)}function Rc(n,e){const t=zk(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(Gk(t))}function _T(n,e){return gT(n.databaseId,e)}function $k(n){const e=zk(n);return 4===e.length?un.emptyPath():Gk(e)}function l0(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Gk(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qk(n,e,t){return{name:a0(n,e),fields:t.value.mapValue.fields}}function Wk(n,e,t){const i=Rc(n,e.name),r=Hi(e.updateTime),a=e.createTime?Hi(e.createTime):It.min(),u=new Ti({mapValue:{fields:e.fields}}),f=Ln.newFoundDocument(i,r,a,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function c0(n,e){let t;if(e instanceof Nt)t={update:qk(n,e.key,e.value)};else if(e instanceof Z_)t={delete:a0(n,e.key)};else if(e instanceof mn)t={update:qk(n,e.key,e.data),updateMask:UL(e.fieldMask)};else{if(!(e instanceof uT))return at();t={verify:a0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof s)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof l)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof h)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof v)return{fieldPath:a.field.canonicalString(),increment:u._t};throw at()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:kL(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:at()),t;var r}function yT(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?$.updateTime(Hi(r.updateTime)):void 0!==r.exists?$.exists(r.exists):$.none():$.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(Ct("REQUEST_TIME"===u.setToServerValue),f=new s):"appendMissingElements"in u?f=new l(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new h(u.removeAllFromArray.values||[]):"increment"in u?f=new v(a,u.increment):at();const _=jn.fromServerFormat(u.fieldPath);return new T(_,f)}(n,r)):[];var r;if(e.update){const r=Rc(n,e.update.name),a=new Ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new fo((e.updateMask.fieldPaths||[]).map(b=>jn.fromServerFormat(b)));return new mn(r,a,u,t,i)}return new Nt(r,a,t,i)}if(e.delete){const r=Rc(n,e.delete);return new Z_(r,t)}if(e.verify){const r=Rc(n,e.verify);return new uT(r,t)}return at()}function Zk(n,e){return{documents:[_T(n,e.path)]}}function vT(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=_T(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=_T(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return Qk(En.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:Rh((C=b).field),direction:LL(C.dir)};var C})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(b=e.limit,n.useProto3Json||Sp(b)?b:{value:b});var b,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Kk(n){let e=$k(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ct(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let a=[];t.where&&(a=function(C){const M=Yk(C);return M instanceof En&&nx(M)?M.getFilters():[M]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(C=>{return new wl(Y_((M=C).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(C){let M;return M="object"==typeof C?C.value:C,Sp(M)?null:M}(t.limit));let _=null;var C;t.startAt&&(_=new bl((C=t.startAt).values||[],!!C.before));let b=null;return t.endAt&&(b=function(C){return new bl(C.values||[],!C.before)}(t.endAt)),iT(e,r,u,a,f,"F",_,b)}function Yk(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Y_(e.unaryFilter.field);return ln.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Y_(e.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Y_(e.unaryFilter.field);return ln.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Y_(e.unaryFilter.field);return ln.create(a,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):void 0!==n.fieldFilter?ln.create(Y_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return En.create(e.compositeFilter.filters.map(t=>Yk(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return at()}}(e.compositeFilter.op))}(n):at();var e}function LL(n){return TL[n]}function VL(n){return AL[n]}function BL(n){return ML[n]}function Rh(n){return{fieldPath:n.canonicalString()}}function Y_(n){return jn.fromServerFormat(n.fieldPath)}function Qk(n){return n instanceof ln?function(e){if("=="===e.op){if(JC(e.value))return{unaryFilter:{field:Rh(e.field),op:"IS_NAN"}};if(XC(e.value))return{unaryFilter:{field:Rh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(JC(e.value))return{unaryFilter:{field:Rh(e.field),op:"IS_NOT_NAN"}};if(XC(e.value))return{unaryFilter:{field:Rh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rh(e.field),op:VL(e.op),value:e.value}}}(n):n instanceof En?function(e){const t=e.getFilters().map(i=>Qk(i));return 1===t.length?t[0]:{compositeFilter:{op:BL(e.op),filters:t}}}(n):at()}function UL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class kh{constructor(e,t,i,r,a=It.min(),u=It.min(),f=Ui.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new kh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new kh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new kh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Jk{constructor(e){this.se=e}}function eO(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:dx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:a0(r=n.se,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:K_(r,a.version.toTimestamp()),createTime:K_(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Up(e.version)};else{if(!e.isUnknownDocument())return at();i.unknownDocument={path:t.path.toArray(),version:Up(e.version)}}var r,a;return i}function dx(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Up(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Hp(n){const e=new Wn(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function jp(n,e){const t=(e.baseMutations||[]).map(a=>yT(n.se,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const i=e.mutations.map(a=>yT(n.se,a)),r=Wn.fromMillis(e.localWriteTimeMs);return new dT(e.batchId,r,t,i)}function u0(n){const e=Hp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Hp(n.lastLimboFreeSnapshotVersion):It.min();let i;var r;return void 0!==n.query.documents?(Ct(1===(r=n.query).documents.length),i=qr(Fp($k(r.documents[0])))):i=qr(Kk(n.query)),new kh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Ui.fromBase64String(n.resumeToken))}function tO(n,e){const t=Up(e.snapshotVersion),i=Up(e.lastLimboFreeSnapshotVersion);let r;r=Ah(e.target)?Zk(n.se,e.target):vT(n.se,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Mc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function bT(n){const e=Kk({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Lp(e,e.limit,"L"):e}function wT(n,e){return new fT(e.largestBatchId,yT(n.se,e.overlayMutation))}function nO(n,e){const t=e.path.lastSegment();return[n,ho(e.path.popLast()),t]}function iO(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Up(i.readTime),documentKey:ho(i.documentKey.path),largestBatchId:i.largestBatchId}}class jL{getBundleMetadata(e,t){return rO(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Hp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return rO(e).put({bundleId:(i=t).id,createTime:Up(Hi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return oO(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:bT(r.bundledQuery),readTime:Hp(r.readTime)};var r})}saveNamedQuery(e,t){return oO(e).put({name:(i=t).name,readTime:Up(Hi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function rO(n){return nr(n,"bundles")}function oO(n){return nr(n,"namedQueries")}class hx{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new hx(e,t.uid||"")}getOverlay(e,t){return d0(e).get(nO(this.userId,t)).next(i=>i?wT(this.serializer,i):null)}getOverlays(e,t){const i=Ia();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new fT(t,u);r.push(this.re(e,f))}),se.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(ho(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(d0(e).J("collectionPathOverlayIndex",f))}),se.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Ia(),a=ho(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return d0(e).j("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=wT(this.serializer,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Ia();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return d0(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,b,C)=>{const M=wT(this.serializer,b);a.size()<r||M.largestBatchId===u?(a.set(M.getKey(),M),u=M.largestBatchId):C.done()}).next(()=>a)}re(e,t){return d0(e).put(function(i,r,a){const[u,f,_]=nO(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:c0(i.se,a.mutation)}}(this.serializer,this.userId,t))}}function d0(n){return nr(n,"documentOverlays")}class zp{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(fi(e.integerValue));else if("doubleValue"in e){const i=fi(e.doubleValue);isNaN(i)?this.ae(t,13):(this.ae(t,15),F_(i)?t.he(0):t.he(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ae(t,20),"string"==typeof i?t.le(i):(t.le(`${i.seconds||""}`),t.he(i.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(yl(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?KS(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):at()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const i=e.fields||{};this.ae(t,55);for(const r of Object.keys(i))this.fe(r,t),this.ue(i[r],t)}ge(e,t){const i=e.values||[];this.ae(t,50);for(const r of i)this.ue(r,t)}_e(e,t){this.ae(t,37),We.fromName(e).path.forEach(i=>{this.ae(t,60),this.ye(i,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function zL(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function sO(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=zL(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}zp.pe=new zp;class $L{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Te(i.value),i=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Re(i.value),i=t.next();this.ve()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{const r=t.codePointAt(0);this.Te(240|r>>>18),this.Te(128|63&r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r)}}this.Ee()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=t.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.ve()}Ve(e){const t=this.Se(e),i=sO(t);this.De(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ce(e){const t=this.Se(e),i=sO(t);this.De(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class GL{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class qL{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class h0{constructor(){this.Me=new $L,this.Fe=new GL(this.Me),this.Be=new qL(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class $p{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new $p(this.indexId,this.documentKey,this.arrayValue,i)}}function Oh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=aO(n.arrayValue,e.arrayValue),0!==t?t:(t=aO(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function aO(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class WL{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ge=i:this.Ke.push(i)}}Qe(e){Ct(e.collectionGroup===this.collectionId);const t=M_(e);if(void 0!==t&&!this.ze(t))return!1;const i=Yu(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ge){const u=i[r];if(!this.je(this.Ge,u)||!this.We(this.Ue[a++],u))return!1;++r}for(;r<i.length;++r)if(a>=this.Ue.length||!this.We(this.Ue[a++],i[r]))return!1;return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function lO(n){var e,t;if(Ct(n instanceof ln||n instanceof En),n instanceof ln){if(n instanceof Pp){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>ln.create(n.field,"==",a)))||[];return En.create(r,"or")}return n}const i=n.filters.map(r=>lO(r));return En.create(i,n.op)}function ZL(n){if(0===n.getFilters().length)return[];const e=xT(lO(n));return Ct(cO(e)),ET(e)||CT(e)?[e]:e.getFilters()}function ET(n){return n instanceof ln}function CT(n){return n instanceof En&&nx(n)}function cO(n){return ET(n)||CT(n)||function(e){if(e instanceof En&&tx(e)){for(const t of e.getFilters())if(!ET(t)&&!CT(t))return!1;return!0}return!1}(n)}function xT(n){if(Ct(n instanceof ln||n instanceof En),n instanceof ln)return n;if(1===n.filters.length)return xT(n.filters[0]);const e=n.filters.map(i=>xT(i));let t=En.create(e,n.op);return t=fx(t),cO(t)?t:(Ct(t instanceof En),Ct(Op(t)),Ct(t.filters.length>1),t.filters.reduce((i,r)=>DT(i,r)))}function DT(n,e){let t;return Ct(n instanceof ln||n instanceof En),Ct(e instanceof ln||e instanceof En),t=n instanceof ln?e instanceof ln?En.create([n,e],"and"):uO(n,e):e instanceof ln?uO(e,n):function(i,r){if(Ct(i.filters.length>0&&r.filters.length>0),Op(i)&&Op(r))return rx(i,r.getFilters());const a=tx(i)?i:r,u=tx(i)?r:i,f=a.filters.map(_=>DT(_,u));return En.create(f,"or")}(n,e),fx(t)}function uO(n,e){if(Op(e))return rx(e,n.getFilters());{const t=e.filters.map(i=>DT(n,i));return En.create(t,"or")}}function fx(n){if(Ct(n instanceof ln||n instanceof En),n instanceof ln)return n;const e=n.getFilters();if(1===e.length)return fx(e[0]);if(Kb(n))return n;const t=e.map(r=>fx(r)),i=[];return t.forEach(r=>{r instanceof ln?i.push(r):r instanceof En&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:En.create(i,n.op)}class KL{constructor(){this.He=new IT}addToCollectionParentIndex(e,t){return this.He.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Po.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class IT{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new nn(un.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new nn(un.comparator)).toArray()}}const px=new Uint8Array(0);class YL{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new IT,this.Ye=new Cl(i=>Mc(i),(i,r)=>ed(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const a={collectionId:i,parent:ho(r)};return dO(e).put(a)}return se.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[OC(t),""],!1,!0);return dO(e).j(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(_l(u.parent))}return i})}addFieldIndex(e,t){const i=mx(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=p0(e);return a.next(f=>{u.put(iO(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=mx(e),r=p0(e),a=f0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=f0(e);let r=!0;const a=new Map;return se.forEach(this.Ze(t),u=>this.Xe(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=en();const f=[];return se.forEach(a,(_,b)=>{var C;Pe("IndexedDbIndexManager",`Using index ${C=_,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(pt=>`${pt.fieldPath}:${pt.kind}`).join(",")}`} to execute ${Mc(t)}`);const M=function(pt,Dt){const qt=M_(Dt);if(void 0===qt)return null;for(const Kt of j_(pt,qt.fieldPath))switch(Kt.op){case"array-contains-any":return Kt.value.arrayValue.values||[];case"array-contains":return[Kt.value]}return null}(b,_),P=function(pt,Dt){const qt=new Map;for(const Kt of Yu(Dt))for(const Cn of j_(pt,Kt.fieldPath))switch(Cn.op){case"==":case"in":qt.set(Kt.fieldPath.canonicalString(),Cn.value);break;case"not-in":case"!=":return qt.set(Kt.fieldPath.canonicalString(),Cn.value),Array.from(qt.values())}return null}(b,_),B=function(pt,Dt){const qt=[];let Kt=!0;for(const Cn of Yu(Dt)){const Br=0===Cn.kind?z_(pt,Cn.fieldPath,pt.startAt):$_(pt,Cn.fieldPath,pt.startAt);qt.push(Br.value),Kt&&(Kt=Br.inclusive)}return new bl(qt,Kt)}(b,_),q=function(pt,Dt){const qt=[];let Kt=!0;for(const Cn of Yu(Dt)){const Br=0===Cn.kind?$_(pt,Cn.fieldPath,pt.endAt):z_(pt,Cn.fieldPath,pt.endAt);qt.push(Br.value),Kt&&(Kt=Br.inclusive)}return new bl(qt,Kt)}(b,_),J=this.tn(_,b,B),ce=this.tn(_,b,q),qe=this.en(_,b,P),gt=this.nn(_.indexId,M,J,B.inclusive,ce,q.inclusive,qe);return se.forEach(gt,pt=>i.H(pt,t.limit).next(Dt=>{Dt.forEach(qt=>{const Kt=We.fromSegments(qt.documentKey);u.has(Kt)||(u=u.add(Kt),f.push(Kt))})}))}).next(()=>f)}return se.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:ZL(En.create(e.filters,"and")).map(i=>El(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),b=_/(null!=t?t.length:1),C=[];for(let M=0;M<_;++M){const P=t?this.sn(t[M/b]):px,B=this.rn(e,P,i[M%b],r),q=this.on(e,P,a[M%b],u),J=f.map(ce=>this.rn(e,P,ce,!0));C.push(...this.createRange(B,q,J))}return C}rn(e,t,i,r){const a=new $p(e,We.empty(),t,i);return r?a:a.qe()}on(e,t,i,r){const a=new $p(e,We.empty(),t,i);return r?a.qe():a}Xe(e,t){const i=new WL(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.Qe(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;const r=this.Ze(t);return se.forEach(r,a=>this.Xe(e,a).next(u=>{u?0!==i&&u.fields.length<function(f){let _=new nn(jn.comparator),b=!1;for(const C of f.filters)for(const M of C.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?b=!0:_=_.add(M.field));for(const C of f.orderBy)C.field.isKeyField()||(_=_.add(C.field));return _.size+(b?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}un(e,t){const i=new h0;for(const r of Yu(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.Le(r.kind);zp.pe.oe(a,u)}return i.$e()}sn(e){const t=new h0;return zp.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const i=new h0;return zp.pe.oe(Ju(this.databaseId,t),i.Le(function(r){const a=Yu(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}en(e,t,i){if(null===i)return[];let r=[];r.push(new h0);let a=0;for(const u of Yu(e)){const f=i[a++];for(const _ of r)if(this.an(t,u.fieldPath)&&kp(f))r=this.hn(r,u,f);else{const b=_.Le(u.kind);zp.pe.oe(f,b)}}return this.ln(r)}tn(e,t,i){return this.en(e,t,i.position)}ln(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}hn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new h0;_.seed(f.$e()),zp.pe.oe(u,_.Le(t.kind)),a.push(_)}return a}an(e,t){return!!e.filters.find(i=>i instanceof ln&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=mx(e),r=p0(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const u=[];return se.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(b,C){const M=C?new Ih(C.sequenceNumber,new Po(Hp(C.readTime),new We(_l(C.documentKey)),C.largestBatchId)):Ih.empty(),P=b.fields.map(([B,q])=>new gl(jn.fromServerFormat(B),q));return new Fb(b.indexId,b.collectionGroup,P,M)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Gt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=mx(e),a=p0(e);return this.fn(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>se.forEach(f,_=>a.put(iO(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return se.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?se.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),se.forEach(f,_=>this.dn(e,r,_).next(b=>{const C=this.wn(a,_);return b.isEqual(C)?se.resolve():this._n(e,a,_,b,C)}))))})}mn(e,t,i,r){return f0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(i,t.key),documentKey:t.key.path.toArray()})}gn(e,t,i,r){return f0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(i,t.key),t.key.path.toArray()])}dn(e,t,i){const r=f0(e);let a=new nn(Oh);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.cn(i,t)])},(u,f)=>{a=a.add(new $p(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}wn(e,t){let i=new nn(Oh);const r=this.un(t,e);if(null==r)return i;const a=M_(t);if(null!=a){const u=e.data.field(a.fieldPath);if(kp(u))for(const f of u.arrayValue.values||[])i=i.add(new $p(t.indexId,e.key,this.sn(f),r))}else i=i.add(new $p(t.indexId,e.key,px,r));return i}_n(e,t,i,r,a){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,b,C,M){const P=f.getIterator(),B=_.getIterator();let q=Ic(P),J=Ic(B);for(;q||J;){let ce=!1,qe=!1;if(q&&J){const gt=b(q,J);gt<0?qe=!0:gt>0&&(ce=!0)}else null!=q?qe=!0:ce=!0;ce?(C(J),J=Ic(B)):qe?(M(q),q=Ic(P)):(q=Ic(P),J=Ic(B))}}(r,a,Oh,f=>{u.push(this.mn(e,t,i,f))},f=>{u.push(this.gn(e,t,i,f))}),se.waitFor(u)}fn(e){let t=1;return p0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>Oh(u,f)).filter((u,f,_)=>!f||0!==Oh(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=Oh(u,e),_=Oh(u,t);if(0===f)r[0]=e.qe();else if(f>0&&_<0)r.push(u),r.push(u.qe());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2){if(this.yn(r[u],r[u+1]))return[];a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,px,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,px,[]]))}return a}yn(e,t){return Oh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(hO)}getMinOffset(e,t){return se.mapArray(this.Ze(t),i=>this.Xe(e,i).next(r=>r||at())).next(hO)}}function dO(n){return nr(n,"collectionParents")}function f0(n){return nr(n,"indexEntries")}function mx(n){return nr(n,"indexConfiguration")}function p0(n){return nr(n,"indexState")}function hO(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;NC(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Po(e.readTime,e.documentKey,t)}const fO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ls{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ls(e,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function pO(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.Z({range:u},(C,M,P)=>(f++,P.delete()));a.push(_.next(()=>{Ct(1===f)}));const b=[];for(const C of t.mutations){const M=HS(e,C.key.path,t.batchId);a.push(r.delete(M)),b.push(C.key)}return se.waitFor(a).next(()=>b)}function gx(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}ls.DEFAULT_COLLECTION_PERCENTILE=10,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ls.DEFAULT=new ls(41943040,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ls.DISABLED=new ls(-1,0,0);class _x{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.pn={}}static ie(e,t,i,r){Ct(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new _x(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ph(e).Z({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Q_(e),u=Ph(e);return u.add({}).next(f=>{Ct("number"==typeof f);const _=new dT(f,t,i,r),b=function(P,B,q){const J=q.baseMutations.map(qe=>c0(P.se,qe)),ce=q.mutations.map(qe=>c0(P.se,qe));return{userId:B,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:J,mutations:ce}}(this.serializer,this.userId,_),C=[];let M=new nn((P,B)=>Gt(P.canonicalString(),B.canonicalString()));for(const P of r){const B=HS(this.userId,P.key.path,f);M=M.add(P.key.path.popLast()),C.push(u.put(b)),C.push(a.put(B,vk))}return M.forEach(P=>{C.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.pn[f]=_.keys()}),se.waitFor(C).next(()=>_)})}lookupMutationBatch(e,t){return Ph(e).get(t).next(i=>i?(Ct(i.userId===this.userId),jp(this.serializer,i)):null)}In(e,t){return this.pn[t]?se.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.pn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Ph(e).Z({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(Ct(f.batchId>=i),a=jp(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ph(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ph(e).j("userMutationsIndex",t).next(i=>i.map(r=>jp(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Vb(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Q_(e).Z({range:r},(u,f,_)=>{const[b,C,M]=u,P=_l(C);if(b===this.userId&&t.path.isEqual(P))return Ph(e).get(M).next(B=>{if(!B)throw at();Ct(B.userId===this.userId),a.push(jp(this.serializer,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(Gt);const r=[];return t.forEach(a=>{const u=Vb(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Q_(e).Z({range:f},(b,C,M)=>{const[P,B,q]=b,J=_l(B);P===this.userId&&a.path.isEqual(J)?i=i.add(q):M.done()});r.push(_)}),se.waitFor(r).next(()=>this.Tn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=Vb(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new nn(Gt);return Q_(e).Z({range:u},(_,b,C)=>{const[M,P,B]=_,q=_l(P);M===this.userId&&i.isPrefixOf(q)?q.length===r&&(f=f.add(B)):C.done()}).next(()=>this.Tn(e,f))}Tn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Ph(e).get(a).next(u=>{if(null===u)throw at();Ct(u.userId===this.userId),i.push(jp(this.serializer,u))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return pO(e.at,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Q_(e).Z({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=_l(a[1]);r.push(_)}else f.done()}).next(()=>{Ct(0===r.length)})})}containsKey(e,t){return mO(e,this.userId,t)}An(e){return gO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mO(n,e,t){const i=Vb(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return Q_(n).Z({range:a,Y:!0},(f,_,b)=>{const[C,M,P]=f;C===e&&M===r&&(u=!0),b.done()}).next(()=>u)}function Ph(n){return nr(n,"mutations")}function Q_(n){return nr(n,"documentMutations")}function gO(n){return nr(n,"mutationQueues")}class Gp{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Gp(0)}static bn(){return new Gp(-1)}}class QL{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const i=new Gp(t.highestTargetId);return t.highestTargetId=i.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>It.fromTimestamp(new Wn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Vn(e,r)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(i=>(i.targetCount+=1,this.Dn(t,i),this.Vn(e,i))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>X_(e).delete(t.targetId)).next(()=>this.Pn(e)).next(i=>(Ct(i.targetCount>0),i.targetCount-=1,this.Vn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return X_(e).Z((u,f)=>{const _=u0(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>se.waitFor(a)).next(()=>r)}forEachTarget(e,t){return X_(e).Z((i,r)=>{const a=u0(r);t(a)})}Pn(e){return _O(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}Vn(e,t){return _O(e).put("targetGlobalKey",t)}Sn(e,t){return X_(e).put(tO(this.serializer,t))}Dn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Mc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return X_(e).Z({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const b=u0(f);ed(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Fh(e);return t.forEach(u=>{const f=ho(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),se.waitFor(r)}removeMatchingKeys(e,t,i){const r=Fh(e);return se.forEach(t,a=>{const u=ho(a.path);return se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Fh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Fh(e);let a=en();return r.Z({range:i,Y:!0},(u,f,_)=>{const b=_l(u[1]),C=new We(b);a=a.add(C)}).next(()=>a)}containsKey(e,t){const i=ho(t.path),r=IDBKeyRange.bound([i],[OC(i)],!1,!0);let a=0;return Fh(e).Z({index:"documentTargetsIndex",Y:!0,range:r},([u,f],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}ne(e,t){return X_(e).get(t).next(i=>i?u0(i):null)}}function X_(n){return nr(n,"targets")}function _O(n){return nr(n,"targetGlobal")}function Fh(n){return nr(n,"targetDocuments")}function yO([n,e],[t,i]){const r=Gt(n,t);return 0===r?Gt(e,i):r}class XL{constructor(e){this.Cn=e,this.buffer=new nn(yO),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();yO(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JL{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Dc(i)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield xc(i)}yield t.$n(3e5)}))}}class e2{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return se.resolve(Fo.ct);const i=new XL(t);return this.Mn.forEachTarget(e,r=>i.kn(r.sequenceNumber)).next(()=>this.Mn.Bn(e,r=>i.kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Mn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(fO)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fO):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let i,r,a,u,f,_,b;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(e,r))).next(M=>(i=M,f=Date.now(),this.removeTargets(e,i,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(M=>(b=Date.now(),kb()<=vc.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-C}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:M})))}}class t2{constructor(e,t){this.db=e,this.garbageCollector=new e2(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Bn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(i,r)=>t(r))}addReference(e,t,i){return yx(e,i)}removeReference(e,t,i){return yx(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return yx(e,t)}Kn(e,t){return function(i,r){let a=!1;return gO(i).X(u=>mO(i,u,r).next(f=>(f&&(a=!0),se.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Un(e,(u,f)=>{if(f<=t){const _=this.Kn(e,u).next(b=>{if(!b)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,It.min()),Fh(e).delete([0,ho(u.path)])))});r.push(_)}}).next(()=>se.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return yx(e,t)}Un(e,t){const i=Fh(e);let r,a=Fo.ct;return i.Z({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(a!==Fo.ct&&t(new We(_l(r)),a),a=b,r=_):a=Fo.ct}).next(()=>{a!==Fo.ct&&t(new We(_l(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yx(n,e){return Fh(n).put((i=n.currentSequenceNumber,{targetId:0,path:ho(e.path),sequenceNumber:i}));var i}class vO{constructor(){this.changes=new Cl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class n2{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return qp(e).put(i)}removeEntry(e,t,i){return qp(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],dx(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Gn(e,i)))}getEntry(e,t){let i=Ln.newInvalidDocument(t);return qp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(m0(t))},(r,a)=>{i=this.Qn(t,a)}).next(()=>i)}zn(e,t){let i={size:0,document:Ln.newInvalidDocument(t)};return qp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(m0(t))},(r,a)=>{i={document:this.Qn(t,a),size:gx(a)}}).next(()=>i)}getEntries(e,t){let i=po();return this.jn(e,t,(r,a)=>{const u=this.Qn(r,a);i=i.insert(r,u)}).next(()=>i)}Wn(e,t){let i=po(),r=new ei(We.comparator);return this.jn(e,t,(a,u)=>{const f=this.Qn(a,u);i=i.insert(a,f),r=r.insert(a,gx(u))}).next(()=>({documents:i,Hn:r}))}jn(e,t,i){if(t.isEmpty())return se.resolve();let r=new nn(CO);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(m0(r.first()),m0(r.last())),u=r.getIterator();let f=u.getNext();return qp(e).Z({index:"documentKeyIndex",range:a},(_,b,C)=>{const M=We.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&CO(f,M)<0;)i(f,null),f=u.getNext();f&&f.isEqual(M)&&(i(f,b),f=u.hasNext()?u.getNext():null),f?C.G(m0(f)):C.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),dx(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qp(e).j(IDBKeyRange.bound(u,f,!0)).next(_=>{let b=po();for(const C of _){const M=this.Qn(We.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);M.isFoundDocument()&&(Vp(t,M)||r.has(M.key))&&(b=b.insert(M.key,M))}return b})}getAllFromCollectionGroup(e,t,i,r){let a=po();const u=EO(t,i),f=EO(t,Po.max());return qp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,C)=>{const M=this.Qn(We.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(M.key,M),a.size===r&&C.done()}).next(()=>a)}newChangeBuffer(e){return new r2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return wO(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Gn(e,t){return wO(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const i=function HL(n,e){let t;if(e.document)t=Wk(n.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=We.fromSegments(e.noDocument.path),r=Hp(e.noDocument.readTime);t=Ln.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const i=We.fromSegments(e.unknownDocument.path),r=Hp(e.unknownDocument.version);t=Ln.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Wn(i[0],i[1]);return It.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(It.min()))return i}return Ln.newInvalidDocument(e)}}function bO(n){return new n2(n)}class r2 extends vO{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new Cl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new nn((a,u)=>Gt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Yn.get(a);if(t.push(this.Jn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=eO(this.Jn.serializer,u);r=r.add(a.path.popLast());const b=gx(_);i+=b-f.size,t.push(this.Jn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=eO(this.Jn.serializer,u.convertToNoDocument(It.min()));t.push(this.Jn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Jn.updateMetadata(e,i)),se.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(i=>(this.Yn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:i,Hn:r})=>(r.forEach((a,u)=>{this.Yn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function wO(n){return nr(n,"remoteDocumentGlobal")}function qp(n){return nr(n,"remoteDocumentsV14")}function m0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function EO(n,e){const t=e.documentKey.path.toArray();return[n,dx(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function CO(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Gt(t[a],i[a]),r)return r;return r=Gt(t.length,i.length),r||(r=Gt(t[t.length-2],i[i.length-2]),r||Gt(t[t.length-1],i[i.length-1]))}class o2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class xO{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&lt(i.mutation,r,fo.empty(),Wn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,en()).next(()=>i))}getLocalViewOfDocuments(e,t,i=en()){const r=Ia();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=q_();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Ia();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,en()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=po();const u=Bp(),f=Bp();return t.forEach((_,b)=>{const C=i.get(b.key);r.has(b.key)&&(void 0===C||C.mutation instanceof mn)?a=a.insert(b.key,b):void 0!==C?(u.set(b.key,C.mutation.getFieldMask()),lt(C.mutation,b,C.mutation.getFieldMask(),Wn.now())):u.set(b.key,fo.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,C)=>u.set(b,C)),t.forEach((b,C)=>{var M;return f.set(b,new o2(C,null!==(M=u.get(b))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Bp();let r=new ei((u,f)=>u-f),a=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let C=i.get(_)||fo.empty();C=f.applyToLocalView(b,C),i.set(_,C);const M=(r.get(f.batchId)||en()).add(_);r=r.insert(f.batchId,M)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,C=_.value,M=lx();C.forEach(P=>{if(!a.has(P)){const B=Ve(t.get(P),i.get(P));null!==B&&M.set(P,B),a=a.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,M))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return We.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Qb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(Ia());let f=-1,_=a;return u.next(b=>se.forEach(b,(C,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(C)?se.resolve():this.remoteDocumentCache.getEntry(e,C).next(P=>{_=_.insert(C,P)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,en())).next(C=>({batchId:f,changes:oT(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new We(t)).next(i=>{let r=q_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=q_();return this.indexManager.getCollectionParents(e,r).next(u=>se.forEach(u,f=>{const _=(b=t,C=f.child(r),new as(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,C;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(b=>{b.forEach((C,M)=>{a=a.insert(C,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((f,_)=>{const b=_.getKey();null===a.get(b)&&(a=a.insert(b,Ln.newInvalidDocument(b)))});let u=q_();return a.forEach((f,_)=>{const b=r.get(f);void 0!==b&&lt(b.mutation,_,fo.empty(),Wn.now()),Vp(t,_)&&(u=u.insert(f,_))}),u})}}class s2{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return se.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Hi(i.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(i=t).name,query:bT(i.bundledQuery),readTime:Hi(i.readTime)}),se.resolve();var i}}class a2{constructor(){this.overlays=new ei(We.comparator),this.ts=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ia();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.re(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ts.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.ts.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=Ia(),a=t.length+1,u=new We(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new ei((b,C)=>b-C);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let C=a.get(b.largestBatchId);null===C&&(C=Ia(),a=a.insert(b.largestBatchId,C)),C.set(b.getKey(),b)}}const f=Ia(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,C)=>f.set(b,C)),!(f.size()>=r)););return se.resolve(f)}re(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ts.get(r.largestBatchId).delete(i.key);this.ts.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new fT(t,i));let a=this.ts.get(t);void 0===a&&(a=en(),this.ts.set(t,a)),this.ts.set(t,a.add(i.key))}}class ST{constructor(){this.es=new nn(Lr.ns),this.ss=new nn(Lr.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const i=new Lr(e,t);this.es=this.es.add(i),this.ss=this.ss.add(i)}os(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.us(new Lr(e,t))}cs(e,t){e.forEach(i=>this.removeReference(i,t))}hs(e){const t=new We(new un([])),i=new Lr(t,e),r=new Lr(t,e+1),a=[];return this.ss.forEachInRange([i,r],u=>{this.us(u),a.push(u.key)}),a}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new We(new un([])),i=new Lr(t,e),r=new Lr(t,e+1);let a=en();return this.ss.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Lr(e,0),i=this.es.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Lr{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return We.comparator(e.key,t.key)||Gt(e.ds,t.ds)}static rs(e,t){return Gt(e.ds,t.ds)||We.comparator(e.key,t.key)}}class l2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new nn(Lr.ns)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const u=new dT(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this._s=this._s.add(new Lr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ys(t+1),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Lr(t,0),r=new Lr(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([i,r],u=>{const f=this.gs(u.ds);a.push(f)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(Gt);return t.forEach(r=>{const a=new Lr(r,0),u=new Lr(r,Number.POSITIVE_INFINITY);this._s.forEachInRange([a,u],f=>{i=i.add(f.ds)})}),se.resolve(this.ps(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;We.isDocumentKey(a)||(a=a.child(""));const u=new Lr(new We(a),0);let f=new nn(Gt);return this._s.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_.ds)),!0)},u),se.resolve(this.ps(f))}ps(e){const t=[];return e.forEach(i=>{const r=this.gs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ct(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let i=this._s;return se.forEach(t.mutations,r=>{const a=new Lr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this._s=i})}En(e){}containsKey(e,t){const i=new Lr(t,0),r=this._s.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return se.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class c2{constructor(e){this.Ts=e,this.docs=new ei(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let i=po();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Ln.newInvalidDocument(r))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=po();const u=t.path,f=new We(u.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:b,value:{document:C}}=_.getNext();if(!u.isPrefixOf(b.path))break;b.path.length>u.length+1||NC(VS(C),i)<=0||(r.has(C.key)||Vp(t,C))&&(a=a.insert(C.key,C.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,i,r){at()}Es(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new u2(this)}getSize(e){return se.resolve(this.size)}}class u2 extends vO{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Jn.addEntry(e,r)):this.Jn.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class d2{constructor(e){this.persistence=e,this.As=new Cl(t=>Mc(t),ed),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Rs=0,this.vs=new ST,this.targetCount=0,this.bs=Gp.vn()}forEachTarget(e,t){return this.As.forEach((i,r)=>t(r)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Rs&&(this.Rs=t),se.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Gp(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Sn(t),se.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.As.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.As.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),se.waitFor(a).next(()=>r)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.As.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.vs.os(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.vs.cs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.vs.fs(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.vs.containsKey(t))}}class DO{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Fo(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new d2(this),this.indexManager=new KL,this.remoteDocumentCache=new c2(i=>this.referenceDelegate.Cs(i)),this.serializer=new Jk(t),this.xs=new s2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new a2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ps[e.toKey()];return i||(i=new l2(t,this.referenceDelegate),this.Ps[e.toKey()]=i),i}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,i){Pe("MemoryPersistence","Starting transaction:",e);const r=new h2(this.Vs.next());return this.referenceDelegate.Ns(),i(r).next(a=>this.referenceDelegate.ks(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return se.or(Object.values(this.Ps).map(i=>()=>i.containsKey(e,t)))}}class h2 extends VC{constructor(e){super(),this.currentSequenceNumber=e}}class vx{constructor(e){this.persistence=e,this.$s=new ST,this.Ms=null}static Fs(e){return new vx(e)}get Bs(){if(this.Ms)return this.Ms;throw at()}addReference(e,t,i){return this.$s.addReference(i,t),this.Bs.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.$s.removeReference(i,t),this.Bs.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),se.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(r=>this.Bs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Bs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Bs,i=>{const r=We.fromPath(i);return this.Ls(e,r).next(a=>{a||t.removeEntry(r,It.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(i=>{i?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return se.or([()=>se.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class f2{constructor(e){this.serializer=e}M(e,t,i,r){const a=new O_("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",US,{unique:!0}),f.createObjectStore("documentMutations"),IO(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=se.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),IO(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").j().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",US,{unique:!0});const C=_.store("mutations"),M=b.map(P=>C.put(P));return se.waitFor(M)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.qs(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Us(a)))),i<7&&r>=7&&(u=u.next(()=>this.Ks(a))),i<8&&r>=8&&(u=u.next(()=>this.Gs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Qs(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:zS});_.createIndex("collectionPathOverlayIndex",$S,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",GS,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:N_});_.createIndex("documentKeyIndex",bk),_.createIndex("collectionGroupIndex",zC)}(e)).next(()=>this.zs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.js(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Bb}).createIndex("sequenceNumberIndex",qC,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:jS}).createIndex("documentKeyIndex",Ek,{unique:!1})}(e))),u}Us(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=gx(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>se.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(f=>se.forEach(f,_=>{Ct(_.userId===a.userId);const b=jp(this.serializer,_);return pO(e,a.userId,b).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((u,f)=>{const _=new un(u),b=[0,ho(_)];a.push(t.get(b).next(C=>C?se.resolve():t.put({targetId:0,path:ho(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(a))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:wk});const i=t.store("collectionParents"),r=new IT,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:ho(_)})}};return t.store("remoteDocuments").Z({Y:!0},(u,f)=>{const _=new un(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([u,f,_],b)=>{const C=_l(f);return a(C.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((i,r)=>{const a=u0(r),u=tO(this.serializer,a);return t.put(u)})}zs(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(b=u,b.document?new We(un.fromString(b.document.name).popFirst(5)):b.noDocument?We.fromSegments(b.noDocument.path):b.unknownDocument?We.fromSegments(b.unknownDocument.path):at()).path.toArray();var b;const C={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(C))}).next(()=>se.waitFor(r))}js(e,t){const i=t.store("mutations"),r=bO(this.serializer),a=new DO(vx.Fs,this.serializer.se);return i.j().next(u=>{const f=new Map;return u.forEach(_=>{var b;let C=null!==(b=f.get(_.userId))&&void 0!==b?b:en();jp(this.serializer,_).keys().forEach(M=>C=C.add(M)),f.set(_.userId,C)}),se.forEach(f,(_,b)=>{const C=new tr(b),M=hx.ie(this.serializer,C),P=a.getIndexManager(C),B=_x.ie(C,this.serializer,P,a.referenceDelegate);return new xO(r,B,M,P).recalculateAndSaveOverlaysForDocumentKeys(new Ub(t,Fo.ct),_).next()})})}}function IO(n){n.createObjectStore("targetDocuments",{keyPath:$C}).createIndex("documentTargetsIndex",GC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",L_,{unique:!0}),n.createObjectStore("targetGlobal")}const TT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class AT{constructor(e,t,i,r,a,u,f,_,b,C,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ws=a,this.window=u,this.document=f,this.Hs=b,this.Js=C,this.Ys=M,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=P=>Promise.resolve(),!AT.D())throw new Te(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new t2(this,r),this.si=t+"main",this.serializer=new Jk(_),this.ii=new rs(this.si,this.Ys,new f2(this.serializer)),this.Ds=new QL(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bO(this.serializer),this.xs=new jL,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===C&&hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(le.FAILED_PRECONDITION,TT);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new Fo(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var i=(0,ve.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,ve.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>bx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Dc(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return g0(e).get("owner").next(t=>se.resolve(this._i(t)))}mi(e){return bx(e).delete(this.clientId)}gi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=nr(i,"clientMetadata");return r.j().next(a=>{const u=e.pi(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return se.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ri)for(const i of t)e.ri.removeItem(e.Ii(i.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?se.resolve(!0):g0(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new Te(le.FAILED_PRECONDITION,TT);return!1}}return!(!this.networkEnabled||!this.inForeground)||bx(e).j().next(i=>void 0===this.pi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Ub(t,Fo.ct);return e.di(i).next(()=>e.mi(i))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(i=>this.yi(i.updateTimeMs,t)&&!this.Ti(i.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>bx(e).j().next(t=>this.pi(t,18e5).map(i=>i.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return _x.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new YL(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return hx.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,i){Pe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Ys)?Ck:14===u?ZS:13===u?WS:12===u?qS:11===u?Tp:void at();var u;let f;return this.ii.runTransaction(e,r,a,_=>(f=new Ub(_,this.Vs?this.Vs.next():Fo.ct),"readwrite-primary"===t?this.li(f).next(b=>!!b||this.fi(f)).next(b=>{if(!b)throw hi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Te(le.FAILED_PRECONDITION,LC);return i(f)}).next(b=>this.wi(f).next(()=>b)):this.Pi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Pi(e){return g0(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Te(le.FAILED_PRECONDITION,TT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return g0(e).put("owner",t)}static D(){return rs.D()}di(e){const t=g0(e);return t.get("owner").next(i=>this._i(i)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}yi(e,t){const i=Date.now();return!(e<i-t||e>i&&(hi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,hn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const i=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return hi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){hi("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function g0(n){return nr(n,"owner")}function bx(n){return nr(n,"clientMetadata")}function MT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class RT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Vi=i,this.Si=r}static Di(e,t){let i=en(),r=en();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new RT(e,t.fromCache,i,r)}}class SO{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ni(e,t).next(a=>a||this.ki(e,t,r,i)).next(a=>a||this.Oi(e,t))}Ni(e,t){if(rT(t))return se.resolve(null);let i=qr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Lp(t,null,"F"),i=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=en(...a);return this.xi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const b=this.$i(t,f);return this.Mi(t,b,u,_.readTime)?this.Ni(e,Lp(t,null,"F")):this.Fi(e,b,t,_)}))})))}ki(e,t,i,r){return rT(t)||r.isEqual(It.min())?this.Oi(e,t):this.xi.getDocuments(e,i).next(a=>{const u=this.$i(t,a);return this.Mi(t,u,i,r)?this.Oi(e,t):(kb()<=vc.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),e0(t)),this.Fi(e,u,t,R_(r,-1)))})}$i(e,t){let i=new nn(G_(e));return t.forEach((r,a)=>{Vp(e,a)&&(i=i.add(a))}),i}Mi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return kb()<=vc.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",e0(t)),this.xi.getDocumentsMatchingQuery(e,t,Po.min())}Fi(e,t,i,r){return this.xi.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class p2{constructor(e,t,i,r){this.persistence=e,this.Bi=t,this.serializer=r,this.Li=new ei(Gt),this.qi=new Cl(a=>Mc(a),ed),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(i)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xO(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function TO(n,e,t,i){return new p2(n,e,t,i)}function AO(n,e){return kT.apply(this,arguments)}function kT(){return kT=(0,ve.Z)(function*(n,e){const t=Ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Gi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=en();for(const b of r){u.push(b.batchId);for(const C of b.mutations)_=_.add(C.key)}for(const b of a){f.push(b.batchId);for(const C of b.mutations)_=_.add(C.key)}return t.localDocuments.getDocuments(i,_).next(b=>({Qi:b,removedBatchIds:u,addedBatchIds:f}))})})}),kT.apply(this,arguments)}function MO(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function RO(n,e,t){let i=en(),r=en();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=po();return t.forEach((f,_)=>{const b=a.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(It.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Pe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{zi:u,ji:r}})}function _2(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function J_(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ds.getTargetData(i,e).next(a=>a?(r=a,se.resolve(r)):t.Ds.allocateTargetId(i).next(u=>(r=new kh(e,u,0,i.currentSequenceNumber),t.Ds.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Li.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Li=t.Li.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function ey(n,e,t){return OT.apply(this,arguments)}function OT(){return OT=(0,ve.Z)(function*(n,e,t){const i=Ye(n),r=i.Li.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Dc(u))throw u;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Li=i.Li.remove(e),i.qi.delete(r.target)}),OT.apply(this,arguments)}function wx(n,e,t){const i=Ye(n);let r=It.min(),a=en();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const C=Ye(f),M=C.qi.get(b);return void 0!==M?se.resolve(C.Li.get(M)):C.Ds.getTargetData(_,b)}(i,u,qr(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Ds.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Bi.getDocumentsMatchingQuery(u,e,t?r:It.min(),t?a:en())).next(f=>(PO(i,t0(e),f),{documents:f,Wi:a})))}function kO(n,e){const t=Ye(n),i=Ye(t.Ds),r=t.Li.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.ne(a,e).next(u=>u?u.target:null))}function OO(n,e){const t=Ye(n),i=t.Ui.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ki.getAllFromCollectionGroup(r,e,R_(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(PO(t,e,r),r))}function PO(n,e,t){let i=n.Ui.get(e)||It.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ui.set(e,i)}function PT(){return PT=(0,ve.Z)(function*(n,e,t,i){const r=Ye(n);let a=en(),u=po();for(const b of t){const C=e.Hi(b.metadata.name);b.document&&(a=a.add(C));const M=e.Ji(b);M.setReadTime(e.Yi(b.metadata.readTime)),u=u.insert(C,M)}const f=r.Ki.newChangeBuffer({trackRemovals:!0}),_=yield J_(r,(b=i,qr(Fp(un.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>RO(b,f,u).next(C=>(f.apply(b),C)).next(C=>r.Ds.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Ds.addMatchingKeys(b,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,C.zi,C.ji)).next(()=>C.zi)))}),PT.apply(this,arguments)}function v2(n,e){return FT.apply(this,arguments)}function FT(){return FT=(0,ve.Z)(function*(n,e,t=en()){const i=yield J_(n,qr(bT(e.bundledQuery))),r=Ye(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Hi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.xs.saveNamedQuery(a,e);const f=i.withResumeToken(Ui.EMPTY_BYTE_STRING,u);return r.Li=r.Li.insert(f.targetId,f),r.Ds.updateTargetData(a,f).next(()=>r.Ds.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Ds.addMatchingKeys(a,t,i.targetId)).next(()=>r.xs.saveNamedQuery(a,e))})}),FT.apply(this,arguments)}function FO(n,e){return`firestore_clients_${n}_${e}`}function NO(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function NT(n,e){return`firestore_targets_${n}_${e}`}class Ex{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Te(r.error.code,r.error.message))),u?new Ex(e,t,r.state,a):(hi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Te(i.error.code,i.error.message))),a?new _0(e,i.state,r):(hi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cx{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=W_();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Lb(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new Cx(e,a):(hi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class LT{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new LT(t.clientId,t.onlineState):(hi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class VT{constructor(){this.activeTargetIds=W_()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BT{constructor(e,t,i,r,a){this.window=e,this.Ws=t,this.persistenceKey=i,this.nr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new ei(Gt),this.started=!1,this.ur=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.cr=FO(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new VT),this.hr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.bi();for(const r of t){if(r===e.nr)continue;const a=e.getItem(FO(e.persistenceKey,r));if(a){const u=Cx.Zi(r,a);u&&(e.rr=e.rr.insert(u.clientId,u))}}e.mr();const i=e.storage.getItem(e.wr);if(i){const r=e.gr(i);r&&e.yr(r)}for(const r of e.ur)e.ir(r);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,i){this.Ir(e,t,i),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(NT(this.persistenceKey,e));if(i){const r=_0.Zi(e,i);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(NT(this.persistenceKey,e))}updateQueryState(e,t,i){this.Ar(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Tr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Pe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.cr)return void hi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==i.key)if(t.hr.test(i.key)){if(null==i.newValue){const r=t.br(i.key);return t.Pr(r,null)}{const r=t.Vr(i.key,i.newValue);if(r)return t.Pr(r.clientId,r)}}else if(t.lr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Cr(i.key,i.newValue);if(r)return t.Nr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.gr(i.newValue);if(r)return t.yr(r)}}else if(i.key===t.ar){const r=function(a){let u=Fo.ct;if(null!=a)try{const f=JSON.parse(a);Ct("number"==typeof f),u=f}catch(f){hi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Fo.ct&&t.sequenceNumberHandler(r)}else if(i.key===t._r){const r=t.kr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.ur.push(i)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,i){const r=new Ex(this.currentUser,e,t,i),a=NO(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Xi())}Tr(e){const t=NO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,i){const r=NT(this.persistenceKey,e),a=new _0(e,t,i);this.setItem(r,a.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const i=this.br(e);return Cx.Zi(i,t)}Sr(e,t){const i=this.lr.exec(e),r=Number(i[1]);return Ex.Zi(new tr(void 0!==i[2]?i[2]:null),r,t)}Cr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return _0.Zi(r,t)}gr(e){return LT.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const i=t?this.rr.insert(e,t):this.rr.remove(e),r=this.pr(this.rr),a=this.pr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Fr(u,f).then(()=>{this.rr=i})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=W_();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class LO{constructor(){this.Br=new VT,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,i){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new VT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class b2{qr(e){}shutdown(){}}class VO{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xx=null;function UT(){return null===xx?xx=268435456+Math.round(2147483648*Math.random()):xx++,"0x"+xx.toString(16)}const w2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class E2{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const mo="WebChannelConnection";class C2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,i,r,a){const u=UT(),f=this.ao(e,t);Pe("RestConnection",`Sending RPC '${e}' ${u}:`,f,i);const _={};return this.ho(_,r,a),this.lo(e,f,_,i).then(b=>(Pe("RestConnection",`Received RPC '${e}' ${u}: `,b),b),b=>{throw Ls("RestConnection",`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",i),b})}fo(e,t,i,r,a,u){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+xh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.ro}/v1/${t}:${w2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){const a=UT();return new Promise((u,f)=>{const _=new Rb;_.setWithCredentials(!0),_.listenOnce(Ab.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case x_.NO_ERROR:const C=_.getResponseJson();Pe(mo,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(C)),u(C);break;case x_.TIMEOUT:Pe(mo,`RPC '${e}' ${a} timed out`),f(new Te(le.DEADLINE_EXCEEDED,"Request time out"));break;case x_.HTTP_ERROR:const M=_.getStatus();if(Pe(mo,`RPC '${e}' ${a} failed with status:`,M,"response text:",_.getResponseText()),M>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const B=P?.error;if(B&&B.status&&B.message){const q=function(J){const ce=J.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(ce)>=0?ce:le.UNKNOWN}(B.status);f(new Te(q,B.message))}else f(new Te(le.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Te(le.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Pe(mo,`RPC '${e}' ${a} completed.`)}});const b=JSON.stringify(r);Pe(mo,`RPC '${e}' ${a} sending request:`,r),_.send(t,"POST",b,i,15)})}wo(e,t,i){const r=UT(),a=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=OS(),f=AC(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new Mb({})),this.ho(_.initMessageHeaders,t,i),_.encodeInitMessageHeaders=!0;const b=a.join("");Pe(mo,`Creating RPC '${e}' stream ${r}: ${b}`,_);const C=u.createWebChannel(b,_);let M=!1,P=!1;const B=new E2({Wr:J=>{P?Pe(mo,`Not sending because RPC '${e}' stream ${r} is closed:`,J):(M||(Pe(mo,`Opening RPC '${e}' stream ${r} transport.`),C.open(),M=!0),Pe(mo,`RPC '${e}' stream ${r} sending:`,J),C.send(J))},Hr:()=>C.close()}),q=(J,ce,qe)=>{J.listen(ce,gt=>{try{qe(gt)}catch(pt){setTimeout(()=>{throw pt},0)}})};return q(C,Dp.EventType.OPEN,()=>{P||Pe(mo,`RPC '${e}' stream ${r} transport opened.`)}),q(C,Dp.EventType.CLOSE,()=>{P||(P=!0,Pe(mo,`RPC '${e}' stream ${r} transport closed`),B.so())}),q(C,Dp.EventType.ERROR,J=>{P||(P=!0,Ls(mo,`RPC '${e}' stream ${r} transport errored:`,J),B.so(new Te(le.UNAVAILABLE,"The operation could not be completed")))}),q(C,Dp.EventType.MESSAGE,J=>{var ce;if(!P){const qe=J.data[0];Ct(!!qe);const pt=qe.error||(null===(ce=qe[0])||void 0===ce?void 0:ce.error);if(pt){Pe(mo,`RPC '${e}' stream ${r} received error:`,pt);const Dt=pt.status;let qt=function(Cn){const Br=ir[Cn];if(void 0!==Br)return Nk(Br)}(Dt),Kt=pt.message;void 0===qt&&(qt=le.INTERNAL,Kt="Unknown error status: "+Dt+" with message "+pt.message),P=!0,B.so(new Te(qt,Kt)),C.close()}else Pe(mo,`RPC '${e}' stream ${r} received:`,qe),B.io(qe)}}),q(f,MC.STAT_EVENT,J=>{J.stat===D_.PROXY?Pe(mo,`RPC '${e}' stream ${r} detected buffering proxy`):J.stat===D_.NOPROXY&&Pe(mo,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.no()},0),B}}function BO(){return typeof window<"u"?window:null}function Dx(){return typeof document<"u"?document:null}function y0(n){return new RL(n,!0)}class HT{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Ws=e,this.timerId=t,this._o=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&Pe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class UO{constructor(e,t,i,r,a,u,f,_){this.Ws=e,this.bo=i,this.Po=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new HT(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,ve.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,ve.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var i=this;return(0,ve.Z)(function*(){i.Bo(),i.Lo(),i.Co.cancel(),i.Vo++,4!==e?i.Co.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),i.Co.Eo()):t&&t.code===le.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.Ko(i,r)},i=>{e(()=>{const r=new Te(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Go(r)})})}Ko(e,t){const i=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{i(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(r=>{i(()=>this.Go(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}ko(){var e=this;this.state=5,this.Co.Ao((0,ve.Z)(function*(){e.state=0,e.start()}))}Go(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x2 extends UO{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function PL(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:at(),r=e.targetChange.targetIds||[],a=function(_,b){return _.useProto3Json?(Ct(void 0===b||"string"==typeof b),Ui.fromBase64String(b||"")):(Ct(void 0===b||b instanceof Uint8Array),Ui.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const b=void 0===_.code?le.UNKNOWN:Nk(_.code);return new Te(b,_.message||"")}(u);t=new Vk(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Rc(n,i.document.name),a=Hi(i.document.updateTime),u=i.document.createTime?Hi(i.document.createTime):It.min(),f=new Ti({mapValue:{fields:i.document.fields}}),_=Ln.newFoundDocument(r,a,u,f);t=new ux(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=Rc(n,i.document),a=i.readTime?Hi(i.readTime):It.min(),u=Ln.newNoDocument(r,a);t=new ux([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Rc(n,i.document);t=new ux([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return at();{const i=e.filter,a=new IL(i.count||0);t=new Lk(i.targetId,a)}}var _;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return It.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?It.min():a.readTime?Hi(a.readTime):It.min()}(e);return this.listener.zo(t,i)}jo(e){const t={};t.database=l0(this.serializer),t.addTarget=function(r,a){let u;const f=a.target;return u=Ah(f)?{documents:Zk(r,f)}:{query:vT(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=jk(r,a.resumeToken):a.snapshotVersion.compareTo(It.min())>0&&(u.readTime=K_(r,a.snapshotVersion.toTimestamp())),u}(this.serializer,e);const i=function NL(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Fo(t)}Wo(e){const t={};t.database=l0(this.serializer),t.removeTarget=e,this.Fo(t)}}class D2 extends UO{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function FL(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(i,r){let a=Hi(i.updateTime?i.updateTime:r);return a.isEqual(It.min())&&(a=Hi(r)),new L(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Hi(e.commitTime);return this.listener.Zo(i,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=l0(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>c0(this.serializer,i))};this.Fo(t)}}class I2 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.eu=!1}nu(){if(this.eu)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Te(le.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.fo(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(le.UNKNOWN,a.toString())})}terminate(){this.eu=!0}}class T2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(hi(t),this.ru=!1):Pe("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class A2{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr(f=>{i.enqueueAndForget((0,ve.Z)(function*(){var _;nd(u)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(b){const C=Ye(b);C.du.add(4),yield ty(C),C.mu.set("Unknown"),C.du.delete(4),yield v0(C)}),function(b){return _.apply(this,arguments)})(u))}))}),this.mu=new T2(i,r)}}function v0(n){return zT.apply(this,arguments)}function zT(){return zT=(0,ve.Z)(function*(n){if(nd(n))for(const e of n.wu)yield e(!0)}),zT.apply(this,arguments)}function ty(n){return $T.apply(this,arguments)}function $T(){return $T=(0,ve.Z)(function*(n){for(const e of n.wu)yield e(!1)}),$T.apply(this,arguments)}function Ix(n,e){const t=Ye(n);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),WT(t)?qT(t):iy(t).No()&&GT(t,e))}function b0(n,e){const t=Ye(n),i=iy(t);t.fu.delete(e),i.No()&&HO(t,e),0===t.fu.size&&(i.No()?i.$o():nd(t)&&t.mu.set("Unknown"))}function GT(n,e){n.gu.Ot(e.targetId),iy(n).jo(e)}function HO(n,e){n.gu.Ot(e),iy(n).Wo(e)}function qT(n){n.gu=new SL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.fu.get(e)||null}),iy(n).start(),n.mu.ou()}function WT(n){return nd(n)&&!iy(n).xo()&&n.fu.size>0}function nd(n){return 0===Ye(n).du.size}function jO(n){n.gu=void 0}function M2(n){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,ve.Z)(function*(n){n.fu.forEach((e,t)=>{GT(n,e)})}),ZT.apply(this,arguments)}function R2(n,e){return KT.apply(this,arguments)}function KT(){return KT=(0,ve.Z)(function*(n,e){jO(n),WT(n)?(n.mu.au(e),qT(n)):n.mu.set("Unknown")}),KT.apply(this,arguments)}function k2(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=(0,ve.Z)(function*(n,e,t){if(n.mu.set("Online"),e instanceof Vk&&2===e.state&&e.cause)try{yield(i=(0,ve.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.fu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.fu.delete(f),r.gu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Sx(n,i)}else if(e instanceof ux?n.gu.Kt(e):e instanceof Lk?n.gu.Jt(e):n.gu.zt(e),!t.isEqual(It.min()))try{const i=yield MO(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.gu.Xt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.fu.get(_);b&&r.fu.set(_,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.fu.get(f);if(!_)return;r.fu.set(f,_.withResumeToken(Ui.EMPTY_BYTE_STRING,_.snapshotVersion)),HO(r,f);const b=new kh(_.target,f,1,_.sequenceNumber);GT(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Pe("RemoteStore","Failed to raise snapshot:",i),yield Sx(n,i)}var i}),YT.apply(this,arguments)}function Sx(n,e,t){return QT.apply(this,arguments)}function QT(){return QT=(0,ve.Z)(function*(n,e,t){if(!Dc(e))throw e;n.du.add(1),yield ty(n),n.mu.set("Offline"),t||(t=()=>MO(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield v0(n)}))}),QT.apply(this,arguments)}function zO(n,e){return e().catch(t=>Sx(n,t,e))}function ny(n){return XT.apply(this,arguments)}function XT(){return XT=(0,ve.Z)(function*(n){const e=Ye(n),t=Nh(e);let i=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;O2(e);)try{const r=yield _2(e.localStore,i);if(null===r){0===e.lu.length&&t.$o();break}i=r.batchId,P2(e,r)}catch(r){yield Sx(e,r)}$O(e)&&GO(e)}),XT.apply(this,arguments)}function O2(n){return nd(n)&&n.lu.length<10}function P2(n,e){n.lu.push(e);const t=Nh(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function $O(n){return nd(n)&&!Nh(n).xo()&&n.lu.length>0}function GO(n){Nh(n).start()}function F2(n){return JT.apply(this,arguments)}function JT(){return JT=(0,ve.Z)(function*(n){Nh(n).tu()}),JT.apply(this,arguments)}function N2(n){return eA.apply(this,arguments)}function eA(){return eA=(0,ve.Z)(function*(n){const e=Nh(n);for(const t of n.lu)e.Yo(t.mutations)}),eA.apply(this,arguments)}function L2(n,e,t){return tA.apply(this,arguments)}function tA(){return tA=(0,ve.Z)(function*(n,e,t){const i=n.lu.shift(),r=hT.from(i,e,t);yield zO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ny(n)}),tA.apply(this,arguments)}function V2(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,ve.Z)(function*(n,e){var t;e&&Nh(n).Jo&&(yield(t=(0,ve.Z)(function*(i,r){if(Fk(a=r.code)&&a!==le.ABORTED){const u=i.lu.shift();Nh(i).Oo(),yield zO(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield ny(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),$O(n)&&GO(n)}),nA.apply(this,arguments)}function qO(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,ve.Z)(function*(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const i=nd(t);t.du.add(3),yield ty(t),i&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield v0(t)}),iA.apply(this,arguments)}function rA(n,e){return oA.apply(this,arguments)}function oA(){return oA=(0,ve.Z)(function*(n,e){const t=Ye(n);e?(t.du.delete(2),yield v0(t)):e||(t.du.add(2),yield ty(t),t.mu.set("Unknown"))}),oA.apply(this,arguments)}function iy(n){return n.yu||(n.yu=function(e,t,i){const r=Ye(e);return r.nu(),new x2(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:M2.bind(null,n),Zr:R2.bind(null,n),zo:k2.bind(null,n)}),n.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.yu.Oo(),WT(n)?qT(n):n.mu.set("Unknown")):(yield n.yu.stop(),jO(n))});return function(t){return e.apply(this,arguments)}}())),n.yu}function Nh(n){return n.pu||(n.pu=function(e,t,i){const r=Ye(e);return r.nu(),new D2(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:F2.bind(null,n),Zr:V2.bind(null,n),Xo:N2.bind(null,n),Zo:L2.bind(null,n)}),n.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.pu.Oo(),yield ny(n)):(yield n.pu.stop(),n.lu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class sA{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new sA(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(n,e){if(hi("AsyncQueue",`${e}: ${n}`),Dc(n))return new Te(le.UNAVAILABLE,`${e}: ${n}`);throw n}class oy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||We.comparator(t.key,i.key):(t,i)=>We.comparator(t.key,i.key),this.keyedMap=q_(),this.sortedSet=new ei(this.comparator)}static emptySet(e){return new oy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new oy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class WO{constructor(){this.Iu=new ei(We.comparator)}track(e){const t=e.doc.key,i=this.Iu.get(t);i?0!==e.type&&3===i.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==i.type?this.Iu=this.Iu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Iu=this.Iu.remove(t):1===e.type&&2===i.type?this.Iu=this.Iu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):at():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,i)=>{e.push(i)}),e}}class sy{constructor(e,t,i,r,a,u,f,_,b){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new sy(e,t,oy.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class B2{constructor(){this.Eu=void 0,this.listeners=[]}}class U2{constructor(){this.queries=new Cl(e=>Jb(e),Mh),this.onlineState="Unknown",this.Au=new Set}}function aA(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,ve.Z)(function*(n,e){const t=Ye(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new B2),r)try{a.Eu=yield t.onListen(i)}catch(u){const f=ry(u,`Initialization of query '${e0(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.Ru(t.onlineState),a.Eu&&e.vu(a.Eu)&&dA(t)}),lA.apply(this,arguments)}function cA(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,ve.Z)(function*(n,e){const t=Ye(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),uA.apply(this,arguments)}function H2(n,e){const t=Ye(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.vu(r)&&(i=!0);u.Eu=r}}i&&dA(t)}function j2(n,e,t){const i=Ye(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function dA(n){n.Au.forEach(e=>{e.next()})}class hA{constructor(e,t,i){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new sy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=sy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class z2{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class ZO{constructor(e){this.serializer=e}Hi(e){return Rc(this.serializer,e)}Ji(e){return e.metadata.exists?Wk(this.serializer,e.document,!1):Ln.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Hi(e)}}class $2{constructor(e,t,i){this.Ou=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=KO(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const i=un.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,i=new ZO(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.Hi(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||en()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function y2(n,e,t,i){return PT.apply(this,arguments)}(e.localStore,new ZO(e.serializer),e.documents,e.Ou.id),i=e.Mu(e.documents);for(const r of e.queries)yield v2(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function KO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class YO{constructor(e){this.key=e}}class QO{constructor(e){this.key=e}}class XO{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=en(),this.mutatedKeys=en(),this.Ku=G_(e),this.Gu=new oy(this.Ku)}get Qu(){return this.Lu}zu(e,t){const i=t?t.ju:new WO,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,M)=>{const P=r.get(C),B=Vp(this.query,M)?M:null,q=!!P&&this.mutatedKeys.has(P.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ce=!1;P&&B?P.data.isEqual(B.data)?q!==J&&(i.track({type:3,doc:B}),ce=!0):this.Wu(P,B)||(i.track({type:2,doc:B}),ce=!0,(_&&this.Ku(B,_)>0||b&&this.Ku(B,b)<0)&&(f=!0)):!P&&B?(i.track({type:0,doc:B}),ce=!0):P&&!B&&(i.track({type:1,doc:P}),ce=!0,(_||b)&&(f=!0)),ce&&(B?(u=u.add(B),a=J?a.add(C):a.delete(C)):(u=u.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const C="F"===this.query.limitType?u.last():u.first();u=u.delete(C.key),a=a.delete(C.key),i.track({type:1,doc:C})}return{Gu:u,ju:i,Mi:f,mutatedKeys:a}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.ju.Tu();a.sort((b,C)=>function(M,P){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return B(M)-B(P)}(b.type,C.type)||this.Ku(b.doc,C.doc)),this.Hu(i);const u=t?this.Ju():[],f=0===this.Uu.size&&this.current?1:0,_=f!==this.qu;return this.qu=f,0!==a.length||_?{snapshot:new sy(this.query,e.Gu,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Yu:u}:{Yu:u}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new WO,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=en(),this.Gu.forEach(i=>{this.Zu(i.key)&&(this.Uu=this.Uu.add(i.key))});const t=[];return e.forEach(i=>{this.Uu.has(i)||t.push(new QO(i))}),this.Uu.forEach(i=>{e.has(i)||t.push(new YO(i))}),t}Xu(e){this.Lu=e.Wi,this.Uu=en();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return sy.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class G2{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class q2{constructor(e){this.key=e,this.ec=!1}}class W2{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new Cl(f=>Jb(f),Mh),this.ic=new Map,this.rc=new Set,this.oc=new ei(We.comparator),this.uc=new Map,this.cc=new ST,this.ac={},this.hc=new Map,this.lc=Gp.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Z2(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,ve.Z)(function*(n,e){const t=NA(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const u=yield J_(t.localStore,qr(e));t.isPrimaryClient&&Ix(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield pA(t,e,i,"current"===f,u.resumeToken)}return r}),fA.apply(this,arguments)}function pA(n,e,t,i,r){return mA.apply(this,arguments)}function mA(){return mA=(0,ve.Z)(function*(n,e,t,i,r){n.dc=(M,P,B)=>{return(q=(0,ve.Z)(function*(J,ce,qe,gt){let pt=ce.view.zu(qe);pt.Mi&&(pt=yield wx(J.localStore,ce.query,!1).then(({documents:Kt})=>ce.view.zu(Kt,pt)));const Dt=gt&&gt.targetChanges.get(ce.targetId),qt=ce.view.applyChanges(pt,J.isPrimaryClient,Dt);return DA(J,ce.targetId,qt.Yu),qt.snapshot}),function(J,ce,qe,gt){return q.apply(this,arguments)})(n,M,P,B);var q};const a=yield wx(n.localStore,e,!0),u=new XO(e,a.Wi),f=u.zu(a.documents),_=s0.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),b=u.applyChanges(f,n.isPrimaryClient,_);DA(n,t,b.Yu);const C=new G2(e,t,u);return n.sc.set(e,C),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),b.snapshot}),mA.apply(this,arguments)}function K2(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,ve.Z)(function*(n,e){const t=Ye(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!Mh(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ey(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),b0(t.remoteStore,i.targetId),ay(t,i.targetId)}).catch(xc))):(ay(t,i.targetId),yield ey(t.localStore,i.targetId,!0))}),gA.apply(this,arguments)}function _A(){return _A=(0,ve.Z)(function*(n,e,t){const i=LA(n);try{const r=yield function(a,u){const f=Ye(a),_=Wn.now(),b=u.reduce((P,B)=>P.add(B.key),en());let C,M;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let B=po(),q=en();return f.Ki.getEntries(P,b).next(J=>{B=J,B.forEach((ce,qe)=>{qe.isValidDocument()||(q=q.add(ce))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,B)).next(J=>{C=J;const ce=[];for(const qe of u){const gt=Pt(qe,C.get(qe.key).overlayedDocument);null!=gt&&ce.push(new mn(qe.key,gt,Gb(gt.value.mapValue),$.exists(!0)))}return f.mutationQueue.addMutationBatch(P,_,ce,u)}).next(J=>{M=J;const ce=J.applyToLocalDocumentSet(C,q);return f.documentOverlayCache.saveOverlays(P,J.batchId,ce)})}).then(()=>({batchId:M.batchId,changes:oT(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.ac[a.currentUser.toKey()];_||(_=new ei(Gt)),_=_.insert(u,f),a.ac[a.currentUser.toKey()]=_}(i,r.batchId,t),yield id(i,r.changes),yield ny(i.remoteStore)}catch(r){const a=ry(r,"Failed to persist write");t.reject(a)}}),_A.apply(this,arguments)}function JO(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,ve.Z)(function*(n,e){const t=Ye(n);try{const i=yield function g2(n,e){const t=Ye(n),i=e.snapshotVersion;let r=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ki.newChangeBuffer({trackRemovals:!0});r=t.Li;const f=[];e.targetChanges.forEach((C,M)=>{const P=r.get(M);if(!P)return;f.push(t.Ds.removeMatchingKeys(a,C.removedDocuments,M).next(()=>t.Ds.addMatchingKeys(a,C.addedDocuments,M)));let B=P.withSequenceNumber(a.currentSequenceNumber);var q,J,ce;e.targetMismatches.has(M)?B=B.withResumeToken(Ui.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):C.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(C.resumeToken,i)),r=r.insert(M,B),J=B,ce=C,(0===(q=P).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&f.push(t.Ds.updateTargetData(a,B))});let _=po(),b=en();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),f.push(RO(a,u,e.documentUpdates).next(C=>{_=C.zi,b=C.ji})),!i.isEqual(It.min())){const C=t.Ds.getLastRemoteSnapshotVersion(a).next(M=>t.Ds.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(C)}return se.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.Li=r,a))}(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.uc.get(a);u&&(Ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?Ct(u.ec):r.removedDocuments.size>0&&(Ct(u.ec),u.ec=!1))}),yield id(t,i,e)}catch(i){yield xc(i)}}),yA.apply(this,arguments)}function e1(n,e,t){const i=Ye(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,u)=>{const f=u.view.Ru(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=Ye(a);f.onlineState=u;let _=!1;f.queries.forEach((b,C)=>{for(const M of C.listeners)M.Ru(u)&&(_=!0)}),_&&dA(f)}(i.eventManager,e),r.length&&i.nc.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Q2(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,ve.Z)(function*(n,e,t){const i=Ye(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let u=new ei(We.comparator);u=u.insert(a,Ln.newNoDocument(a,It.min()));const f=en().add(a),_=new o0(It.min(),new Map,new nn(Gt),u,f);yield JO(i,_),i.oc=i.oc.remove(a),i.uc.delete(e),IA(i)}else yield ey(i.localStore,e,!1).then(()=>ay(i,e,t)).catch(xc)}),vA.apply(this,arguments)}function X2(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,ve.Z)(function*(n,e){const t=Ye(n),i=e.batch.batchId;try{const r=yield function m2(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Ki.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const C=_.batch,M=C.keys();let P=se.resolve();return M.forEach(B=>{P=P.next(()=>b.getEntry(f,B)).next(q=>{const J=_.docVersions.get(B);Ct(null!==J),q.version.compareTo(J)<0&&(C.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),b.addEntry(q)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(f,C))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=en();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);xA(t,i,null),CA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield id(t,r)}catch(r){yield xc(r)}}),bA.apply(this,arguments)}function J2(n,e,t){return wA.apply(this,arguments)}function wA(){return wA=(0,ve.Z)(function*(n,e,t){const i=Ye(n);try{const r=yield function(a,u){const f=Ye(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,u).next(C=>(Ct(null!==C),b=C.keys(),f.mutationQueue.removeMutationBatch(_,C))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(i.localStore,e);xA(i,e,t),CA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield id(i,r)}catch(r){yield xc(r)}}),wA.apply(this,arguments)}function EA(){return EA=(0,ve.Z)(function*(n,e){const t=Ye(n);nd(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Ye(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=ry(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),EA.apply(this,arguments)}function CA(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function xA(n,e,t){const i=Ye(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function ay(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc.wc(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.hs(e).forEach(i=>{n.cc.containsKey(i)||t1(n,i)})}function t1(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(b0(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),IA(n))}function DA(n,e,t){for(const i of t)i instanceof YO?(n.cc.addReference(i.key,e),tV(n,i)):i instanceof QO?(Pe("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||t1(n,i.key)):at()}function tV(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(Pe("SyncEngine","New document in limbo: "+t),n.rc.add(i),IA(n))}function IA(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new We(un.fromString(e)),i=n.lc.next();n.uc.set(i,new q2(t)),n.oc=n.oc.insert(t,i),Ix(n.remoteStore,new kh(qr(Fp(t.path)),i,2,Fo.ct))}}function id(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,ve.Z)(function*(n,e,t){const i=Ye(n),r=[],a=[],u=[];var f;i.sc.isEmpty()||(i.sc.forEach((f,_)=>{u.push(i.dc(_,e,t).then(b=>{if((b||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){r.push(b);const C=RT.Di(_.targetId,b);a.push(C)}}))}),yield Promise.all(u),i.nc.zo(r),yield(f=(0,ve.Z)(function*(_,b){const C=Ye(_);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>se.forEach(b,P=>se.forEach(P.Vi,B=>C.persistence.referenceDelegate.addReference(M,P.targetId,B)).next(()=>se.forEach(P.Si,B=>C.persistence.referenceDelegate.removeReference(M,P.targetId,B)))))}catch(M){if(!Dc(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const P=M.targetId;if(!M.fromCache){const B=C.Li.get(P),J=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);C.Li=C.Li.insert(P,J)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),SA.apply(this,arguments)}function nV(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,ve.Z)(function*(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const i=yield AO(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(u=>{u.forEach(f=>{f.reject(new Te(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield id(t,i.Qi)}var r}),TA.apply(this,arguments)}function iV(n,e){const t=Ye(n),i=t.uc.get(e);if(i&&i.ec)return en().add(i.key);{let r=en();const a=t.ic.get(e);if(!a)return r;for(const u of a){const f=t.sc.get(u);r=r.unionWith(f.view.Qu)}return r}}function rV(n,e){return AA.apply(this,arguments)}function AA(){return AA=(0,ve.Z)(function*(n,e){const t=Ye(n),i=yield wx(t.localStore,e.query,!0),r=e.view.Xu(i);return t.isPrimaryClient&&DA(t,e.targetId,r.Yu),r}),AA.apply(this,arguments)}function oV(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,ve.Z)(function*(n,e){const t=Ye(n);return OO(t.localStore,e).then(i=>id(t,i))}),MA.apply(this,arguments)}function sV(n,e,t,i){return RA.apply(this,arguments)}function RA(){return RA=(0,ve.Z)(function*(n,e,t,i){const r=Ye(n),a=yield function(u,f){const _=Ye(u),b=Ye(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",C=>b.In(C,f).next(M=>M?_.localDocuments.getDocuments(C,M):se.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield ny(r.remoteStore):"acknowledged"===t||"rejected"===t?(xA(r,e,i||null),CA(r,e),f=e,Ye(Ye(r.localStore).mutationQueue).En(f)):at(),yield id(r,a)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),RA.apply(this,arguments)}function kA(){return kA=(0,ve.Z)(function*(n,e){const t=Ye(n);if(NA(t),LA(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield n1(t,i.toArray());t.fc=!0,yield rA(t.remoteStore,!0);for(const a of r)Ix(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(ay(t,u),ey(t.localStore,u,!0))),b0(t.remoteStore,u)}),yield r,yield n1(t,i),function(a){const u=Ye(a);u.uc.forEach((f,_)=>{b0(u.remoteStore,_)}),u.cc.ls(),u.uc=new Map,u.oc=new ei(We.comparator)}(t),t.fc=!1,yield rA(t.remoteStore,!1)}}),kA.apply(this,arguments)}function n1(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=(0,ve.Z)(function*(n,e,t){const i=Ye(n),r=[],a=[];for(const u of e){let f;const _=i.ic.get(u);if(_&&0!==_.length){f=yield J_(i.localStore,qr(_[0]));for(const b of _){const C=i.sc.get(b),M=yield rV(i,C);M.snapshot&&a.push(M.snapshot)}}else{const b=yield kO(i.localStore,u);f=yield J_(i.localStore,b),yield pA(i,r1(b),u,!1,f.resumeToken)}r.push(f)}return i.nc.zo(a),r}),OA.apply(this,arguments)}function r1(n){return iT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function lV(n){const e=Ye(n);return Ye(Ye(e.localStore).persistence).bi()}function cV(n,e,t,i){return PA.apply(this,arguments)}function PA(){return PA=(0,ve.Z)(function*(n,e,t,i){const r=Ye(n);if(r.fc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield OO(r.localStore,t0(a[0])),f=o0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ui.EMPTY_BYTE_STRING);yield id(r,u,f);break}case"rejected":yield ey(r.localStore,e,!0),ay(r,e,i);break;default:at()}}),PA.apply(this,arguments)}function uV(n,e,t){return FA.apply(this,arguments)}function FA(){return FA=(0,ve.Z)(function*(n,e,t){const i=NA(n);if(i.fc){for(const r of e){if(i.ic.has(r)){Pe("SyncEngine","Adding an already active target "+r);continue}const a=yield kO(i.localStore,r),u=yield J_(i.localStore,a);yield pA(i,r1(a),u.targetId,!1,u.resumeToken),Ix(i.remoteStore,u)}for(const r of t)i.ic.has(r)&&(yield ey(i.localStore,r,!1).then(()=>{b0(i.remoteStore,r),ay(i,r)}).catch(xc))}}),FA.apply(this,arguments)}function NA(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q2.bind(null,e),e.nc.zo=H2.bind(null,e.eventManager),e.nc.wc=j2.bind(null,e.eventManager),e}function LA(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J2.bind(null,e),e}class Tx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.serializer=y0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return TO(this.persistence,new SO,e.initialUser,this.serializer)}createPersistence(e){return new DO(vx.Fs,this.serializer)}createSharedClientState(e){return new LO}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class VA extends Tx{constructor(e,t,i){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield t().call(i,e),yield i.mc.initialize(i,e),yield LA(i.mc.syncEngine),yield ny(i.mc.remoteStore),yield i.persistence.hi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return TO(this.persistence,new SO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new JL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new jC(t,this.persistence);return new HC(e.asyncQueue,i)}createPersistence(e){const t=MT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ls.withCacheSize(this.cacheSizeBytes):ls.DEFAULT;return new AT(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,BO(),Dx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new LO}}class o1 extends VA{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield t().call(i,e);const r=i.mc.syncEngine;i.sharedClientState instanceof BT&&(i.sharedClientState.syncEngine={$r:sV.bind(null,r),Mr:cV.bind(null,r),Fr:uV.bind(null,r),bi:lV.bind(null,r),Or:oV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.hi(function(){var a=(0,ve.Z)(function*(u){yield function aV(n,e){return kA.apply(this,arguments)}(i.mc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=BO();if(!BT.D(t))throw new Te(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=MT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new BT(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ly{initialize(e,t){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>e1(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=nV.bind(null,i.syncEngine),yield rA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new U2}createDatastore(e){const t=y0(e.databaseInfo.databaseId),i=new C2(e.databaseInfo);return new I2(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>e1(this.syncEngine,f,0),u=VO.D()?new VO:new b2,new A2(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,b){const C=new W2(i,r,a,u,f,_);return b&&(C.fc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const i=Ye(t);Pe("RemoteStore","RemoteStore shutting down."),i.du.add(5),yield ty(i),i._u.shutdown(),i.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function s1(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Ax{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hV{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new Si,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(i=>{i&&i.ku()?this.metadata.resolve(i.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Nu)}`))},i=>this.metadata.reject(i))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const i=e.Tc.decode(t),r=Number(i);isNaN(r)&&e.Rc(`length string (${i}) is not valid number`);const a=yield e.vc(r);return new z2(JSON.parse(a),t.length+r)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,ve.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const i=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class fV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Te(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(a,u){const f=Ye(a),_=l0(f.serializer)+"/documents",b={documents:u.map(B=>a0(f.serializer,B))},C=yield f.fo("BatchGetDocuments",_,b,u.length),M=new Map;C.forEach(B=>{const q=function OL(n,e){return"found"in e?function(t,i){Ct(!!i.found);const r=Rc(t,i.found.name),a=Hi(i.found.updateTime),u=i.found.createTime?Hi(i.found.createTime):It.min(),f=new Ti({mapValue:{fields:i.found.fields}});return Ln.newFoundDocument(r,a,u,f)}(n,e):"missing"in e?function(t,i){Ct(!!i.missing),Ct(!!i.readTime);const r=Rc(t,i.missing),a=Hi(i.readTime);return Ln.newNoDocument(r,a)}(n,e):at()}(f.serializer,B);M.set(q.key.toString(),q)});const P=[];return u.forEach(B=>{const q=M.get(B.toString());Ct(!!q),P.push(q)}),P}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Z_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=We.fromPath(r);e.mutations.push(new uT(a,e.precondition(a)))}),yield(i=(0,ve.Z)(function*(r,a){const u=Ye(r),f=l0(u.serializer)+"/documents",_={writes:a.map(b=>c0(u.serializer,b))};yield u.co("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=It.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Te(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(It.min())?$.exists(!1):$.updateTime(t):$.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Te(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $.updateTime(t)}return $.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pV{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Vc=i.maxAttempts,this.Co=new HT(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,ve.Z)(function*(){const t=new fV(e.datastore),i=e.Dc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Cc(a)}))}).catch(r=>{e.Cc(r)})}))}Dc(e){try{const t=this.updateFunction(e);return!Sp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Fk(t)}return!1}}class mV{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=tr.UNAUTHENTICATED,this.clientId=A_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ve.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Pe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ry(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Mx(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(a){i.isEqual(a)||(yield AO(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),BA.apply(this,arguments)}function UA(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield jA(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>qO(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>qO(e.remoteStore,a)),n._onlineComponents=e}),HA.apply(this,arguments)}function a1(n){return"FirebaseError"===n.name?n.code===le.FAILED_PRECONDITION||n.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function jA(n){return zA.apply(this,arguments)}function zA(){return zA=(0,ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mx(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!a1(t))throw t;Ls("Error using user provided cache. Falling back to memory cache: "+t),yield Mx(n,new Tx)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),yield Mx(n,new Tx);return n._offlineComponents}),zA.apply(this,arguments)}function Rx(n){return $A.apply(this,arguments)}function $A(){return $A=(0,ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),yield UA(n,n._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield UA(n,new ly))),n._onlineComponents}),$A.apply(this,arguments)}function l1(n){return jA(n).then(e=>e.persistence)}function kx(n){return jA(n).then(e=>e.localStore)}function GA(n){return Rx(n).then(e=>e.remoteStore)}function qA(n){return Rx(n).then(e=>e.syncEngine)}function cy(n){return WA.apply(this,arguments)}function WA(){return WA=(0,ve.Z)(function*(n){const e=yield Rx(n),t=e.eventManager;return t.onListen=Z2.bind(null,e.syncEngine),t.onUnlisten=K2.bind(null,e.syncEngine),t}),WA.apply(this,arguments)}function u1(n,e,t={}){const i=new Si;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,a,u,f,_){const b=new Ax({next:M=>{a.enqueueAndForget(()=>cA(r,C));const P=M.docs.has(u);!P&&M.fromCache?_.reject(new Te(le.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&M.fromCache&&f&&"server"===f.source?_.reject(new Te(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),C=new hA(Fp(u.path),b,{includeMetadataChanges:!0,xu:!0});return aA(r,C)}(yield cy(n),n.asyncQueue,e,t,i)})),i.promise}function d1(n,e,t={}){const i=new Si;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,a,u,f,_){const b=new Ax({next:M=>{a.enqueueAndForget(()=>cA(r,C)),M.fromCache&&"server"===f.source?_.reject(new Te(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),C=new hA(u,b,{includeMetadataChanges:!0,xu:!0});return aA(r,C)}(yield cy(n),n.asyncQueue,e,t,i)})),i.promise}const h1=new Map;function ZA(n,e,t){if(!t)throw new Te(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function f1(n,e,t,i){if(!0===e&&!0===i)throw new Te(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function p1(n){if(!We.isDocumentKey(n))throw new Te(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function m1(n){if(We.isDocumentKey(n))throw new Te(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ox(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ox(n);throw new Te(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function g1(n,e){if(e<=0)throw new Te(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class _1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,f1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class w0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Dh;switch(t.type){case"firstParty":return new _k(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Te(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=h1.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),h1.delete(e),t.terminate())}(this),Promise.resolve()}}class ti{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class Wr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wr(this.firestore,e,this._query)}}class kc extends Wr{constructor(e,t,i){super(e,t,Fp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new We(e))}withConverter(e){return new kc(this.firestore,e,this._path)}}function v1(n,e,...t){if(n=(0,hn.m9)(n),ZA("collection","path",e),n instanceof w0){const i=un.fromString(e,...t);return m1(i),new kc(n,null,i)}{if(!(n instanceof ti||n instanceof kc))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(un.fromString(e,...t));return m1(i),new kc(n.firestore,null,i)}}function Px(n,e,...t){if(n=(0,hn.m9)(n),1===arguments.length&&(e=A_.A()),ZA("doc","path",e),n instanceof w0){const i=un.fromString(e,...t);return p1(i),new ti(n,null,new We(i))}{if(!(n instanceof ti||n instanceof kc))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(un.fromString(e,...t));return p1(i),new ti(n.firestore,n instanceof kc?n.converter:null,new We(i))}}function b1(n,e){return n=(0,hn.m9)(n),e=(0,hn.m9)(e),(n instanceof ti||n instanceof kc)&&(e instanceof ti||e instanceof kc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function KA(n,e){return n=(0,hn.m9)(n),e=(0,hn.m9)(e),n instanceof Wr&&e instanceof Wr&&n.firestore===e.firestore&&Mh(n._query,e._query)&&n.converter===e.converter}class DV{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new HT(this,"async_queue_retry"),this.qc=()=>{const t=Dx();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=Dx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=Dx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new Si;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,ve.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Dc(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(i=>{throw this.Mc=i,this.Fc=!1,hi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Fc=!1,i))));return this.Nc=t,t}enqueueAfterDelay(e,t,i){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const r=sA.createAndSchedule(this,e,t,i,a=>this.Qc(a));return this.$c.push(r),r}Uc(){this.Mc&&at()}verifyOperationInProgress(){}zc(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function YA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class IV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Si,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ni extends w0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new DV,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||w1(this),this._firestoreClient.terminate()}}function ji(n){return n._firestoreClient||w1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function w1(n){var e,t,i;const r=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new YC(n._databaseId,f,n._persistenceKey,(b=r).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var f,b;n._firestoreClient=new mV(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function E1(n,e,t){const i=new Si;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield Mx(n,t),yield UA(n,e),i.resolve()}catch(r){const a=r;if(!a1(a))throw a;Ls("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function C1(n){if(n._initialized||n._terminated)throw new Te(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oc(Ui.fromBase64String(e))}catch(t){throw new Te(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oc(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wp{constructor(e){this._methodName=e}}class Fx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const LV=/^__.*__$/;class VV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new mn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nt(e,this.data,t,this.fieldTransforms)}}class x1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new mn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function D1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class Nx{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Nx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.ea(e),r}na(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.Jc(),r}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Bx(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(D1(this.Yc)&&LV.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class BV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||y0(e)}ua(e,t,i,r=!1){return new Nx({Yc:e,methodName:t,oa:i,path:jn.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zp(n){const e=n._freezeSettings(),t=y0(n._databaseId);return new BV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Lx(n,e,t,i,r,a={}){const u=n.ua(a.merge||a.mergeFields?2:0,e,t,r);eM("Data must be an object, but it was:",u,i);const f=T1(i,u);let _,b;if(a.merge)_=new fo(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const C=[];for(const M of a.mergeFields){const P=x0(e,M,t);if(!u.contains(P))throw new Te(le.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);M1(C,P)||C.push(P)}_=new fo(C),b=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=u.fieldTransforms;return new VV(new Ti(f),_,b)}class C0 extends Wp{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof C0}}function I1(n,e,t){return new Nx({Yc:3,oa:e.settings.oa,methodName:n._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class QA extends Wp{_toFieldTransform(e){return new T(e.path,new s)}isEqual(e){return e instanceof QA}}class UV extends Wp{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=I1(this,e,!0),i=this.ca.map(a=>Kp(a,t)),r=new l(i);return new T(e.path,r)}isEqual(e){return this===e}}class HV extends Wp{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=I1(this,e,!0),i=this.ca.map(a=>Kp(a,t)),r=new h(i);return new T(e.path,r)}isEqual(e){return this===e}}class jV extends Wp{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new v(e.serializer,lT(e.serializer,this.aa));return new T(e.path,t)}isEqual(e){return this===e}}function XA(n,e,t,i){const r=n.ua(1,e,t);eM("Data must be an object, but it was:",r,i);const a=[],u=Ti.empty();Sh(i,(_,b)=>{const C=Vx(e,_,t);b=(0,hn.m9)(b);const M=r.na(C);if(b instanceof C0)a.push(C);else{const P=Kp(b,M);null!=P&&(a.push(C),u.set(C,P))}});const f=new fo(a);return new x1(u,f,r.fieldTransforms)}function JA(n,e,t,i,r,a){const u=n.ua(1,e,t),f=[x0(e,i,t)],_=[r];if(a.length%2!=0)throw new Te(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<a.length;P+=2)f.push(x0(e,a[P])),_.push(a[P+1]);const b=[],C=Ti.empty();for(let P=f.length-1;P>=0;--P)if(!M1(b,f[P])){const B=f[P];let q=_[P];q=(0,hn.m9)(q);const J=u.na(B);if(q instanceof C0)b.push(B);else{const ce=Kp(q,J);null!=ce&&(b.push(B),C.set(B,ce))}}const M=new fo(b);return new x1(C,M,u.fieldTransforms)}function S1(n,e,t,i=!1){return Kp(t,n.ua(i?4:3,e))}function Kp(n,e){if(A1(n=(0,hn.m9)(n)))return eM("Unsupported field value:",e,n),T1(n,e);if(n instanceof Wp)return function(t,i){if(!D1(i.Yc))throw i.ia(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ia(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=Kp(u,i.sa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,hn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lT(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Wn.fromDate(t);return{timestampValue:K_(i.serializer,r)}}if(t instanceof Wn){const r=new Wn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:K_(i.serializer,r)}}if(t instanceof Fx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oc)return{bytesValue:jk(i.serializer,t._byteString)};if(t instanceof ti){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ia(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:gT(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ia(`Unsupported field value: ${Ox(t)}`)}(n,e)}function T1(n,e){const t={};return ZC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sh(n,(i,r)=>{const a=Kp(r,e.Xc(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function A1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Wn||n instanceof Fx||n instanceof Oc||n instanceof ti||n instanceof Wp)}function eM(n,e,t){if(!A1(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Ox(t);throw e.ia("an object"===i?n+" a custom object":n+" "+i)}var i}function x0(n,e,t){if((e=(0,hn.m9)(e))instanceof rd)return e._internalPath;if("string"==typeof e)return Vx(n,e);throw Bx("Field path arguments must be of type string or ",n,!1,void 0,t)}const zV=new RegExp("[~\\*/\\[\\]]");function Vx(n,e,t){if(e.search(zV)>=0)throw Bx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rd(...e.split("."))._internalPath}catch{throw Bx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bx(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Te(le.INVALID_ARGUMENT,f+n+_)}function M1(n,e){return n.some(t=>t.isEqual(e))}class D0{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $V(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ux("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $V extends D0{data(){return super.data()}}function Ux(n,e){return"string"==typeof e?Vx(n,e):e instanceof rd?e._internalPath:e._delegate._internalPath}function R1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Te(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tM{}class I0 extends tM{}function Lh(n,e,...t){let i=[];e instanceof tM&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof uy).length,u=r.filter(f=>f instanceof S0).length;if(a>1||a>0&&u>0)throw new Te(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class S0 extends I0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new S0(e,t,i)}_apply(e){const t=this._parse(e);return F1(e._query,t),new Wr(e.firestore,e.converter,Xb(e._query,t))}_parse(e){const t=Zp(e.firestore);return function(r,a,u,f,_,b,C){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Te(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){P1(C,b);const P=[];for(const B of C)P.push(O1(f,r,B));M={arrayValue:{values:P}}}else M=O1(f,r,C)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||P1(C,b),M=S1(u,"where",C,"in"===b||"not-in"===b);return ln.create(_,b,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class uy extends tM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new uy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:En.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const u=r.getFlattenedFilters();for(const f of u)F1(a,f),a=Xb(a,f)}(e._query,t),new Wr(e.firestore,e.converter,Xb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nM extends I0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new nM(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Te(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Te(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new wl(r,a);return function(f,_){if(null===sx(f)){const b=Np(f);null!==b&&N1(0,b,_.field)}}(i,u),u}(e._query,this._field,this._direction);return new Wr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new as(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Hx extends I0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Hx(e,t,i)}_apply(e){return new Wr(e.firestore,e.converter,Lp(e._query,this._limit,this._limitType))}}class jx extends I0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new jx(e,t,i)}_apply(e){const t=k1(e,this.type,this._docOrFields,this._inclusive);return new Wr(e.firestore,e.converter,(r=t,new as((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class zx extends I0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new zx(e,t,i)}_apply(e){const t=k1(e,this.type,this._docOrFields,this._inclusive);return new Wr(e.firestore,e.converter,(r=t,new as((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function k1(n,e,t,i){if(t[0]=(0,hn.m9)(t[0]),t[0]instanceof D0)return function(r,a,u,f,_){if(!f)throw new Te(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const C of td(r))if(C.field.isKeyField())b.push(Ju(a,f.key));else{const M=f.data.field(C.field);if(V_(M))throw new Te(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const P=C.field.canonicalString();throw new Te(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}b.push(M)}return new bl(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Zp(n.firestore);return function(a,u,f,_,b,C){const M=a.explicitOrderBy;if(b.length>M.length)throw new Te(le.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let B=0;B<b.length;B++){const q=b[B];if(M[B].field.isKeyField()){if("string"!=typeof q)throw new Te(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof q}`);if(!Qb(a)&&-1!==q.indexOf("/"))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${q}' contains a slash.`);const J=a.path.child(un.fromString(q));if(!We.isDocumentKey(J))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const ce=new We(J);P.push(Ju(u,ce))}else{const J=S1(f,_,q);P.push(J)}}return new bl(P,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function O1(n,e,t){if("string"==typeof(t=(0,hn.m9)(t))){if(""===t)throw new Te(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qb(e)&&-1!==t.indexOf("/"))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(un.fromString(t));if(!We.isDocumentKey(i))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ju(n,new We(i))}if(t instanceof ti)return Ju(n,t._key);throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ox(t)}.`)}function P1(n,e){if(!Array.isArray(n)||0===n.length)throw new Te(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F1(n,e){if(e.isInequality()){const i=Np(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Te(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=sx(n);null!==a&&N1(0,r,a)}const t=function(i,r){for(const a of i)for(const u of a.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Te(le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function N1(n,e,t){if(!t.isEqual(e))throw new Te(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class iM{convertValue(e,t="none"){switch(Xu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const i={};return Sh(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new Fx(fi(e.latitude),fi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Mp(e));default:return null}}convertTimestamp(e){const t=Sc(e);return new Wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=un.fromString(e);Ct(Xk(i));const r=new vl(i.get(1),i.get(3)),a=new We(i.popFirst(5));return r.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function $x(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class JV extends iM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,t)}}class Yp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class od extends D0{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new T0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ux("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class T0 extends od{data(e={}){return super.data(e)}}class Vh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new T0(this._firestore,this._userDataWriter,i.key,i,new Yp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new T0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new T0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:tB(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function tB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function V1(n,e){return n instanceof od&&e instanceof od?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Vh&&e instanceof Vh&&n._firestore===e._firestore&&KA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Bh extends iM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,t)}}function B1(n,e,t){n=fn(n,ti);const i=fn(n.firestore,ni),r=$x(n.converter,e,t);return dy(i,[Lx(Zp(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,$.none())])}function U1(n,e,t,...i){n=fn(n,ti);const r=fn(n.firestore,ni),a=Zp(r);let u;return u="string"==typeof(e=(0,hn.m9)(e))||e instanceof rd?JA(a,"updateDoc",n._key,e,t,i):XA(a,"updateDoc",n._key,e),dy(r,[u.toMutation(n._key,$.exists(!0))])}function H1(n,...e){var t,i,r;n=(0,hn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||YA(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(YA(e[u])){const M=e[u];e[u]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,b,C;if(n instanceof ti)b=fn(n.firestore,ni),C=Fp(n._key.path),_={next:M=>{e[u]&&e[u](rM(b,n,M))},error:e[u+1],complete:e[u+2]};else{const M=fn(n,Wr);b=fn(M.firestore,ni),C=M._query;const P=new Bh(b);_={next:B=>{e[u]&&e[u](new Vh(b,P,M,B))},error:e[u+1],complete:e[u+2]},R1(n._query)}return function(M,P,B,q){const J=new Ax(q),ce=new hA(P,J,B);return M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return aA(yield cy(M),ce)})),()=>{J.yc(),M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return cA(yield cy(M),ce)}))}}(ji(b),C,f,_)}function dy(n,e){return function(t,i){const r=new Si;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Y2(n,e,t){return _A.apply(this,arguments)}(yield qA(t),i,r)})),r.promise}(ji(n),e)}function rM(n,e,t){const i=t.docs.get(e._key),r=new Bh(n);return new od(n,r,e._key,i,new Yp(t.hasPendingWrites,t.fromCache),e.converter)}const _B={maxAttempts:5};class j1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zp(e)}set(e,t,i){this._verifyNotCommitted();const r=Uh(e,this._firestore),a=$x(r.converter,t,i),u=Lx(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,$.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Uh(e,this._firestore);let u;return u="string"==typeof(t=(0,hn.m9)(t))||t instanceof rd?JA(this._dataReader,"WriteBatch.update",a._key,t,i,r):XA(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,$.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uh(e,this._firestore);return this._mutations=this._mutations.concat(new Z_(t._key,$.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uh(n,e){if((n=(0,hn.m9)(n)).firestore!==e)throw new Te(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zp(e)}get(e){const t=Uh(e,this._firestore),i=new JV(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return at();const a=r[0];if(a.isFoundDocument())return new D0(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new D0(this._firestore,i,t._key,null,t.converter);throw at()})}set(e,t,i){const r=Uh(e,this._firestore),a=$x(r.converter,t,i),u=Lx(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=Uh(e,this._firestore);let u;return u="string"==typeof(t=(0,hn.m9)(t))||t instanceof rd?JA(this._dataReader,"Transaction.update",a._key,t,i,r):XA(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Uh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uh(e,this._firestore),i=new Bh(this._firestore);return super.get(e).then(r=>new od(this._firestore,i,t._key,r._document,new Yp(!1,!1),t.converter))}}!function(n,e=!0){xh=Bu.SDK_VERSION,(0,Bu._registerComponent)(new Lg.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new ni(new FS(t.getProvider("auth-internal")),new Pb(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Te(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Bu.registerVersion)(I_,"3.10.0",n),(0,Bu.registerVersion)(I_,"3.10.0","esm2017")}();function oM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function $1(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function G1(){if(!function os(){return typeof atob<"u"}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}class A0{constructor(e){this._delegate=e}static fromBase64String(e){return G1(),new A0(Oc.fromBase64String(e))}static fromUint8Array(e){return $1(),new A0(Oc.fromUint8Array(e))}toBase64(){return G1(),this._delegate.toBase64()}toUint8Array(){return $1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sM(n){return function SB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class TB{enableIndexedDbPersistence(e,t){return function TV(n,e){C1(n=fn(n,ni));const t=ji(n);if(t._uninitializedComponentsProvider)throw new Te(le.FAILED_PRECONDITION,"SDK cache is already specified.");Ls("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new ly;return E1(t,r,new VA(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function AV(n){C1(n=fn(n,ni));const e=ji(n);if(e._uninitializedComponentsProvider)throw new Te(le.FAILED_PRECONDITION,"SDK cache is already specified.");Ls("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new ly;return E1(e,i,new o1(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function MV(n){if(n._initialized&&!n._terminated)throw new Te(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Si;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(i){if(!rs.D())return Promise.resolve();const r=i+"main";yield rs.delete(r)}),function(i){return t.apply(this,arguments)})(MT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class q1{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof vl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ls("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function y1(n,e,t,i={}){var r;const a=(n=fn(n,w0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ls("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=tr.MOCK_USER;else{u=(0,hn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Te(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new tr(_)}n._authCredentials=new PS(new Fr(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function kV(n){return function gV(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield l1(n),t=yield GA(n);return e.setNetworkEnabled(!0),function(i){const r=Ye(i);return r.du.delete(0),v0(r)}(t)}))}(ji(n=fn(n,ni)))}(this._delegate)}disableNetwork(){return function OV(n){return function _V(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield l1(n),t=yield GA(n);return e.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const a=Ye(r);a.du.add(0),yield ty(a),a.mu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(ji(n=fn(n,ni)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,f1("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function RV(n){return function(e){const t=new Si;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function eV(n,e){return EA.apply(this,arguments)}(yield qA(e),t)})),t.promise}(ji(n=fn(n,ni)))}(this._delegate)}onSnapshotsInSync(e){return function uB(n,e){return function bV(n,e){const t=new Ax(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield cy(n),r=t,Ye(i).Au.add(r),void r.next();var i,r})),()=>{t.yc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield cy(n),r=t,void Ye(i).Au.delete(r);var i,r}))}}(ji(n=fn(n,ni)),YA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new hy(this,v1(this._delegate,e))}catch(t){throw Lo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Sa(this,Px(this._delegate,e))}catch(t){throw Lo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vo(this,function xV(n,e){if(n=fn(n,w0),ZA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Te(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wr(n,null,(t=e,new as(un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Lo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function vB(n,e,t){n=fn(n,ni);const i=Object.assign(Object.assign({},_B),t);return function(r){if(r.maxAttempts<1)throw new Te(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,u){const f=new Si;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const _=yield function c1(n){return Rx(n).then(e=>e.datastore)}(r);new pV(r.asyncQueue,_,u,a,f).run()})),f.promise}(ji(n),r=>e(new yB(n,r)),i)}(this._delegate,t=>e(new W1(this,t)))}batch(){return ji(this._delegate),new Z1(new j1(this._delegate,e=>dy(this._delegate,e)))}loadBundle(e){return function PV(n,e){const t=ji(n=fn(n,ni)),i=new IV;return function wV(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return s1(_,b);if(_ instanceof ArrayBuffer)return s1(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new hV(_,u);var _}(t,y0(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function dV(n,e,t){const i=Ye(n);var r;(r=(0,ve.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(P,B){const q=Ye(P),J=Hi(B.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",ce=>q.xs.getBundleMetadata(ce,B.id)).then(ce=>!!ce&&ce.createTime.compareTo(J)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(P=_).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);f._updateProgress(KO(_));const b=new $2(_,a.localStore,u.serializer);let C=yield u._c();for(;C;){const P=yield b.$u(C);P&&f._updateProgress(P),C=yield u._c()}const M=yield b.complete();return yield id(a,M.Bu,void 0),yield function(P,B){const q=Ye(P);return q.persistence.runTransaction("Save bundle","readwrite",J=>q.xs.saveBundleMetadata(J,B))}(a.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Fu)}catch(_){return Ls("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var P}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield qA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function FV(n,e){return function EV(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,i){const r=Ye(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.xs.getNamedQuery(a,i))}(yield kx(n),e)}))}(ji(n=fn(n,ni)),e).then(t=>t?new Wr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Vo(this,t):null)}}class Gx extends iM{constructor(e){super(),this.firestore=e}convertBytes(e){return new A0(new Oc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Sa.forKey(t,this.firestore,null)}}class W1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Gx(e)}get(e){const t=Xp(e);return this._delegate.get(t).then(i=>new M0(this._firestore,new od(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Xp(e);return i?(oM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Xp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Xp(e);return this._delegate.delete(t),this}}class Z1{constructor(e){this._delegate=e}set(e,t,i){const r=Xp(e);return i?(oM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Xp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Xp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qp{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new T0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new R0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Qp.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Qp(e,new Gx(e),t),r.set(t,a)),a}}Qp.INSTANCES=new WeakMap;class Sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Gx(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Sa(t,new ti(t._delegate,i,new We(e)))}static forKey(e,t,i){return new Sa(t,new ti(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new hy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new hy(this.firestore,v1(this._delegate,e))}catch(t){throw Lo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,hn.m9)(e))instanceof ti&&b1(this._delegate,e)}set(e,t){t=oM("DocumentReference.set",t);try{return t?B1(this._delegate,e,t):B1(this._delegate,e)}catch(i){throw Lo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?U1(this._delegate,e):U1(this._delegate,e,t,...i)}catch(r){throw Lo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function lB(n){return dy(fn(n.firestore,ni),[new Z_(n._key,$.none())])}(this._delegate)}onSnapshot(...e){const t=K1(e),i=Y1(e,r=>new M0(this.firestore,new od(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return H1(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function iB(n){n=fn(n,ti);const e=fn(n.firestore,ni),t=ji(e),i=new Bh(e);return function yV(n,e){const t=new Si;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,a,u){try{const f=yield function(_,b){const C=Ye(_);return C.persistence.runTransaction("read document","readonly",M=>C.localDocuments.getDocument(M,b))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Te(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=ry(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield kx(n),e,t);var i})),t.promise}(t,n._key).then(r=>new od(e,i,n._key,r,new Yp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function rB(n){n=fn(n,ti);const e=fn(n.firestore,ni);return u1(ji(e),n._key,{source:"server"}).then(t=>rM(e,n,t))}(this._delegate):function nB(n){n=fn(n,ti);const e=fn(n.firestore,ni);return u1(ji(e),n._key).then(t=>rM(e,n,t))}(this._delegate),t.then(i=>new M0(this.firestore,new od(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Sa(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}function Lo(n,e,t){return n.message=n.message.replace(e,t),n}function K1(n){for(const e of n)if("object"==typeof e&&!sM(e))return e;return{}}function Y1(n,e){var t,i;let r;return r=sM(n[0])?n[0]:sM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class M0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return V1(this._delegate,e._delegate)}}class R0 extends M0{data(e){const t=this._delegate.data(e);return function kC(n,e){n||at()}(void 0!==t),t}}class Vo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Gx(e)}where(e,t,i){try{return new Vo(this.firestore,Lh(this._delegate,function GV(n,e,t){const i=e,r=Ux("where",n);return S0._create(r,i,t)}(e,t,i)))}catch(r){throw Lo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vo(this.firestore,Lh(this._delegate,function qV(n,e="asc"){const t=e,i=Ux("orderBy",n);return nM._create(i,t)}(e,t)))}catch(i){throw Lo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vo(this.firestore,Lh(this._delegate,function WV(n){return g1("limit",n),Hx._create("limit",n,"F")}(e)))}catch(t){throw Lo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Vo(this.firestore,Lh(this._delegate,function ZV(n){return g1("limitToLast",n),Hx._create("limitToLast",n,"L")}(e)))}catch(t){throw Lo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vo(this.firestore,Lh(this._delegate,function KV(...n){return jx._create("startAt",n,!0)}(...e)))}catch(t){throw Lo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vo(this.firestore,Lh(this._delegate,function YV(...n){return jx._create("startAfter",n,!1)}(...e)))}catch(t){throw Lo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vo(this.firestore,Lh(this._delegate,function QV(...n){return zx._create("endBefore",n,!1)}(...e)))}catch(t){throw Lo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vo(this.firestore,Lh(this._delegate,function XV(...n){return zx._create("endAt",n,!0)}(...e)))}catch(t){throw Lo(t,"endAt()","Query.endAt()")}}isEqual(e){return KA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function sB(n){n=fn(n,Wr);const e=fn(n.firestore,ni),t=ji(e),i=new Bh(e);return function vV(n,e){const t=new Si;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,a,u){try{const f=yield wx(r,a,!0),_=new XO(a,f.Wi),b=_.zu(f.documents),C=_.applyChanges(b,!1);u.resolve(C.snapshot)}catch(f){const _=ry(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield kx(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Vh(e,i,n,r))}(this._delegate):"server"===e?.source?function aB(n){n=fn(n,Wr);const e=fn(n.firestore,ni),t=ji(e),i=new Bh(e);return d1(t,n._query,{source:"server"}).then(r=>new Vh(e,i,n,r))}(this._delegate):function oB(n){n=fn(n,Wr);const e=fn(n.firestore,ni),t=ji(e),i=new Bh(e);return R1(n._query),d1(t,n._query).then(r=>new Vh(e,i,n,r))}(this._delegate),t.then(i=>new aM(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=K1(e),i=Y1(e,r=>new aM(this.firestore,new Vh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return H1(this._delegate,t,i)}withConverter(e){return new Vo(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}class MB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new R0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class aM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new R0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new MB(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new R0(this._firestore,i))})}isEqual(e){return V1(this._delegate,e._delegate)}}class hy extends Vo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Sa(this.firestore,e):null}doc(e){try{return new Sa(this.firestore,void 0===e?Px(this._delegate):Px(this._delegate,e))}catch(t){throw Lo(t,"doc()","CollectionReference.doc()")}}add(e){return function cB(n,e){const t=fn(n.firestore,ni),i=Px(n),r=$x(n.converter,e);return dy(t,[Lx(Zp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,$.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Sa(this.firestore,t))}isEqual(e){return b1(this._delegate,e._delegate)}withConverter(e){return new hy(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}function Xp(n){return fn(n,ti)}class lM{constructor(...e){this._delegate=new rd(...e)}static documentId(){return new lM(jn.keyField().canonicalString())}isEqual(e){return(e=(0,hn.m9)(e))instanceof rd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function wB(){return new QA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Jp(e)}static delete(){const e=function bB(){return new C0("deleteField")}();return e._methodName="FieldValue.delete",new Jp(e)}static arrayUnion(...e){const t=function EB(...n){return new UV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Jp(t)}static arrayRemove(...e){const t=function CB(...n){return new HV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Jp(t)}static increment(e){const t=function xB(n){return new jV("increment",n)}(e);return t._methodName="FieldValue.increment",new Jp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const RB={Firestore:q1,GeoPoint:Fx,Timestamp:Wn,Blob:A0,Transaction:W1,WriteBatch:Z1,DocumentReference:Sa,DocumentSnapshot:M0,Query:Vo,QueryDocumentSnapshot:R0,QuerySnapshot:aM,CollectionReference:hy,FieldPath:lM,FieldValue:Jp,setLogLevel:function AB(n){!function RC(n){Cc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function OB(n){(function kB(n,e){n.INTERNAL.registerComponent(new Lg.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},RB)))})(n,(e,t)=>new q1(e,t,new TB)),n.registerVersion("@firebase/firestore-compat","0.3.6")}(ME.Z);var em=F(6451),qx=F(5363),PB=F(6063);class FB extends Xt.x{constructor(e=1/0,t=1/0,i=PB.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var Q1=F(3099);function X1(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,Q1.B)({connector:()=>new FB(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function J1(n,e){return(0,Ki.m)(e)?ci(()=>n,e):ci(()=>n)}var cM=F(9468);F(259);const dM=new Map,tP={activated:!1,tokenObservers:[]},UB={initialized:!1,enabled:!1};function Zr(n){return dM.get(n)||Object.assign({},tP)}function Zx(){return UB}const hM="https://content-firebaseappcheck.googleapis.com/v1",$B="exchangeDebugToken",nP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class qB{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new hn.BH,yield function WB(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new hn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Bo=new hn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mM(){return mM=(0,ve.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(M){throw Bo.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==u.status)throw Bo.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(M){throw Bo.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Bo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+b,issuedAtTimeMillis:C}}),mM.apply(this,arguments)}const XB="firebase-app-check-database",JB=1,k0="firebase-app-check-store";let Qx=null;function gM(){return gM=(0,ve.Z)(function*(n,e){const i=(yield function oP(){return Qx||(Qx=new Promise((n,e)=>{try{const t=indexedDB.open(XB,JB);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Bo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(k0,{keyPath:"compositeKey"})}}catch(t){e(Bo.create("storage-open",{originalErrorMessage:t?.message}))}}),Qx)}()).transaction(k0,"readwrite"),a=i.objectStore(k0).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var b;f(Bo.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),gM.apply(this,arguments)}const O0=new vc.Yd("@firebase/app-check");function vM(n,e){return(0,hn.hl)()?function tU(n,e){return function sP(n,e){return gM.apply(this,arguments)}(function lP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{O0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function wM(){return wM=(0,ve.Z)(function*(){const n=Zx();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),wM.apply(this,arguments)}const aU={error:"UNKNOWN_ERROR"};function lU(n){return hn.US.encodeString(JSON.stringify(n),!1)}function Xx(n){return EM.apply(this,arguments)}function EM(){return EM=(0,ve.Z)(function*(n,e=!1){const t=n.app;!function iP(n){if(!Zr(n).activated)throw Bo.create("use-before-activation",{appName:n.name})}(t);const i=Zr(t);let a,r=i.token;if(r&&!fy(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(fy(_)?r=_:yield vM(t,void 0))}if(!e&&r&&fy(r))return{token:r.token};let f,u=!1;if(function cP(){return Zx().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function pM(n,e){return mM.apply(this,arguments)}(function QB(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${hM}/projects/${t}/apps/${i}:${$B}?key=${r}`,body:{debug_token:e}}}(t,yield function uP(){return wM.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield vM(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Zr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?O0.warn(_.message):O0.error(_),a=_}return r?a?f=fy(r)?{token:r.token,internalError:a}:fP(a):(f={token:r.token},i.token=r,yield vM(t,r)):f=fP(a),u&&function hP(n,e){const t=Zr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,f),f}),EM.apply(this,arguments)}function xM(n,e){const t=Zr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function dP(n){const{app:e}=n,t=Zr(e);let i=t.tokenRefresher;i||(i=function cU(n){const{app:e}=n;return new qB((0,ve.Z)(function*(){let i;if(i=Zr(e).token?yield Xx(n,!0):yield Xx(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Zr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},nP.RETRIAL_MIN_WAIT,nP.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function fy(n){return n.expireTimeMillis-Date.now()>0}function fP(n){return{token:lU(aU),error:n}}class uU{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Zr(this.app);for(const t of e)xM(this.app,t.next);return Promise.resolve()}}const wP="app-check-internal";!function xU(){(0,Bu._registerComponent)(new Lg.wA("app-check",n=>function dU(n,e){return new uU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wP).initialize()})),(0,Bu._registerComponent)(new Lg.wA(wP,n=>function hU(n){return{getToken:e=>Xx(n,e),addTokenListener:e=>function CM(n,e,t,i){const{app:r}=n,a=Zr(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&fy(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),dP(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>dP(n))}(n,"INTERNAL",e),removeTokenListener:e=>xM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Bu.registerVersion)("@firebase/app-check","0.6.4")}();class TM{constructor(){return(0,Xi.vb)("app-check")}}typeof window<"u"&&window;var CP=F(9260);const xP=new c.OlP("angularfire2.auth.use-emulator"),DP=new c.OlP("angularfire2.auth.settings"),IP=new c.OlP("angularfire2.auth.tenant-id"),SP=new c.OlP("angularfire2.auth.langugage-code"),TP=new c.OlP("angularfire2.auth.use-device-language"),AP=new c.OlP("angularfire.auth.persistence"),MP=(n,e,t,i,r,a,u,f)=>(0,Ci.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[b,C]of Object.entries(u))_.settings[b]=C;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let MM=(()=>{class n{constructor(t,i,r,a,u,f,_,b,C,M,P,B){const q=new Xt.x,J=Xe(void 0).pipe((0,qx.Q)(u.outsideAngular),ci(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9800)))),(0,ht.U)(()=>(0,Ci.on)(t,a,i)),(0,ht.U)(ce=>MP(ce,a,f,b,C,M,_,P)),X1({bufferSize:1,refCount:!1}));if(kl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{J.pipe(Ar()).subscribe();const qe=J.pipe(ci(Dt=>Dt.getRedirectResult().then(qt=>qt,()=>null)),Xi.iC,X1({bufferSize:1,refCount:!1})),gt=J.pipe(ci(Dt=>new Rn.y(qt=>({unsubscribe:a.runOutsideAngular(()=>Dt.onAuthStateChanged(Kt=>qt.next(Kt),Kt=>qt.error(Kt),()=>qt.complete()))})))),pt=J.pipe(ci(Dt=>new Rn.y(qt=>({unsubscribe:a.runOutsideAngular(()=>Dt.onIdTokenChanged(Kt=>qt.next(Kt),Kt=>qt.error(Kt),()=>qt.complete()))}))));this.authState=qe.pipe(J1(gt),(0,cM.R)(u.outsideAngular),(0,qx.Q)(u.insideAngular)),this.user=qe.pipe(J1(pt),(0,cM.R)(u.outsideAngular),(0,qx.Q)(u.insideAngular)),this.idToken=this.user.pipe(ci(Dt=>Dt?(0,Qt.D)(Dt.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(ci(Dt=>Dt?(0,Qt.D)(Dt.getIdTokenResult()):Xe(null))),this.credential=(0,em.T)(qe,q,this.authState.pipe(vi(Dt=>!Dt))).pipe((0,ht.U)(Dt=>Dt?.user?Dt:null),(0,cM.R)(u.outsideAngular),(0,qx.Q)(u.insideAngular))}return(0,Ci.pX)(this,J,a,{spy:{apply:(ce,qe,gt)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&gt.then(pt=>q.next(pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ci.Dh),c.LFG(Ci.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Xi.HU),c.LFG(xP,8),c.LFG(DP,8),c.LFG(IP,8),c.LFG(SP,8),c.LFG(TP,8),c.LFG(AP,8),c.LFG(TM,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),MU=(()=>{class n{constructor(){CP.Z.registerVersion("angularfire",Xi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[MM]}),n})();function RP(n,e){return function RU(n,e=uo.z){return new Rn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function RM(n,e){return RP(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function eD(n,e){return RM(n,e).pipe(Ql(void 0),Gv(),(0,ht.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(C=>C.doc.ref.isEqual(u.ref)),b=t?.payload.docs.find(C=>C.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function kP(n,e,t){return eD(n,t).pipe(Vd((i,r)=>function OU(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function PU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return kM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return kM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return kM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Ps(),(0,ht.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function kM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function OP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class PP{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=eD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ql(void 0),Gv(),vi(([i,r])=>r.length>0||!i),(0,ht.U)(([i,r])=>r),Xi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=OP(e);return kP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xi.iC)}valueChanges(e={}){return RM(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Xi.iC)}get(e){return(0,Qt.D)(this.query.get(e)).pipe(Xi.iC)}add(e){return this.ref.add(e)}doc(e){return new FP(this.ref.doc(e),this.afs)}}class FP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=VP(i,t);return new PP(r,a,this.afs)}snapshotChanges(){return function kU(n,e){return RP(n,e).pipe(Ql(void 0),Gv(),(0,ht.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Qt.D)(this.ref.get(e)).pipe(Xi.iC)}}class FU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?eD(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),vi(t=>t.length>0),Xi.iC):eD(this.query,this.afs.schedulers.outsideAngular).pipe(Xi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=OP(e);return kP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xi.iC)}valueChanges(e={}){return RM(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Xi.iC)}get(e){return(0,Qt.D)(this.query.get(e)).pipe(Xi.iC)}}const NP=new c.OlP("angularfire2.enableFirestorePersistence"),LP=new c.OlP("angularfire2.firestore.persistenceSettings"),NU=new c.OlP("angularfire2.firestore.settings"),LU=new c.OlP("angularfire2.firestore.use-emulator");function VP(n,e=(t=>t)){return{query:e(n),ref:n}}let BP=(()=>{class n{constructor(t,i,r,a,u,f,_,b,C,M,P,B,q,J,ce,qe,gt){this.schedulers=_;const pt=(0,Ci.on)(t,f,i),Dt=C;M&&MP(pt,f,P,q,J,ce,B,qe),[this.firestore,this.persistenceEnabled$]=(0,Ci.cc)(`${pt.name}.firestore`,"AngularFirestore",pt.name,()=>{const qt=f.runOutsideAngular(()=>pt.firestore());if(a&&qt.settings(a),Dt&&qt.useEmulator(...Dt),r&&!kl(u)){const Kt=()=>{try{return(0,Qt.D)(qt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Cn){return typeof console<"u"&&console.warn(Cn),Xe(!1)}};return[qt,f.runOutsideAngular(Kt)]}return[qt,Xe(!1)]},[a,Dt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=VP(r,i),f=this.schedulers.ngZone.run(()=>a);return new PP(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new FU(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new FP(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ci.Dh),c.LFG(Ci.xv,8),c.LFG(NP,8),c.LFG(NU,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Xi.HU),c.LFG(LP,8),c.LFG(LU,8),c.LFG(MM,8),c.LFG(xP,8),c.LFG(DP,8),c.LFG(IP,8),c.LFG(SP,8),c.LFG(TP,8),c.LFG(AP,8),c.LFG(TM,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VU=(()=>{class n{constructor(){CP.Z.registerVersion("angularfire",Xi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:NP,useValue:!0},{provide:LP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[BP]}),n})(),UP=(()=>{class n{constructor(t){this.afs=t,this.weekData=["monday","monday","tuesday","wednesday","thursday","friday","friday"],this.roomName=["102","104","106","204","MM"],this.displayedColumns=["roomName","period1","period2","lunch","period3","period4","period5","period6","afterSchool"],this.afsCollection=t.collection(this.weekData[(new Date).getDay()]),this.items=this.afsCollection.valueChanges()}getFsData(){return this.items}getOtherDayData(t){return this.afsCollection=this.afs.collection(t),this.items=this.afsCollection.valueChanges(),this.items}editData(t,i,r,a){this.afs.collection(t).doc(i).update({[r]:[a]}),console.log("col is "+t+"  doc is "+i),console.log("room is "+r+"  class is"+a)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(BP))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BU=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function UU(){return(0,c.f3M)(X)}}),HU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let tm=(()=>{class n{constructor(t){this.value="ltr",this.change=new c.vpe,t&&(this.value=function jU(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?HU.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(BU,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function vr(n){return null!=n&&"false"!=`${n}`}function OM(n,e=0){return function zU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function tD(n){return Array.isArray(n)?n:[n]}function rr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function sd(n){return n instanceof c.SBq?n.nativeElement:n}function PM(n){return n&&"function"==typeof n.connect&&!(n instanceof Yl)}class HP{applyChanges(e,t,i,r,a){e.forEachOperation((u,f,_)=>{let b,C;if(null==u.previousIndex){const M=i(u,f,_);b=t.createEmbeddedView(M.templateRef,M.context,M.index),C=1}else null==_?(t.remove(f),C=3):(b=t.get(f),t.move(b,_),C=2);a&&a({context:b?.context,operation:C,record:u})})}detach(){}}class $U{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Xt.x,t&&t.length&&(e?t.forEach(a=>this._markSelected(a)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(a=>this._markSelected(a)),t.filter(a=>!i.has(a)).forEach(a=>this._unmarkSelected(a));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}const F0=new c.OlP("_ViewRepeater");let FM;try{FM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{FM=!1}let py,Vr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function gd(n){return n===jc}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!FM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function $P(){if(py)return py;if("object"!=typeof document||!document)return py=new Set(zP),py;let n=document.createElement("input");return py=new Set(zP.filter(e=>(n.setAttribute("type",e),n.type===e))),py}let N0,nD,nm,NM;function L0(n){return function GU(){if(null==N0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>N0=!0}))}finally{N0=N0||!1}return N0}()?n:!!n.capture}function GP(){if(null==nm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return nm=!1,nm;if("scrollBehavior"in document.documentElement.style)nm=!0;else{const n=Element.prototype.scrollTo;nm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return nm}function V0(){if("object"!=typeof document||!document)return 0;if(null==nD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),nD=0,0===n.scrollLeft&&(n.scrollLeft=1,nD=0===n.scrollLeft?1:2),n.remove()}return nD}function ad(n){return n.composedPath?n.composedPath()[0]:n.target}function LM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var ZU=F(1144);const KU=["addListener","removeListener"],YU=["addEventListener","removeEventListener"],QU=["on","off"];function im(n,e,t,i){if((0,Ki.m)(t)&&(i=t,t=void 0),i)return im(n,e,t).pipe(R(i));const[r,a]=function eH(n){return(0,Ki.m)(n.addEventListener)&&(0,Ki.m)(n.removeEventListener)}(n)?YU.map(u=>f=>n[u](e,f,t)):function XU(n){return(0,Ki.m)(n.addListener)&&(0,Ki.m)(n.removeListener)}(n)?KU.map(qP(n,e)):function JU(n){return(0,Ki.m)(n.on)&&(0,Ki.m)(n.off)}(n)?QU.map(qP(n,e)):[];if(!r&&(0,ZU.z)(n))return(0,Li.z)(u=>im(u,e,t))((0,Nn.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Rn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function qP(n,e){return t=>i=>n[t](e,i)}var WP=F(4408);const B0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=B0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new Xn.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=B0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=B0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var ZP=F(7565);const iH=new class nH extends ZP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class tH extends WP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=B0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(B0.cancelAnimationFrame(t),e._scheduled=void 0)}});let VM,rH=1;const iD={};function KP(n){return n in iD&&(delete iD[n],!0)}const oH={setImmediate(n){const e=rH++;return iD[e]=!0,VM||(VM=Promise.resolve()),VM.then(()=>KP(e)&&n()),e},clearImmediate(n){KP(n)}},{setImmediate:sH,clearImmediate:aH}=oH,rD={setImmediate(...n){const{delegate:e}=rD;return(e?.setImmediate||sH)(...n)},clearImmediate(n){const{delegate:e}=rD;return(e?.clearImmediate||aH)(n)},delegate:void 0},uH=new class cH extends ZP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class lH extends WP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=rD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(rD.clearImmediate(t),e._scheduled=void 0)}});var hH=F(3532);function BM(n,e=uo.z){return function dH(n){return(0,Hn.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const b=r;r=null,t.next(b)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,W.x)(t,b=>{i=!0,r=b,a||(0,Nn.Xf)(n(b)).subscribe(a=(0,W.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function YP(n=0,e,t=uo.P){let i=-1;return null!=e&&((0,hH.K)(e)?t=e:i=e),new Rn.y(r=>{let a=function fH(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}var QP=F(5032);function Vs(n){return(0,Hn.e)((e,t)=>{(0,Nn.Xf)(n).subscribe((0,W.x)(t,()=>t.complete(),QP.Z)),!t.closed&&e.subscribe(t)})}const pH=["contentWrapper"],mH=["*"],gH=new c.OlP("VIRTUAL_SCROLL_STRATEGY");let oD=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Xt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Rn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(BM(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(vi(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=sd(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>im(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Vr),c.LFG(X,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XP=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new Xt.x,this._elementScrolled=new Rn.y(u=>this.ngZone.runOutsideAngular(()=>im(this.elementRef.nativeElement,"scroll").pipe(Vs(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=V0()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==V0()?t.left=t.right:1==V0()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;GP()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==V0()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==V0()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(oD),c.Y36(c.R0b),c.Y36(tm,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),U0=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Xt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(BM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vr),c.LFG(c.R0b),c.LFG(X,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JP=new c.OlP("VIRTUAL_SCROLLABLE");let vH=(()=>{class n extends XP{constructor(t,i,r,a){super(t,i,r,a)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(oD),c.Y36(c.R0b),c.Y36(tm,8))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const wH=typeof requestAnimationFrame<"u"?iH:uH;let EH=(()=>{class n extends vH{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=vr(t)}constructor(t,i,r,a,u,f,_,b){super(t,f,r,u),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=a,this.scrollable=b,this._platform=(0,c.f3M)(Vr),this._detachedSubject=new Xt.x,this._renderedRangeSubject=new Xt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Rn.y(C=>this._scrollStrategy.scrolledIndexChange.subscribe(M=>Promise.resolve().then(()=>this.ngZone.run(()=>C.next(M))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Xn.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Ql(null),BM(0,wH)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Vs(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function bH(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const a="horizontal"==this.orientation,u=a?"X":"Y";let _=`translate${u}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(_+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",a="right",u="rtl"==this.dir?.value;i="start"==t?u?a:r:"end"==t?u?r:a:t||("horizontal"===this.orientation?"left":"top");const f=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-f}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(gH,8),c.Y36(tm,8),c.Y36(oD),c.Y36(U0),c.Y36(JP,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&c.Gf(pH,7),2&t){let r;c.iGM(r=c.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[c._Bn([{provide:XP,useFactory:(e,t)=>e||t,deps:[[new c.FiY,new c.tBr(JP)],n]}]),c.qOj,c.jDz],ngContentSelectors:mH,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&t&&(c.xp6(3),c.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),sD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),UM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[P0,sD,EH,P0,sD]}),n})();const xH=[[["caption"]],[["colgroup"],["col"]]],DH=["caption","colgroup, col"];function HM(n){return class extends n{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=vr(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const my=new c.OlP("CDK_TABLE");let gy=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),_y=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),aD=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class AH{}const MH=HM(AH);let ld=(()=>{class n extends MH{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=vr(t),this._hasStickyChanged=i!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(my,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,gy,5),c.Suo(r,_y,5),c.Suo(r,aD,5)),2&t){let a;c.iGM(a=c.CRH())&&(i.cell=a.first),c.iGM(a=c.CRH())&&(i.headerCell=a.first),c.iGM(a=c.CRH())&&(i.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),c.qOj]}),n})();class jM{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let zM=(()=>{class n extends jM{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ld),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]}),n})(),eF=(()=>{class n extends jM{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ld),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],features:[c.qOj]}),n})(),$M=(()=>{class n extends jM{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ld),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]}),n})();class tF{constructor(){this.tasks=[],this.endTasks=[]}}const GM=new c.OlP("_COALESCED_STYLE_SCHEDULER");let nF=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Xt.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new tF,this._getScheduleObservable().pipe(Vs(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new tF;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Qt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Yi(1))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),qM=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof H0?t.headerCell.template:this instanceof j0?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();class RH extends qM{}const kH=HM(RH);let H0=(()=>{class n extends kH{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(my,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),n})();class OH extends qM{}const PH=HM(OH);let j0=(()=>{class n extends PH{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(my,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),n})(),lD=(()=>{class n extends qM{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(my,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]}),n})(),cd=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),WM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},dependencies:[cd],encapsulation:2}),n})(),ZM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},dependencies:[cd],encapsulation:2}),n})(),KM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},dependencies:[cd],encapsulation:2}),n})(),cD=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const iF=["top","bottom","left","right"];class FH{constructor(e,t,i,r,a=!0,u=!0,f){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=a,this._needsPositionStickyOnElement=u,this._positionListener=f,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let a=0;a<r.children.length;a++)i.push(r.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(P=>P)&&!i.some(P=>P))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=e[0],u=a.children.length,f=this._getCellWidths(a,r),_=this._getStickyStartColumnPositions(f,t),b=this._getStickyEndColumnPositions(f,i),C=t.lastIndexOf(!0),M=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const P="rtl"===this.direction,B=P?"right":"left",q=P?"left":"right";for(const J of e)for(let ce=0;ce<u;ce++){const qe=J.children[ce];t[ce]&&this._addStickyStyle(qe,B,_[ce],ce===C),i[ce]&&this._addStickyStyle(qe,q,b[ce],ce===M)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===C?[]:f.slice(0,C+1).map((J,ce)=>t[ce]?J:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===M?[]:f.slice(M).map((J,ce)=>i[ce+M]?J:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,a="bottom"===i?t.slice().reverse():t,u=[],f=[],_=[];for(let C=0,M=0;C<r.length;C++){if(!a[C])continue;u[C]=M;const P=r[C];_[C]=this._isNativeHtmlTable?Array.from(P.children):[P];const B=P.getBoundingClientRect().height;M+=B,f[C]=B}const b=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let C=0;C<r.length;C++){if(!a[C])continue;const M=u[C],P=C===b;for(const B of _[C])this._addStickyStyle(B,i,M,P)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:f,offsets:u,elements:_}):this._positionListener?.stickyFooterRowsUpdated({sizes:f,offsets:u,elements:_})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);iF.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of iF)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let a=0;a<r.length;a++)i.push(r[a].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let a=0;a<e.length;a++)t[a]&&(i[a]=r,r+=e[a]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let a=e.length;a>0;a--)t[a]&&(i[a]=r,r+=e[a]);return i}}const YM=new c.OlP("CDK_SPL");let uD=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),dD=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),hD=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),fD=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),pD=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=vr(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=vr(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,r,a,u,f,_,b,C,M,P,B){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=_,this._viewRepeater=b,this._coalescedStyleScheduler=C,this._viewportRuler=M,this._stickyPositioningListener=P,this._ngZone=B,this._onDestroy=new Xt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new yi({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=f,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Vs(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),PM(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,a,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Yi(1),Vs(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const a=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,a,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const a=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((a,u)=>{this._addStickyColumnStyles([a],this._headerRowDefs[u])}),this._rowDefs.forEach(a=>{const u=[];for(let f=0;f<i.length;f++)this._renderRows[f].rowDef===a&&u.push(i[f]);this._addStickyColumnStyles(u,a)}),r.forEach((a,u)=>{this._addStickyColumnStyles([a],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let a=this._data[r];const u=this._getRenderRowsForData(a,r,i.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let f=0;f<u.length;f++){let _=u[f];const b=this._cachedRenderRowsMap.get(_.data);b.has(_.rowDef)?b.get(_.rowDef).push(_):b.set(_.rowDef,[_]),t.push(_)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(u=>{const f=r&&r.has(u)?r.get(u):[];if(f.length){const _=f.shift();return _.dataIndex=i,_}return{data:t,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),mD(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=mD(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=mD(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=mD(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(u,f)=>u||!!f.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(t,!1);return a&&this._forceRenderFooterRows(),i||r||a}_switchDataSource(t){this._data=[],PM(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;PM(this.dataSource)?t=this.dataSource.connect(this):function CH(n){return!!n&&(n instanceof Rn.y||(0,Ki.m)(n.lift)&&(0,Ki.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Xe(this.dataSource)),this._renderChangeSubscription=t.pipe(Vs(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(f=>this._columnDefsByName.get(f)),a=r.map(f=>f.sticky),u=r.map(f=>f.stickyEnd);this._stickyStyler.updateStickyColumns(t,a,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const a=t.viewContainer.get(r);i.push(a.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(a=>!a.when||a.when(i,t));else{let a=this._rowDefs.find(u=>u.when&&u.when(i,t))||this._defaultRowDef;a&&r.push(a)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,a={}){const u=t.viewContainer.createEmbeddedView(i.template,a,r);return this._renderCellTemplateForItem(i,a),u}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))cd.mostRecentCellOutlet&&cd.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const u=t.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const a=this._document.createElement(r.tag);a.setAttribute("role","rowgroup");for(const u of r.outlets)a.appendChild(u.elementRef.nativeElement);t.appendChild(a)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new FH(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Xe()).pipe(Vs(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const a=r.createEmbeddedView(t.templateRef),u=a.rootNodes[0];1===a.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(tm,8),c.Y36(X),c.Y36(Vr),c.Y36(F0),c.Y36(GM),c.Y36(U0),c.Y36(YM,12),c.Y36(c.R0b,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,cD,5),c.Suo(r,ld,5),c.Suo(r,lD,5),c.Suo(r,H0,5),c.Suo(r,j0,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._noDataRow=a.first),c.iGM(a=c.CRH())&&(i._contentColumnDefs=a),c.iGM(a=c.CRH())&&(i._contentRowDefs=a),c.iGM(a=c.CRH())&&(i._contentHeaderRowDefs=a),c.iGM(a=c.CRH())&&(i._contentFooterRowDefs=a)}},viewQuery:function(t,i){if(1&t&&(c.Gf(uD,7),c.Gf(dD,7),c.Gf(hD,7),c.Gf(fD,7)),2&t){let r;c.iGM(r=c.CRH())&&(i._rowOutlet=r.first),c.iGM(r=c.CRH())&&(i._headerRowOutlet=r.first),c.iGM(r=c.CRH())&&(i._footerRowOutlet=r.first),c.iGM(r=c.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:my,useExisting:n},{provide:F0,useClass:HP},{provide:GM,useClass:nF},{provide:YM,useValue:null}])],ngContentSelectors:DH,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(c.F$t(xH),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[uD,dD,hD,fD],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function mD(n,e){return n.concat(Array.from(e))}let LH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[UM]}),n})();function aF(n){return vi((e,t)=>n<=t)}function lF(n,e=uo.z){return(0,Hn.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=u+n,C=e.now();if(C<b)return r=this.schedule(void 0,b-C),void i.add(r);f()}t.subscribe((0,W.x)(i,b=>{a=b,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}const cF=new Set;let yy,qH=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ZH}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function WH(n){if(!cF.has(n))try{yy||(yy=document.createElement("style"),yy.setAttribute("type","text/css"),document.head.appendChild(yy)),yy.sheet&&(yy.sheet.insertRule(`@media ${n} {body{ }}`,0),cF.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZH(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let KH=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Xt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return uF(tD(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=ke(uF(tD(t)).map(u=>this._registerQuery(u).observable));return a=Tt(a.pipe(Yi(1)),a.pipe(aF(1),lF(0))),a.pipe((0,ht.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{f.matches=f.matches||_,f.breakpoints[b]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new Rn.y(u=>{const f=_=>this._zone.run(()=>u.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Ql(i),(0,ht.U)(({matches:u})=>({query:t,matches:u})),Vs(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qH),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uF(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function pF(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function mF(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const ij=new c.OlP("cdk-input-modality-detector-options"),rj={ignoreKeys:[18,17,224,91,16]},vy=L0({passive:!0,capture:!0});let oj=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new yi(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ad(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(pF(u)?"keyboard":"mouse"),this._mostRecentTarget=ad(u))},this._onTouchstart=u=>{mF(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ad(u))},this._options={...rj,...a},this.modalityDetected=this._modality.pipe(aF(1)),this.modalityChanged=this.modalityDetected.pipe(Ps()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,vy),r.addEventListener("mousedown",this._onMousedown,vy),r.addEventListener("touchstart",this._onTouchstart,vy)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,vy),document.removeEventListener("mousedown",this._onMousedown,vy),document.removeEventListener("touchstart",this._onTouchstart,vy))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vr),c.LFG(c.R0b),c.LFG(X),c.LFG(ij,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aj=new c.OlP("cdk-focus-monitor-default-options"),gD=L0({passive:!0,capture:!0});let _F=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Xt.x,this._rootNodeFocusAndBlurListener=f=>{for(let b=ad(f);b;b=b.parentElement)"focus"===f.type?this._onFocus(f,b):this._onBlur(f,b)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=sd(t);if(!this._platform.isBrowser||1!==r.nodeType)return Xe(null);const a=function WU(n){if(function qU(){if(null==NM){const n=typeof document<"u"?document.head:null;NM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return NM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Xt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=sd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=sd(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=ad(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,gD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,gD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Vs(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let u=0;u<a.length;u++)if(a[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Vr),c.LFG(oj),c.LFG(X,8),c.LFG(aj,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yF="cdk-high-contrast-black-on-white",vF="cdk-high-contrast-white-on-black",XM="cdk-high-contrast-active";let lj=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,c.f3M)(KH).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(XM,yF,vF),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(XM,yF):2===i&&t.add(XM,vF)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vr),c.LFG(X))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uj=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function cj(){return!0}});let ii=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!LM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lj),c.LFG(uj,8),c.LFG(X))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[P0,P0]}),n})();function dj(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=vr(e)}constructor(...e){super(...e),this._disabled=!1}}}function _D(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function EF(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=vr(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function hj(n){return class extends n{updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let pj=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mj{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const CF=L0({passive:!0,capture:!0});class gj{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ad(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,i,r){const a=this._events.get(t);if(a){const u=a.get(i);u?u.add(r):a.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,CF)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const a=r.get(t);a&&(a.delete(i),0===a.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,CF)))}}const xF={enterDuration:225,exitDuration:150},DF=L0({passive:!0,capture:!0}),IF=["mousedown","touchstart"],SF=["mouseup","mouseleave","touchend","touchcancel"];class $0{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=sd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...xF,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function yj(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,b=a.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=f-u+"px",C.style.top=_-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(C);const M=window.getComputedStyle(C),B=M.transitionDuration,q="none"===M.transitionProperty||"0s"===B||"0s, 0s"===B||0===r.width&&0===r.height,J=new mj(this,C,i,q);C.style.transform="scale3d(1, 1, 1)",J.state=0,i.persistent||(this._mostRecentTransientRipple=J);let ce=null;return!q&&(b||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const qe=()=>this._finishRippleTransition(J),gt=()=>this._destroyRipple(J);C.addEventListener("transitionend",qe),C.addEventListener("transitioncancel",gt),ce={onTransitionEnd:qe,onTransitionCancel:gt}}),this._activeRipples.set(J,ce),(q||!b)&&this._finishRippleTransition(J),J}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...xF,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=sd(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,IF.forEach(i=>{$0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{SF.forEach(t=>{this._triggerElement.addEventListener(t,this,DF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=pF(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!mF(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(IF.forEach(t=>$0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&SF.forEach(t=>e.removeEventListener(t,this,DF)))}}$0._eventManager=new gj;const vj=new c.OlP("mat-ripple-global-options");let yD=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new $0(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Vr),c.Y36(vj,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),JM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii,ii]}),n})(),bj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})(),vD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[JM,Go,ii,bj]}),n})();const xj=[[["caption"]],[["colgroup"],["col"]]],Dj=["caption","colgroup, col"];let eR=(()=>{class n extends pD{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:pD,useExisting:n},{provide:my,useExisting:n},{provide:GM,useClass:nF},{provide:F0,useClass:HP},{provide:YM,useValue:null}]),c.qOj],ngContentSelectors:Dj,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(c.F$t(xj),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[uD,dD,hD,fD],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),bD=(()=>{class n extends gy{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:gy,useExisting:n}]),c.qOj]}),n})(),wD=(()=>{class n extends _y{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:_y,useExisting:n}]),c.qOj]}),n})(),TF=(()=>{class n extends aD{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matFooterCellDef",""]],features:[c._Bn([{provide:aD,useExisting:n}]),c.qOj]}),n})(),ED=(()=>{class n extends ld{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:ld,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),c.qOj]}),n})(),CD=(()=>{class n extends zM{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[c.qOj]}),n})(),AF=(()=>{class n extends eF{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:[1,"mat-mdc-footer-cell","mdc-data-table__cell"],features:[c.qOj]}),n})(),xD=(()=>{class n extends $M{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[c.qOj]}),n})(),tR=(()=>{class n extends H0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:H0,useExisting:n}]),c.qOj]}),n})(),MF=(()=>{class n extends j0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matFooterRowDef",""]],inputs:{columns:["matFooterRowDef","columns"],sticky:["matFooterRowDefSticky","sticky"]},features:[c._Bn([{provide:j0,useExisting:n}]),c.qOj]}),n})(),nR=(()=>{class n extends lD{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:lD,useExisting:n}]),c.qOj]}),n})(),iR=(()=>{class n extends WM{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:WM,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},dependencies:[cd],encapsulation:2}),n})(),RF=(()=>{class n extends ZM{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-mdc-footer-row","mdc-data-table__row"],exportAs:["matFooterRow"],features:[c._Bn([{provide:ZM,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},dependencies:[cd],encapsulation:2}),n})(),rR=(()=>{class n extends KM{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[c._Bn([{provide:KM,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},dependencies:[cd],encapsulation:2}),n})(),Rj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii,LH,ii]}),n})();class oR{}class Hh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Hh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Hh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Hh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Oj{encodeKey(e){return OF(e)}encodeValue(e){return OF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Fj=/%(\d[a-f0-9])/gi,Nj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OF(n){return encodeURIComponent(n).replace(Fj,(e,t)=>Nj[t]??e)}function DD(n){return`${n}`}class jh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Oj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Pj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(DD):[DD(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new jh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(DD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(DD(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Lj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function PF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function FF(n){return typeof Blob<"u"&&n instanceof Blob}function NF(n){return typeof FormData<"u"&&n instanceof FormData}class G0{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Vj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Hh),this.context||(this.context=new Lj),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new jh,this.urlWithParams=t}serializeBody(){return null===this.body?null:PF(this.body)||FF(this.body)||NF(this.body)||function Bj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof jh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||NF(this.body)?null:FF(this.body)?this.body.type||null:PF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,P)=>M.set(P,e.setHeaders[P]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((M,P)=>M.set(P,e.setParams[P]),b)),new G0(t,i,a,{params:b,headers:_,context:C,reportProgress:f,responseType:r,withCredentials:u})}}var Kr=(()=>((Kr=Kr||{})[Kr.Sent=0]="Sent",Kr[Kr.UploadProgress=1]="UploadProgress",Kr[Kr.ResponseHeader=2]="ResponseHeader",Kr[Kr.DownloadProgress=3]="DownloadProgress",Kr[Kr.Response=4]="Response",Kr[Kr.User=5]="User",Kr))();class Uj{constructor(e,t=200,i="OK"){this.headers=e.headers||new Hh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class sR extends Uj{constructor(e={}){super(e),this.type=Kr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new sR({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function aR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let lR=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof G0)a=t;else{let _,b;_=r.headers instanceof Hh?r.headers:new Hh(r.headers),r.params&&(b=r.params instanceof jh?r.params:new jh({fromObject:r.params})),a=new G0(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Xe(a).pipe(Xa(_=>this.handler.handle(_)));if(t instanceof G0||"events"===r.observe)return u;const f=u.pipe(vi(_=>_ instanceof sR));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,ht.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,ht.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,ht.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,ht.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new jh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,aR(r,i))}post(t,i,r={}){return this.request("POST",t,aR(r,i))}put(t,i,r={}){return this.request("PUT",t,aR(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Jj=["*"];let SD;function q0(n){return function e3(){if(void 0===SD&&(SD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(SD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return SD}()?.createHTML(n)||n}function $F(n){return Error(`Unable to find icon with the name "${n}"`)}function GF(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function qF(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class rm{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let TD=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new rm(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(c.q3G.HTML,r);if(!u)throw qF(r);const f=q0(u);return this._addSvgIconConfig(t,i,new rm("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new rm(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(c.q3G.HTML,i);if(!a)throw qF(i);const u=q0(a);return this._addSvgIconSetConfig(t,new rm("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw GF(t);const r=this._cachedIconsByUrl.get(i);return r?Xe(AD(r)):this._loadSvgIconFromConfig(new rm(t,null)).pipe((0,bi.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,ht.U)(a=>AD(a)))}getNamedSvgIcon(t,i=""){const r=WF(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):zr($F(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Xe(AD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ht.U)(i=>AD(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Xe(r):Fu(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(fa(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),Xe(null)})))).pipe((0,ht.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw $F(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,bi.b)(i=>t.svgText=i),(0,ht.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Xe(null):this._fetchIcon(t).pipe((0,bi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(q0("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(q0("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function t3(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!u)throw GF(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const _=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,ht.U)(b=>q0(b)),cu(()=>this._inProgressUrlFetches.delete(u)),(0,Q1.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(WF(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return r3(a)?new rm(a.url,null,a.options):new rm(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(lR,8),c.LFG(ua),c.LFG(X,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AD(n){return n.cloneNode(!0)}function WF(n,e){return n+":"+e}function r3(n){return!(!n.url||!n.options)}const o3=_D(class{constructor(n){this._elementRef=n}}),s3=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),a3=new c.OlP("mat-icon-location",{providedIn:"root",factory:function l3(){const n=(0,c.f3M)(X),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),ZF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],c3=ZF.map(n=>`[${n}]`).join(", "),u3=/^url\(['"]?#(.*?)['"]?\)$/;let KF=(()=>{class n extends o3{get inline(){return this._inline}set inline(t){this._inline=vr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,a,u,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Xn.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(c3),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)ZF.forEach(u=>{const f=i[a],_=f.getAttribute(u),b=_?_.match(u3):null;if(b){let C=r.get(f);C||(C=[],r.set(f,C)),C.push({name:u,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Yi(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(TD),c.$8M("aria-hidden"),c.Y36(a3),c.Y36(c.qLn),c.Y36(s3,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:Jj,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),d3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii,ii]}),n})();const h3=["mat-button",""],f3=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],p3=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],g3=["mat-icon-button",""],_3=["*"],y3=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],v3=_D(dj(EF(class{constructor(n){this._elementRef=n}})));let YF=(()=>{class n extends v3{constructor(t,i,r,a){super(t),this._platform=i,this._ngZone=r,this._animationMode=a,this._focusMonitor=(0,c.f3M)(_F),this._isFab=!1;const u=t.nativeElement.classList;for(const f of y3)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(_=>{u.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&c.Gf(yD,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},features:[c.qOj]}),n})(),w3=(()=>{class n extends YF{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Vr),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:h3,ngContentSelectors:p3,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(c.F$t(f3),c._UZ(0,"span",0),c.Hsn(1),c.TgZ(2,"span",1),c.Hsn(3,1),c.qZA(),c.Hsn(4,2),c._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(c.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),c.xp6(6),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[yD],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),C3=(()=>{class n extends YF{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Vr),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:g3,ngContentSelectors:_3,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(c.F$t(),c._UZ(0,"span",0),c.Hsn(1),c._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(c.xp6(3),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[yD],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),x3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii,JM,ii]}),n})();class QF{}class D3{}const ud="*";function MD(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ey(n,e=null){return{type:4,styles:e,timings:n}}function XF(n,e=null){return{type:2,steps:n,options:e}}function xl(n){return{type:6,styles:n,offset:null}}function uR(n,e,t){return{type:0,name:n,styles:e,options:t}}function Cy(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function JF(n){Promise.resolve().then(n)}class W0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){JF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class eN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?JF(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const dR="!";let tN=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A3=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=sd(t);return new Rn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Xt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(tN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M3=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=vr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=OM(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(lF(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(A3),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),R3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[tN]}),n})();const k3=["matFormFieldNotchedOutline",""],O3=["*"],P3=["textField"],F3=["iconPrefixContainer"],N3=["textPrefixContainer"];function L3(n,e){1&n&&c._UZ(0,"span",19)}function V3(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",17),c.NdJ("cdkObserveContent",function(){c.CHM(t);const r=c.oxw(2);return c.KtG(r._refreshOutlineNotchWidth())}),c.Hsn(1,1),c.YNc(2,L3,1,0,"span",18),c.qZA()}if(2&n){const t=c.oxw(2);c.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function B3(n,e){if(1&n&&c.YNc(0,V3,3,6,"label",16),2&n){const t=c.oxw();c.Q6J("ngIf",t._hasFloatingLabel())}}function U3(n,e){1&n&&c._UZ(0,"div",20)}function H3(n,e){}function j3(n,e){if(1&n&&c.YNc(0,H3,0,0,"ng-template",22),2&n){c.oxw(2);const t=c.MAs(1);c.Q6J("ngTemplateOutlet",t)}}function z3(n,e){if(1&n&&(c.TgZ(0,"div",21),c.YNc(1,j3,1,1,"ng-template",9),c.qZA()),2&n){const t=c.oxw();c.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),c.xp6(1),c.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function $3(n,e){1&n&&(c.TgZ(0,"div",23,24),c.Hsn(2,2),c.qZA())}function G3(n,e){1&n&&(c.TgZ(0,"div",25,26),c.Hsn(2,3),c.qZA())}function q3(n,e){}function W3(n,e){if(1&n&&c.YNc(0,q3,0,0,"ng-template",22),2&n){c.oxw();const t=c.MAs(1);c.Q6J("ngTemplateOutlet",t)}}function Z3(n,e){1&n&&(c.TgZ(0,"div",27),c.Hsn(1,4),c.qZA())}function K3(n,e){1&n&&(c.TgZ(0,"div",28),c.Hsn(1,5),c.qZA())}function Y3(n,e){1&n&&c._UZ(0,"div",29)}function Q3(n,e){if(1&n&&(c.TgZ(0,"div",30),c.Hsn(1,6),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function X3(n,e){if(1&n&&(c.TgZ(0,"mat-hint",34),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function J3(n,e){if(1&n&&(c.TgZ(0,"div",31),c.YNc(1,X3,2,2,"mat-hint",32),c.Hsn(2,7),c._UZ(3,"div",33),c.Hsn(4,8),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const ez=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],tz=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let hR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})();const nz=new c.OlP("MatError");let iz=0,nN=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+iz++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(c.Ikx("id",i.id),c.uIk("align",null),c.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const rz=new c.OlP("MatPrefix"),iN=new c.OlP("MatSuffix");let oz=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[c._Bn([{provide:iN,useExisting:n}])]}),n})(),rN=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function sz(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const oN="mdc-line-ripple--active",RD="mdc-line-ripple--deactivating";let sN=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const a=this._elementRef.nativeElement.classList,u=a.contains(RD);"opacity"===r.propertyName&&u&&a.remove(oN,RD)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(RD),t.add(oN)}deactivate(){this._elementRef.nativeElement.classList.add(RD)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),aN=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:k3,ngContentSelectors:O3,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(c.F$t(),c._UZ(0,"div",0),c.TgZ(1,"div",1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&t&&(c.xp6(1),c.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const az={transitionMessages:MD("transitionMessages",[uR("enter",xl({opacity:1,transform:"translateY(0%)"})),Cy("void => enter",[xl({opacity:0,transform:"translateY(-5px)"}),Ey("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let lN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const fR=new c.OlP("MatFormField"),lz=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let cN=0,dz=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=vr(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,a,u,f,_,b){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._platform=u,this._defaults=f,this._animationMode=_,this._document=b,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+cN++,this._hintLabelId="mat-mdc-hint-"+cN++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Xt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Vs(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,em.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Vs(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Vs(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(tm),c.Y36(Vr),c.Y36(lz,8),c.Y36(c.QbO,8),c.Y36(X))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,hR,5),c.Suo(r,hR,7),c.Suo(r,lN,5),c.Suo(r,rz,5),c.Suo(r,iN,5),c.Suo(r,nz,5),c.Suo(r,nN,5)),2&t){let a;c.iGM(a=c.CRH())&&(i._labelChildNonStatic=a.first),c.iGM(a=c.CRH())&&(i._labelChildStatic=a.first),c.iGM(a=c.CRH())&&(i._formFieldControl=a.first),c.iGM(a=c.CRH())&&(i._prefixChildren=a),c.iGM(a=c.CRH())&&(i._suffixChildren=a),c.iGM(a=c.CRH())&&(i._errorChildren=a),c.iGM(a=c.CRH())&&(i._hintChildren=a)}},viewQuery:function(t,i){if(1&t&&(c.Gf(P3,5),c.Gf(F3,5),c.Gf(N3,5),c.Gf(rN,5),c.Gf(aN,5),c.Gf(sN,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._textField=r.first),c.iGM(r=c.CRH())&&(i._iconPrefixContainer=r.first),c.iGM(r=c.CRH())&&(i._textPrefixContainer=r.first),c.iGM(r=c.CRH())&&(i._floatingLabel=r.first),c.iGM(r=c.CRH())&&(i._notchedOutline=r.first),c.iGM(r=c.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&c.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:fR,useExisting:n}])],ngContentSelectors:tz,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(c.F$t(ez),c.YNc(0,B3,1,1,"ng-template",null,0,c.W1O),c.TgZ(2,"div",1,2),c.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),c.YNc(4,U3,1,0,"div",3),c.TgZ(5,"div",4),c.YNc(6,z3,2,3,"div",5),c.YNc(7,$3,3,0,"div",6),c.YNc(8,G3,3,0,"div",7),c.TgZ(9,"div",8),c.YNc(10,W3,1,1,"ng-template",9),c.Hsn(11),c.qZA(),c.YNc(12,Z3,2,0,"div",10),c.YNc(13,K3,2,0,"div",11),c.qZA(),c.YNc(14,Y3,1,0,"div",12),c.qZA(),c.TgZ(15,"div",13),c.YNc(16,Q3,2,1,"div",14),c.YNc(17,J3,5,2,"div",15),c.qZA()),2&t&&(c.xp6(2),c.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),c.xp6(2),c.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),c.xp6(2),c.Q6J("ngIf",i._hasOutline()),c.xp6(1),c.Q6J("ngIf",i._hasIconPrefix),c.xp6(1),c.Q6J("ngIf",i._hasTextPrefix),c.xp6(2),c.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),c.xp6(2),c.Q6J("ngIf",i._hasTextSuffix),c.xp6(1),c.Q6J("ngIf",i._hasIconSuffix),c.xp6(1),c.Q6J("ngIf",!i._hasOutline()),c.xp6(1),c.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},dependencies:[ps,Wi,ms,zo,M3,nN,rN,aN,sN],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[az.transitionMessages]},changeDetection:0}),n})(),kD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii,Go,R3,ii]}),n})();const hN=L0({passive:!0});let hz=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Gn.E;const i=sd(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new Xt.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,hN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,hN)}}),a}stopMonitoring(t){const i=sd(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vr),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const pz=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),mz=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let gz=0;const _z=hj(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Xt.x}});let yz=(()=>{class n extends _z{get disabled(){return this._disabled}set disabled(t){this._disabled=vr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Hw.required)??!1}set required(t){this._required=vr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&$P().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=vr(t)}constructor(t,i,r,a,u,f,_,b,C,M){super(f,a,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=b,this._formField=M,this._uid="mat-input-"+gz++,this.focused=!1,this.stateChanges=new Xt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>$P().has(q)),this._iOSKeyupListener=q=>{const J=q.target;!J.value&&0===J.selectionStart&&0===J.selectionEnd&&(J.setSelectionRange(1,1),J.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,B=P.nodeName.toLowerCase();this._inputValueAccessor=_||P,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){mz.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Vr),c.Y36(ks,10),c.Y36(ul,8),c.Y36(ch,8),c.Y36(pj),c.Y36(pz,10),c.Y36(hz),c.Y36(c.R0b),c.Y36(fR,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(c.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),c.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),c.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:lN,useExisting:n}]),c.qOj,c.TTD]}),n})(),vz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii,kD,kD,fz,ii]}),n})();const bz=["button"],wz=["*"],fN=new c.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),pN=new c.OlP("MatButtonToggleGroup"),Ez={provide:ao,useExisting:(0,c.Gpc)(()=>_N),multi:!0};let mN=0;class gN{constructor(e,t){this.source=e,this.value=t}}let _N=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(t){this._vertical=vr(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=vr(t),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=vr(t),this._markButtonsForCheck()}constructor(t,i){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+mN++,this.valueChange=new c.vpe,this.change=new c.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}ngOnInit(){this._selectionModel=new $U(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const i=new gN(t,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(t,i,r=!1,a=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):a=!0,a?Promise.resolve().then(()=>this._updateModelValue(t,r)):this._updateModelValue(t,r)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=t.value&&i===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===t);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(t,i){i&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(fN,8))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,yN,5),2&t){let a;c.iGM(a=c.CRH())&&(i._buttonToggles=a)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,i){2&t&&(c.uIk("aria-disabled",i.disabled),c.ekj("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[c._Bn([Ez,{provide:pN,useExisting:n}])]}),n})();const Cz=EF(class{});let yN=(()=>{class n extends Cz{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const i=vr(t);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=vr(t)}constructor(t,i,r,a,u,f){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=a,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new c.vpe;const _=Number(u);this.tabIndex=_||0===_?_:null,this.buttonToggleGroup=t,this.appearance=f&&f.appearance?f.appearance:"standard"}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+mN++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new gN(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(pN,8),c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(_F),c.$8M("tabindex"),c.Y36(fN,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(t,i){if(1&t&&c.Gf(bz,5),2&t){let r;c.iGM(r=c.CRH())&&(i._buttonElement=r.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i.focus()}),2&t&&(c.uIk("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),c.ekj("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[c.qOj],ngContentSelectors:wz,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,i){if(1&t&&(c.F$t(),c.TgZ(0,"button",0,1),c.NdJ("click",function(){return i._onButtonClick()}),c.TgZ(2,"span",2),c.Hsn(3),c.qZA()(),c._UZ(4,"span",3)(5,"span",4)),2&t){const r=c.MAs(1);c.Q6J("id",i.buttonId)("disabled",i.disabled||null),c.uIk("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),c.xp6(5),c.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[yD],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),n})(),xz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii,JM,ii]}),n})();const Dz=["*"],Mz=new c.OlP("MAT_CARD_CONFIG");let vN=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Mz,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Dz,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),$z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii,Go,ii]}),n})();function Gz(n,e){1&n&&(c.TgZ(0,"th",28),c._uU(1,"\u6559\u5ba4\u540d"),c.qZA())}function qz(n,e){if(1&n&&(c.TgZ(0,"td",29),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.roomName)}}function Wz(n,e){1&n&&(c.TgZ(0,"th",28),c._uU(1,"1\u9650\u76ee"),c.qZA())}const zh=function(n){return{highlight:n}};function Zz(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td",30),c.NdJ("click",function(r){const u=c.CHM(t).index,f=c.oxw();return c.KtG(f.onClick(r,u))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw();c.Q6J("ngClass",c.VKq(2,zh,i===r.rowIndex&&1===r.columnIndex)),c.xp6(1),c.Oqu(t.period1)}}function Kz(n,e){1&n&&(c.TgZ(0,"th",28),c._uU(1,"2\u9650\u76ee"),c.qZA())}function Yz(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td",30),c.NdJ("click",function(r){const u=c.CHM(t).index,f=c.oxw();return c.KtG(f.onClick(r,u))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw();c.Q6J("ngClass",c.VKq(2,zh,i===r.rowIndex&&2===r.columnIndex)),c.xp6(1),c.Oqu(t.period2)}}function Qz(n,e){1&n&&(c.TgZ(0,"th",28),c._uU(1,"lunch"),c.qZA())}function Xz(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td",30),c.NdJ("click",function(r){const u=c.CHM(t).index,f=c.oxw();return c.KtG(f.onClick(r,u))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw();c.Q6J("ngClass",c.VKq(2,zh,i===r.rowIndex&&3===r.columnIndex)),c.xp6(1),c.Oqu(t.lunch)}}function Jz(n,e){1&n&&(c.TgZ(0,"th",28),c._uU(1,"3\u9650\u76ee"),c.qZA())}function e$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td",30),c.NdJ("click",function(r){const u=c.CHM(t).index,f=c.oxw();return c.KtG(f.onClick(r,u))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw();c.Q6J("ngClass",c.VKq(2,zh,i===r.rowIndex&&4===r.columnIndex)),c.xp6(1),c.Oqu(t.period3)}}function t$(n,e){1&n&&(c.TgZ(0,"th",28),c._uU(1,"4\u9650\u76ee"),c.qZA())}function n$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td",30),c.NdJ("click",function(r){const u=c.CHM(t).index,f=c.oxw();return c.KtG(f.onClick(r,u))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw();c.Q6J("ngClass",c.VKq(2,zh,i===r.rowIndex&&5===r.columnIndex)),c.xp6(1),c.Oqu(t.period4)}}function i$(n,e){1&n&&(c.TgZ(0,"th",28),c._uU(1,"5\u9650\u76ee"),c.qZA())}function r$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td",30),c.NdJ("click",function(r){const u=c.CHM(t).index,f=c.oxw();return c.KtG(f.onClick(r,u))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw();c.Q6J("ngClass",c.VKq(2,zh,i===r.rowIndex&&6===r.columnIndex)),c.xp6(1),c.Oqu(t.period5)}}function o$(n,e){1&n&&(c.TgZ(0,"th",28),c._uU(1,"6\u9650\u76ee"),c.qZA())}function s$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td",30),c.NdJ("click",function(r){const u=c.CHM(t).index,f=c.oxw();return c.KtG(f.onClick(r,u))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw();c.Q6J("ngClass",c.VKq(2,zh,i===r.rowIndex&&7===r.columnIndex)),c.xp6(1),c.Oqu(t.period6)}}function a$(n,e){1&n&&(c.TgZ(0,"th",28),c._uU(1,"\u653e\u8ab2\u5f8c"),c.qZA())}function l$(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td",30),c.NdJ("click",function(r){const u=c.CHM(t).index,f=c.oxw();return c.KtG(f.onClick(r,u))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw();c.Q6J("ngClass",c.VKq(2,zh,i===r.rowIndex&&8===r.columnIndex)),c.xp6(1),c.Oqu(t.afterSchool)}}function c$(n,e){1&n&&c._UZ(0,"tr",31)}function u$(n,e){1&n&&c._UZ(0,"tr",32)}let d$=(()=>{class n{constructor(t){this.dataService=t,this.displayedColumns=this.dataService.displayedColumns,this.rowIndex=0,this.columnIndex=0,this.selectedRoomName="",this.selectedCalumn="",this.weekToggle=new Kf(""),this.input=new Kf("")}onClick(t,i){this.rowIndex=i,this.columnIndex=t.target.cellIndex,this.selectedRoomName=this.dataService.roomName[this.rowIndex],this.selectedCalumn=this.dataService.displayedColumns[this.columnIndex]}selectWeek(){let t=this.dataService.getOtherDayData(this.weekToggle.value);this.matDataSource=t}submit(){this.weekToggle.value&&this.input?this.dataService.editData(this.weekToggle.value,this.selectedRoomName,this.selectedCalumn,this.input.value):console.log("submit error")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(UP))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-regist"]],decls:59,vars:5,consts:[[2,"font-weight","bold","text-align","center","padding-top","10px"],[1,"form"],[2,"font-size","20px","padding-top","20px","padding-bottom","10px"],["name","weeks",3,"formControl","click"],["value","monday"],["value","tuesday"],["value","wednesday"],["value","thursday"],["value","friday"],[2,"margin-right","20px"],["mat-table","",3,"dataSource"],["matColumnDef","roomName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","period1"],["mat-cell","",3,"ngClass","click",4,"matCellDef"],["matColumnDef","period2"],["matColumnDef","lunch"],["matColumnDef","period3"],["matColumnDef","period4"],["matColumnDef","period5"],["matColumnDef","period6"],["matColumnDef","afterSchool"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matInput","","placeholder","\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u5165\u9580[\u5929\u9858]",3,"formControl"],["matSuffix",""],["mat-raised-button","","color","accent",1,"submit",2,"margin-left","30px",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass","click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(c.TgZ(0,"h1",0),c._uU(1,"\u6388\u696d\u60c5\u5831\u7de8\u96c6"),c.qZA(),c.TgZ(2,"div",1)(3,"div",2),c._uU(4,"1\uff0e\u7de8\u96c6\u3057\u305f\u3044\u30b3\u30de\u3092\u9078\u629e"),c.qZA(),c.TgZ(5,"div")(6,"mat-button-toggle-group",3),c.NdJ("click",function(){return i.selectWeek()}),c.TgZ(7,"mat-button-toggle",4),c._uU(8,"\u6708\u66dc\u65e5"),c.qZA(),c.TgZ(9,"mat-button-toggle",5),c._uU(10,"\u706b\u66dc\u65e5"),c.qZA(),c.TgZ(11,"mat-button-toggle",6),c._uU(12,"\u6c34\u66dc\u65e5"),c.qZA(),c.TgZ(13,"mat-button-toggle",7),c._uU(14,"\u6728\u66dc\u65e5"),c.qZA(),c.TgZ(15,"mat-button-toggle",8),c._uU(16,"\u91d1\u66dc\u65e5"),c.qZA()()(),c.TgZ(17,"div")(18,"mat-card",9)(19,"table",10),c.ynx(20,11),c.YNc(21,Gz,2,0,"th",12),c.YNc(22,qz,2,1,"td",13),c.BQk(),c.ynx(23,14),c.YNc(24,Wz,2,0,"th",12),c.YNc(25,Zz,2,4,"td",15),c.BQk(),c.ynx(26,16),c.YNc(27,Kz,2,0,"th",12),c.YNc(28,Yz,2,4,"td",15),c.BQk(),c.ynx(29,17),c.YNc(30,Qz,2,0,"th",12),c.YNc(31,Xz,2,4,"td",15),c.BQk(),c.ynx(32,18),c.YNc(33,Jz,2,0,"th",12),c.YNc(34,e$,2,4,"td",15),c.BQk(),c.ynx(35,19),c.YNc(36,t$,2,0,"th",12),c.YNc(37,n$,2,4,"td",15),c.BQk(),c.ynx(38,20),c.YNc(39,i$,2,0,"th",12),c.YNc(40,r$,2,4,"td",15),c.BQk(),c.ynx(41,21),c.YNc(42,o$,2,0,"th",12),c.YNc(43,s$,2,4,"td",15),c.BQk(),c.ynx(44,22),c.YNc(45,a$,2,0,"th",12),c.YNc(46,l$,2,4,"td",15),c.BQk(),c.YNc(47,c$,1,0,"tr",23),c.YNc(48,u$,1,0,"tr",24),c.qZA()()(),c.TgZ(49,"div",2),c._uU(50,"2\uff0e\u8b1b\u7fa9\u3092\u767b\u9332"),c.qZA(),c.TgZ(51,"mat-form-field")(52,"mat-label"),c._uU(53,"\u8b1b\u7fa9\u540d"),c.qZA(),c._UZ(54,"input",25),c.TgZ(55,"mat-icon",26),c._uU(56,"class"),c.qZA()(),c.TgZ(57,"button",27),c.NdJ("click",function(){return i.submit()}),c._uU(58,"\u767b\u9332"),c.qZA()()),2&t&&(c.xp6(6),c.Q6J("formControl",i.weekToggle),c.xp6(13),c.Q6J("dataSource",i.matDataSource),c.xp6(28),c.Q6J("matHeaderRowDef",i.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",i.displayedColumns),c.xp6(6),c.Q6J("formControl",i.input))},dependencies:[tt,jf,_g,Pg,eR,wD,tR,ED,bD,nR,CD,xD,iR,rR,KF,w3,dz,hR,oz,yz,_N,yN,vN],styles:[".form[_ngcontent-%COMP%]{padding-left:30px}.submit[_ngcontent-%COMP%]{font-size:20px;padding:20px 32px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #f7f6f6;white-space:normal;overflow:hidden;text-overflow:ellipsis;overflow-wrap:break-word}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.mat-cell[_ngcontent-%COMP%]{text-align:center}.highlight[_ngcontent-%COMP%]{background-color:#bbdefb;border-width:5px;border-color:#3f51b5}@media (max-width: 768px){td[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word}}"]}),n})();const h$=new c.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),p$=_D(class{constructor(n){this._elementRef=n}},"primary");let m$=(()=>{class n extends p${constructor(t,i,r,a,u){super(t),this._ngZone=i,this._changeDetectorRef=r,this._animationMode=a,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new c.vpe,this._mode="determinate",this._transitionendHandler=f=>{0===this.animationEnd.observers.length||!f.target||!f.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===a,u&&(u.color&&(this.color=this.defaultColor=u.color),this.mode=u.mode||this.mode)}get value(){return this._value}set value(t){this._value=bN(OM(t)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=bN(OM(t)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(c.QbO,8),c.Y36(h$,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(t,i){2&t&&(c.uIk("aria-valuenow",i._isIndeterminate()?null:i.value)("mode",i.mode),c.ekj("_mat-animation-noopable",i._isNoopAnimation)("mdc-linear-progress--animation-ready",!i._isNoopAnimation)("mdc-linear-progress--indeterminate",i._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[c.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div",1)(2,"div",2),c.qZA(),c.TgZ(3,"div",3),c._UZ(4,"span",4),c.qZA(),c.TgZ(5,"div",5),c._UZ(6,"span",4),c.qZA()),2&t&&(c.xp6(1),c.Udp("flex-basis",i._getBufferBarFlexBasis()),c.xp6(2),c.Udp("transform",i._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E\")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height, 4px)}.mat-mdc-progress-bar{display:block}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),n})();function bN(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let g$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii]}),n})();function _$(n,e){1&n&&(c.TgZ(0,"th",21),c._uU(1,"\u6559\u5ba4\u540d"),c.qZA())}function y$(n,e){if(1&n&&(c.TgZ(0,"td",22),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.roomName)}}function v$(n,e){1&n&&c._UZ(0,"td",23)}function b$(n,e){1&n&&(c.TgZ(0,"th",21),c._uU(1,"1\u9650\u76ee"),c.qZA())}const $h=function(n){return{highlight:n}};function w$(n,e){if(1&n&&(c.TgZ(0,"td",24),c._uU(1),c.qZA()),2&n){const t=e.$implicit,i=c.oxw();c.Q6J("ngClass",c.VKq(2,$h,1===i.currentColumn)),c.xp6(1),c.Oqu(t.period1)}}function E$(n,e){if(1&n&&(c.TgZ(0,"td",25),c._UZ(1,"mat-progress-bar",26)(2,"mat-progress-bar",26)(3,"mat-progress-bar",26)(4,"mat-progress-bar",26)(5,"mat-progress-bar",26)(6,"mat-progress-bar",26)(7,"mat-progress-bar",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("value",t.getProgress()),c.xp6(1),c.Q6J("value",t.getProgress()),c.xp6(1),c.Q6J("value",t.getProgress()),c.xp6(1),c.Q6J("value",t.getProgress()),c.xp6(1),c.Q6J("value",t.getProgress()),c.xp6(1),c.Q6J("value",t.getProgress()),c.xp6(1),c.Q6J("value",t.getProgress())}}function C$(n,e){1&n&&(c.TgZ(0,"th",21),c._uU(1,"2\u9650\u76ee"),c.qZA())}function x$(n,e){if(1&n&&(c.TgZ(0,"td",24),c._uU(1),c.qZA()),2&n){const t=e.$implicit,i=c.oxw();c.Q6J("ngClass",c.VKq(2,$h,2===i.currentColumn)),c.xp6(1),c.Oqu(t.period2)}}function D$(n,e){1&n&&(c.TgZ(0,"th",21),c._uU(1,"\u663c\u4f11\u307f"),c.qZA())}function I$(n,e){if(1&n&&(c.TgZ(0,"td",24),c._uU(1),c.qZA()),2&n){const t=e.$implicit,i=c.oxw();c.Q6J("ngClass",c.VKq(2,$h,3===i.currentColumn)),c.xp6(1),c.Oqu(t.lunch)}}function S$(n,e){1&n&&(c.TgZ(0,"th",21),c._uU(1,"3\u9650\u76ee"),c.qZA())}function T$(n,e){if(1&n&&(c.TgZ(0,"td",24),c._uU(1),c.qZA()),2&n){const t=e.$implicit,i=c.oxw();c.Q6J("ngClass",c.VKq(2,$h,4===i.currentColumn)),c.xp6(1),c.Oqu(t.period3)}}function A$(n,e){1&n&&(c.TgZ(0,"th",21),c._uU(1,"4\u9650\u76ee"),c.qZA())}function M$(n,e){if(1&n&&(c.TgZ(0,"td",24),c._uU(1),c.qZA()),2&n){const t=e.$implicit,i=c.oxw();c.Q6J("ngClass",c.VKq(2,$h,5===i.currentColumn)),c.xp6(1),c.Oqu(t.period4)}}function R$(n,e){1&n&&(c.TgZ(0,"th",21),c._uU(1,"5\u9650\u76ee"),c.qZA())}function k$(n,e){if(1&n&&(c.TgZ(0,"td",24),c._uU(1),c.qZA()),2&n){const t=e.$implicit,i=c.oxw();c.Q6J("ngClass",c.VKq(2,$h,6===i.currentColumn)),c.xp6(1),c.Oqu(t.period5)}}function O$(n,e){1&n&&(c.TgZ(0,"th",21),c._uU(1,"6\u9650\u76ee"),c.qZA())}function P$(n,e){if(1&n&&(c.TgZ(0,"td",24),c._uU(1),c.qZA()),2&n){const t=e.$implicit,i=c.oxw();c.Q6J("ngClass",c.VKq(2,$h,7===i.currentColumn)),c.xp6(1),c.Oqu(t.period6)}}function F$(n,e){1&n&&(c.TgZ(0,"th",21),c._uU(1,"\u653e\u8ab2\u5f8c"),c.qZA())}function N$(n,e){if(1&n&&(c.TgZ(0,"td",24),c._uU(1),c.qZA()),2&n){const t=e.$implicit,i=c.oxw();c.Q6J("ngClass",c.VKq(2,$h,8===i.currentColumn)),c.xp6(1),c.Oqu(t.afterSchool)}}function L$(n,e){1&n&&c._UZ(0,"tr",27)}function V$(n,e){1&n&&c._UZ(0,"tr",28)}function B$(n,e){1&n&&c._UZ(0,"tr",29)}const U$=function(){return["roomName","period1"]},H$=[{path:"",component:(()=>{class n{ngOnInit(){}ngAfterContentInit(){}ngAfterViewInit(){setInterval(()=>{this.getPeriod(),this.currentTime=new Date},this.highlightDuraration)}constructor(t){this.dataService=t,this.currentColumn=1,this.highlightDuraration=1e3,this.nowPeriod="",this.currentTime=new Date,this.displayedColumns=this.dataService.displayedColumns,this.startHour=8,this.startMinute=45,this.endHour=19,this.endMinute=45,this.matDataSource=this.dataService.getFsData()}getProgress(){const t=new Date,i=new Date;i.setHours(this.startHour,this.startMinute,0,0);const r=new Date;if(r.setHours(this.endHour,this.endMinute,0,0),t<i)return 0;if(t>r)return 100;{const a=(r.getTime()-i.getTime())/6e4,u=(t.getTime()-i.getTime())/6e4;return console.log("endTime:"+r.getHours()+":"+r.getMinutes()),console.log("nowTime:"+t.getHours()+":"+t.getMinutes()),u/a*100}}getPeriod(){let t=100*this.currentTime.getHours()+this.currentTime.getMinutes();t<845?(this.nowPeriod="\u671d",this.currentColumn=0):t<1015?(this.nowPeriod="1\u9650",this.currentColumn=1):t<1200?(this.nowPeriod="2\u9650",this.currentColumn=2):t<1300?(this.nowPeriod="\u663c\u4f11\u307f",this.currentColumn=3):t<1430?(this.nowPeriod="3\u9650",this.currentColumn=4):t<1615?(this.nowPeriod="4\u9650",this.currentColumn=5):t<1800?(this.nowPeriod="5\u9650",this.currentColumn=6):t<1945?(this.nowPeriod="6\u9650",this.currentColumn=7):(this.nowPeriod="\u6642\u9593\u5916",this.currentColumn=8)}updateCurrentColumn(){this.currentColumn=this.currentColumn<9?this.currentColumn+1:1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(UP))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-signage"]],decls:42,vars:10,consts:[[1,"table"],["mat-table","",3,"dataSource"],["matColumnDef","roomName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","period1"],["mat-cell","",3,"ngClass",4,"matCellDef"],["mat-footer-cell","","colspan","7","class","footer","id","foo",4,"matFooterCellDef"],["matColumnDef","period2"],["matColumnDef","lunch"],["matColumnDef","period3"],["matColumnDef","period4"],["matColumnDef","period5"],["matColumnDef","period6"],["matColumnDef","afterSchool"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[1,"timeInfo"],[2,"display","inline"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-cell","",3,"ngClass"],["mat-footer-cell","","colspan","7","id","foo",1,"footer"],[1,"progressBar",3,"value"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"table",1),c.ynx(2,2),c.YNc(3,_$,2,0,"th",3),c.YNc(4,y$,2,1,"td",4),c.YNc(5,v$,1,0,"td",5),c.BQk(),c.ynx(6,6),c.YNc(7,b$,2,0,"th",3),c.YNc(8,w$,2,4,"td",7),c.YNc(9,E$,8,7,"td",8),c.BQk(),c.ynx(10,9),c.YNc(11,C$,2,0,"th",3),c.YNc(12,x$,2,4,"td",7),c.BQk(),c.ynx(13,10),c.YNc(14,D$,2,0,"th",3),c.YNc(15,I$,2,4,"td",7),c.BQk(),c.ynx(16,11),c.YNc(17,S$,2,0,"th",3),c.YNc(18,T$,2,4,"td",7),c.BQk(),c.ynx(19,12),c.YNc(20,A$,2,0,"th",3),c.YNc(21,M$,2,4,"td",7),c.BQk(),c.ynx(22,13),c.YNc(23,R$,2,0,"th",3),c.YNc(24,k$,2,4,"td",7),c.BQk(),c.ynx(25,14),c.YNc(26,O$,2,0,"th",3),c.YNc(27,P$,2,4,"td",7),c.BQk(),c.ynx(28,15),c.YNc(29,F$,2,0,"th",3),c.YNc(30,N$,2,4,"td",7),c.BQk(),c.YNc(31,L$,1,0,"tr",16),c.YNc(32,V$,1,0,"tr",17),c.YNc(33,B$,1,0,"tr",18),c.qZA(),c.TgZ(34,"div",19),c._uU(35,"\u73fe\u5728\u6642\u523b\u306f "),c.TgZ(36,"h1",20),c._uU(37),c.ALo(38,"date"),c.qZA(),c._uU(39," \u3067\u3059\u3002"),c.qZA(),c.TgZ(40,"div",19),c._uU(41),c.qZA()()),2&t&&(c.xp6(1),c.Q6J("dataSource",i.matDataSource),c.xp6(30),c.Q6J("matHeaderRowDef",i.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",i.displayedColumns),c.xp6(1),c.Q6J("matFooterRowDef",c.DdM(9,U$)),c.xp6(4),c.Oqu(c.xi3(38,6,i.currentTime,"HH:mm:ss")),c.xp6(4),c.hij("\u73fe\u5728\u306f ",i.nowPeriod,""))},dependencies:[tt,eR,wD,tR,ED,bD,nR,TF,MF,CD,xD,AF,iR,rR,RF,m$,_s],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}.footer[_ngcontent-%COMP%]{padding:0}.timeInfo[_ngcontent-%COMP%]{text-align:center;font-size:large}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #ddd;white-space:normal;overflow:hidden;text-overflow:ellipsis;overflow-wrap:break-word;border-right:1px solid;border-color:#a9a9a9}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.mat-cell[_ngcontent-%COMP%]{text-align:center}.highlight[_ngcontent-%COMP%]{background-color:#bbdefb}@media (max-width: 768px){td[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word}}"]}),n})()},{path:"regist",component:d$}];let j$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Fw.forRoot(H$),Fw]}),n})();const z$=["*",[["mat-toolbar-row"]]],$$=["*","mat-toolbar-row"],G$=_D(class{constructor(n){this._elementRef=n}});let q$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),W$=(()=>{class n extends G${constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Vr),c.Y36(X))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,q$,5),2&t){let a;c.iGM(a=c.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:$$,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(z$),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Z$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ii,ii]}),n})(),K$=(()=>{class n{constructor(){this.title="meio-classroom-info"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[["color","primary"],["routerLink","/",1,"toolbar"],[1,"spacer"],["mat-icon-button","","routerLink","/regist"]],template:function(t,i){1&t&&(c.TgZ(0,"mat-toolbar",0)(1,"a",1),c._uU(2,"PC\u6559\u5ba4\u6848\u5185"),c.qZA(),c._UZ(3,"span",2),c.TgZ(4,"button",3)(5,"mat-icon"),c._uU(6,"settings"),c.qZA()()(),c._UZ(7,"router-outlet"))},dependencies:[uc,ag,W$,KF,C3],styles:[".toolbar[_ngcontent-%COMP%]{text-decoration:none;color:#f5f5f5}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();function wN(n){return new c.vHH(3e3,!1)}function MG(){return typeof window<"u"&&typeof window.document<"u"}function pR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Gh(n){switch(n.length){case 0:return new W0;case 1:return n[0];default:return new eN(n)}}function EN(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,b=null;if(i.forEach(C=>{const M=C.get("offset"),P=M==_,B=P&&b||new Map;C.forEach((q,J)=>{let ce=J,qe=q;if("offset"!==J)switch(ce=e.normalizePropertyName(ce,u),qe){case dR:qe=r.get(J);break;case ud:qe=a.get(J);break;default:qe=e.normalizeStyleValue(J,ce,qe,u)}B.set(ce,qe)}),P||f.push(B),b=B,_=M}),u.length)throw function yG(n){return new c.vHH(3502,!1)}();return f}function mR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&gR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&gR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&gR(t,"destroy",n)))}}function gR(n,e,t){const a=_R(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function _R(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function Bs(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function CN(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let yR=(n,e)=>!1,xN=(n,e,t)=>[],DN=null;function vR(n){const e=n.parentNode||n.host;return e===DN?null:e}(pR()||typeof Element<"u")&&(MG()?(DN=(()=>document.documentElement)(),yR=(n,e)=>{for(;e;){if(e===n)return!0;e=vR(e)}return!1}):yR=(n,e)=>n.contains(e),xN=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let om=null,IN=!1;const SN=yR,TN=xN;let AN=(()=>{class n{validateStyleProperty(t){return function kG(n){om||(om=function OG(){return typeof document<"u"?document.body:null}()||{},IN=!!om.style&&"WebkitAppearance"in om.style);let e=!0;return om.style&&!function RG(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in om.style,!e&&IN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in om.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return SN(t,i)}getParentElement(t){return vR(t)}query(t,i,r){return TN(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new W0(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),bR=(()=>{class n{}return n.NOOP=new AN,n})();const PG=1e3,wR="ng-enter",OD="ng-leave",PD="ng-trigger",FD=".ng-trigger",RN="ng-animating",ER=".ng-animating";function dd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:CR(parseFloat(e[1]),e[2])}function CR(n,e){return"s"===e?n*PG:n}function ND(n,e,t){return n.hasOwnProperty("duration")?n:function NG(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(wN()),{duration:0,delay:0,easing:""};r=CR(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=CR(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function Y$(){return new c.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function Q$(){return new c.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,wN())}return{duration:r,delay:a,easing:u}}(n,e,t)}function Z0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function kN(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function qh(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function PN(n,e,t){return t?e+":"+t+";":""}function FN(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=PN(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=PN(0,UG(t),n.style[t]));n.setAttribute("style",e)}function Pc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=DR(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),pR()&&FN(n))}function sm(n,e){n.style&&(e.forEach((t,i)=>{const r=DR(i);n.style[r]=""}),pR()&&FN(n))}function K0(n){return Array.isArray(n)?1==n.length?n[0]:XF(n):n}const xR=new RegExp("{{\\s*(.+?)\\s*}}","g");function NN(n){let e=[];if("string"==typeof n){let t;for(;t=xR.exec(n);)e.push(t[1]);xR.lastIndex=0}return e}function Y0(n,e,t){const i=n.toString(),r=i.replace(xR,(a,u)=>{let f=e[u];return null==f&&(t.push(function J$(n){return new c.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function LD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const BG=/-+([a-z0-9])/g;function DR(n){return n.replace(BG,(...e)=>e[1].toUpperCase())}function UG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Us(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function eG(n){return new c.vHH(3004,!1)}()}}function LN(n,e){return window.getComputedStyle(n)[e]}const UD="*";function qG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function WG(n,e,t){if(":"==n[0]){const _=function ZG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function pG(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function fG(n){return new c.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(VN(r,u));"<"==a[0]&&!(r==UD&&u==UD)&&e.push(VN(u,r))}(i,t,e)):t.push(n),t}const HD=new Set(["true","1"]),jD=new Set(["false","0"]);function VN(n,e){const t=HD.has(n)||jD.has(n),i=HD.has(e)||jD.has(e);return(r,a)=>{let u=n==UD||n==r,f=e==UD||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?HD.has(n):jD.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?HD.has(e):jD.has(e)),u&&f}}const KG=new RegExp("s*:selfs*,?","g");function IR(n,e,t,i){return new YG(n).build(e,t,i)}class YG{constructor(e){this._driver=e}build(e,t,i){const r=new JG(t);return this._resetContextStyleTimingState(r),Us(this,K0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function nG(){return new c.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(C=>{_.name=C,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function iG(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{NN(_).forEach(b=>{u.hasOwnProperty(b)||a.add(b)})})}),a.size&&(LD(a.values()),t.errors.push(function rG(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Us(this,K0(e.animation),t);return{type:1,matchers:qG(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:am(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Us(this,i,t)),options:am(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=Us(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:am(e.options)}}visitAnimate(e,t){const i=function t6(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return SR(ND(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=SR(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=ND(t,e);return SR(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:xl({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=xl(b)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===ud?i.push(f):t.errors.push(new c.vHH(3002,!1)):i.push(kN(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),C=b.get(_);let M=!0;C&&(a!=r&&a>=C.startTime&&r<=C.endTime&&(t.errors.push(function sG(n,e,t,i,r){return new c.vHH(3010,!1)}()),M=!1),a=C.startTime),M&&b.set(_,{startTime:a,endTime:r}),t.options&&function VG(n,e,t){const i=e.params||{},r=NN(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function X$(n){return new c.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function aG(){return new c.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,b=0;const C=e.steps.map(qe=>{const gt=this._makeStyleAst(qe,t);let pt=null!=gt.offset?gt.offset:function e6(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(gt.styles),Dt=0;return null!=pt&&(a++,Dt=gt.offset=pt),_=_||Dt<0||Dt>1,f=f||Dt<b,b=Dt,u.push(Dt),gt});_&&t.errors.push(function lG(){return new c.vHH(3012,!1)}()),f&&t.errors.push(function cG(){return new c.vHH(3200,!1)}());const M=e.steps.length;let P=0;a>0&&a<M?t.errors.push(function uG(){return new c.vHH(3202,!1)}()):0==a&&(P=1/(M-1));const B=M-1,q=t.currentTime,J=t.currentAnimateTimings,ce=J.duration;return C.forEach((qe,gt)=>{const pt=P>0?gt==B?1:P*gt:u[gt],Dt=pt*ce;t.currentTime=q+J.delay+Dt,J.duration=Dt,this._validateStyleAst(qe,t),qe.offset=pt,i.styles.push(qe)}),i}visitReference(e,t){return{type:8,animation:Us(this,K0(e.animation),t),options:am(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:am(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:am(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function QG(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(KG,"")),n=n.replace(/@\*/g,FD).replace(/@\w+/g,t=>FD+"-"+t.slice(1)).replace(/:animating/g,ER),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Bs(t.collectedStyles,t.currentQuerySelector,new Map);const f=Us(this,K0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:am(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function dG(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:ND(e.timings,t.errors,!0);return{type:12,animation:Us(this,K0(e.animation),t),timings:i,options:null}}}class JG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function am(n){return n?(n=Z0(n)).params&&(n.params=function XG(n){return n?Z0(n):null}(n.params)):n={},n}function SR(n,e,t){return{duration:n,delay:e,easing:t}}function TR(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class zD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const r6=new RegExp(":enter","g"),s6=new RegExp(":leave","g");function AR(n,e,t,i,r,a=new Map,u=new Map,f,_,b=[]){return(new a6).buildKeyframes(n,e,t,i,r,a,u,f,_,b)}class a6{buildKeyframes(e,t,i,r,a,u,f,_,b,C=[]){b=b||new zD;const M=new MR(e,t,b,r,a,C,[]);M.options=_;const P=_.delay?dd(_.delay):0;M.currentTimeline.delayNextStep(P),M.currentTimeline.setStyles([u],null,M.errors,_),Us(this,i,M);const B=M.timelines.filter(q=>q.containsAnimation());if(B.length&&f.size){let q;for(let J=B.length-1;J>=0;J--){const ce=B[J];if(ce.element===t){q=ce;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([f],null,M.errors,_)}return B.length?B.map(q=>q.buildKeyframes()):[TR(t,[],[],[],0,P,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const u="number"==typeof a?a:dd(Y0(a,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?dd(i.duration):null,f=null!=i.delay?dd(i.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Us(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=$D);const u=dd(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Us(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?dd(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Us(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return ND(t.params?Y0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?dd(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$D);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,C)=>{t.currentQueryIndex=C;const M=t.createSubContext(e.options,b);a&&M.delayNextStep(a),b===t.element&&(_=M.currentTimeline),Us(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const C=t.currentTimeline;_&&C.delayNextStep(_);const M=C.currentTime;Us(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const $D={};class MR{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$D,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new GD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=dd(i.duration)),null!=i.delay&&(r.delay=dd(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=Y0(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new MR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=$D,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new l6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(r6,"."+this._enterClassName)).replace(s6,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&u.push(function hG(n){return new c.vHH(3014,!1)}()),f}}class GD{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new GD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ud),this._currentKeyframe.set(t,ud);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function c6(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,ud)}else qh(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const b=Y0(_,a,i);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??ud),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=qh(f,new Map,this._backFill);b.forEach((C,M)=>{C===dR?e.add(M):C===ud&&t.add(M)}),i||b.set("offset",_/this.duration),r.push(b)});const a=e.size?LD(e.values()):[],u=t.size?LD(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return TR(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class l6 extends GD{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=qh(e[0]);_.set("offset",0),a.push(_);const b=qh(e[0]);b.set("offset",HN(f)),a.push(b);const C=e.length-1;for(let M=1;M<=C;M++){let P=qh(e[M]);const B=P.get("offset");P.set("offset",HN((t+B*i)/u)),a.push(P)}i=u,t=0,r="",e=a}return TR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function HN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class RR{}const u6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class d6 extends RR{normalizePropertyName(e,t){return DR(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(u6.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function tG(n,e){return new c.vHH(3005,!1)}())}return u+a}}function jN(n,e,t,i,r,a,u,f,_,b,C,M,P){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:C,totalTime:M,errors:P}}const kR={};class zN{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function h6(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,b,C){const M=[],P=this.ast.options&&this.ast.options.params||kR,q=this.buildStyles(i,f&&f.params||kR,M),J=_&&_.params||kR,ce=this.buildStyles(r,J,M),qe=new Set,gt=new Map,pt=new Map,Dt="void"===r,qt={params:f6(J,P),delay:this.ast.options?.delay},Kt=C?[]:AR(e,t,this.ast.animation,a,u,q,ce,qt,b,M);let Cn=0;if(Kt.forEach(hd=>{Cn=Math.max(hd.duration+hd.delay,Cn)}),M.length)return jN(t,this._triggerName,i,r,Dt,q,ce,[],[],gt,pt,Cn,M);Kt.forEach(hd=>{const fd=hd.element,yL=Bs(gt,fd,new Set);hd.preStyleProps.forEach(cm=>yL.add(cm));const J0=Bs(pt,fd,new Set);hd.postStyleProps.forEach(cm=>J0.add(cm)),fd!==t&&qe.add(fd)});const Br=LD(qe.values());return jN(t,this._triggerName,i,r,Dt,q,ce,Kt,Br,gt,pt,Cn)}}function f6(n,e){const t=Z0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class p6{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Z0(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=Y0(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(f,u)})}),i}}class g6{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new p6(r.style,r.options&&r.options.params||{},i))}),$N(this.states,"true","1"),$N(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new zN(e,r,this.states))}),this.fallbackTransition=function _6(n,e,t){return new zN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function $N(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const y6=new zD;class v6{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],a=IR(this._driver,t,i,r);if(i.length)throw function vG(n){return new c.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=EN(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=AR(this._driver,t,a,wR,OD,new Map,new Map,i,y6,r),u.forEach(C=>{const M=Bs(f,C.element,new Map);C.postStyleProps.forEach(P=>M.set(P,null))})):(r.push(function bG(){return new c.vHH(3300,!1)}()),u=[]),r.length)throw function wG(n){return new c.vHH(3504,!1)}();f.forEach((C,M)=>{C.forEach((P,B)=>{C.set(B,this._driver.computeStyle(M,B,ud))})});const b=Gh(u.map(C=>{const M=f.get(C.element);return this._buildPlayer(C,new Map,M)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function EG(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=_R(t,"","","");return mR(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const GN="ng-animate-queued",OR="ng-animate-disabled",x6=[],qN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},D6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ta="__ng_removed";class PR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function A6(n){return n??null}(i?e.value:e),i){const a=Z0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Q0="void",FR=new PR(Q0);class I6{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Aa(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function CG(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function xG(n){return new c.vHH(3303,!1)}();if(!function M6(n){return"start"==n||"done"==n}(i))throw function DG(n,e){return new c.vHH(3400,!1)}();const a=Bs(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=Bs(this._engine.statesByElement,e,new Map);return f.has(t)||(Aa(e,PD),Aa(e,PD+"-"+t),f.set(t,FR)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function IG(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new NR(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Aa(e,PD),Aa(e,PD+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const b=new PR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(t,b),_||(_=FR),b.value!==Q0&&_.value===b.value){if(!function O6(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const J=[],ce=a.matchStyles(_.value,_.params,J),qe=a.matchStyles(b.value,b.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{sm(e,ce),Pc(e,qe)})}return}const P=Bs(this._engine.playersByElement,e,[]);P.forEach(J=>{J.namespaceId==this.id&&J.triggerName==t&&J.queued&&J.destroy()});let B=a.matchTransition(_.value,b.value,e,b.params),q=!1;if(!B){if(!r)return;B=a.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:b,player:u,isFallbackTransition:q}),q||(Aa(e,GN),u.onStart(()=>{xy(e,GN)})),u.onDone(()=>{let J=this.players.indexOf(u);J>=0&&this.players.splice(J,1);const ce=this._engine.playersByElement.get(e);if(ce){let qe=ce.indexOf(u);qe>=0&&ce.splice(qe,1)}}),this.players.push(u),P.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,FD,!0);i.forEach(r=>{if(r[Ta])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,b)=>{if(u.set(b,_.value),this._triggers.has(b)){const C=this.trigger(e,b,Q0,r);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Gh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,b=i.get(u)||FR,C=new PR(Q0),M=new NR(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:C,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ta];(!a||a===qN)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Aa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=_R(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,mR(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class S6{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new I6(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(qD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!qD(t))return;const a=t[Ta];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Aa(e,OR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),xy(e,OR))}removeNode(e,t,i,r){if(qD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Ta]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return qD(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,FD,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ER,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Gh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ta];if(t&&t.setForRemoval){if(e[Ta]=qN,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(OR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Aa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Gh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function SG(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new zD,r=[],a=new Map,u=[],f=new Map,_=new Map,b=new Map,C=new Set;this.disabledNodes.forEach(Et=>{C.add(Et);const Ft=this.driver.query(Et,".ng-animate-queued",!0);for(let Ht=0;Ht<Ft.length;Ht++)C.add(Ft[Ht])});const M=this.bodyNode,P=Array.from(this.statesByElement.keys()),B=KN(P,this.collectedEnterElements),q=new Map;let J=0;B.forEach((Et,Ft)=>{const Ht=wR+J++;q.set(Ft,Ht),Et.forEach(yn=>Aa(yn,Ht))});const ce=[],qe=new Set,gt=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Ft=this.collectedLeaveElements[Et],Ht=Ft[Ta];Ht&&Ht.setForRemoval&&(ce.push(Ft),qe.add(Ft),Ht.hasAnimation?this.driver.query(Ft,".ng-star-inserted",!0).forEach(yn=>qe.add(yn)):gt.add(Ft))}const pt=new Map,Dt=KN(P,Array.from(qe));Dt.forEach((Et,Ft)=>{const Ht=OD+J++;pt.set(Ft,Ht),Et.forEach(yn=>Aa(yn,Ht))}),e.push(()=>{B.forEach((Et,Ft)=>{const Ht=q.get(Ft);Et.forEach(yn=>xy(yn,Ht))}),Dt.forEach((Et,Ft)=>{const Ht=pt.get(Ft);Et.forEach(yn=>xy(yn,Ht))}),ce.forEach(Et=>{this.processLeaveNode(Et)})});const qt=[],Kt=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(t).forEach(Ht=>{const yn=Ht.player,Ur=Ht.element;if(qt.push(yn),this.collectedEnterElements.length){const go=Ur[Ta];if(go&&go.setForMove){if(go.previousTriggersValues&&go.previousTriggersValues.has(Ht.triggerName)){const um=go.previousTriggersValues.get(Ht.triggerName),Ma=this.statesByElement.get(Ht.element);if(Ma&&Ma.has(Ht.triggerName)){const KD=Ma.get(Ht.triggerName);KD.value=um,Ma.set(Ht.triggerName,KD)}}return void yn.destroy()}}const Fc=!M||!this.driver.containsElement(M,Ur),Hs=pt.get(Ur),Wh=q.get(Ur),xi=this._buildInstruction(Ht,i,Wh,Hs,Fc);if(xi.errors&&xi.errors.length)return void Kt.push(xi);if(Fc)return yn.onStart(()=>sm(Ur,xi.fromStyles)),yn.onDestroy(()=>Pc(Ur,xi.toStyles)),void r.push(yn);if(Ht.isFallbackTransition)return yn.onStart(()=>sm(Ur,xi.fromStyles)),yn.onDestroy(()=>Pc(Ur,xi.toStyles)),void r.push(yn);const wL=[];xi.timelines.forEach(go=>{go.stretchStartingKeyframe=!0,this.disabledNodes.has(go.element)||wL.push(go)}),xi.timelines=wL,i.append(Ur,xi.timelines),u.push({instruction:xi,player:yn,element:Ur}),xi.queriedElements.forEach(go=>Bs(f,go,[]).push(yn)),xi.preStyleProps.forEach((go,um)=>{if(go.size){let Ma=_.get(um);Ma||_.set(um,Ma=new Set),go.forEach((KD,HR)=>Ma.add(HR))}}),xi.postStyleProps.forEach((go,um)=>{let Ma=b.get(um);Ma||b.set(um,Ma=new Set),go.forEach((KD,HR)=>Ma.add(HR))})});if(Kt.length){const Et=[];Kt.forEach(Ft=>{Et.push(function TG(n,e){return new c.vHH(3505,!1)}())}),qt.forEach(Ft=>Ft.destroy()),this.reportError(Et)}const Cn=new Map,Br=new Map;u.forEach(Et=>{const Ft=Et.element;i.has(Ft)&&(Br.set(Ft,Ft),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,Cn))}),r.forEach(Et=>{const Ft=Et.element;this._getPreviousPlayers(Ft,!1,Et.namespaceId,Et.triggerName,null).forEach(yn=>{Bs(Cn,Ft,[]).push(yn),yn.destroy()})});const hd=ce.filter(Et=>QN(Et,_,b)),fd=new Map;ZN(fd,this.driver,gt,b,ud).forEach(Et=>{QN(Et,_,b)&&hd.push(Et)});const J0=new Map;B.forEach((Et,Ft)=>{ZN(J0,this.driver,new Set(Et),_,dR)}),hd.forEach(Et=>{const Ft=fd.get(Et),Ht=J0.get(Et);fd.set(Et,new Map([...Array.from(Ft?.entries()??[]),...Array.from(Ht?.entries()??[])]))});const cm=[],vL=[],bL={};u.forEach(Et=>{const{element:Ft,player:Ht,instruction:yn}=Et;if(i.has(Ft)){if(C.has(Ft))return Ht.onDestroy(()=>Pc(Ft,yn.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(yn.totalTime),void r.push(Ht);let Ur=bL;if(Br.size>1){let Hs=Ft;const Wh=[];for(;Hs=Hs.parentNode;){const xi=Br.get(Hs);if(xi){Ur=xi;break}Wh.push(Hs)}Wh.forEach(xi=>Br.set(xi,Ur))}const Fc=this._buildAnimation(Ht.namespaceId,yn,Cn,a,J0,fd);if(Ht.setRealPlayer(Fc),Ur===bL)cm.push(Ht);else{const Hs=this.playersByElement.get(Ur);Hs&&Hs.length&&(Ht.parentPlayer=Gh(Hs)),r.push(Ht)}}else sm(Ft,yn.fromStyles),Ht.onDestroy(()=>Pc(Ft,yn.toStyles)),vL.push(Ht),C.has(Ft)&&r.push(Ht)}),vL.forEach(Et=>{const Ft=a.get(Et.element);if(Ft&&Ft.length){const Ht=Gh(Ft);Et.setRealPlayer(Ht)}}),r.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<ce.length;Et++){const Ft=ce[Et],Ht=Ft[Ta];if(xy(Ft,OD),Ht&&Ht.hasAnimation)continue;let yn=[];if(f.size){let Fc=f.get(Ft);Fc&&Fc.length&&yn.push(...Fc);let Hs=this.driver.query(Ft,ER,!0);for(let Wh=0;Wh<Hs.length;Wh++){let xi=f.get(Hs[Wh]);xi&&xi.length&&yn.push(...xi)}}const Ur=yn.filter(Fc=>!Fc.destroyed);Ur.length?R6(this,Ft,Ur):this.processLeaveNode(Ft)}return ce.length=0,cm.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Ft=this.players.indexOf(Et);this.players.splice(Ft,1)}),Et.play()}),cm}elementContainsData(e,t){let i=!1;const r=t[Ta];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==Q0;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,C=b!==a,M=Bs(i,b,[]);this._getPreviousPlayers(b,C,u,f,t.toState).forEach(B=>{const q=B.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),B.destroy(),M.push(B)})}sm(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,b=[],C=new Set,M=new Set,P=t.timelines.map(q=>{const J=q.element;C.add(J);const ce=J[Ta];if(ce&&ce.removedBeforeQueried)return new W0(q.duration,q.delay);const qe=J!==_,gt=function k6(n){const e=[];return YN(n,e),e}((i.get(J)||x6).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===J),pt=a.get(J),Dt=u.get(J),qt=EN(0,this._normalizer,0,q.keyframes,pt,Dt),Kt=this._buildPlayer(q,qt,gt);if(q.subTimeline&&r&&M.add(J),qe){const Cn=new NR(e,f,J);Cn.setRealPlayer(Kt),b.push(Cn)}return Kt});b.forEach(q=>{Bs(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function T6(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,q.element,q))}),C.forEach(q=>Aa(q,RN));const B=Gh(P);return B.onDestroy(()=>{C.forEach(q=>xy(q,RN)),Pc(_,t.toStyles)}),M.forEach(q=>{Bs(r,q,[]).push(B)}),B}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new W0(e.duration,e.delay)}}class NR{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new W0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>mR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Bs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function qD(n){return n&&1===n.nodeType}function WN(n,e){const t=n.style.display;return n.style.display=e??"none",t}function ZN(n,e,t,i,r){const a=[];t.forEach(_=>a.push(WN(_)));const u=[];i.forEach((_,b)=>{const C=new Map;_.forEach(M=>{const P=e.computeStyle(b,M,r);C.set(M,P),(!P||0==P.length)&&(b[Ta]=D6,u.push(b))}),n.set(b,C)});let f=0;return t.forEach(_=>WN(_,a[f++])),u}function KN(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=1,r=new Set(e),a=new Map;function u(f){if(!f)return i;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:r.has(b)?i:u(b),a.set(f,_),_}return e.forEach(f=>{const _=u(f);_!==i&&t.get(_).push(f)}),t}function Aa(n,e){n.classList?.add(e)}function xy(n,e){n.classList?.remove(e)}function R6(n,e,t){Gh(t).onDone(()=>n.processLeaveNode(e))}function YN(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof eN?YN(i.players,e):e.push(i)}}function QN(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class WD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new S6(e,t,i),this._timelineEngine=new v6(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],b=[],C=IR(this._driver,a,_,b);if(_.length)throw function _G(n,e){return new c.vHH(3404,!1)}();f=function m6(n,e,t){return new g6(n,e,t)}(r,C,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=CN(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=CN(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let F6=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Pc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pc(this._element,this._initialStyles),this._endStyles&&(Pc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(sm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sm(this._element,this._endStyles),this._endStyles=null),Pc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function LR(n){let e=null;return n.forEach((t,i)=>{(function N6(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class XN{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:LN(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class L6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return SN(e,t)}getParentElement(e){return vR(e)}query(e,t,i){return TN(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b=new Map,C=u.filter(B=>B instanceof XN);(function HG(n,e){return 0===n||0===e})(i,r)&&C.forEach(B=>{B.currentSnapshot.forEach((q,J)=>b.set(J,q))});let M=function LG(n){return n.length?n[0]instanceof Map?n:n.map(e=>kN(e)):[]}(t).map(B=>qh(B));M=function jG(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,LN(n,f)))}}return e}(e,M,b);const P=function P6(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=LR(e[0]),e.length>1&&(i=LR(e[e.length-1]))):e instanceof Map&&(t=LR(e)),t||i?new F6(n,t,i):null}(e,M);return new XN(e,M,_,P)}}let V6=(()=>{class n extends QF{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?XF(t):t;return JN(this._renderer,null,i,"register",[r]),new B6(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(X))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class B6 extends D3{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new U6(this._id,e,t||{},this._renderer)}}class U6{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return JN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function JN(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const eL="@.disabled";let H6=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(a);return C||(C=new tL("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,C)),C}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=C=>{Array.isArray(C)?C.forEach(_):this.engine.registerTrigger(u,f,t,C.name,C)};return i.data.animation.forEach(_),new j6(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(WD),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class tL{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==eL?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class j6 extends tL{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==eL?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function z6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function $6(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let G6=(()=>{class n extends WD{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X),c.LFG(bR),c.LFG(RR),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const nL=[{provide:QF,useClass:V6},{provide:RR,useFactory:function q6(){return new d6}},{provide:WD,useClass:G6},{provide:c.FYo,useFactory:function W6(n,e,t){return new H6(n,e,t)},deps:[Eo,WD,c.R0b]}],VR=[{provide:bR,useFactory:()=>new L6},{provide:c.QbO,useValue:"BrowserAnimations"},...nL],iL=[{provide:bR,useClass:AN},{provide:c.QbO,useValue:"NoopAnimations"},...nL];let Z6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?iL:VR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:VR,imports:[xo]}),n})();class BR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class K6 extends BR{constructor(e,t,i,r,a){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=a}}class rL extends BR{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Y6 extends BR{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class Q6{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof K6?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof rL?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Y6?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class X6 extends Q6{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let J6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const oL=GP();class e4{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=rr(-this._previousScrollPosition.left),e.style.top=rr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),oL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),oL&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class t4{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class sL{enable(){}disable(){}attach(){}}function UR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function aL(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class n4{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();UR(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let r4=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new sL,this.close=u=>new t4(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new e4(this._viewportRuler,this._document),this.reposition=u=>new n4(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(oD),c.LFG(U0),c.LFG(c.R0b),c.LFG(X))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lL{constructor(e){if(this.scrollStrategy=new sL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class o4{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let cL=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s4=(()=>{class n extends cL{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a4=(()=>{class n extends cL{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=ad(a)},this._clickListener=a=>{const u=ad(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const C=_[b];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(u)||C.overlayElement.contains(f))break;const M=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(a)):M.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X),c.LFG(Vr),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uL=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||LM()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),LM()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(X),c.LFG(Vr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class l4{constructor(e,t,i,r,a,u,f,_,b,C=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=b,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new Xt.x,this._attachments=new Xt.x,this._detachments=new Xt.x,this._locationChanges=Xn.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._backdropTransitionendHandler=M=>{this._disposeBackdrop(M.target)},this._keydownEvents=new Xt.x,this._outsidePointerEvents=new Xt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Yi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=rr(this._config.width),e.height=rr(this._config.height),e.minWidth=rr(this._config.minWidth),e.minHeight=rr(this._config.minHeight),e.maxWidth=rr(this._config.maxWidth),e.maxHeight=rr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=tD(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Vs((0,em.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const dL="cdk-overlay-connected-position-bounding-box",c4=/([A-Za-z%]+)$/;class u4{get positions(){return this._preferredPositions}constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Xt.x,this._resizeSubscription=Xn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(dL),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),b=this._getOverlayPoint(_,t,f),C=this._getOverlayFit(b,t,i,f);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(C,b,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<C.visibleArea)&&(u={overlayFit:C,overlayPoint:b,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const b of a){const C=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);C>_&&(_=C,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&lm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(dL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=fL(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(f+=b);let P=0-f,B=f+a.height-i.height,q=this._subtractOverflows(a.width,0-u,u+a.width-i.width),J=this._subtractOverflows(a.height,P,B),ce=q*J;return{visibleArea:ce,isCompletelyWithinViewport:a.width*a.height===ce,fitsInViewportVertically:J===a.height,fitsInViewportHorizontally:q==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=hL(this._overlayRef.getConfig().minHeight),f=hL(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=r)&&(e.fitsInViewportHorizontally||null!=f&&f<=a)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=fL(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),b=Math.max(a.left-i.left-e.x,0);let C=0,M=0;return C=r.width<=a.width?b||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,M=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:C,y:M},{x:e.x+C,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new o4(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,C,M,P;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const B=Math.min(i.bottom-e.y+i.top,e.y),q=this._lastBoundingBoxSize.height;a=2*B,u=e.y-B,a>q&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-q/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)P=i.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)M=e.x,C=i.right-e.x;else{const B=Math.min(i.right-e.x+i.left,e.x),q=this._lastBoundingBoxSize.width;C=2*B,M=e.x-B,C>q&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-q/2)}return{top:u,left:M,bottom:f,right:P,width:C,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=rr(i.height),r.top=rr(i.top),r.bottom=rr(i.bottom),r.width=rr(i.width),r.left=rr(i.left),r.right=rr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=rr(a)),u&&(r.maxWidth=rr(u))}this._lastBoundingBoxSize=i,lm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){lm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){lm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();lm(i,this._getExactOverlayY(t,e,C)),lm(i,this._getExactOverlayX(t,e,C))}else i.position="static";let f="",_=this._getOffset(t,"x"),b=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),b&&(f+=`translateY(${b}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=rr(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=rr(u.maxWidth):a&&(i.maxWidth="")),lm(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=rr(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=rr(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:aL(e,i),isOriginOutsideView:UR(e,i),isOverlayClipped:aL(t,i),isOverlayOutsideView:UR(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&tD(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function lm(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function hL(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(c4);return t&&"px"!==t?null:parseFloat(e)}return n||null}function fL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const pL="cdk-global-overlay-wrapper";class d4{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(pL),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),C=this._xPosition,M=this._xOffset,P="rtl"===this._overlayRef.getConfig().direction;let B="",q="",J="";_?J="flex-start":"center"===C?(J="center",P?q=M:B=M):P?"left"===C||"end"===C?(J="flex-end",B=M):("right"===C||"start"===C)&&(J="flex-start",q=M):"left"===C||"start"===C?(J="flex-start",B=M):("right"===C||"end"===C)&&(J="flex-end",q=M),e.position=this._cssPosition,e.marginLeft=_?"0":B,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":q,t.justifyContent=J,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(pL),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let h4=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new d4}flexibleConnectedTo(t){return new u4(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(U0),c.LFG(X),c.LFG(Vr),c.LFG(uL))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f4=0,X0=(()=>{class n{constructor(t,i,r,a,u,f,_,b,C,M,P,B){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=b,this._directionality=C,this._location=M,this._outsideClickDispatcher=P,this._animationsModuleType=B}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new lL(t);return u.direction=u.direction||this._directionality.value,new l4(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+f4++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new X6(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(r4),c.LFG(uL),c.LFG(c._Vd),c.LFG(h4),c.LFG(s4),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(X),c.LFG(tm),c.LFG(Ne),c.LFG(a4),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const g4={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[X0],useFactory:function m4(n){return()=>n.scrollStrategies.reposition()}};let mL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[X0,g4],imports:[P0,J6,UM,UM]}),n})();const C4={provide:new c.OlP("mat-autocomplete-scroll-strategy"),deps:[X0],useFactory:function E4(n){return()=>n.scrollStrategies.reposition()}};let I4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[C4],imports:[mL,vD,ii,Go,sD,vD,ii]}),n})();const R4={provide:new c.OlP("mat-select-scroll-strategy"),deps:[X0],useFactory:function M4(n){return()=>n.scrollStrategies.reposition()}};let k4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[R4],imports:[Go,mL,vD,ii,sD,kD,vD,ii]}),n})();const O4_firebase={apiKey:"AIzaSyDIrPTYo0MnM44ThQfgTsJjI5GuB2S-MXU",authDomain:"meio-classroom-info.firebaseapp.com",databaseURL:"https://meio-classroom-info-default-rtdb.firebaseio.com",projectId:"meio-classroom-info",storageBucket:"meio-classroom-info.appspot.com",messagingSenderId:"830823781548",appId:"1:830823781548:web:2fef1fb7f06b56d481fb09",measurementId:"G-04GEY0NQN1"};let P4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[K$]}),n.\u0275inj=c.cJS({imports:[xo,j$,Z6,$v,Z$,Rj,g$,d3,x3,kD,vz,I4,k4,xz,$z,Ci.hO.initializeApp(O4_firebase),VU,MU]}),n})();sa().bootstrapModule(P4).catch(n=>console.error(n))},9751:(_t,Ee,F)=>{F.d(Ee,{y:()=>he});var c=F(930),ee=F(727),N=F(8822),re=F(9635),oe=F(2416),X=F(576),me=F(2806);let he=(()=>{class Q{constructor(De){De&&(this._subscribe=De)}lift(De){const Ge=new Q;return Ge.source=this,Ge.operator=De,Ge}subscribe(De,Ge,dt){const pe=function G(Q){return Q&&Q instanceof c.Lv||function z(Q){return Q&&(0,X.m)(Q.next)&&(0,X.m)(Q.error)&&(0,X.m)(Q.complete)}(Q)&&(0,ee.Nn)(Q)}(De)?De:new c.Hp(De,Ge,dt);return(0,me.x)(()=>{const{operator:Ie,source:Se}=this;pe.add(Ie?Ie.call(pe,Se):Se?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(De){try{return this._subscribe(De)}catch(Ge){De.error(Ge)}}forEach(De,Ge){return new(Ge=de(Ge))((dt,pe)=>{const Ie=new c.Hp({next:Se=>{try{De(Se)}catch(Ne){pe(Ne),Ie.unsubscribe()}},error:pe,complete:dt});this.subscribe(Ie)})}_subscribe(De){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(De)}[N.L](){return this}pipe(...De){return(0,re.U)(De)(this)}toPromise(De){return new(De=de(De))((Ge,dt)=>{let pe;this.subscribe(Ie=>pe=Ie,Ie=>dt(Ie),()=>Ge(pe))})}}return Q.create=je=>new Q(je),Q})();function de(Q){var je;return null!==(je=Q??oe.v.Promise)&&void 0!==je?je:Promise}},7579:(_t,Ee,F)=>{F.d(Ee,{x:()=>me});var c=F(9751),ee=F(727);const re=(0,F(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=F(8737),X=F(2806);let me=(()=>{class de extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Q=new he(this,this);return Q.operator=G,Q}_throwIfClosed(){if(this.closed)throw new re}next(G){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(G)}})}error(G){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Q}=this;for(;Q.length;)Q.shift().error(G)}})}complete(){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Q,isStopped:je,observers:De}=this;return Q||je?ee.Lc:(this.currentObservers=null,De.push(G),new ee.w0(()=>{this.currentObservers=null,(0,oe.P)(De,G)}))}_checkFinalizedStatuses(G){const{hasError:Q,thrownError:je,isStopped:De}=this;Q?G.error(je):De&&G.complete()}asObservable(){const G=new c.y;return G.source=this,G}}return de.create=(z,G)=>new he(z,G),de})();class he extends me{constructor(z,G){super(),this.destination=z,this.source=G}next(z){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Q||Q.call(G,z)}error(z){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Q||Q.call(G,z)}complete(){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===G||G.call(z)}_subscribe(z){var G,Q;return null!==(Q=null===(G=this.source)||void 0===G?void 0:G.subscribe(z))&&void 0!==Q?Q:ee.Lc}}},930:(_t,Ee,F)=>{F.d(Ee,{Hp:()=>dt,Lv:()=>Q});var c=F(576),ee=F(727),N=F(2416),re=F(7849),oe=F(5032);const X=de("C",void 0,void 0);function de(xe,we,Me){return{kind:xe,value:we,error:Me}}var z=F(3410),G=F(2806);class Q extends ee.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,ee.Nn)(we)&&we.add(this)):this.destination=Ne}static create(we,Me,Be){return new dt(we,Me,Be)}next(we){this.isStopped?Se(function he(xe){return de("N",xe,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Se(function me(xe){return de("E",void 0,xe)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Se(X,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function De(xe,we){return je.call(xe,we)}class Ge{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Me}=this;if(Me.next)try{Me.next(we)}catch(Be){pe(Be)}}error(we){const{partialObserver:Me}=this;if(Me.error)try{Me.error(we)}catch(Be){pe(Be)}else pe(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Me){pe(Me)}}}class dt extends Q{constructor(we,Me,Be){let Fe;if(super(),(0,c.m)(we)||!we)Fe={next:we??void 0,error:Me??void 0,complete:Be??void 0};else{let H;this&&N.v.useDeprecatedNextContext?(H=Object.create(we),H.unsubscribe=()=>this.unsubscribe(),Fe={next:we.next&&De(we.next,H),error:we.error&&De(we.error,H),complete:we.complete&&De(we.complete,H)}):Fe=we}this.destination=new Ge(Fe)}}function pe(xe){N.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(xe):(0,re.h)(xe)}function Se(xe,we){const{onStoppedNotification:Me}=N.v;Me&&z.z.setTimeout(()=>Me(xe,we))}const Ne={closed:!0,next:oe.Z,error:function Ie(xe){throw xe},complete:oe.Z}},727:(_t,Ee,F)=>{F.d(Ee,{Lc:()=>X,w0:()=>oe,Nn:()=>me});var c=F(576);const N=(0,F(3888).d)(de=>function(G){de(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Q,je)=>`${je+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var re=F(8737);class oe{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const De of G)De.remove(this);else G.remove(this);const{initialTeardown:Q}=this;if((0,c.m)(Q))try{Q()}catch(De){z=De instanceof N?De.errors:[De]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const De of je)try{he(De)}catch(Ge){z=z??[],Ge instanceof N?z=[...z,...Ge.errors]:z.push(Ge)}}if(z)throw new N(z)}}add(z){var G;if(z&&z!==this)if(this.closed)he(z);else{if(z instanceof oe){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(z)}}_hasParent(z){const{_parentage:G}=this;return G===z||Array.isArray(G)&&G.includes(z)}_addParent(z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(z),G):G?[G,z]:z}_removeParent(z){const{_parentage:G}=this;G===z?this._parentage=null:Array.isArray(G)&&(0,re.P)(G,z)}remove(z){const{_finalizers:G}=this;G&&(0,re.P)(G,z),z instanceof oe&&z._removeParent(this)}}oe.EMPTY=(()=>{const de=new oe;return de.closed=!0,de})();const X=oe.EMPTY;function me(de){return de instanceof oe||de&&"closed"in de&&(0,c.m)(de.remove)&&(0,c.m)(de.add)&&(0,c.m)(de.unsubscribe)}function he(de){(0,c.m)(de)?de():de.unsubscribe()}},2416:(_t,Ee,F)=>{F.d(Ee,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(_t,Ee,F)=>{F.d(Ee,{E:()=>ee});const ee=new(F(9751).y)(oe=>oe.complete())},8996:(_t,Ee,F)=>{F.d(Ee,{D:()=>we});var c=F(8421),ee=F(5363),N=F(9468),X=F(9751),he=F(2202),de=F(576),z=F(9672);function Q(Me,Be){if(!Me)throw new Error("Iterable cannot be null");return new X.y(Fe=>{(0,z.f)(Fe,Be,()=>{const H=Me[Symbol.asyncIterator]();(0,z.f)(Fe,Be,()=>{H.next().then(ye=>{ye.done?Fe.complete():Fe.next(ye.value)})},0,!0)})})}var je=F(3670),De=F(8239),Ge=F(1144),dt=F(6495),pe=F(2206),Ie=F(4532),Se=F(3260);function we(Me,Be){return Be?function xe(Me,Be){if(null!=Me){if((0,je.c)(Me))return function re(Me,Be){return(0,c.Xf)(Me).pipe((0,N.R)(Be),(0,ee.Q)(Be))}(Me,Be);if((0,Ge.z)(Me))return function me(Me,Be){return new X.y(Fe=>{let H=0;return Be.schedule(function(){H===Me.length?Fe.complete():(Fe.next(Me[H++]),Fe.closed||this.schedule())})})}(Me,Be);if((0,De.t)(Me))return function oe(Me,Be){return(0,c.Xf)(Me).pipe((0,N.R)(Be),(0,ee.Q)(Be))}(Me,Be);if((0,pe.D)(Me))return Q(Me,Be);if((0,dt.T)(Me))return function G(Me,Be){return new X.y(Fe=>{let H;return(0,z.f)(Fe,Be,()=>{H=Me[he.h](),(0,z.f)(Fe,Be,()=>{let ye,Ue;try{({value:ye,done:Ue}=H.next())}catch(Ze){return void Fe.error(Ze)}Ue?Fe.complete():Fe.next(ye)},0,!0)}),()=>(0,de.m)(H?.return)&&H.return()})}(Me,Be);if((0,Se.L)(Me))return function Ne(Me,Be){return Q((0,Se.Q)(Me),Be)}(Me,Be)}throw(0,Ie.z)(Me)}(Me,Be):(0,c.Xf)(Me)}},8421:(_t,Ee,F)=>{F.d(Ee,{Xf:()=>je});var c=F(655),ee=F(1144),N=F(8239),re=F(9751),oe=F(3670),X=F(2206),me=F(4532),he=F(6495),de=F(3260),z=F(576),G=F(7849),Q=F(8822);function je(xe){if(xe instanceof re.y)return xe;if(null!=xe){if((0,oe.c)(xe))return function De(xe){return new re.y(we=>{const Me=xe[Q.L]();if((0,z.m)(Me.subscribe))return Me.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,ee.z)(xe))return function Ge(xe){return new re.y(we=>{for(let Me=0;Me<xe.length&&!we.closed;Me++)we.next(xe[Me]);we.complete()})}(xe);if((0,N.t)(xe))return function dt(xe){return new re.y(we=>{xe.then(Me=>{we.closed||(we.next(Me),we.complete())},Me=>we.error(Me)).then(null,G.h)})}(xe);if((0,X.D)(xe))return Ie(xe);if((0,he.T)(xe))return function pe(xe){return new re.y(we=>{for(const Me of xe)if(we.next(Me),we.closed)return;we.complete()})}(xe);if((0,de.L)(xe))return function Se(xe){return Ie((0,de.Q)(xe))}(xe)}throw(0,me.z)(xe)}function Ie(xe){return new re.y(we=>{(function Ne(xe,we){var Me,Be,Fe,H;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Me=(0,c.KL)(xe);!(Be=yield Me.next()).done;)if(we.next(Be.value),we.closed)return}catch(ye){Fe={error:ye}}finally{try{Be&&!Be.done&&(H=Me.return)&&(yield H.call(Me))}finally{if(Fe)throw Fe.error}}we.complete()})})(xe,we).catch(Me=>we.error(Me))})}},6451:(_t,Ee,F)=>{F.d(Ee,{T:()=>X});var c=F(8189),ee=F(8421),N=F(515),re=F(3269),oe=F(8996);function X(...me){const he=(0,re.yG)(me),de=(0,re._6)(me,1/0),z=me;return z.length?1===z.length?(0,ee.Xf)(z[0]):(0,c.J)(de)((0,oe.D)(z,he)):N.E}},5403:(_t,Ee,F)=>{F.d(Ee,{x:()=>ee});var c=F(930);function ee(re,oe,X,me,he){return new N(re,oe,X,me,he)}class N extends c.Lv{constructor(oe,X,me,he,de,z){super(oe),this.onFinalize=de,this.shouldUnsubscribe=z,this._next=X?function(G){try{X(G)}catch(Q){oe.error(Q)}}:super._next,this._error=he?function(G){try{he(G)}catch(Q){oe.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(G){oe.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:X}=this;super.unsubscribe(),!X&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(_t,Ee,F)=>{F.d(Ee,{U:()=>N});var c=F(4482),ee=F(5403);function N(re,oe){return(0,c.e)((X,me)=>{let he=0;X.subscribe((0,ee.x)(me,de=>{me.next(re.call(oe,de,he++))}))})}},8189:(_t,Ee,F)=>{F.d(Ee,{J:()=>N});var c=F(5577),ee=F(4671);function N(re=1/0){return(0,c.z)(ee.y,re)}},5577:(_t,Ee,F)=>{F.d(Ee,{z:()=>he});var c=F(4004),ee=F(8421),N=F(4482),re=F(9672),oe=F(5403),me=F(576);function he(de,z,G=1/0){return(0,me.m)(z)?he((Q,je)=>(0,c.U)((De,Ge)=>z(Q,De,je,Ge))((0,ee.Xf)(de(Q,je))),G):("number"==typeof z&&(G=z),(0,N.e)((Q,je)=>function X(de,z,G,Q,je,De,Ge,dt){const pe=[];let Ie=0,Se=0,Ne=!1;const xe=()=>{Ne&&!pe.length&&!Ie&&z.complete()},we=Be=>Ie<Q?Me(Be):pe.push(Be),Me=Be=>{De&&z.next(Be),Ie++;let Fe=!1;(0,ee.Xf)(G(Be,Se++)).subscribe((0,oe.x)(z,H=>{je?.(H),De?we(H):z.next(H)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(Ie--;pe.length&&Ie<Q;){const H=pe.shift();Ge?(0,re.f)(z,Ge,()=>Me(H)):Me(H)}xe()}catch(H){z.error(H)}}))};return de.subscribe((0,oe.x)(z,we,()=>{Ne=!0,xe()})),()=>{dt?.()}}(Q,je,de,G)))}},5363:(_t,Ee,F)=>{F.d(Ee,{Q:()=>re});var c=F(9672),ee=F(4482),N=F(5403);function re(oe,X=0){return(0,ee.e)((me,he)=>{me.subscribe((0,N.x)(he,de=>(0,c.f)(he,oe,()=>he.next(de),X),()=>(0,c.f)(he,oe,()=>he.complete(),X),de=>(0,c.f)(he,oe,()=>he.error(de),X)))})}},3099:(_t,Ee,F)=>{F.d(Ee,{B:()=>oe});var c=F(8421),ee=F(7579),N=F(930),re=F(4482);function oe(me={}){const{connector:he=(()=>new ee.x),resetOnError:de=!0,resetOnComplete:z=!0,resetOnRefCountZero:G=!0}=me;return Q=>{let je,De,Ge,dt=0,pe=!1,Ie=!1;const Se=()=>{De?.unsubscribe(),De=void 0},Ne=()=>{Se(),je=Ge=void 0,pe=Ie=!1},xe=()=>{const we=je;Ne(),we?.unsubscribe()};return(0,re.e)((we,Me)=>{dt++,!Ie&&!pe&&Se();const Be=Ge=Ge??he();Me.add(()=>{dt--,0===dt&&!Ie&&!pe&&(De=X(xe,G))}),Be.subscribe(Me),!je&&dt>0&&(je=new N.Hp({next:Fe=>Be.next(Fe),error:Fe=>{Ie=!0,Se(),De=X(Ne,de,Fe),Be.error(Fe)},complete:()=>{pe=!0,Se(),De=X(Ne,z),Be.complete()}}),(0,c.Xf)(we).subscribe(je))})(Q)}}function X(me,he,...de){if(!0===he)return void me();if(!1===he)return;const z=new N.Hp({next:()=>{z.unsubscribe(),me()}});return(0,c.Xf)(he(...de)).subscribe(z)}},9468:(_t,Ee,F)=>{F.d(Ee,{R:()=>ee});var c=F(4482);function ee(N,re=0){return(0,c.e)((oe,X)=>{X.add(N.schedule(()=>oe.subscribe(X),re))})}},8505:(_t,Ee,F)=>{F.d(Ee,{b:()=>oe});var c=F(576),ee=F(4482),N=F(5403),re=F(4671);function oe(X,me,he){const de=(0,c.m)(X)||me||he?{next:X,error:me,complete:he}:X;return de?(0,ee.e)((z,G)=>{var Q;null===(Q=de.subscribe)||void 0===Q||Q.call(de);let je=!0;z.subscribe((0,N.x)(G,De=>{var Ge;null===(Ge=de.next)||void 0===Ge||Ge.call(de,De),G.next(De)},()=>{var De;je=!1,null===(De=de.complete)||void 0===De||De.call(de),G.complete()},De=>{var Ge;je=!1,null===(Ge=de.error)||void 0===Ge||Ge.call(de,De),G.error(De)},()=>{var De,Ge;je&&(null===(De=de.unsubscribe)||void 0===De||De.call(de)),null===(Ge=de.finalize)||void 0===Ge||Ge.call(de)}))}):re.y}},4408:(_t,Ee,F)=>{F.d(Ee,{o:()=>oe});var c=F(727);class ee extends c.w0{constructor(me,he){super()}schedule(me,he=0){return this}}const N={setInterval(X,me,...he){const{delegate:de}=N;return de?.setInterval?de.setInterval(X,me,...he):setInterval(X,me,...he)},clearInterval(X){const{delegate:me}=N;return(me?.clearInterval||clearInterval)(X)},delegate:void 0};var re=F(8737);class oe extends ee{constructor(me,he){super(me,he),this.scheduler=me,this.work=he,this.pending=!1}schedule(me,he=0){var de;if(this.closed)return this;this.state=me;const z=this.id,G=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(G,z,he)),this.pending=!0,this.delay=he,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(G,this.id,he),this}requestAsyncId(me,he,de=0){return N.setInterval(me.flush.bind(me,this),de)}recycleAsyncId(me,he,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return he;null!=he&&N.clearInterval(he)}execute(me,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(me,he);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,he){let z,de=!1;try{this.work(me)}catch(G){de=!0,z=G||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:me,scheduler:he}=this,{actions:de}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(de,this),null!=me&&(this.id=this.recycleAsyncId(he,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(_t,Ee,F)=>{F.d(Ee,{v:()=>N});var c=F(6063);class ee{constructor(oe,X=ee.now){this.schedulerActionCtor=oe,this.now=X}schedule(oe,X=0,me){return new this.schedulerActionCtor(this,oe).schedule(me,X)}}ee.now=c.l.now;class N extends ee{constructor(oe,X=ee.now){super(oe,X),this.actions=[],this._active=!1}flush(oe){const{actions:X}=this;if(this._active)return void X.push(oe);let me;this._active=!0;do{if(me=oe.execute(oe.state,oe.delay))break}while(oe=X.shift());if(this._active=!1,me){for(;oe=X.shift();)oe.unsubscribe();throw me}}}},4986:(_t,Ee,F)=>{F.d(Ee,{P:()=>re,z:()=>N});var c=F(4408);const N=new(F(7565).v)(c.o),re=N},6063:(_t,Ee,F)=>{F.d(Ee,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(_t,Ee,F)=>{F.d(Ee,{z:()=>c});const c={setTimeout(ee,N,...re){const{delegate:oe}=c;return oe?.setTimeout?oe.setTimeout(ee,N,...re):setTimeout(ee,N,...re)},clearTimeout(ee){const{delegate:N}=c;return(N?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(_t,Ee,F)=>{F.d(Ee,{h:()=>ee});const ee=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_t,Ee,F)=>{F.d(Ee,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(_t,Ee,F)=>{F.d(Ee,{_6:()=>X,jO:()=>re,yG:()=>oe});var c=F(576),ee=F(3532);function N(me){return me[me.length-1]}function re(me){return(0,c.m)(N(me))?me.pop():void 0}function oe(me){return(0,ee.K)(N(me))?me.pop():void 0}function X(me,he){return"number"==typeof N(me)?me.pop():he}},8737:(_t,Ee,F)=>{function c(ee,N){if(ee){const re=ee.indexOf(N);0<=re&&ee.splice(re,1)}}F.d(Ee,{P:()=>c})},3888:(_t,Ee,F)=>{function c(ee){const re=ee(oe=>{Error.call(oe),oe.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}F.d(Ee,{d:()=>c})},2806:(_t,Ee,F)=>{F.d(Ee,{O:()=>re,x:()=>N});var c=F(2416);let ee=null;function N(oe){if(c.v.useDeprecatedSynchronousErrorHandling){const X=!ee;if(X&&(ee={errorThrown:!1,error:null}),oe(),X){const{errorThrown:me,error:he}=ee;if(ee=null,me)throw he}}else oe()}function re(oe){c.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=oe)}},9672:(_t,Ee,F)=>{function c(ee,N,re,oe=0,X=!1){const me=N.schedule(function(){re(),X?ee.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(ee.add(me),!X)return me}F.d(Ee,{f:()=>c})},4671:(_t,Ee,F)=>{function c(ee){return ee}F.d(Ee,{y:()=>c})},1144:(_t,Ee,F)=>{F.d(Ee,{z:()=>c});const c=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(_t,Ee,F)=>{F.d(Ee,{D:()=>ee});var c=F(576);function ee(N){return Symbol.asyncIterator&&(0,c.m)(N?.[Symbol.asyncIterator])}},576:(_t,Ee,F)=>{function c(ee){return"function"==typeof ee}F.d(Ee,{m:()=>c})},3670:(_t,Ee,F)=>{F.d(Ee,{c:()=>N});var c=F(8822),ee=F(576);function N(re){return(0,ee.m)(re[c.L])}},6495:(_t,Ee,F)=>{F.d(Ee,{T:()=>N});var c=F(2202),ee=F(576);function N(re){return(0,ee.m)(re?.[c.h])}},8239:(_t,Ee,F)=>{F.d(Ee,{t:()=>ee});var c=F(576);function ee(N){return(0,c.m)(N?.then)}},3260:(_t,Ee,F)=>{F.d(Ee,{L:()=>re,Q:()=>N});var c=F(655),ee=F(576);function N(oe){return(0,c.FC)(this,arguments,function*(){const me=oe.getReader();try{for(;;){const{value:he,done:de}=yield(0,c.qq)(me.read());if(de)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(he)}}finally{me.releaseLock()}})}function re(oe){return(0,ee.m)(oe?.getReader)}},3532:(_t,Ee,F)=>{F.d(Ee,{K:()=>ee});var c=F(576);function ee(N){return N&&(0,c.m)(N.schedule)}},4482:(_t,Ee,F)=>{F.d(Ee,{A:()=>ee,e:()=>N});var c=F(576);function ee(re){return(0,c.m)(re?.lift)}function N(re){return oe=>{if(ee(oe))return oe.lift(function(X){try{return re(X,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(_t,Ee,F)=>{function c(){}F.d(Ee,{Z:()=>c})},9635:(_t,Ee,F)=>{F.d(Ee,{U:()=>N,z:()=>ee});var c=F(4671);function ee(...re){return N(re)}function N(re){return 0===re.length?c.y:1===re.length?re[0]:function(X){return re.reduce((me,he)=>he(me),X)}}},7849:(_t,Ee,F)=>{F.d(Ee,{h:()=>N});var c=F(2416),ee=F(3410);function N(re){ee.z.setTimeout(()=>{const{onUnhandledError:oe}=c.v;if(!oe)throw re;oe(re)})}},4532:(_t,Ee,F)=>{function c(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ee,{z:()=>c})},655:(_t,Ee,F)=>{function re(ae,fe){var be={};for(var Re in ae)Object.prototype.hasOwnProperty.call(ae,Re)&&fe.indexOf(Re)<0&&(be[Re]=ae[Re]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(Re=Object.getOwnPropertySymbols(ae);Le<Re.length;Le++)fe.indexOf(Re[Le])<0&&Object.prototype.propertyIsEnumerable.call(ae,Re[Le])&&(be[Re[Le]]=ae[Re[Le]])}return be}function Q(ae,fe,be,Re){return new(be||(be=Promise))(function(ze,et){function Qe(an){try{St(Re.next(an))}catch(it){et(it)}}function dn(an){try{St(Re.throw(an))}catch(it){et(it)}}function St(an){an.done?ze(an.value):function Le(ze){return ze instanceof be?ze:new be(function(et){et(ze)})}(an.value).then(Qe,dn)}St((Re=Re.apply(ae,fe||[])).next())})}function xe(ae){return this instanceof xe?(this.v=ae,this):new xe(ae)}function we(ae,fe,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Re=be.apply(ae,fe||[]),ze=[];return Le={},et("next"),et("throw"),et("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function et(Rt){Re[Rt]&&(Le[Rt]=function(Zn){return new Promise(function(vn,Sn){ze.push([Rt,Zn,vn,Sn])>1||Qe(Rt,Zn)})})}function Qe(Rt,Zn){try{!function dn(Rt){Rt.value instanceof xe?Promise.resolve(Rt.value.v).then(St,an):it(ze[0][2],Rt)}(Re[Rt](Zn))}catch(vn){it(ze[0][3],vn)}}function St(Rt){Qe("next",Rt)}function an(Rt){Qe("throw",Rt)}function it(Rt,Zn){Rt(Zn),ze.shift(),ze.length&&Qe(ze[0][0],ze[0][1])}}function Be(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,fe=ae[Symbol.asyncIterator];return fe?fe.call(ae):(ae=function dt(ae){var fe="function"==typeof Symbol&&Symbol.iterator,be=fe&&ae[fe],Re=0;if(be)return be.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&Re>=ae.length&&(ae=void 0),{value:ae&&ae[Re++],done:!ae}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),be={},Re("next"),Re("throw"),Re("return"),be[Symbol.asyncIterator]=function(){return this},be);function Re(ze){be[ze]=ae[ze]&&function(et){return new Promise(function(Qe,dn){!function Le(ze,et,Qe,dn){Promise.resolve(dn).then(function(St){ze({value:St,done:Qe})},et)}(Qe,dn,(et=ae[ze](et)).done,et.value)})}}}F.d(Ee,{FC:()=>we,KL:()=>Be,_T:()=>re,mG:()=>Q,qq:()=>xe})},4650:(_t,Ee,F)=>{F.d(Ee,{$8M:()=>Wl,$WT:()=>jo,$Z:()=>Nw,AFp:()=>$C,ALo:()=>EC,AaK:()=>he,BQk:()=>Rg,CHM:()=>Vl,CRH:()=>at,CZH:()=>L_,CqO:()=>hE,D6c:()=>Bp,DdM:()=>gC,EJc:()=>qS,EiD:()=>QD,EpF:()=>Og,F$t:()=>_E,F4k:()=>Pg,FYo:()=>_w,FiY:()=>ro,Gf:()=>Ls,GfV:()=>yw,GkF:()=>kg,Gpc:()=>G,Hsn:()=>Vv,Ikx:()=>Jv,JOm:()=>Mr,JVY:()=>Gm,JZr:()=>dt,KtG:()=>ef,L6k:()=>y,LAX:()=>m,LFG:()=>$e,Lbi:()=>jS,Lck:()=>SS,MAs:()=>Rv,MMx:()=>vp,NdJ:()=>ch,OlP:()=>wn,Oqu:()=>Wv,P3R:()=>Uy,PXZ:()=>XC,Q6J:()=>kv,QGY:()=>Fv,QbO:()=>zS,Qsj:()=>lI,R0b:()=>os,RDi:()=>Ny,Rgc:()=>Eh,SBq:()=>al,Sil:()=>nr,Suo:()=>S_,TTD:()=>bs,TgZ:()=>Ag,Udp:()=>AE,VKq:()=>Eb,W1O:()=>Si,X6Q:()=>En,XFs:()=>wt,Xpm:()=>Dl,Xts:()=>dc,Y36:()=>th,YKP:()=>uC,YNc:()=>cE,Yjl:()=>Vc,Yz7:()=>it,Z0I:()=>Sn,ZZ4:()=>G_,_Bn:()=>_b,_UZ:()=>Mg,_Vd:()=>fc,_c5:()=>Ia,_uU:()=>Vg,aQg:()=>n0,c2e:()=>$S,cJS:()=>Zn,cg1:()=>Kg,dDg:()=>Tc,dqk:()=>Vt,eBb:()=>p,eFA:()=>ex,eJc:()=>Pb,ekj:()=>$v,eoX:()=>Rp,f3M:()=>st,g9A:()=>qC,h0i:()=>Ns,hGG:()=>lx,hij:()=>Bg,iGM:()=>hi,ifc:()=>ne,ip1:()=>zC,jDz:()=>vb,kL8:()=>op,lG2:()=>Lc,lqb:()=>Ru,lri:()=>YC,mCW:()=>nt,n5z:()=>Rd,oAB:()=>Sl,oxw:()=>mE,pB0:()=>w,q3G:()=>Ei,q4F:()=>Ky,qLn:()=>Nf,qOj:()=>Eg,qZA:()=>Pv,qzn:()=>Ao,rWj:()=>vl,sBO:()=>Yb,s_b:()=>xp,soG:()=>Tp,tBr:()=>ha,tb:()=>B_,tp0:()=>D,uIk:()=>Wf,vHH:()=>pe,vpe:()=>Pr,wAp:()=>At,xi3:()=>Ib,xp6:()=>Sw,ynx:()=>Yf,z2F:()=>wl,z3N:()=>Vi,zSh:()=>$y,zs3:()=>Jd});var c=F(7579),ee=F(727),N=F(9751),re=F(6451),oe=F(3099);function X(o){for(let s in o)if(o[s]===X)return s;throw Error("Could not find renamed property on target object.")}function me(o,s){for(const l in s)s.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=s[l])}function he(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(he).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function de(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const z=X({__forward_ref__:X});function G(o){return o.__forward_ref__=G,o.toString=function(){return he(this())},o}function Q(o){return je(o)?o():o}function je(o){return"function"==typeof o&&o.hasOwnProperty(z)&&o.__forward_ref__===G}function De(o){return o&&!!o.\u0275providers}const dt="https://g.co/ng/security#xss";class pe extends Error{constructor(s,l){super(Ie(s,l)),this.code=s}}function Ie(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}function Se(o){return"string"==typeof o?o:null==o?"":String(o)}function Be(o,s){throw new pe(-201,!1)}function et(o,s){null==o&&function Qe(o,s,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${s} <=Actual]`))}(s,o,null,"!=")}function it(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Zn(o){return{providers:o.providers||[],imports:o.imports||[]}}function vn(o){return kn(o,or)||kn(o,Tn)}function Sn(o){return null!==vn(o)}function kn(o,s){return o.hasOwnProperty(s)?o[s]:null}function wr(o){return o&&(o.hasOwnProperty(Uo)||o.hasOwnProperty(sr))?o[Uo]:null}const or=X({\u0275prov:X}),Uo=X({\u0275inj:X}),Tn=X({ngInjectableDef:X}),sr=X({ngInjectorDef:X});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let Ho;function On(o){const s=Ho;return Ho=o,s}function Ai(o,s,l){const d=vn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&wt.Optional?null:void 0!==s?s:void Be(he(o))}const Vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xn={},Kn="__NG_DI_FLAG__",zi="ngTempTokenPath",Mi="ngTokenPath",Ra=/\n/gm,pn="\u0275",_o="__source";let rn;function $i(o){const s=rn;return rn=o,s}function Yr(o,s=wt.Default){if(void 0===rn)throw new pe(-203,!1);return null===rn?Ai(o,void 0,s):rn.get(o,s&wt.Optional?null:void 0,s)}function $e(o,s=wt.Default){return(function Hr(){return Ho}()||Yr)(Q(o),s)}function st(o,s=wt.Default){return $e(o,Mt(s))}function Mt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Lt(o){const s=[];for(let l=0;l<o.length;l++){const d=Q(o[l]);if(Array.isArray(d)){if(0===d.length)throw new pe(900,!1);let h,g=wt.Default;for(let v=0;v<d.length;v++){const E=d[v],x=Ri(E);"number"==typeof x?-1===x?h=E.token:g|=x:h=E}s.push($e(h,g))}else s.push($e(d))}return s}function $t(o,s){return o[Kn]=s,o.prototype[Kn]=s,o}function Ri(o){return o[Kn]}function K(o){return{toString:o}.toString()}var _e=(()=>((_e=_e||{})[_e.OnPush=0]="OnPush",_e[_e.Default=1]="Default",_e))(),ne=(()=>{return(o=ne||(ne={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ne;var o})();const rt={},Ke=[],_n=X({\u0275cmp:X}),Pn=X({\u0275dir:X}),Vn=X({\u0275pipe:X}),ri=X({\u0275mod:X}),Bt=X({\u0275fac:X}),Gi=X({__NG_ELEMENT_ID__:X});let Qr=0;function Dl(o){return K(()=>{const s=ki(o),l={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===_e.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||ne.Emulated,id:"c"+Qr++,styles:o.styles||Ke,_:null,schemas:o.schemas||null,tView:null};Tl(l);const d=o.dependencies;return l.directiveDefs=hs(d,!1),l.pipeDefs=hs(d,!0),l})}function Nc(o){return on(o)||Yn(o)}function Il(o){return null!==o}function Sl(o){return K(()=>({type:o.type,bootstrap:o.bootstrap||Ke,declarations:o.declarations||Ke,imports:o.imports||Ke,exports:o.exports||Ke,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Bn(o,s){if(null==o)return rt;const l={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,s&&(s[h]=g)}return l}function Lc(o){return K(()=>{const s=ki(o);return Tl(s),s})}function Vc(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function on(o){return o[_n]||null}function Yn(o){return o[Pn]||null}function mi(o){return o[Vn]||null}function jo(o){const s=on(o)||Yn(o)||mi(o);return null!==s&&s.standalone}function oi(o,s){const l=o[ri]||null;if(!l&&!0===s)throw new Error(`Type ${he(o)} does not have '\u0275mod' property.`);return l}function ki(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||Ke,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bn(o.inputs,s),outputs:Bn(o.outputs)}}function Tl(o){o.features?.forEach(s=>s(o))}function hs(o,s){if(!o)return null;const l=s?mi:Nc;return()=>("function"==typeof o?o():o).map(d=>l(d)).filter(Il)}const Er=0,tt=1,Ut=2,bn=3,ar=4,Xr=5,zn=6,fs=7,An=8,ps=9,ka=10,Wt=11,js=12,ms=13,zo=14,Oa=15,gi=16,zs=17,$o=18,qi=19,Wi=20,Bc=21,tn=22,Uc=1,Al=2,gs=7,Cr=8,$s=9,_i=10;function lr(o){return Array.isArray(o)&&"object"==typeof o[Uc]}function cr(o){return Array.isArray(o)&&!0===o[Uc]}function vo(o){return 0!=(4&o.flags)}function Ml(o){return o.componentOffset>-1}function _s(o){return 1==(1&o.flags)}function Oi(o){return!!o.template}function pd(o){return 0!=(256&o[Ut])}function ur(o,s){return o.hasOwnProperty(Bt)?o[Bt]:null}class _d{constructor(s,l,d){this.previousValue=s,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function bs(){return Fa}function Fa(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ws),qs}function qs(){const o=$c(this),s=o?.current;if(s){const l=o.previous;if(l===rt)o.previous=s;else for(let d in s)l[d]=s[d];o.current=null,this.ngOnChanges(s)}}function Ws(o,s,l,d){const h=this.declaredInputs[l],g=$c(o)||function Ol(o,s){return o[Na]=s}(o,{previous:rt,current:null}),v=g.current||(g.current={}),E=g.previous,x=E[h];v[h]=new _d(x&&x.currentValue,s,E===rt),o[d]=s}bs.ngInherit=!0;const Na="__ngSimpleChanges__";function $c(o){return o[Na]||null}const cn=function(o,s,l){};function Fn(o){for(;Array.isArray(o);)o=o[Er];return o}function eo(o,s){return Fn(s[o])}function Pi(o,s){return Fn(s[o.index])}function Gc(o,s){return o.data[s]}function to(o,s){return o[s]}function si(o,s){const l=s[o];return lr(l)?l:l[Er]}function Zs(o){return 64==(64&o[Ut])}function wo(o,s){return null==s?null:o[s]}function Ks(o){o[$o]=0}function Wc(o,s){o[Xr]+=s;let l=o,d=o[bn];for(;null!==d&&(1===s&&1===l[Xr]||-1===s&&0===l[Xr]);)d[Xr]+=s,l=d,d=d[bn]}const Ot={lFrame:Dy(null),bindingsEnabled:!0};function Ll(){return Ot.bindingsEnabled}function Ae(){return Ot.lFrame.lView}function sn(){return Ot.lFrame.tView}function Vl(o){return Ot.lFrame.contextLView=o,o[An]}function ef(o){return Ot.lFrame.contextLView=null,o}function ai(){let o=Zc();for(;null!==o&&64===o.type;)o=o.parent;return o}function Zc(){return Ot.lFrame.currentTNode}function dr(o,s){const l=Ot.lFrame;l.currentTNode=o,l.isParent=s}function wd(){return Ot.lFrame.isParent}function Qs(){Ot.lFrame.isParent=!1}function Un(){const o=Ot.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function ja(){return Ot.lFrame.bindingIndex++}function xd(o,s){const l=Ot.lFrame;l.bindingIndex=l.bindingRootIndex=o,Hl(s)}function Hl(o){Ot.lFrame.currentDirectiveIndex=o}function Qc(){return Ot.lFrame.currentQueryIndex}function jl(o){Ot.lFrame.currentQueryIndex=o}function mm(o){const s=o[tt];return 2===s.type?s.declTNode:1===s.type?o[zn]:null}function Xc(o,s,l){if(l&wt.SkipSelf){let h=s,g=o;for(;!(h=h.parent,null!==h||l&wt.Host||(h=mm(g),null===h||(g=g[Oa],10&h.type))););if(null===h)return!1;s=h,o=g}const d=Ot.lFrame=gm();return d.currentTNode=s,d.lView=o,!0}function Dd(o){const s=gm(),l=o[tt];Ot.lFrame=s,s.currentTNode=l.firstChild,s.lView=o,s.tView=l,s.contextLView=o,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function gm(){const o=Ot.lFrame,s=null===o?null:o.child;return null===s?Dy(o):s}function Dy(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Jc(){const o=Ot.lFrame;return Ot.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const _m=Jc;function tf(){const o=Jc();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Zi(){return Ot.lFrame.selectedIndex}function za(o){Ot.lFrame.selectedIndex=o}function Dn(){const o=Ot.lFrame;return Gc(o.tView,o.selectedIndex)}function eu(o,s){for(let l=s.directiveStart,d=s.directiveEnd;l<d;l++){const g=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:x,ngAfterViewChecked:T,ngOnDestroy:k}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-l,v),E&&((o.contentHooks||(o.contentHooks=[])).push(l,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,E)),x&&(o.viewHooks||(o.viewHooks=[])).push(-l,x),T&&((o.viewHooks||(o.viewHooks=[])).push(l,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,T)),null!=k&&(o.destroyHooks||(o.destroyHooks=[])).push(l,k)}}function tu(o,s,l){Zo(o,s,3,l)}function Xs(o,s,l,d){(3&o[Ut])===l&&Zo(o,s,l,d)}function Es(o,s){let l=o[Ut];(3&l)===s&&(l&=2047,l+=1,o[Ut]=l)}function Zo(o,s,l,d){const g=d??-1,v=s.length-1;let E=0;for(let x=void 0!==d?65535&o[$o]:0;x<v;x++)if("number"==typeof s[x+1]){if(E=s[x],null!=d&&E>=d)break}else s[x]<0&&(o[$o]+=65536),(E<g||-1==g)&&(zl(o,l,s,x),o[$o]=(4294901760&o[$o])+x+2),x++}function zl(o,s,l,d){const h=l[d]<0,g=l[d+1],E=o[h?-l[d]:l[d]];if(h){if(o[Ut]>>11<o[$o]>>16&&(3&o[Ut])===s){o[Ut]+=2048,cn(4,E,g);try{g.call(E)}finally{cn(5,E,g)}}}else{cn(4,E,g);try{g.call(E)}finally{cn(5,E,g)}}}const Ir=-1;class $a{constructor(s,l,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function no(o,s,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const g=l[d++],v=l[d++],E=l[d++];o.setAttribute(s,v,E,g)}else{const g=h,v=l[++d];In(g)?o.setProperty(s,g,v):o.setAttribute(s,g,v),d++}}return d}function Js(o){return 3===o||4===o||6===o}function In(o){return 64===o.charCodeAt(0)}function Ko(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let l=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?l=h:0===l||Cs(o,l,h,null,-1===l||2===l?s[++d]:null)}}return o}function Cs(o,s,l,d,h){let g=0,v=o.length;if(-1===s)v=-1;else for(;g<o.length;){const E=o[g++];if("number"==typeof E){if(E===s){v=-1;break}if(E>s){v=g-1;break}}}for(;g<o.length;){const E=o[g];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(o[g+1]=h));if(d===o[g+1])return void(o[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(o.splice(v,0,s),g=v+1),o.splice(g++,0,l),null!==d&&o.splice(g++,0,d),null!==h&&o.splice(g++,0,h)}function ru(o){return o!==Ir}function ea(o){return 32767&o}function ta(o,s){let l=function rf(o){return o>>16}(o),d=s;for(;l>0;)d=d[Oa],l--;return d}let Ga=!0;function na(o){const s=Ga;return Ga=o,s}const ia=255,xs=5;let Eo=0;const Tr={};function ra(o,s){const l=$l(o,s);if(-1!==l)return l;const d=s[tt];d.firstCreatePass&&(o.injectorIndex=s.length,Yo(d.data,o),Yo(s,null),Yo(d.blueprint,null));const h=Qo(o,s),g=o.injectorIndex;if(ru(h)){const v=ea(h),E=ta(h,s),x=E[tt].data;for(let T=0;T<8;T++)s[g+T]=E[v+T]|x[v+T]}return s[g+8]=h,g}function Yo(o,s){o.push(0,0,0,0,0,0,0,0,s)}function $l(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Qo(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,h=s;for(;null!==h;){if(d=Od(h),null===d)return Ir;if(l++,h=h[Oa],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return Ir}function oa(o,s,l){!function qa(o,s,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Gi)&&(d=l[Gi]),null==d&&(d=l[Gi]=Eo++);const h=d&ia;s.data[o+(h>>xs)]|=1<<h}(o,s,l)}function Wa(o,s,l){if(l&wt.Optional||void 0!==o)return o;Be()}function af(o,s,l,d){if(l&wt.Optional&&void 0===d&&(d=null),!(l&(wt.Self|wt.Host))){const h=o[ps],g=On(void 0);try{return h?h.get(s,d,l&wt.Optional):Ai(s,d,l&wt.Optional)}finally{On(g)}}return Wa(d,0,l)}function Co(o,s,l,d=wt.Default,h){if(null!==o){if(1024&s[Ut]){const v=function kd(o,s,l,d,h){let g=o,v=s;for(;null!==g&&null!==v&&1024&v[Ut]&&!(256&v[Ut]);){const E=Ad(g,v,l,d|wt.Self,Tr);if(E!==Tr)return E;let x=g.parent;if(!x){const T=v[Bc];if(T){const k=T.get(l,Tr,d);if(k!==Tr)return k}x=Od(v),v=v[Oa]}g=x}return h}(o,s,l,d,Tr);if(v!==Tr)return v}const g=Ad(o,s,l,d,Tr);if(g!==Tr)return g}return af(s,l,d,h)}function Ad(o,s,l,d,h){const g=function Is(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Gi)?o[Gi]:void 0;return"number"==typeof s?s>=0?s&ia:su:s}(l);if("function"==typeof g){if(!Xc(s,o,d))return d&wt.Host?Wa(h,0,d):af(s,l,d,h);try{const v=g(d);if(null!=v||d&wt.Optional)return v;Be()}finally{_m()}}else if("number"==typeof g){let v=null,E=$l(o,s),x=Ir,T=d&wt.Host?s[gi][zn]:null;for((-1===E||d&wt.SkipSelf)&&(x=-1===E?Qo(o,s):s[E+8],x!==Ir&&ql(d,!1)?(v=s[tt],E=ea(x),s=ta(x,s)):E=-1);-1!==E;){const k=s[tt];if(Md(g,E,k.data)){const L=jr(E,s,l,v,d,T);if(L!==Tr)return L}x=s[E+8],x!==Ir&&ql(d,s[tt].data[E+8]===T)&&Md(g,E,s)?(v=k,E=ea(x),s=ta(x,s)):E=-1}}return h}function jr(o,s,l,d,h,g){const v=s[tt],E=v.data[o+8],k=Gl(E,v,l,null==d?Ml(E)&&Ga:d!=v&&0!=(3&E.type),h&wt.Host&&g===E);return null!==k?Ds(s,v,k,E):Tr}function Gl(o,s,l,d,h){const g=o.providerIndexes,v=s.data,E=1048575&g,x=o.directiveStart,k=g>>20,$=h?E+k:o.directiveEnd;for(let te=d?E:E+k;te<$;te++){const ge=v[te];if(te<x&&l===ge||te>=x&&ge.type===l)return te}if(h){const te=v[x];if(te&&Oi(te)&&te.type===l)return x}return null}function Ds(o,s,l,d){let h=o[l];const g=s.data;if(function Sd(o){return o instanceof $a}(h)){const v=h;v.resolving&&function xe(o,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new pe(-200,`Circular dependency in DI detected for ${o}${l}`)}(function Ne(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Se(o)}(g[l]));const E=na(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?On(v.injectImpl):null;Xc(o,d,wt.Default);try{h=o[l]=v.factory(void 0,g,o,d),s.firstCreatePass&&l>=d.directiveStart&&function wm(o,s,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(d){const v=Fa(s);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,g))}(l,g[l],s)}finally{null!==x&&On(x),na(E),v.resolving=!1,_m()}}return h}function Md(o,s,l){return!!(l[s+(o>>xs)]&1<<o)}function ql(o,s){return!(o&wt.Self||o&wt.Host&&s)}class Fi{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,d){return Co(this._tNode,this._lView,s,Mt(d),l)}}function su(){return new Fi(ai(),Ae())}function Rd(o){return K(()=>{const s=o.prototype.constructor,l=s[Bt]||sa(s),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const g=h[Bt]||sa(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function sa(o){return je(o)?()=>{const s=sa(Q(o));return s&&s()}:ur(o)}function Od(o){const s=o[tt],l=s.type;return 2===l?s.declTNode:1===l?o[zn]:null}function Wl(o){return function sf(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const l=o.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(Js(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===s)return l[h+1];h+=2}}}return null}(ai(),o)}const Ss="__parameters__";function aa(o,s,l){return K(()=>{const d=function Pd(o){return function(...l){if(o){const d=o(...l);for(const h in d)this[h]=d[h]}}}(s);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(x,T,k){const L=x.hasOwnProperty(Ss)?x[Ss]:Object.defineProperty(x,Ss,{value:[]})[Ss];for(;L.length<=k;)L.push(null);return(L[k]=L[k]||[]).push(v),x}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class wn{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=it({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Jo(o,s){o.forEach(l=>Array.isArray(l)?Jo(l,s):s(l))}function au(o,s,l){s>=o.length?o.push(l):o.splice(s,0,l)}function Ya(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function es(o,s){const l=[];for(let d=0;d<o;d++)l.push(s);return l}function Qt(o,s,l){let d=Xe(o,s);return d>=0?o[1|d]=l:(d=~d,function mf(o,s,l,d){let h=o.length;if(h==s)o.push(l,d);else if(1===h)o.push(d,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=l,o[s+1]=d}}(o,d,s,l)),d}function io(o,s){const l=Xe(o,s);if(l>=0)return o[1|l]}function Xe(o,s){return function yi(o,s,l){let d=0,h=o.length>>l;for(;h!==d;){const g=d+(h-d>>1),v=o[g<<l];if(s===v)return g<<l;v>s?h=g:d=g+1}return~(h<<l)}(o,s,1)}const ha=$t(aa("Inject",o=>({token:o})),-1),ro=$t(aa("Optional"),8),D=$t(aa("SkipSelf"),4);var Mr=(()=>((Mr=Mr||{})[Mr.Important=1]="Important",Mr[Mr.DashCase=2]="DashCase",Mr))();const oo=new Map;let Mm=0;const Ud="__ngContext__";function pr(o,s){lr(s)?(o[Ud]=s[Wi],function Bd(o){oo.set(o[Wi],o)}(s)):o[Ud]=s}let el;function Hd(o,s){return el(o,s)}function _a(o){const s=o[bn];return cr(s)?s[bn]:s}function nc(o){return zd(o[ms])}function fu(o){return zd(o[ar])}function zd(o){for(;null!==o&&!cr(o);)o=o[ar];return o}function Ts(o,s,l,d,h){if(null!=d){let g,v=!1;cr(d)?g=d:lr(d)&&(v=!0,d=d[Er]);const E=Fn(d);0===o&&null!==l?null==h?Fm(s,l,E):ya(s,l,E,h||null,!0):1===o&&null!==l?ya(s,l,E,h||null,!0):2===o?function il(o,s,l){const d=vu(o,s);d&&function sc(o,s,l,d){o.removeChild(s,l,d)}(o,d,s,l)}(s,E,v):3===o&&s.destroyNode(E),null!=g&&function ns(o,s,l,d,h){const g=l[gs];g!==Fn(l)&&Ts(s,o,d,g,h);for(let E=_i;E<l.length;E++){const x=l[E];rl(x[tt],x,o,s,d,g)}}(s,o,g,l,h)}}function pu(o,s,l){return o.createElement(s,l)}function Gd(o,s){const l=o[$s],d=l.indexOf(s),h=s[bn];512&s[Ut]&&(s[Ut]&=-513,Wc(h,-1)),l.splice(d,1)}function mu(o,s){if(o.length<=_i)return;const l=_i+s,d=o[l];if(d){const h=d[zs];null!==h&&h!==o&&Gd(h,d),s>0&&(o[l-1][ar]=d[ar]);const g=Ya(o,_i+s);!function My(o,s){rl(o,s,s[Wt],2,null,null),s[Er]=null,s[zn]=null}(d[tt],d);const v=g[qi];null!==v&&v.detachView(g[tt]),d[bn]=null,d[ar]=null,d[Ut]&=-65}return d}function gu(o,s){if(!(128&s[Ut])){const l=s[Wt];l.destroyNode&&rl(o,s,l,3,null,null),function ky(o){let s=o[ms];if(!s)return _u(o[tt],o);for(;s;){let l=null;if(lr(s))l=s[ms];else{const d=s[_i];d&&(l=d)}if(!l){for(;s&&!s[ar]&&s!==o;)lr(s)&&_u(s[tt],s),s=s[bn];null===s&&(s=o),lr(s)&&_u(s[tt],s),l=s&&s[ar]}s=l}}(s)}}function _u(o,s){if(!(128&s[Ut])){s[Ut]&=-65,s[Ut]|=128,function Df(o,s){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const h=s[l[d]];if(!(h instanceof $a)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],x=g[v+1];cn(4,E,x);try{x.call(E)}finally{cn(5,E,x)}}else{cn(4,h,g);try{g.call(h)}finally{cn(5,h,g)}}}}}(o,s),function As(o,s){const l=o.cleanup,d=s[fs];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+3];v>=0?d[h=v]():d[h=-v].unsubscribe(),g+=2}else{const v=d[h=l[g+1]];l[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();s[fs]=null}}(o,s),1===s[tt].type&&s[Wt].destroy();const l=s[zs];if(null!==l&&cr(s[bn])){l!==s[bn]&&Gd(l,s);const d=s[qi];null!==d&&d.detachView(o)}!function wi(o){oo.delete(o[Wi])}(s)}}function Py(o,s,l){return function rc(o,s,l){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return l[Er];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=o.data[d.directiveStart+h];if(g===ne.None||g===ne.Emulated)return null}return Pi(d,l)}}(o,s.parent,l)}function ya(o,s,l,d,h){o.insertBefore(s,l,d,h)}function Fm(o,s,l){o.appendChild(s,l)}function oc(o,s,l,d,h){null!==d?ya(o,s,l,d,h):Fm(o,s,l)}function vu(o,s){return o.parentNode(s)}function If(o,s,l){return Lm(o,s,l)}let qd,ba,Tf,Cu,Lm=function So(o,s,l){return 40&o.type?Pi(o,l):null};function Wd(o,s,l,d){const h=Py(o,d,s),g=s[Wt],E=If(d.parent||s[zn],d,s);if(null!=h)if(Array.isArray(l))for(let x=0;x<l.length;x++)oc(g,h,l[x],E,!1);else oc(g,h,l,E,!1);void 0!==qd&&qd(g,d,s,l,h)}function ac(o,s){if(null!==s){const l=s.type;if(3&l)return Pi(s,o);if(4&l)return Zd(-1,o[s.index]);if(8&l){const d=s.child;if(null!==d)return ac(o,d);{const h=o[s.index];return cr(h)?Zd(-1,h):Fn(h)}}if(32&l)return Hd(s,o)()||Fn(o[s.index]);{const d=nl(o,s);return null!==d?Array.isArray(d)?d[0]:ac(_a(o[gi]),d):ac(o,s.next)}}return null}function nl(o,s){return null!==s?o[gi][zn].projection[s.projection]:null}function Zd(o,s){const l=_i+o+1;if(l<s.length){const d=s[l],h=d[tt].firstChild;if(null!==h)return ac(d,h)}return s[gs]}function bu(o,s,l,d,h,g,v){for(;null!=l;){const E=d[l.index],x=l.type;if(v&&0===s&&(E&&pr(Fn(E),d),l.flags|=2),32!=(32&l.flags))if(8&x)bu(o,s,l.child,d,h,g,!1),Ts(s,o,h,E,g);else if(32&x){const T=Hd(l,d);let k;for(;k=T();)Ts(s,o,h,k,g);Ts(s,o,h,E,g)}else 16&x?va(o,s,d,l,h,g):Ts(s,o,h,E,g);l=v?l.projectionNext:l.next}}function rl(o,s,l,d,h,g){bu(l,d,o.firstChild,s,h,g,!1)}function va(o,s,l,d,h,g){const v=l[gi],x=v[zn].projection[d.projection];if(Array.isArray(x))for(let T=0;T<x.length;T++)Ts(s,o,h,x[T],g);else bu(o,s,x,v[bn],h,g,!0)}function lc(o,s,l){""===l?o.removeAttribute(s,"class"):o.setAttribute(s,"class",l)}function wu(o,s,l){const{mergedAttrs:d,classes:h,styles:g}=l;null!==d&&no(o,s,d),null!==h&&lc(o,s,h),null!==g&&function To(o,s,l){o.setAttribute(s,"style",l)}(o,s,g)}function cc(o){return function Eu(){if(void 0===ba&&(ba=null,Vt.trustedTypes))try{ba=Vt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return ba}()?.createHTML(o)||o}function Ny(o){Tf=o}function jm(o){return function Qi(){if(void 0===Cu&&(Cu=null,Vt.trustedTypes))try{Cu=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Cu}()?.createScriptURL(o)||o}class gr{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}class Du extends gr{getTypeName(){return"HTML"}}class zm extends gr{getTypeName(){return"Style"}}class Af extends gr{getTypeName(){return"Script"}}class Mf extends gr{getTypeName(){return"URL"}}class Iu extends gr{getTypeName(){return"ResourceURL"}}function Vi(o){return o instanceof gr?o.changingThisBreaksApplicationSecurity:o}function Ao(o,s){const l=function $m(o){return o instanceof gr&&o.getTypeName()||null}(o);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see ${dt})`)}return l===s}function Gm(o){return new Du(o)}function y(o){return new zm(o)}function p(o){return new Af(o)}function m(o){return new Mf(o)}function w(o){return new Iu(o)}class O{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(cc(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch{return null}}}class Y{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const l=this.inertDocument.createElement("template");return l.innerHTML=cc(s),l}}const He=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function nt(o){return(o=String(o)).match(He)?o:"unsafe:"+o}function vt(o){const s={};for(const l of o.split(","))s[l]=!0;return s}function ft(...o){const s={};for(const l of o)for(const d in l)l.hasOwnProperty(d)&&(s[d]=!0);return s}const ui=vt("area,br,col,hr,img,wbr"),so=vt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sl=vt("rp,rt"),Su=ft(ui,ft(so,vt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ft(sl,vt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ft(sl,so)),Tu=vt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uc=ft(Tu,vt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zm=vt("script,style,template");class Ly{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!Su.hasOwnProperty(l))return this.sanitizedSomething=!0,!Zm.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=s.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!uc.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let x=g.value;Tu[E]&&(x=nt(x)),this.buf.push(" ",v,'="',YD(x),'"')}return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();Su.hasOwnProperty(l)&&!ui.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(YD(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const Mu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Km=/([^\#-~ |!])/g;function YD(o){return o.replace(/&/g,"&amp;").replace(Mu,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Km,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vy;function QD(o,s){let l=null;try{Vy=Vy||function S(o){const s=new Y(o);return function ue(){try{return!!(new window.DOMParser).parseFromString(cc(""),"text/html")}catch{return!1}}()?new O(s):s}(o);let d=s?String(s):"";l=Vy.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=l.innerHTML,l=Vy.getInertBodyElement(d)}while(d!==g);return cc((new Ly).sanitizeChildren(nw(l)||l))}finally{if(l){const d=nw(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function nw(o){return"content"in o&&function By(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Ei=(()=>((Ei=Ei||{})[Ei.NONE=0]="NONE",Ei[Ei.HTML=1]="HTML",Ei[Ei.STYLE=2]="STYLE",Ei[Ei.SCRIPT=3]="SCRIPT",Ei[Ei.URL=4]="URL",Ei[Ei.RESOURCE_URL=5]="RESOURCE_URL",Ei))();function Ym(o){const s=Of();return s?s.sanitize(Ei.URL,o)||"":Ao(o,"URL")?Vi(o):nt(Se(o))}function Mo(o){const s=Of();if(s)return jm(s.sanitize(Ei.RESOURCE_URL,o)||"");if(Ao(o,"ResourceURL"))return jm(Vi(o));throw new pe(904,!1)}function Uy(o,s,l){return function tI(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?Mo:Ym}(s,l)(o)}function Of(){const o=Ae();return o&&o[js]}const dc=new wn("ENVIRONMENT_INITIALIZER"),Qd=new wn("INJECTOR",-1),rw=new wn("INJECTOR_DEF_TYPES");class ow{get(s,l=xn){if(l===xn){const d=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw d.name="NullInjectorError",d}return l}}function Pf(...o){return{\u0275providers:sw(0,o),\u0275fromNgModule:!0}}function sw(o,...s){const l=[],d=new Set;let h;return Jo(s,g=>{const v=g;jy(v,l,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&aw(h,l),l}function aw(o,s){for(let l=0;l<o.length;l++){const{providers:h}=o[l];zy(h,g=>{s.push(g)})}}function jy(o,s,l,d){if(!(o=Q(o)))return!1;let h=null,g=wr(o);const v=!g&&on(o);if(g||v){if(v&&!v.standalone)return!1;h=o}else{const x=o.ngModule;if(g=wr(x),!g)return!1;h=x}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const x="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of x)jy(T,s,l,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let T;d.add(h);try{Jo(g.imports,k=>{jy(k,s,l,d)&&(T||(T=[]),T.push(k))})}finally{}void 0!==T&&aw(T,s)}if(!E){const T=ur(h)||(()=>new h);s.push({provide:h,useFactory:T,deps:Ke},{provide:rw,useValue:h,multi:!0},{provide:dc,useValue:()=>$e(h),multi:!0})}const x=g.providers;null==x||E||zy(x,k=>{s.push(k)})}}return h!==o&&void 0!==o.providers}function zy(o,s){for(let l of o)De(l)&&(l=l.\u0275providers),Array.isArray(l)?zy(l,s):s(l)}const nI=X({provide:String,useValue:X});function lw(o){return null!==o&&"object"==typeof o&&nI in o}function wa(o){return"function"==typeof o}const $y=new wn("Set Injector scope."),Jm={},iI={};let Gy;function eg(){return void 0===Gy&&(Gy=new ow),Gy}class Ru{}class uw extends Ru{get destroyed(){return this._destroyed}constructor(s,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zy(s,v=>this.processProvider(v)),this.records.set(Qd,hc(void 0,this)),h.has("environment")&&this.records.set(Ru,hc(void 0,this));const g=this.records.get($y);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(rw.multi,Ke,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const l=$i(this),d=On(void 0);try{return s()}finally{$i(l),On(d)}}get(s,l=xn,d=wt.Default){this.assertNotDestroyed(),d=Mt(d);const h=$i(this),g=On(void 0);try{if(!(d&wt.SkipSelf)){let E=this.records.get(s);if(void 0===E){const x=function tg(o){return"function"==typeof o||"object"==typeof o&&o instanceof wn}(s)&&vn(s);E=x&&this.injectableDefInScope(x)?hc(qy(s),Jm):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(d&wt.Self?eg():this.parent).get(s,l=d&wt.Optional&&l===xn?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[zi]=v[zi]||[]).unshift(he(s)),h)throw v;return function j(o,s,l,d){const h=o[zi];throw s[_o]&&h.unshift(s[_o]),o.message=function U(o,s,l,d=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==pn?o.slice(2):o;let h=he(s);if(Array.isArray(s))h=s.map(he).join(" -> ");else if("object"==typeof s){let g=[];for(let v in s)if(s.hasOwnProperty(v)){let E=s[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):he(E)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${o.replace(Ra,"\n  ")}`}("\n"+o.message,h,l,d),o[Mi]=h,o[zi]=null,o}(v,s,"R3InjectorError",this.source)}throw v}finally{On(g),$i(h)}}resolveInjectorInitializers(){const s=$i(this),l=On(void 0);try{const d=this.get(dc.multi,Ke,wt.Self);for(const h of d)h()}finally{$i(s),On(l)}}toString(){const s=[],l=this.records;for(const d of l.keys())s.push(he(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(s){let l=wa(s=Q(s))?s:Q(s&&s.provide);const d=function dw(o){return lw(o)?hc(void 0,o.useValue):hc(hw(o),Jm)}(s);if(wa(s)||!0!==s.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=hc(void 0,Jm,!0),h.factory=()=>Lt(h.multi),this.records.set(l,h)),l=s,h.multi.push(s)}this.records.set(l,d)}hydrate(s,l){return l.value===Jm&&(l.value=iI,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Wy(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=Q(s.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function qy(o){const s=vn(o),l=null!==s?s.factory:ur(o);if(null!==l)return l;if(o instanceof wn)throw new pe(204,!1);if(o instanceof Function)return function rI(o){const s=o.length;if(s>0)throw es(s,"?"),new pe(204,!1);const l=function br(o){const s=o&&(o[or]||o[Tn]);return s?(function cs(o){if(o.hasOwnProperty("name"))return o.name;(""+o).match(/^function\s*([^\s(]+)/)}(o),s):null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new pe(204,!1)}function hw(o,s,l){let d;if(wa(o)){const h=Q(o);return ur(h)||qy(h)}if(lw(o))d=()=>Q(o.useValue);else if(function Xm(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Lt(o.deps||[]));else if(function cw(o){return!(!o||!o.useExisting)}(o))d=()=>$e(Q(o.useExisting));else{const h=Q(o&&(o.useClass||o.provide));if(!function fw(o){return!!o.deps}(o))return ur(h)||qy(h);d=()=>new h(...Lt(o.deps))}return d}function hc(o,s,l=!1){return{factory:o,value:s,multi:l?[]:void 0}}function Zy(o,s){for(const l of o)Array.isArray(l)?Zy(l,s):l&&De(l)?Zy(l.\u0275providers,s):s(l)}class oI{}class pw{}class mw{resolveComponentFactory(s){throw function sI(o){const s=Error(`No component factory found for ${he(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let fc=(()=>{class o{}return o.NULL=new mw,o})();function ng(){return ku(ai(),Ae())}function ku(o,s){return new al(Pi(o,s))}let al=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=ng,o})();function gw(o){return o instanceof al?o.nativeElement:o}class _w{}let lI=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function cI(){const o=Ae(),l=si(ai().index,o);return(lr(l)?l:o)[Wt]}(),o})(),uI=(()=>{class o{}return o.\u0275prov=it({token:o,providedIn:"root",factory:()=>null}),o})();class yw{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Ky=new yw("15.2.4"),Yy={},Qy="ngOriginalError";function Xy(o){return o[Qy]}class Nf{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s);this._console.error("ERROR",s),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&Xy(s);for(;l&&Xy(l);)l=Xy(l);return l||null}}function Ea(o){return o instanceof Function?o():o}function Jy(o,s,l){let d=o.length;for(;;){const h=o.indexOf(s,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=s.length;if(h+g===d||o.charCodeAt(h+g)<=32)return h}l=h+1}}const ig="ng-template";function Cw(o,s,l){let d=0,h=!0;for(;d<o.length;){let g=o[d++];if("string"==typeof g&&h){const v=o[d++];if(l&&"class"===g&&-1!==Jy(v.toLowerCase(),s,0))return!0}else{if(1===g){for(;d<o.length&&"string"==typeof(g=o[d++]);)if(g.toLowerCase()===s)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function Pu(o){return 4===o.type&&o.value!==ig}function ev(o,s,l){return s===(4!==o.type||l?o.value:ig)}function _I(o,s,l){let d=4;const h=o.attrs||[],g=function Dw(o){for(let s=0;s<o.length;s++)if(Js(o[s]))return s;return o.length}(h);let v=!1;for(let E=0;E<s.length;E++){const x=s[E];if("number"!=typeof x){if(!v)if(4&d){if(d=2|1&d,""!==x&&!ev(o,x,l)||""===x&&1===s.length){if(is(d))return!1;v=!0}}else{const T=8&d?x:s[++E];if(8&d&&null!==o.attrs){if(!Cw(o.attrs,T,l)){if(is(d))return!1;v=!0}continue}const L=rg(8&d?"class":x,h,Pu(o),l);if(-1===L){if(is(d))return!1;v=!0;continue}if(""!==T){let $;$=L>g?"":h[L+1].toLowerCase();const te=8&d?$:null;if(te&&-1!==Jy(te,T,0)||2&d&&T!==$){if(is(d))return!1;v=!0}}}}else{if(!v&&!is(d)&&!is(x))return!1;if(v&&is(x))continue;v=!1,d=x|1&d}}return is(d)||v}function is(o){return 0==(1&o)}function rg(o,s,l,d){if(null===s)return-1;let h=0;if(d||!l){let g=!1;for(;h<s.length;){const v=s[h];if(v===o)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function yI(o,s){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===s)return l;l++}return-1}(s,o)}function Lf(o,s,l=!1){for(let d=0;d<s.length;d++)if(_I(o,s[d],l))return!0;return!1}function vI(o,s){e:for(let l=0;l<s.length;l++){const d=s[l];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Iw(o,s){return o?":not("+s.trim()+")":s}function bI(o){let s=o[0],l=1,d=2,h="",g=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&d){const E=o[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!is(v)&&(s+=Iw(g,h),h=""),d=v,g=g||!is(d);l++}return""!==h&&(s+=Iw(g,h)),s}const Zt={};function Sw(o){sg(sn(),Ae(),Zi()+o,!1)}function sg(o,s,l,d){if(!d)if(3==(3&s[Ut])){const g=o.preOrderCheckHooks;null!==g&&tu(s,g,l)}else{const g=o.preOrderHooks;null!==g&&Xs(s,g,0,l)}za(l)}function tv(o,s=null,l=null,d){const h=DI(o,s,l,d);return h.resolveInjectorInitializers(),h}function DI(o,s=null,l=null,d,h=new Set){const g=[l||Ke,Pf(o)];return d=d||("object"==typeof o?void 0:he(o)),new uw(g,s||eg(),d||null,h)}let Jd=(()=>{class o{static create(l,d){if(Array.isArray(l))return tv({name:""},d,l,"");{const h=l.name??"";return tv({name:h},l.parent,l.providers,h)}}}return o.THROW_IF_NOT_FOUND=xn,o.NULL=new ow,o.\u0275prov=it({token:o,providedIn:"any",factory:()=>$e(Qd)}),o.__NG_ELEMENT_ID__=-1,o})();function th(o,s=wt.Default){const l=Ae();return null===l?$e(o,s):Co(ai(),l,Q(o),s)}function Nw(){throw new Error("invalid")}function Lw(o,s){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const g=l[d+1];if(-1!==g){const v=o.data[g];jl(l[d]),v.contentQueries(2,s[g],g)}}}function ov(o,s,l,d,h,g,v,E,x,T,k){const L=s.blueprint.slice();return L[Er]=h,L[Ut]=76|d,(null!==k||o&&1024&o[Ut])&&(L[Ut]|=1024),Ks(L),L[bn]=L[Oa]=o,L[An]=l,L[ka]=v||o&&o[ka],L[Wt]=E||o&&o[Wt],L[js]=x||o&&o[js]||null,L[ps]=T||o&&o[ps]||null,L[zn]=g,L[Wi]=function Rm(){return Mm++}(),L[Bc]=k,L[gi]=2==s.type?o[gi]:L,L}function Fu(o,s,l,d,h){let g=o.data[s];if(null===g)g=function ug(o,s,l,d,h){const g=Zc(),v=wd(),x=o.data[s]=function mc(o,s,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,s,d,h);return null===o.firstChild&&(o.firstChild=x),null!==g&&(v?null==g.child&&null!==x.parent&&(g.child=x):null===g.next&&(g.next=x,x.prev=g)),x}(o,s,l,d,h),function Ul(){return Ot.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const v=function Ys(){const o=Ot.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return dr(g,!0),g}function Ms(o,s,l,d){if(0===l)return-1;const h=s.length;for(let g=0;g<l;g++)s.push(d),o.blueprint.push(d),o.data.push(null);return h}function ao(o,s,l){Dd(s);try{const d=o.viewQuery;null!==d&&nh(1,d,l);const h=o.template;null!==h&&sv(o,s,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Lw(o,s),o.staticViewQueries&&nh(2,o.viewQuery,l);const g=o.components;null!==g&&function PI(o,s){for(let l=0;l<s.length;l++)Jw(o,s[l])}(s,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{s[Ut]&=-5,tf()}}function dg(o,s,l,d){const h=s[Ut];if(128!=(128&h)){Dd(s);try{Ks(s),function Ha(o){return Ot.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&sv(o,s,l,2,d);const v=3==(3&h);if(v){const T=o.preOrderCheckHooks;null!==T&&tu(s,T,null)}else{const T=o.preOrderHooks;null!==T&&Xs(s,T,0,null),Es(s,0)}if(function Xw(o){for(let s=nc(o);null!==s;s=fu(s)){if(!s[Al])continue;const l=s[$s];for(let d=0;d<l.length;d++){const h=l[d];512&h[Ut]||Wc(h[bn],1),h[Ut]|=512}}}(s),function Qw(o){for(let s=nc(o);null!==s;s=fu(s))for(let l=_i;l<s.length;l++){const d=s[l],h=d[tt];Zs(d)&&dg(h,d,h.template,d[An])}}(s),null!==o.contentQueries&&Lw(o,s),v){const T=o.contentCheckHooks;null!==T&&tu(s,T)}else{const T=o.contentHooks;null!==T&&Xs(s,T,1),Es(s,1)}!function OI(o,s){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)za(~h);else{const g=h,v=l[++d],E=l[++d];xd(v,g),E(2,s[g])}}}finally{za(-1)}}(o,s);const E=o.components;null!==E&&function Vw(o,s){for(let l=0;l<s.length;l++)$r(o,s[l])}(s,E);const x=o.viewQuery;if(null!==x&&nh(2,x,d),v){const T=o.viewCheckHooks;null!==T&&tu(s,T)}else{const T=o.viewHooks;null!==T&&Xs(s,T,2),Es(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[Ut]&=-41,512&s[Ut]&&(s[Ut]&=-513,Wc(s[bn],-1))}finally{tf()}}}function sv(o,s,l,d,h){const g=Zi(),v=2&d;try{za(-1),v&&s.length>tn&&sg(o,s,tn,!1),cn(v?2:0,h),l(d,h)}finally{za(g),cn(v?3:1,h)}}function av(o,s,l){if(vo(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function lv(o,s,l){Ll()&&(function qw(o,s,l,d){const h=l.directiveStart,g=l.directiveEnd;Ml(l)&&function Yw(o,s,l){const d=Pi(s,o),h=jf(l),g=o[ka],v=yv(o,ov(o,h,null,l.onPush?32:16,d,s,g,g.createRenderer(d,l),null,null,null));o[s.index]=v}(s,l,o.data[h+l.componentOffset]),o.firstCreatePass||ra(l,s),pr(d,s);const v=l.initialInputs;for(let E=h;E<g;E++){const x=o.data[E],T=Ds(s,o,E,l);pr(T,s),null!==v&&gv(0,E-h,T,x,0,v),Oi(x)&&(si(l.index,s)[An]=Ds(s,o,E,l))}}(o,s,l,Pi(l,s)),64==(64&l.flags)&&fv(o,s,l))}function cv(o,s,l=Pi){const d=s.localNames;if(null!==d){let h=s.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?l(s,o):o[v];o[h++]=E}}}function jf(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=uv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function uv(o,s,l,d,h,g,v,E,x,T){const k=tn+d,L=k+h,$=function pc(o,s){const l=[];for(let d=0;d<s;d++)l.push(d<o?null:Zt);return l}(k,L),te="function"==typeof T?T():T;return $[tt]={type:o,blueprint:$,template:l,queries:null,viewQuery:E,declTNode:s,data:$.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:te,incompleteFirstPass:!1}}function _r(o,s,l,d){const h=vg(s);null===l?h.push(d):(h.push(l),o.firstCreatePass&&tE(o).push(d,h.length-1))}function Uw(o,s,l,d){for(let h in o)if(o.hasOwnProperty(h)){l=null===l?{}:l;const g=o[h];null===d?Hw(l,s,h,g):d.hasOwnProperty(h)&&Hw(l,s,d[h],g)}return l}function Hw(o,s,l,d){o.hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}function lo(o,s,l,d,h,g,v,E){const x=Pi(s,l);let k,T=s.inputs;!E&&null!=T&&(k=T[d])?(nE(o,l,k,d,h),Ml(s)&&dv(l,s.index)):3&s.type&&(d=function zw(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=v?v(h,s.value||"",d):h,g.setProperty(x,d,h))}function dv(o,s){const l=si(s,o);16&l[Ut]||(l[Ut]|=32)}function hg(o,s,l,d){if(Ll()){const h=null===d?null:{"":-1},g=function NI(o,s){const l=o.directiveRegistry;let d=null,h=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];if(Lf(s,v.selectors,!1))if(d||(d=[]),Oi(v))if(null!==v.findHostDirectiveDefs){const E=[];h=h||new Map,v.findHostDirectiveDefs(v,E,h),d.unshift(...E,v),pg(o,s,E.length)}else d.unshift(v),pg(o,s,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(o,l);let v,E;null===g?v=E=null:[v,E]=g,null!==v&&hv(o,s,l,v,h,E),h&&function Zw(o,s,l){if(s){const d=o.localNames=[];for(let h=0;h<s.length;h+=2){const g=l[s[h+1]];if(null==g)throw new pe(-301,!1);d.push(s[h],g)}}}(l,d,h)}l.mergedAttrs=Ko(l.mergedAttrs,l.attrs)}function hv(o,s,l,d,h,g){for(let T=0;T<d.length;T++)oa(ra(l,s),o,d[T].type);!function Kw(o,s,l){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+l,o.providerIndexes=s}(l,o.data.length,d.length);for(let T=0;T<d.length;T++){const k=d[T];k.providersResolver&&k.providersResolver(k)}let v=!1,E=!1,x=Ms(o,s,d.length,null);for(let T=0;T<d.length;T++){const k=d[T];l.mergedAttrs=Ko(l.mergedAttrs,k.hostAttrs),mv(o,l,s,x,k),pv(x,k,h),null!==k.contentQueries&&(l.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(l.flags|=64);const L=k.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),v=!0),!E&&(L.ngOnChanges||L.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),E=!0),x++}!function jw(o,s,l){const h=s.directiveEnd,g=o.data,v=s.attrs,E=[];let x=null,T=null;for(let k=s.directiveStart;k<h;k++){const L=g[k],$=l?l.get(L):null,ge=$?$.outputs:null;x=Uw(L.inputs,k,x,$?$.inputs:null),T=Uw(L.outputs,k,T,ge);const Ve=null===x||null===v||Pu(s)?null:gg(x,k,v);E.push(Ve)}null!==x&&(x.hasOwnProperty("class")&&(s.flags|=8),x.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=x,s.outputs=T}(o,l,g)}function fv(o,s,l){const d=l.directiveStart,h=l.directiveEnd,g=l.index,v=function Yc(){return Ot.lFrame.currentDirectiveIndex}();try{za(g);for(let E=d;E<h;E++){const x=o.data[E],T=s[E];Hl(E),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Ww(x,T)}}finally{za(-1),Hl(v)}}function Ww(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function pg(o,s,l){s.componentOffset=l,(o.components||(o.components=[])).push(s.index)}function pv(o,s,l){if(l){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)l[s.exportAs[d]]=o;Oi(s)&&(l[""]=o)}}function mv(o,s,l,d,h){o.data[d]=h;const g=h.factory||(h.factory=ur(h.type)),v=new $a(g,Oi(h),th);o.blueprint[d]=v,l[d]=v,function fg(o,s,l,d,h){const g=h.hostBindings;if(g){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const E=~s.index;(function Gw(o){let s=o.length;for(;s>0;){const l=o[--s];if("number"==typeof l&&l<0)return l}return 0})(v)!=E&&v.push(E),v.push(l,d,g)}}(o,s,d,Ms(o,l,h.hostVars,Zt),h)}function Rs(o,s,l,d,h,g){const v=Pi(o,s);!function mg(o,s,l,d,h,g,v){if(null==g)o.removeAttribute(s,h,l);else{const E=null==v?Se(g):v(g,d||"",h);o.setAttribute(s,h,E,l)}}(s[Wt],v,g,o.value,l,d,h)}function gv(o,s,l,d,h,g){const v=g[s];if(null!==v){const E=d.setInput;for(let x=0;x<v.length;){const T=v[x++],k=v[x++],L=v[x++];null!==E?d.setInput(l,L,T,k):l[k]=L}}}function gg(o,s,l){let d=null,h=0;for(;h<l.length;){const g=l[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===d&&(d=[]);const v=o[g];for(let E=0;E<v.length;E+=2)if(v[E]===s){d.push(g,v[E+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function _v(o,s,l,d){return[o,!0,!1,s,null,0,d,l,null,null]}function $r(o,s){const l=si(s,o);if(Zs(l)){const d=l[tt];48&l[Ut]?dg(d,l,d.template,l[An]):l[Xr]>0&&ks(l)}}function ks(o){for(let d=nc(o);null!==d;d=fu(d))for(let h=_i;h<d.length;h++){const g=d[h];if(Zs(g))if(512&g[Ut]){const v=g[tt];dg(v,g,v.template,g[An])}else g[Xr]>0&&ks(g)}const l=o[tt].components;if(null!==l)for(let d=0;d<l.length;d++){const h=si(l[d],o);Zs(h)&&h[Xr]>0&&ks(h)}}function Jw(o,s){const l=si(s,o),d=l[tt];(function tk(o,s){for(let l=s.length;l<o.blueprint.length;l++)s.push(o.blueprint[l])})(d,l),ao(d,l,l[An])}function yv(o,s){return o[ms]?o[zo][ar]=s:o[ms]=s,o[zo]=s,s}function _g(o){for(;o;){o[Ut]|=32;const s=_a(o);if(pd(o)&&!s)return o;o=s}return null}function yg(o,s,l,d=!0){const h=s[ka];h.begin&&h.begin();try{dg(o,s,o.template,l)}catch(v){throw d&&VI(s,v),v}finally{h.end&&h.end()}}function nh(o,s,l){jl(0),s(o,l)}function vg(o){return o[fs]||(o[fs]=[])}function tE(o){return o.cleanup||(o.cleanup=[])}function VI(o,s){const l=o[ps],d=l?l.get(Nf,null):null;d&&d.handleError(s)}function nE(o,s,l,d,h){for(let g=0;g<l.length;){const v=l[g++],E=l[g++],x=s[v],T=o.data[v];null!==T.setInput?T.setInput(x,h,d,E):x[E]=h}}function vv(o,s,l){let d=l?o.styles:null,h=l?o.classes:null,g=0;if(null!==s)for(let v=0;v<s.length;v++){const E=s[v];"number"==typeof E?g=E:1==g?h=de(h,E):2==g&&(d=de(d,E+": "+s[++v]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=h:o.classesWithoutHost=h}function bv(o,s,l,d,h=!1){for(;null!==l;){const g=s[l.index];if(null!==g&&d.push(Fn(g)),cr(g))for(let E=_i;E<g.length;E++){const x=g[E],T=x[tt].firstChild;null!==T&&bv(x[tt],x,T,d)}const v=l.type;if(8&v)bv(o,s,l.child,d);else if(32&v){const E=Hd(l,s);let x;for(;x=E();)d.push(x)}else if(16&v){const E=nl(s,l);if(Array.isArray(E))d.push(...E);else{const x=_a(s[gi]);bv(x[tt],x,E,d,!0)}}l=h?l.projectionNext:l.next}return d}class bg{get rootNodes(){const s=this._lView,l=s[tt];return bv(l,s,l.firstChild,[])}constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[An]}set context(s){this._lView[An]=s}get destroyed(){return 128==(128&this._lView[Ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[bn];if(cr(s)){const l=s[Cr],d=l?l.indexOf(this):-1;d>-1&&(mu(s,d),Ya(l,d))}this._attachedToViewContainer=!1}gu(this._lView[tt],this._lView)}onDestroy(s){_r(this._lView[tt],this._lView,null,s)}markForCheck(){_g(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ut]&=-65}reattach(){this._lView[Ut]|=64}detectChanges(){yg(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ry(o,s){rl(o,s,s[Wt],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=s}}class BI extends bg{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;yg(s[tt],s,s[An],!1)}checkNoChanges(){}get context(){return null}}class wv extends fc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=on(s);return new Nu(l,this.ngModule)}}function iE(o){const s=[];for(let l in o)o.hasOwnProperty(l)&&s.push({propName:o[l],templateName:l});return s}class HI{constructor(s,l){this.injector=s,this.parentInjector=l}get(s,l,d){d=Mt(d);const h=this.injector.get(s,Yy,d);return h!==Yy||l===Yy?h:this.parentInjector.get(s,l,d)}}class Nu extends pw{get inputs(){return iE(this.componentDef.inputs)}get outputs(){return iE(this.componentDef.outputs)}constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function wI(o){return o.map(bI).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}create(s,l,d,h){let g=(h=h||this.ngModule)instanceof Ru?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new HI(s,g):s,E=v.get(_w,null);if(null===E)throw new pe(407,!1);const x=v.get(uI,null),T=E.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",L=d?function Bw(o,s,l){return o.selectRootElement(s,l===ne.ShadowDom)}(T,d,this.componentDef.encapsulation):pu(T,k,function UI(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(k)),$=this.componentDef.onPush?288:272,te=uv(0,null,null,1,0,null,null,null,null,null),ge=ov(null,te,null,$,null,null,E,T,x,v,null);let Ve,Je;Dd(ge);try{const lt=this.componentDef;let Pt,Oe=null;lt.findHostDirectiveDefs?(Pt=[],Oe=new Map,lt.findHostDirectiveDefs(lt,Pt,Oe),Pt.push(lt)):Pt=[lt];const Nt=function ih(o,s){const l=o[tt],d=tn;return o[d]=s,Fu(l,d,2,"#host",null)}(ge,L),mn=function $f(o,s,l,d,h,g,v,E){const x=h[tt];!function Cv(o,s,l,d){for(const h of o)s.mergedAttrs=Ko(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(vv(s,s.mergedAttrs,!0),null!==l&&wu(d,l,s))}(d,o,s,v);const T=g.createRenderer(s,l),k=ov(h,jf(l),null,l.onPush?32:16,h[o.index],o,g,T,E||null,null,null);return x.firstCreatePass&&pg(x,o,d.length-1),yv(h,k),h[o.index]=k}(Nt,L,lt,Pt,ge,E,T);Je=Gc(te,tn),L&&function xv(o,s,l,d){if(d)no(o,l,["ng-version",Ky.full]);else{const{attrs:h,classes:g}=function og(o){const s=[],l=[];let d=1,h=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===h?""!==g&&s.push(g,o[++d]):8===h&&l.push(g);else{if(!is(h))break;h=g}d++}return{attrs:s,classes:l}}(s.selectors[0]);h&&no(o,l,h),g&&g.length>0&&lc(o,l,g.join(" "))}}(T,lt,L,d),void 0!==l&&function zI(o,s,l){const d=o.projection=[];for(let h=0;h<s.length;h++){const g=l[h];d.push(null!=g?Array.from(g):null)}}(Je,this.ngContentSelectors,l),Ve=function jI(o,s,l,d,h,g){const v=ai(),E=h[tt],x=Pi(v,h);hv(E,h,v,l,null,d);for(let k=0;k<l.length;k++)pr(Ds(h,E,v.directiveStart+k,v),h);fv(E,h,v),x&&pr(x,h);const T=Ds(h,E,v.directiveStart+v.componentOffset,v);if(o[An]=h[An]=T,null!==g)for(const k of g)k(T,s);return av(E,v,o),T}(mn,lt,Pt,Oe,ge,[wg]),ao(te,ge,null)}finally{tf()}return new zf(this.componentType,Ve,ku(Je,ge),ge,Je)}}class zf extends oI{constructor(s,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new BI(h),this.componentType=s}setInput(s,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[s])){const g=this._rootLView;nE(g[tt],g,h,s,l),dv(g,this._tNode.index)}}get injector(){return new Fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function wg(){const o=ai();eu(Ae()[tt],o)}function Eg(o){let s=function Dv(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;s;){let h;if(Oi(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new pe(903,!1);h=s.\u0275dir}if(h){if(l){d.push(h);const v=o;v.inputs=Gf(o.inputs),v.declaredInputs=Gf(o.declaredInputs),v.outputs=Gf(o.outputs);const E=h.hostBindings;E&&$I(o,E);const x=h.viewQuery,T=h.contentQueries;if(x&&ik(o,x),T&&rk(o,T),me(o.inputs,h.inputs),me(o.declaredInputs,h.declaredInputs),me(o.outputs,h.outputs),Oi(h)&&h.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(o),E===Eg&&(l=!1)}}s=Object.getPrototypeOf(s)}!function rE(o){let s=0,l=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=s+=h.hostVars,h.hostAttrs=Ko(h.hostAttrs,l=Ko(l,h.hostAttrs))}}(d)}function Gf(o){return o===rt?{}:o===Ke?[]:o}function ik(o,s){const l=o.viewQuery;o.viewQuery=l?(d,h)=>{s(d,h),l(d,h)}:s}function rk(o,s){const l=o.contentQueries;o.contentQueries=l?(d,h,g)=>{s(d,h,g),l(d,h,g)}:s}function $I(o,s){const l=o.hostBindings;o.hostBindings=l?(d,h)=>{s(d,h),l(d,h)}:s}function Sg(o){return!!Sv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Sv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ca(o,s,l){return o[s]=l}function Rr(o,s,l){return!Object.is(o[s],l)&&(o[s]=l,!0)}function Wf(o,s,l,d){const h=Ae();return Rr(h,ja(),s)&&(sn(),Rs(Dn(),h,o,s,l,d)),Wf}function cE(o,s,l,d,h,g,v,E){const x=Ae(),T=sn(),k=o+tn,L=T.firstCreatePass?function lE(o,s,l,d,h,g,v,E,x){const T=s.consts,k=Fu(s,o,4,v||null,wo(T,E));hg(s,l,k,wo(T,x)),eu(s,k);const L=k.tView=uv(2,k,d,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,k),L.queries=s.queries.embeddedTView(k)),k}(k,T,x,s,l,d,h,g,v):T.data[k];dr(L,!1);const $=x[Wt].createComment("");Wd(T,x,$,L),pr($,x),yv(x,x[k]=_v($,x,$,L)),_s(L)&&lv(T,x,L),null!=v&&cv(x,L,E)}function Rv(o){return to(function Ed(){return Ot.lFrame.contextLView}(),tn+o)}function kv(o,s,l){const d=Ae();return Rr(d,ja(),s)&&lo(sn(),Dn(),d,o,s,d[Wt],l,!1),kv}function Ov(o,s,l,d,h){const v=h?"class":"style";nE(o,l,s.inputs[v],v,d)}function Ag(o,s,l,d){const h=Ae(),g=sn(),v=tn+o,E=h[Wt],x=g.firstCreatePass?function dE(o,s,l,d,h,g){const v=s.consts,x=Fu(s,o,2,d,wo(v,h));return hg(s,l,x,wo(v,g)),null!==x.attrs&&vv(x,x.attrs,!1),null!==x.mergedAttrs&&vv(x,x.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,x),x}(v,g,h,s,l,d):g.data[v],T=h[v]=pu(E,s,function bm(){return Ot.lFrame.currentNamespace}()),k=_s(x);return dr(x,!0),wu(E,T,x),32!=(32&x.flags)&&Wd(g,h,T,x),0===function bd(){return Ot.lFrame.elementDepthCount}()&&pr(T,h),function Ua(){Ot.lFrame.elementDepthCount++}(),k&&(lv(g,h,x),av(g,x,h)),null!==d&&cv(h,x),Ag}function Pv(){let o=ai();wd()?Qs():(o=o.parent,dr(o,!1));const s=o;!function Xh(){Ot.lFrame.elementDepthCount--}();const l=sn();return l.firstCreatePass&&(eu(l,o),vo(o)&&l.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Cm(o){return 0!=(8&o.flags)}(s)&&Ov(l,s,Ae(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Sr(o){return 0!=(16&o.flags)}(s)&&Ov(l,s,Ae(),s.stylesWithoutHost,!1),Pv}function Mg(o,s,l,d){return Ag(o,s,l,d),Pv(),Mg}function Yf(o,s,l){const d=Ae(),h=sn(),g=o+tn,v=h.firstCreatePass?function XI(o,s,l,d,h){const g=s.consts,v=wo(g,d),E=Fu(s,o,8,"ng-container",v);return null!==v&&vv(E,v,!0),hg(s,l,E,wo(g,h)),null!==s.queries&&s.queries.elementStart(s,E),E}(g,h,d,s,l):h.data[g];dr(v,!0);const E=d[g]=d[Wt].createComment("");return Wd(h,d,E,v),pr(E,d),_s(v)&&(lv(h,d,v),av(h,v,d)),null!=l&&cv(d,v),Yf}function Rg(){let o=ai();const s=sn();return wd()?Qs():(o=o.parent,dr(o,!1)),s.firstCreatePass&&(eu(s,o),vo(o)&&s.queries.elementEnd(o)),Rg}function kg(o,s,l){return Yf(o,s,l),Rg(),kg}function Og(){return Ae()}function Fv(o){return!!o&&"function"==typeof o.then}function Pg(o){return!!o&&"function"==typeof o.subscribe}const hE=Pg;function ch(o,s,l,d){const h=Ae(),g=sn(),v=ai();return function pE(o,s,l,d,h,g,v){const E=_s(d),T=o.firstCreatePass&&tE(o),k=s[An],L=vg(s);let $=!0;if(3&d.type||v){const Ve=Pi(d,s),Je=v?v(Ve):Ve,lt=L.length,Pt=v?Nt=>v(Fn(Nt[d.index])):d.index;let Oe=null;if(!v&&E&&(Oe=function Nv(o,s,l,d){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===d){const E=s[fs],x=h[g+2];return E.length>x?E[x]:null}"string"==typeof v&&(g+=2)}return null}(o,s,h,d.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=g,Oe.__ngLastListenerFn__=g,$=!1;else{g=Lv(d,s,k,g,!1);const Nt=l.listen(Je,h,g);L.push(g,Nt),T&&T.push(h,Pt,lt,lt+1)}}else g=Lv(d,s,k,g,!1);const te=d.outputs;let ge;if($&&null!==te&&(ge=te[h])){const Ve=ge.length;if(Ve)for(let Je=0;Je<Ve;Je+=2){const mn=s[ge[Je]][ge[Je+1]].subscribe(g),pi=L.length;L.push(g,mn),T&&T.push(h,d.index,pi,-(pi+1))}}}(g,h,h[Wt],v,o,s,d),ch}function Fg(o,s,l,d){try{return cn(6,s,l),!1!==l(d)}catch(h){return VI(o,h),!1}finally{cn(7,s,l)}}function Lv(o,s,l,d,h){return function g(v){if(v===Function)return d;_g(o.componentOffset>-1?si(o.index,s):s);let x=Fg(s,l,d,v),T=g.__ngNextListenerFn__;for(;T;)x=Fg(s,l,T,v)&&x,T=T.__ngNextListenerFn__;return h&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}function mE(o=1){return function Id(o){return(Ot.lFrame.contextLView=function ym(o,s){for(;o>0;)s=s[Oa],o--;return s}(o,Ot.lFrame.contextLView))[An]}(o)}function gE(o,s){let l=null;const d=function xw(o){const s=o.attrs;if(null!=s){const l=s.indexOf(5);if(!(1&l))return s[l+1]}return null}(o);for(let h=0;h<s.length;h++){const g=s[h];if("*"!==g){if(null===d?Lf(o,g,!0):vI(d,g))return h}else l=h}return l}function _E(o){const s=Ae()[gi][zn];if(!s.projection){const d=s.projection=es(o?o.length:1,null),h=d.slice();let g=s.child;for(;null!==g;){const v=o?gE(g,o):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function Vv(o,s=0,l){const d=Ae(),h=sn(),g=Fu(h,tn+o,16,null,l||null);null===g.projection&&(g.projection=s),Qs(),32!=(32&g.flags)&&function Vm(o,s,l){va(s[Wt],0,s,l,Py(o,l,s),If(l.parent||s[zn],l,s))}(h,d,g)}function Xf(o,s){return o<<17|s<<2}function co(o){return o>>17&32767}function Hv(o){return 2|o}function yc(o){return(131068&o)>>2}function jv(o,s){return-131069&o|s<<2}function Jf(o){return 1|o}function zv(o,s,l,d,h){const g=o[l+1],v=null===s;let E=d?co(g):yc(g),x=!1;for(;0!==E&&(!1===x||v);){const k=o[E+1];rS(o[E],s)&&(x=!0,o[E+1]=d?Jf(k):Hv(k)),E=d?co(k):yc(k)}x&&(o[l+1]=d?Hv(g):Jf(g))}function rS(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Xe(o,s)>=0}function AE(o,s,l){return Fs(o,s,l,!1),AE}function $v(o,s){return Fs(o,s,null,!0),$v}function Fs(o,s,l,d){const h=Ae(),g=sn(),v=function Dr(o){const s=Ot.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,l}(2);g.firstUpdatePass&&function ME(o,s,l,d){const h=o.data;if(null===h[l+1]){const g=h[Zi()],v=function lS(o,s){return s>=o.expandoStartIndex}(o,l);(function RE(o,s){return 0!=(o.flags&(s?8:16))})(g,d)&&null===s&&!v&&(s=!1),s=function ve(o,s,l,d){const h=function ws(o){const s=Ot.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let g=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(l=tp(l=hn(null,o,s,l,d),s.attrs,d),g=null);else{const v=s.directiveStylingLast;if(-1===v||o[v]!==h)if(l=hn(h,o,s,l,d),null===g){let x=function Bu(o,s,l){const d=l?s.classBindings:s.styleBindings;if(0!==yc(d))return o[co(d)]}(o,s,d);void 0!==x&&Array.isArray(x)&&(x=hn(null,o,s,x[1],d),x=tp(x,s.attrs,d),function Lg(o,s,l,d){o[co(l?s.classBindings:s.styleBindings)]=d}(o,s,d,x))}else g=function vc(o,s,l){let d;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)d=tp(d,o[g].hostAttrs,l);return tp(d,s.attrs,l)}(o,s,d)}return void 0!==g&&(d?s.residualClasses=g:s.residualStyles=g),l}(h,g,s,d),function xE(o,s,l,d,h,g){let v=g?s.classBindings:s.styleBindings,E=co(v),x=yc(v);o[d]=l;let k,T=!1;if(Array.isArray(l)?(k=l[1],(null===k||Xe(l,k)>0)&&(T=!0)):k=l,h)if(0!==x){const $=co(o[E+1]);o[d+1]=Xf($,E),0!==$&&(o[$+1]=jv(o[$+1],d)),o[E+1]=function CE(o,s){return 131071&o|s<<17}(o[E+1],d)}else o[d+1]=Xf(E,0),0!==E&&(o[E+1]=jv(o[E+1],d)),E=d;else o[d+1]=Xf(x,0),0===E?E=d:o[x+1]=jv(o[x+1],d),x=d;T&&(o[d+1]=Hv(o[d+1])),zv(o,k,d,!0),zv(o,k,d,!1),function iS(o,s,l,d,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof s&&Xe(g,s)>=0&&(l[d+1]=Jf(l[d+1]))}(s,k,o,d,g),v=Xf(E,x),g?s.classBindings=v:s.styleBindings=v}(h,g,s,l,v,d)}}(g,o,v,d),s!==Zt&&Rr(h,v,s)&&function zt(o,s,l,d,h,g,v,E){if(!(3&s.type))return;const x=o.data,T=x[E+1],k=function tS(o){return 1==(1&o)}(T)?np(x,s,l,h,yc(T),v):void 0;Uu(k)||(Uu(g)||function eS(o){return 2==(2&o)}(T)&&(g=np(x,null,l,h,E,v)),function mr(o,s,l,d,h){if(s)h?o.addClass(l,d):o.removeClass(l,d);else{let g=-1===d.indexOf("-")?void 0:Mr.DashCase;null==h?o.removeStyle(l,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Mr.Important),o.setStyle(l,d,h,g))}}(d,v,eo(Zi(),l),h,g))}(g,g.data[Zi()],h,h[Wt],o,h[v+1]=function ip(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=he(Vi(o)))),o}(s,l),d,v)}function hn(o,s,l,d,h){let g=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(g=s[E],d=tp(d,g.hostAttrs,h),g!==o);)E++;return null!==o&&(l.directiveStylingLast=E),d}function tp(o,s,l){const d=l?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const v=s[g];"number"==typeof v?h=v:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Qt(o,v,!!l||s[++g]))}return void 0===o?null:o}function np(o,s,l,d,h,g){const v=null===s;let E;for(;h>0;){const x=o[h],T=Array.isArray(x),k=T?x[1]:x,L=null===k;let $=l[h+1];$===Zt&&($=L?Ke:void 0);let te=L?io($,d):k===d?$:void 0;if(T&&!Uu(te)&&(te=io(x,d)),Uu(te)&&(E=te,v))return E;const ge=o[h+1];h=v?co(ge):yc(ge)}if(null!==s){let x=g?s.residualClasses:s.residualStyles;null!=x&&(E=io(x,d))}return E}function Uu(o){return void 0!==o}function Vg(o,s=""){const l=Ae(),d=sn(),h=o+tn,g=d.firstCreatePass?Fu(d,h,1,s,null):d.data[h],v=l[h]=function ic(o,s){return o.createText(s)}(l[Wt],s);Wd(d,l,v,g),dr(g,!1)}function Wv(o){return Bg("",o,""),Wv}function Bg(o,s,l){const d=Ae(),h=function Lu(o,s,l,d){return Rr(o,ja(),l)?s+Se(l)+d:Zt}(d,o,s,l);return h!==Zt&&function gc(o,s,l){const d=eo(s,o);!function xf(o,s,l){o.setValue(s,l)}(o[Wt],d,l)}(d,Zi(),h),Bg}function Jv(o,s,l){const d=Ae();return Rr(d,ja(),s)&&lo(sn(),Dn(),d,o,s,d[Wt],l,!0),Jv}const Hu=void 0;var Zg=["en",[["a","p"],["AM","PM"],Hu],[["AM","PM"],Hu,Hu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hu,"{1} 'at' {0}",Hu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fS(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let bc={};function Kg(o){const s=function eb(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=Yg(s);if(l)return l;const d=s.split("-")[0];if(l=Yg(d),l)return l;if("en"===d)return Zg;throw new pe(701,!1)}function op(o){return Kg(o)[At.PluralCase]}function Yg(o){return o in bc||(bc[o]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[o]),bc[o]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const fh="en-US";let Qg=fh;function pb(o,s,l,d,h){if(o=Q(o),Array.isArray(o))for(let g=0;g<o.length;g++)pb(o[g],s,l,d,h);else{const g=sn(),v=Ae();let E=wa(o)?o:Q(o.provide),x=hw(o);const T=ai(),k=1048575&T.providerIndexes,L=T.directiveStart,$=T.providerIndexes>>20;if(wa(o)||!o.multi){const te=new $a(x,h,th),ge=gb(E,s,h?k:k+$,L);-1===ge?(oa(ra(T,v),g,E),mb(g,o,s.length),s.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(te),v.push(te)):(l[ge]=te,v[ge]=te)}else{const te=gb(E,s,k+$,L),ge=gb(E,s,k,k+$),Je=ge>=0&&l[ge];if(h&&!Je||!h&&!(te>=0&&l[te])){oa(ra(T,v),g,E);const lt=function cC(o,s,l,d,h){const g=new $a(o,l,th);return g.multi=[],g.index=s,g.componentProviders=0,lC(g,h,d&&!l),g}(h?wc:yp,l.length,h,d,x);!h&&Je&&(l[ge].providerFactory=lt),mb(g,o,s.length,0),s.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),l.push(lt),v.push(lt)}else mb(g,o,te>-1?te:ge,lC(l[h?ge:te],x,!h&&d));!h&&d&&Je&&l[ge].componentProviders++}}}function mb(o,s,l,d){const h=wa(s),g=function Xd(o){return!!o.useClass}(s);if(h||g){const x=(g?Q(s.useClass):s).prototype.ngOnDestroy;if(x){const T=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const k=T.indexOf(l);-1===k?T.push(l,[d,x]):T[k+1].push(d,x)}else T.push(l,x)}}}function lC(o,s,l){return l&&o.componentProviders++,o.multi.push(s)-1}function gb(o,s,l,d){for(let h=l;h<d;h++)if(s[h]===o)return h;return-1}function yp(o,s,l,d){return d_(this.multi,[])}function wc(o,s,l,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Ds(l,l[tt],this.providerFactory.index,d);g=E.slice(0,v),d_(h,g);for(let x=v;x<E.length;x++)g.push(E[x])}else g=[],d_(h,g);return g}function d_(o,s){for(let l=0;l<o.length;l++)s.push((0,o[l])());return s}function _b(o,s=[]){return l=>{l.providersResolver=(d,h)=>function aC(o,s,l){const d=sn();if(d.firstCreatePass){const h=Oi(o);pb(l,d.data,d.blueprint,h,!0),pb(s,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,s)}}class Ns{}class uC{}function SS(o,s){return new dC(o,s??null)}class dC extends Ns{constructor(s,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wv(this);const d=oi(s);this._bootstrapComponents=Ea(d.bootstrap),this._r3Injector=DI(s,l,[{provide:Ns,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],he(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class h_ extends uC{constructor(s){super(),this.moduleType=s}create(s){return new dC(this.moduleType,s)}}class hC extends Ns{constructor(s,l,d){super(),this.componentFactoryResolver=new wv(this),this.instance=null;const h=new uw([...s,{provide:Ns,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],l||eg(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function vp(o,s,l=null){return new hC(o,s,l).injector}let yb=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=sw(0,l.type),h=d.length>0?vp([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=it({token:o,providedIn:"environment",factory:()=>new o($e(Ru))}),o})();function vb(o){o.getStandaloneInjector=s=>s.get(yb).getOrCreateStandaloneInjector(o)}function gC(o,s,l){const d=Un()+o,h=Ae();return h[d]===Zt?Ca(h,d,l?s.call(l):s()):function Tg(o,s){return o[s]}(h,d)}function Eb(o,s,l,d){return function xb(o,s,l,d,h,g){const v=s+l;return Rr(o,v,h)?Ca(o,v+1,g?d.call(g,h):d(h)):ml(o,v+1)}(Ae(),Un(),o,s,l,d)}function ml(o,s){const l=o[s];return l===Zt?void 0:l}function v_(o,s,l,d,h,g,v){const E=s+l;return function cl(o,s,l,d){const h=Rr(o,s,l);return Rr(o,s+1,d)||h}(o,E,h,g)?Ca(o,E+2,v?d.call(v,h,g):d(h,g)):ml(o,E+2)}function EC(o,s){const l=sn();let d;const h=o+tn;l.firstCreatePass?(d=function CC(o,s){if(s)for(let l=s.length-1;l>=0;l--){const d=s[l];if(o===d.name)return d}}(s,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const g=d.factory||(d.factory=ur(d.type)),v=On(th);try{const E=na(!1),x=g();return na(E),function uE(o,s,l,d){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),s[l]=d}(l,Ae(),h,x),x}finally{On(v)}}function Ib(o,s,l,d){const h=o+tn,g=Ae(),v=to(g,h);return function Ec(o,s){return o[tt].data[s].pure}(g,h)?v_(g,Un(),s,v.transform,l,d,v):v.transform(l,d)}function w_(o){return s=>{setTimeout(o,void 0,s)}}const Pr=class IC extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,d){let h=s,g=l||(()=>null),v=d;if(s&&"object"==typeof s){const x=s;h=x.next?.bind(x),g=x.error?.bind(x),v=x.complete?.bind(x)}this.__isAsync&&(g=w_(g),h&&(h=w_(h)),v&&(v=w_(v)));const E=super.subscribe({next:h,error:g,complete:v});return s instanceof ee.w0&&s.add(E),E}};function SC(){return this._results[Symbol.iterator]()}class E_{get changes(){return this._changes||(this._changes=new Pr)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=E_.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=SC)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const d=this;d.dirty=!1;const h=function Ni(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function ca(o,s,l){if(o.length!==s.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],g=s[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Eh=(()=>{class o{}return o.__NG_ELEMENT_ID__=Oo,o})();const TC=Eh,C_=class extends TC{constructor(s,l,d){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(s,l){const d=this._declarationTContainer.tView,h=ov(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,null,l||null);h[zs]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[qi];return null!==v&&(h[qi]=v.createEmbeddedView(d)),ao(d,h,s),new bg(h)}};function Oo(){return Cp(ai(),Ae())}function Cp(o,s){return 4&o.type?new C_(s,o,ku(o,s)):null}let xp=(()=>{class o{}return o.__NG_ELEMENT_ID__=Ch,o})();function Ch(){return MC(ai(),Ae())}const OS=xp,AC=class extends OS{constructor(s,l,d){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=d}get element(){return ku(this._hostTNode,this._hostLView)}get injector(){return new Fi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Qo(this._hostTNode,this._hostLView);if(ru(s)){const l=ta(s,this._hostLView),d=ea(s);return new Fi(l[tt].data[d+8],l)}return new Fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=x_(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-_i}createEmbeddedView(s,l,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=s.createEmbeddedView(l||{},g);return this.insert(v,h),v}createComponent(s,l,d,h,g){const v=s&&!function Do(o){return"function"==typeof o}(s);let E;if(v)E=l;else{const L=l||{};E=L.index,d=L.injector,h=L.projectableNodes,g=L.environmentInjector||L.ngModuleRef}const x=v?s:new Nu(on(s)),T=d||this.parentInjector;if(!g&&null==x.ngModule){const $=(v?T:this.parentInjector).get(Ru,null);$&&(g=$)}const k=x.create(T,h,void 0,g);return this.insert(k.hostView,E),k}insert(s,l){const d=s._lView,h=d[tt];if(function Ba(o){return cr(o[bn])}(d)){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const L=d[bn],$=new AC(L,L[zn],L[bn]);$.detach($.indexOf(s))}}const g=this._adjustIndex(l),v=this._lContainer;!function Oy(o,s,l,d){const h=_i+d,g=l.length;d>0&&(l[h-1][ar]=s),d<g-_i?(s[ar]=l[h],au(l,_i+d,s)):(l.push(s),s[ar]=null),s[bn]=l;const v=s[zs];null!==v&&l!==v&&function Pm(o,s){const l=o[$s];s[gi]!==s[bn][bn][gi]&&(o[Al]=!0),null===l?o[$s]=[s]:l.push(s)}(v,s);const E=s[qi];null!==E&&E.insertView(o),s[Ut]|=64}(h,d,v,g);const E=Zd(g,v),x=d[Wt],T=vu(x,v[gs]);return null!==T&&function $d(o,s,l,d,h,g){d[Er]=h,d[zn]=s,rl(o,d,l,1,h,g)}(h,v[zn],x,d,T,E),s.attachToViewContainerRef(),au(Ab(v),g,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=x_(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),d=mu(this._lContainer,l);d&&(Ya(Ab(this._lContainer),l),gu(d[tt],d))}detach(s){const l=this._adjustIndex(s,-1),d=mu(this._lContainer,l);return d&&null!=Ya(Ab(this._lContainer),l)?new bg(d):null}_adjustIndex(s,l=0){return s??this.length+l}};function x_(o){return o[Cr]}function Ab(o){return o[Cr]||(o[Cr]=[])}function MC(o,s){let l;const d=s[o.index];if(cr(d))l=d;else{let h;if(8&o.type)h=Fn(d);else{const g=s[Wt];h=g.createComment("");const v=Pi(o,s);ya(g,vu(g,v),h,function Nm(o,s){return o.nextSibling(s)}(g,v),!1)}s[o.index]=l=_v(d,s,h,o),yv(s,l)}return new AC(l,o,s)}class D_{constructor(s){this.queryList=s,this.matches=null}clone(){return new D_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const d=null!==s.contentQueries?s.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Mb(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==Te(s,l).matches&&this.queries[l].setDirty()}}class Dp{constructor(s,l,d=null){this.predicate=s,this.flags=l,this.read=d}}class Rb{constructor(s=[]){this.queries=s}elementStart(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(s,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new Rb(l):null}template(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class I_{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new I_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(s,l,tr(l,g)),this.matchTNodeWithReadOption(s,l,Gl(l,s,g,!1,!1))}else d===Eh?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,Gl(l,s,d,!1,!1))}matchTNodeWithReadOption(s,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===al||h===xp||h===Eh&&4&l.type)this.addMatch(l.index,-2);else{const g=Gl(l,s,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function tr(o,s){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===s)return l[d+1];return null}function Cc(o,s,l,d){return-1===l?function xh(o,s){return 11&o.type?ku(o,s):4&o.type?Cp(o,s):null}(s,o):-2===l?function kb(o,s,l){return l===al?ku(s,o):l===Eh?Cp(s,o):l===xp?MC(s,o):void 0}(o,s,d):Ds(o,o[tt],l,s)}function RC(o,s,l,d){const h=s[qi].queries[d];if(null===h.matches){const g=o.data,v=l.matches,E=[];for(let x=0;x<v.length;x+=2){const T=v[x];E.push(T<0?null:Cc(s,g[T],v[x+1],l.metadata.read))}h.matches=E}return h.matches}function Pe(o,s,l,d){const h=o.queries.getByIndex(l),g=h.matches;if(null!==g){const v=RC(o,s,h,l);for(let E=0;E<g.length;E+=2){const x=g[E];if(x>0)d.push(v[E/2]);else{const T=g[E+1],k=s[-x];for(let L=_i;L<k.length;L++){const $=k[L];$[zs]===$[bn]&&Pe($[tt],$,T,d)}if(null!==k[$s]){const L=k[$s];for(let $=0;$<L.length;$++){const te=L[$];Pe(te[tt],te,T,d)}}}}}return d}function hi(o){const s=Ae(),l=sn(),d=Qc();jl(d+1);const h=Te(l,d);if(o.dirty&&function qc(o){return 4==(4&o[Ut])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?Pe(l,s,d,[]):RC(l,s,h,d);o.reset(g,gw),o.notifyOnChanges()}return!0}return!1}function Ls(o,s,l){const d=sn();d.firstCreatePass&&(Ye(d,new Dp(o,s,l),-1),2==(2&s)&&(d.staticViewQueries=!0)),kC(d,Ae(),s)}function S_(o,s,l,d){const h=sn();if(h.firstCreatePass){const g=ai();Ye(h,new Dp(s,l,d),g.index),function le(o,s){const l=o.contentQueries||(o.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,s)}(h,o),2==(2&l)&&(h.staticContentQueries=!0)}kC(h,Ae(),l)}function at(){return function Ct(o,s){return o[qi].queries[s].queryList}(Ae(),Qc())}function kC(o,s,l){const d=new E_(4==(4&l));_r(o,s,d,d.destroy),null===s[qi]&&(s[qi]=new Mb),s[qi].queries.push(new D_(d))}function Ye(o,s,l){null===o.queries&&(o.queries=new Rb),o.queries.track(new I_(s,l))}function Te(o,s){return o.queries.getByIndex(s)}function Si(o,s){return Cp(o,s)}function Pb(o){return!!oi(o)}function N_(...o){}const zC=new wn("Application Initializer");let L_=(()=>{class o{constructor(l){this.appInits=l,this.resolve=N_,this.reject=N_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Fv(g))l.push(g);else if(hE(g)){const v=new Promise((E,x)=>{g.subscribe({complete:E,error:x})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)($e(zC,8))},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const $C=new wn("AppId",{providedIn:"root",factory:function GC(){return`${Bb()}${Bb()}${Bb()}`}});function Bb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qC=new wn("Platform Initializer"),jS=new wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zS=new wn("AnimationModuleType");let $S=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Tp=new wn("LocaleId",{providedIn:"root",factory:()=>st(Tp,wt.Optional|wt.SkipSelf)||function GS(){return typeof $localize<"u"&&$localize.locale||fh}()}),qS=new wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ub{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let nr=(()=>{class o{compileModuleSync(l){return new h_(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=Ea(oi(l).declarations).reduce((v,E)=>{const x=on(E);return x&&v.push(new Nu(x)),v},[]);return new Ub(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const KC=(()=>Promise.resolve(0))();function Ic(o){typeof Zone>"u"?KC.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class os{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pr(!1),this.onMicrotaskEmpty=new Pr(!1),this.onStable=new Pr(!1),this.onError=new Pr(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function fo(){let o=Vt.requestAnimationFrame,s=Vt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function fi(o){const s=()=>{!function Sc(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Vt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,yl(o),o.isCheckStableRunning=!0,Hb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),yl(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,v,E)=>{try{return V_(o),l.invokeTask(h,g,v,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&s(),jb(o)}},onInvoke:(l,d,h,g,v,E,x)=>{try{return V_(o),l.invoke(h,g,v,E,x)}finally{o.shouldCoalesceRunChangeDetection&&s(),jb(o)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,yl(o),Hb(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!os.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(os.isInAngularZone())throw new pe(909,!1)}run(s,l,d){return this._inner.run(s,l,d)}runTask(s,l,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,s,Ui,N_,N_);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(s,l,d){return this._inner.runGuarded(s,l,d)}runOutsideAngular(s){return this._outer.run(s)}}const Ui={};function Hb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function yl(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function V_(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function jb(o){o._nesting--,Hb(o)}class Mp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pr,this.onMicrotaskEmpty=new Pr,this.onStable=new Pr,this.onError=new Pr}run(s,l,d){return s.apply(l,d)}runGuarded(s,l,d){return s.apply(l,d)}runOutsideAngular(s){return s()}runTask(s,l,d,h){return s.apply(l,d)}}const YC=new wn(""),vl=new wn("");let ss,Tc=(()=>{class o{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ss||(function Xu(o){ss=o}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{os.assertNotInAngularZone(),Ic(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ic(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return o.\u0275fac=function(l){return new(l||o)($e(os),$e(Rp),$e(vl))},o.\u0275prov=it({token:o,factory:o.\u0275fac}),o})(),Rp=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return ss?.findTestabilityInTree(this,l,d)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const No=!1;let Gr=null;const zb=new wn("AllowMultipleToken"),Ac=new wn("PlatformDestroyListeners"),B_=new wn("appBootstrapListener");class XC{constructor(s,l){this.name=s,this.token=l}}function ex(o,s,l=[]){const d=`Platform: ${s}`,h=new wn(d);return(g=[])=>{let v=Ti();if(!v||v.injector.get(zb,!1)){const E=[...l,...g,{provide:h,useValue:!0}];o?o(E):function JC(o){if(Gr&&!Gr.get(zb,!1))throw new pe(400,!1);Gr=o;const s=o.get(Gb);(function Th(o){const s=o.get(qC,null);s&&s.forEach(l=>l())})(o)}(function $b(o=[],s){return Jd.create({name:s,providers:[{provide:$y,useValue:"platform"},{provide:Ac,useValue:new Set([()=>Gr=null])},...o]})}(E,d))}return function YS(o){const s=Ti();if(!s)throw new pe(401,!1);return s}()}}function Ti(){return Gr?.get(Gb)??null}let Gb=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function bl(o,s){let l;return l="noop"===o?new Mp:("zone.js"===o?void 0:o)||new os(s),l}(d?.ngZone,function Ln(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:os,useValue:h}];return h.run(()=>{const v=Jd.create({providers:g,parent:this.injector,name:l.moduleType.name}),E=l.create(v),x=E.injector.get(Nf,null);if(!x)throw new pe(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:k=>{x.handleError(k)}});E.onDestroy(()=>{H_(this._modules,E),T.unsubscribe()})}),function qb(o,s,l){try{const d=l();return Fv(d)?d.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>o.handleError(d)),d}}(x,h,()=>{const T=E.injector.get(L_);return T.runInitializers(),T.donePromise.then(()=>(function Xg(o){et(o,"Expected localeId to be defined"),"string"==typeof o&&(Qg=o.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Tp,fh)||fh),this._moduleDoBootstrap(E),E))})})}bootstrapModule(l,d=[]){const h=Wb({},d);return function Ju(o,s,l){const d=new h_(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(wl);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new pe(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(Ac,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)($e(Jd))},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Wb(o,s){return Array.isArray(s)?s.reduce(Wb,o):{...o,...s}}let wl=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new N.y(E=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{os.assertNotInAngularZone(),Ic(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{os.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{x.unsubscribe(),T.unsubscribe()}});this.isStable=(0,re.T)(g,v.pipe((0,oe.B)()))}bootstrap(l,d){const h=l instanceof pw;if(!this._injector.get(L_).done){!h&&jo(l);throw new pe(405,No)}let v;v=h?l:this._injector.get(fc).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const E=function kp(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Ns),T=v.create(Jd.NULL,[],d||v.selector,E),k=T.location.nativeElement,L=T.injector.get(YC,null);return L?.registerApplication(k),T.onDestroy(()=>{this.detachView(T.hostView),H_(this.components,T),L?.unregisterApplication(k)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;H_(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(B_,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>H_(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new pe(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)($e(os),$e(Ru),$e(Nf))},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function H_(o,s){const l=o.indexOf(s);l>-1&&o.splice(l,1)}function En(){return!1}let Yb=(()=>{class o{}return o.__NG_ELEMENT_ID__=ix,o})();function ix(o){return function rx(o,s,l){if(Ml(o)&&!l){const d=si(o.index,s);return new bg(d,d)}return 47&o.type?new bg(s[gi],s):null}(ai(),Ae(),16==(16&o))}class Np{constructor(){}supports(s){return Sg(s)}create(s){return new td(s)}}const Qb=(o,s)=>s;class td{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Qb}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<Mh(d,h,g)?l:d,E=Mh(v,h,g),x=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const T=E-h,k=x-h;if(T!=k){for(let $=0;$<T;$++){const te=$<g.length?g[$]:g[$]=0,ge=te+$;k<=ge&&ge<T&&(g[$]=te+1)}g[v.previousIndex]=k-T}}E!==x&&s(v,E,x)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!Sg(s))throw new pe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,v,l=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)g=s[E],v=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,E),d=!0),l=l._next}else h=0,function oE(o,s){if(Array.isArray(o))for(let l=0;l<o.length;l++)s(o[l]);else{const l=o[Symbol.iterator]();let d;for(;!(d=l.next()).done;)s(d.value)}}(s,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,d,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,g,h)):s=this._addAfter(new qr(l,d),g,h),s}_verifyReinsertion(s,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,l,d),this._addToMoves(s,d),s}_moveAfter(s,l,d){return this._unlink(s),this._insertAfter(s,l,d),this._addToMoves(s,d),s}_addAfter(s,l,d){return this._insertAfter(s,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,d){const h=null===l?this._itHead:l._next;return s._next=h,s._prev=l,null===h?this._itTail=s:h._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new Lp),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,d=s._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lp),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class qr{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const l=s._prevDup,d=s._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class Lp{constructor(){this.map=new Map}put(s){const l=s.trackById;let d=this.map.get(l);d||(d=new Xb,this.map.set(l,d)),d.add(s)}get(s,l){const h=this.map.get(s);return h?h.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mh(o,s,l){const d=o.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+s+h}class Jb{constructor(){}supports(s){return s instanceof Map||Sv(s)}create(){return new e0}}class e0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||Sv(s)))throw new pe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const d=s._prev;return l._next=s,l._prev=d,s._prev=l,d&&(d._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new Vp(s);return this._records.set(s,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(d=>l(s[d],d))}}class Vp{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function t0(){return new G_([new Np])}let G_=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||t0()),deps:[[o,new D,new ro]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new pe(901,!1)}}return o.\u0275prov=it({token:o,providedIn:"root",factory:t0}),o})();function Cl(){return new n0([new Jb])}let n0=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||Cl()),deps:[[o,new D,new ro]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new pe(901,!1)}}return o.\u0275prov=it({token:o,providedIn:"root",factory:Cl}),o})();const Ia=ex(null,"core",[]);let lx=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)($e(wl))},o.\u0275mod=Sl({type:o}),o.\u0275inj=Zn({}),o})();function Bp(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(_t,Ee,F)=>{F.d(Ee,{Z:()=>Ge});var c=F(2090),ee=F(4859),N=F(9681),re=F(1877);class oe{constructor(pe,Ie){this._delegate=pe,this.firebase=Ie,(0,N._addComponent)(pe,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(pe,Ie=N._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(pe);return!Ne.isInitialized()&&"EXPLICIT"===(null===(Se=Ne.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:Ie})}_removeServiceInstance(pe,Ie=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Ie)}_addComponent(pe){(0,N._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,N._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function de(){const dt=function he(dt){const pe={},Ie={__esModule:!0,initializeApp:function xe(Fe,H={}){const ye=N.initializeApp(Fe,H);if((0,c.r3)(pe,ye.name))return pe[ye.name];const Ue=new dt(ye,Ie);return pe[ye.name]=Ue,Ue},app:Ne,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Me(Fe){const H=Fe.name,ye=H.replace("-compat","");if(N._registerComponent(Fe)&&"PUBLIC"===Fe.type){const Ue=(Ze=Ne())=>{if("function"!=typeof Ze[ye])throw me.create("invalid-app-argument",{appName:H});return Ze[ye]()};void 0!==Fe.serviceProps&&(0,c.ZB)(Ue,Fe.serviceProps),Ie[ye]=Ue,dt.prototype[ye]=function(...Ze){return this._getService.bind(this,H).apply(this,Fe.multipleInstances?Ze:[])}}return"PUBLIC"===Fe.type?Ie[ye]:null},removeApp:function Se(Fe){delete pe[Fe]},useAsService:function Be(Fe,H){return"serverAuth"===H?null:H},modularAPIs:N}};function Ne(Fe){if(!(0,c.r3)(pe,Fe=Fe||N._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Fe});return pe[Fe]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function we(){return Object.keys(pe).map(Fe=>pe[Fe])}}),Ne.App=dt,Ie}(oe);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function pe(Ie){(0,c.ZB)(dt,Ie)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),dt}(),G=new re.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=z;!function De(dt){(0,N.registerVersion)("@firebase/app-compat","0.2.7",dt)}()},9681:(_t,Ee,F)=>{F.r(Ee),F.d(Ee,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>br,_DEFAULT_ENTRY_NAME:()=>Le,_addComponent:()=>dn,_addOrOverwriteComponent:()=>St,_apps:()=>et,_clearComponents:()=>Zn,_components:()=>Qe,_getProvider:()=>it,_registerComponent:()=>an,_removeServiceInstance:()=>Rt,deleteApp:()=>Uo,getApp:()=>wr,getApps:()=>or,initializeApp:()=>cs,onLog:()=>wt,registerVersion:()=>sr,setLogLevel:()=>Ho});var c=F(5861),ee=F(4859),N=F(1877),re=F(2090),oe=F(8766);class X{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function me($e){return"VERSION"===$e.getComponent()?.type}(st)){const Mt=st.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(st=>st).join(" ")}}const he="@firebase/app",z=new N.Yd("@firebase/app"),Le="[DEFAULT]",ze={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Qe=new Map;function dn($e,Ce){try{$e.container.addComponent(Ce)}catch(st){z.debug(`Component ${Ce.name} failed to register with FirebaseApp ${$e.name}`,st)}}function St($e,Ce){$e.container.addOrOverwriteComponent(Ce)}function an($e){const Ce=$e.name;if(Qe.has(Ce))return z.debug(`There were multiple attempts to register component ${Ce}.`),!1;Qe.set(Ce,$e);for(const st of et.values())dn(st,$e);return!0}function it($e,Ce){const st=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),$e.container.getProvider(Ce)}function Rt($e,Ce,st=Le){it($e,Ce).clearInstance(st)}function Zn(){Qe.clear()}const Sn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class kn{constructor(Ce,st,Mt){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}const br="9.19.1";function cs($e,Ce={}){let st=$e;"object"!=typeof Ce&&(Ce={name:Ce});const Mt=Object.assign({name:Le,automaticDataCollectionEnabled:!1},Ce),Lt=Mt.name;if("string"!=typeof Lt||!Lt)throw Sn.create("bad-app-name",{appName:String(Lt)});if(st||(st=(0,re.aH)()),!st)throw Sn.create("no-options");const $t=et.get(Lt);if($t){if((0,re.vZ)(st,$t.options)&&(0,re.vZ)(Mt,$t.config))return $t;throw Sn.create("duplicate-app",{appName:Lt})}const Ri=new ee.H0(Lt);for(const U of Qe.values())Ri.addComponent(U);const j=new kn(st,Mt,Ri);return et.set(Lt,j),j}function wr($e=Le){const Ce=et.get($e);if(!Ce&&$e===Le)return cs();if(!Ce)throw Sn.create("no-app",{appName:$e});return Ce}function or(){return Array.from(et.values())}function Uo($e){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*($e){const Ce=$e.name;et.has(Ce)&&(et.delete(Ce),yield Promise.all($e.container.getProviders().map(st=>st.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function sr($e,Ce,st){var Mt;let Lt=null!==(Mt=ze[$e])&&void 0!==Mt?Mt:$e;st&&(Lt+=`-${st}`);const $t=Lt.match(/\s|\//),Ri=Ce.match(/\s|\//);if($t||Ri){const j=[`Unable to register library "${Lt}" with version "${Ce}":`];return $t&&j.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),$t&&Ri&&j.push("and"),Ri&&j.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void z.warn(j.join(" "))}an(new ee.wA(`${Lt}-version`,()=>({library:Lt,version:Ce}),"VERSION"))}function wt($e,Ce){if(null!==$e&&"function"!=typeof $e)throw Sn.create("invalid-log-argument");(0,N.Am)($e,Ce)}function Ho($e){(0,N.Ub)($e)}const Hr="firebase-heartbeat-database",On=1,Ai="firebase-heartbeat-store";let us=null;function Vt(){return us||(us=(0,oe.X3)(Hr,On,{upgrade:($e,Ce)=>{0===Ce&&$e.createObjectStore(Ai)}}).catch($e=>{throw Sn.create("idb-open",{originalErrorMessage:$e.message})})),us}function kt(){return(kt=(0,c.Z)(function*($e){try{return(yield Vt()).transaction(Ai).objectStore(Ai).get(Kn($e))}catch(Ce){if(Ce instanceof re.ZR)z.warn(Ce.message);else{const st=Sn.create("idb-get",{originalErrorMessage:Ce?.message});z.warn(st.message)}}})).apply(this,arguments)}function ds($e,Ce){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*($e,Ce){try{const Mt=(yield Vt()).transaction(Ai,"readwrite");return yield Mt.objectStore(Ai).put(Ce,Kn($e)),Mt.done}catch(st){if(st instanceof re.ZR)z.warn(st.message);else{const Mt=Sn.create("idb-set",{originalErrorMessage:st?.message});z.warn(Mt.message)}}})).apply(this,arguments)}function Kn($e){return`${$e.name}!${$e.options.appId}`}class Ra{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new rn(st),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var Ce=this;return(0,c.Z)(function*(){const Mt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=pn();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!Ce._heartbeatsCache.heartbeats.some($t=>$t.date===Lt))return Ce._heartbeatsCache.heartbeats.push({date:Lt,agent:Mt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter($t=>{const Ri=new Date($t.date).valueOf();return Date.now()-Ri<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,c.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const st=pn(),{heartbeatsToSend:Mt,unsentEntries:Lt}=function _o($e,Ce=1024){const st=[];let Mt=$e.slice();for(const Lt of $e){const $t=st.find(Ri=>Ri.agent===Lt.agent);if($t){if($t.dates.push(Lt.date),$i(st)>Ce){$t.dates.pop();break}}else if(st.push({agent:Lt.agent,dates:[Lt.date]}),$i(st)>Ce){st.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:st,unsentEntries:Mt}}(Ce._heartbeatsCache.heartbeats),$t=(0,re.L)(JSON.stringify({version:2,heartbeats:Mt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=st,Lt.length>0?(Ce._heartbeatsCache.heartbeats=Lt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),$t})()}}function pn(){return(new Date).toISOString().substring(0,10)}class rn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,c.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function xt($e){return kt.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var st=this;return(0,c.Z)(function*(){var Mt;if(yield st._canUseIndexedDBPromise){const $t=yield st.read();return ds(st.app,{lastSentHeartbeatDate:null!==(Mt=Ce.lastSentHeartbeatDate)&&void 0!==Mt?Mt:$t.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var st=this;return(0,c.Z)(function*(){var Mt;if(yield st._canUseIndexedDBPromise){const $t=yield st.read();return ds(st.app,{lastSentHeartbeatDate:null!==(Mt=Ce.lastSentHeartbeatDate)&&void 0!==Mt?Mt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...Ce.heartbeats]})}})()}}function $i($e){return(0,re.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function Yr($e){an(new ee.wA("platform-logger",Ce=>new X(Ce),"PRIVATE")),an(new ee.wA("heartbeat",Ce=>new Ra(Ce),"PRIVATE")),sr(he,"0.9.7",$e),sr(he,"0.9.7","esm2017"),sr("fire-js","")}("")},4859:(_t,Ee,F)=>{F.d(Ee,{H0:()=>he,wA:()=>N});var c=F(5861),ee=F(2090);class N{constructor(z,G,Q){this.name=z,this.instanceFactory=G,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const re="[DEFAULT]";class oe{constructor(z,G){this.name=z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const G=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(G)){const Q=new ee.BH;if(this.instancesDeferred.set(G,Q),this.isInitialized(G)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:G});je&&Q.resolve(je)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(z){var G;const Q=this.normalizeInstanceIdentifier(z?.identifier),je=null!==(G=z?.optional)&&void 0!==G&&G;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(De){if(je)return null;throw De}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function me(de){return"EAGER"===de.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[G,Q]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(G);try{const De=this.getOrInitializeService({instanceIdentifier:je});Q.resolve(De)}catch{}}}}clearInstance(z=re){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,c.Z)(function*(){const G=Array.from(z.instances.values());yield Promise.all([...G.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...G.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=re){return this.instances.has(z)}getOptions(z=re){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:G={}}=z,Q=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Q,options:G});for(const[De,Ge]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(De)&&Ge.resolve(je);return je}onInit(z,G){var Q;const je=this.normalizeInstanceIdentifier(G),De=null!==(Q=this.onInitCallbacks.get(je))&&void 0!==Q?Q:new Set;De.add(z),this.onInitCallbacks.set(je,De);const Ge=this.instances.get(je);return Ge&&z(Ge,je),()=>{De.delete(z)}}invokeOnInitCallbacks(z,G){const Q=this.onInitCallbacks.get(G);if(Q)for(const je of Q)try{je(z,G)}catch{}}getOrInitializeService({instanceIdentifier:z,options:G={}}){let Q=this.instances.get(z);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(de=z,de===re?void 0:de),options:G}),this.instances.set(z,Q),this.instancesOptions.set(z,G),this.invokeOnInitCallbacks(Q,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,Q)}catch{}var de;return Q||null}normalizeInstanceIdentifier(z=re){return this.component?this.component.multipleInstances?z:re:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const G=this.getProvider(z.name);if(G.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);G.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const G=new oe(z,this);return this.providers.set(z,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(_t,Ee,F)=>{F.d(Ee,{Am:()=>de,Ub:()=>he,Yd:()=>me,in:()=>ee});const c=[];var ee=(()=>{return(z=ee||(ee={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",ee;var z})();const N={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},re=ee.INFO,oe={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},X=(z,G,...Q)=>{if(G<z.logLevel)return;const je=(new Date).toISOString(),De=oe[G];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[De](`[${je}]  ${z.name}:`,...Q)};class me{constructor(G){this.name=G,this._logLevel=re,this._logHandler=X,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in ee))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?N[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...G),this._logHandler(this,ee.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...G),this._logHandler(this,ee.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...G),this._logHandler(this,ee.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...G),this._logHandler(this,ee.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...G),this._logHandler(this,ee.ERROR,...G)}}function he(z){c.forEach(G=>{G.setLogLevel(z)})}function de(z,G){for(const Q of c){let je=null;G&&G.level&&(je=N[G.level]),Q.userLogHandler=null===z?null:(De,Ge,...dt)=>{const pe=dt.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");Ge>=(je??De.logLevel)&&z({level:ee[Ge].toLowerCase(),message:pe,args:dt,type:De.name})}}}},259:(_t,Ee,F)=>{F.d(Ee,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=F(9681);(0,c.registerVersion)("firebase","9.19.1","app")},9260:(_t,Ee,F)=>{F.d(Ee,{Z:()=>c.Z});var c=F(3942);c.Z.registerVersion("firebase","9.19.1","app-compat")},9800:(_t,Ee,F)=>{F.r(Ee);var c=F(5861),ee=F(3942),N=F(2090),re=F(9681),oe=F(1877),X=F(655),me=F(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q_EMAIL_SIGNIN="EMAIL_SIGNIN",Q_PASSWORD_RESET="PASSWORD_RESET",Q_RECOVER_EMAIL="RECOVER_EMAIL",Q_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Q_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Q_VERIFY_EMAIL="VERIFY_EMAIL";const Ge=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},dt=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new oe.Yd("@firebase/auth");function Ne(y,...p){Se.logLevel<=oe.in.ERROR&&Se.error(`Auth (${re.SDK_VERSION}): ${y}`,...p)}function xe(y,...p){throw Fe(y,...p)}function we(y,...p){return Fe(y,...p)}function Me(y,p,m){const w=Object.assign(Object.assign({},dt()),{[p]:m});return new N.LL("auth","Firebase",w).create(p,{appName:y.name})}function Be(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&xe(y,"argument-error"),Me(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return pe.create(y,...p)}function H(y,p,...m){if(!y)throw Fe(p,...m)}function ye(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Ne(p),new Error(p)}function Ue(y,p){y||ye(p)}const Ze=new Map;function yt(y){Ue(y instanceof Function,"Expected a class definition");let p=Ze.get(y);return p?(Ue(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Ze.set(y,p),p)}function fe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function be(){return"http:"===Re()||"https:"===Re()}function Re(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class et{constructor(p,m){this.shortDelay=p,this.longDelay=m,Ue(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Le(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(be()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qe(y,p){Ue(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class dn{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const St={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new et(3e4,6e4);function it(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Rt(y,p,m,w){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(y,p,m,w,S={}){return vn(y,S,(0,c.Z)(function*(){let O={},Y={};w&&("GET"===p?Y=w:O={body:JSON.stringify(w)});const ue=(0,N.xO)(Object.assign({key:y.config.apiKey},Y)).slice(1),He=yield y._getAdditionalHeaders();return He["Content-Type"]="application/json",y.languageCode&&(He["X-Firebase-Locale"]=y.languageCode),dn.fetch()(cs(y,y.config.apiHost,m,ue),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function vn(y,p,m){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},St),p);try{const S=new wr(y),O=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const Y=yield O.json();if("needConfirmation"in Y)throw or(y,"account-exists-with-different-credential",Y);if(O.ok&&!("errorMessage"in Y))return Y;{const ue=O.ok?Y.errorMessage:Y.error.message,[He,nt]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw or(y,"credential-already-in-use",Y);if("EMAIL_EXISTS"===He)throw or(y,"email-already-in-use",Y);if("USER_DISABLED"===He)throw or(y,"user-disabled",Y);const vt=w[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Me(y,vt,nt);xe(y,vt)}}catch(S){if(S instanceof N.ZR)throw S;xe(y,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function kn(y,p,m,w){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(y,p,m,w,S={}){const O=yield Rt(y,p,m,w,S);return"mfaPendingCredential"in O&&xe(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function cs(y,p,m,w){const S=`${p}${m}?${w}`;return y.config.emulator?Qe(y.config,S):`${y.config.apiScheme}://${S}`}class wr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(we(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function or(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const S=we(y,p,w);return S.customData._tokenResponse=m,S}function Tn(){return(Tn=(0,c.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Hr(){return(Hr=(0,c.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function On(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Vt(){return(Vt=(0,c.Z)(function*(y,p=!1){const m=(0,N.m9)(y),w=yield m.getIdToken(p),S=kt(w);H(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const O="object"==typeof S.firebase?S.firebase:void 0,Y=O?.sign_in_provider;return{claims:S,token:w,authTime:On(xt(S.auth_time)),issuedAtTime:On(xt(S.iat)),expirationTime:On(xt(S.exp)),signInProvider:Y||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function xt(y){return 1e3*Number(y)}function kt(y){const[p,m,w]=y.split(".");if(void 0===p||void 0===m||void 0===w)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,N.tV)(m);return S?JSON.parse(S):(Ne("Failed to decode base64 JWT payload"),null)}catch(S){return Ne("Caught error parsing JWT payload as JSON",S?.toString()),null}}function xn(y,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof N.ZR&&function zi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class Mi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Ra{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=On(this.lastLoginAt),this.creationTime=On(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pn(y){return _o.apply(this,arguments)}function _o(){return _o=(0,c.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),S=yield xn(y,function Ho(y,p){return Hr.apply(this,arguments)}(m,{idToken:w}));H(S?.users.length,m,"internal-error");const O=S.users[0];y._notifyReloadListener(O);const Y=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function $e(y){return y.map(p=>{var{providerId:m}=p,w=(0,X._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(O.providerUserInfo):[],ue=function Yr(y,p){return[...y.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}(y.providerData,Y),vt=!!y.isAnonymous&&!(y.email&&O.passwordHash||ue?.length),ft={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ue,metadata:new Ra(O.createdAt,O.lastLoginAt),isAnonymous:vt};Object.assign(y,ft)}),_o.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(y){const p=(0,N.m9)(y);yield pn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(y,p){const m=yield vn(y,{},(0,c.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:O}=y.config,Y=cs(y,S,"/v1/token",`key=${O}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(Y,{method:"POST",headers:ue,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Mt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){H(p.idToken,"internal-error"),H(typeof p.idToken<"u","internal-error"),H(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ds(y){const p=kt(y);return H(p,"internal-error"),H(typeof p.exp<"u","internal-error"),H(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,c.Z)(function*(){return H(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:O,expiresIn:Y}=yield function Ce(y,p){return st.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(S,O,Number(Y))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:S,expirationTime:O}=m,Y=new Mt;return w&&(H("string"==typeof w,"internal-error",{appName:p}),Y.refreshToken=w),S&&(H("string"==typeof S,"internal-error",{appName:p}),Y.accessToken=S),O&&(H("number"==typeof O,"internal-error",{appName:p}),Y.expirationTime=O),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Mt,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Lt(y,p){H("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class $t{constructor(p){var{uid:m,auth:w,stsTokenManager:S}=p,O=(0,X._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Ra(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const w=yield xn(m,m.stsTokenManager.getToken(m.auth,p));return H(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function us(y){return Vt.apply(this,arguments)}(this,p)}reload(){return function rn(y){return $i.apply(this,arguments)}(this)}_assign(p){this!==p&&(H(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new $t(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,c.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield pn(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield xn(p,function Uo(y,p){return Tn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,S,O,Y,ue,He,nt,vt;const ft=null!==(w=m.displayName)&&void 0!==w?w:void 0,ui=null!==(S=m.email)&&void 0!==S?S:void 0,so=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,sl=null!==(Y=m.photoURL)&&void 0!==Y?Y:void 0,qm=null!==(ue=m.tenantId)&&void 0!==ue?ue:void 0,Rf=null!==(He=m._redirectEventId)&&void 0!==He?He:void 0,Wm=null!==(nt=m.createdAt)&&void 0!==nt?nt:void 0,Su=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Tu,emailVerified:Au,isAnonymous:Yd,providerData:uc,stsTokenManager:Zm}=m;H(Tu&&Zm,p,"internal-error");const Ly=Mt.fromJSON(this.name,Zm);H("string"==typeof Tu,p,"internal-error"),Lt(ft,p.name),Lt(ui,p.name),H("boolean"==typeof Au,p,"internal-error"),H("boolean"==typeof Yd,p,"internal-error"),Lt(so,p.name),Lt(sl,p.name),Lt(qm,p.name),Lt(Rf,p.name),Lt(Wm,p.name),Lt(Su,p.name);const Mu=new $t({uid:Tu,auth:p,email:ui,emailVerified:Au,displayName:ft,isAnonymous:Yd,photoURL:sl,phoneNumber:so,tenantId:qm,stsTokenManager:Ly,createdAt:Wm,lastLoginAt:Su});return uc&&Array.isArray(uc)&&(Mu.providerData=uc.map(Km=>Object.assign({},Km))),Rf&&(Mu._redirectEventId=Rf),Mu}static _fromIdTokenResponse(p,m,w=!1){return(0,c.Z)(function*(){const S=new Mt;S.updateFromServerResponse(m);const O=new $t({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield pn(O),O})()}}const j=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,w){var S=this;return(0,c.Z)(function*(){S.storage[m]=w})()}_get(m){var w=this;return(0,c.Z)(function*(){const S=w.storage[m];return void 0===S?null:S})()}_remove(m){var w=this;return(0,c.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function U(y,p,m){return`firebase:${y}:${p}:${m}`}class K{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:S,name:O}=this.auth;this.fullUserKey=U(this.userKey,S.apiKey,O),this.fullPersistenceKey=U("persistence",S.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?$t._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,c.Z)(function*(){if(!m.length)return new K(yt(j),p,w);const S=(yield Promise.all(m.map(function(){var nt=(0,c.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let O=S[0]||yt(j);const Y=U(w,p.config.apiKey,p.name);let ue=null;for(const nt of m)try{const vt=yield nt._get(Y);if(vt){const ft=$t._fromJSON(p,vt);nt!==O&&(ue=ft),O=nt;break}}catch{}const He=S.filter(nt=>nt._shouldAllowMigration);return O._shouldAllowMigration&&He.length?(O=He[0],ue&&(yield O._set(Y,ue.toJSON())),yield Promise.all(m.map(function(){var nt=(0,c.Z)(function*(vt){if(vt!==O)try{yield vt._remove(Y)}catch{}});return function(vt){return nt.apply(this,arguments)}}())),new K(O,p,w)):new K(O,p,w)})()}}function _e(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(_n(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ne(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Vn(p))return"Blackberry";if(ri(p))return"Webos";if(rt(p))return"Safari";if((p.includes("chrome/")||Ke(p))&&!p.includes("edge/"))return"Chrome";if(Pn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function ne(y=(0,N.z$)()){return/firefox\//i.test(y)}function rt(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ke(y=(0,N.z$)()){return/crios\//i.test(y)}function _n(y=(0,N.z$)()){return/iemobile/i.test(y)}function Pn(y=(0,N.z$)()){return/android/i.test(y)}function Vn(y=(0,N.z$)()){return/blackberry/i.test(y)}function ri(y=(0,N.z$)()){return/webos/i.test(y)}function Bt(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Zh(y=(0,N.z$)()){return Bt(y)||Pn(y)||ri(y)||Vn(y)||/windows phone/i.test(y)||_n(y)}function Il(y,p=[]){let m;switch(y){case"Browser":m=_e((0,N.z$)());break;case"Worker":m=`${_e((0,N.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${re.SDK_VERSION}/${w}`}class Sl{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=O=>new Promise((Y,ue)=>{try{Y(p(O))}catch(He){ue(He)}});w.onAbort=m,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,c.Z)(function*(){if(m.auth.currentUser===p)return;const w=[];try{for(const S of m.queue)yield S(p),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const O of w)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Kh{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lc(this),this.idTokenSubscription=new Lc(this),this.beforeStateQueue=new Sl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=yt(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,O;if(!w._deleted&&(w.persistenceManager=yield K.create(w,p),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var w;const S=yield m.assertedPersistence.getCurrentUser();let O=S,Y=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ue=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,He=O?._redirectEventId,nt=yield m.tryRedirectSignIn(p);(!ue||ue===He)&&nt?.user&&(O=nt.user,Y=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(Y)try{yield m.beforeStateQueue.runMiddleware(O)}catch(ue){O=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ue))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return H(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield pn(p)}catch(w){if("auth/network-request-failed"!==w?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ze(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const w=p?(0,N.m9)(p):null;return w&&H(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return p&&H(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(yt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,c.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&yt(p)||m._popupRedirectResolver;H(w,m,"argument-error"),m.redirectPersistenceManager=yield K.create(m,[yt(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var w,S;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,S){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return H(Y,this,"internal-error"),Y.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,w,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Il(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(w["X-Firebase-Client"]=S),w})()}}function Bn(y){return(0,N.m9)(y)}class Lc{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function on(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function mi(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class oi{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ye("not implemented")}_getIdTokenResponse(p){return ye("not implemented")}_linkToIdToken(p,m){return ye("not implemented")}_getReauthenticationResolver(p){return ye("not implemented")}}function ki(y,p){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,c.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:resetPassword",it(y,p))})).apply(this,arguments)}function hs(y,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",it(y,p))})).apply(this,arguments)}function ar(){return(ar=(0,c.Z)(function*(y,p){return kn(y,"POST","/v1/accounts:signInWithPassword",it(y,p))})).apply(this,arguments)}function Xr(y,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:sendOobCode",it(y,p))})).apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(y,p){return Xr(y,p)})).apply(this,arguments)}function ka(){return(ka=(0,c.Z)(function*(y,p){return Xr(y,p)})).apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(y,p){return Xr(y,p)})).apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(y,p){return Xr(y,p)})).apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(y,p){return kn(y,"POST","/v1/accounts:signInWithEmailLink",it(y,p))})).apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(y,p){return kn(y,"POST","/v1/accounts:signInWithEmailLink",it(y,p))})).apply(this,arguments)}class qi extends oi{constructor(p,m,w,S=null){super("password",w),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new qi(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new qi(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function bn(y,p){return ar.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Oa(y,p){return gi.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:xe(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return hs(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function zs(y,p){return $o.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:xe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Wi(y,p){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,c.Z)(function*(y,p){return kn(y,"POST","/v1/accounts:signInWithIdp",it(y,p))})).apply(this,arguments)}class yo extends oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new yo(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):xe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=m,O=(0,X._T)(m,["providerId","signInMethod"]);if(!w||!S)return null;const Y=new yo(w,S);return Y.idToken=O.idToken||void 0,Y.accessToken=O.accessToken||void 0,Y.secret=O.secret,Y.nonce=O.nonce,Y.pendingToken=O.pendingToken||null,Y}_getIdTokenResponse(p){return Wi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Wi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Wi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,N.xO)(m)}return p}}function Al(){return(Al=(0,c.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:sendVerificationCode",it(y,p))})).apply(this,arguments)}function Cr(){return(Cr=(0,c.Z)(function*(y,p){return kn(y,"POST","/v1/accounts:signInWithPhoneNumber",it(y,p))})).apply(this,arguments)}function _i(){return(_i=(0,c.Z)(function*(y,p){const m=yield kn(y,"POST","/v1/accounts:signInWithPhoneNumber",it(y,p));if(m.temporaryProof)throw or(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const dm={USER_NOT_FOUND:"user-not-found"};function cr(){return(cr=(0,c.Z)(function*(y,p){return kn(y,"POST","/v1/accounts:signInWithPhoneNumber",it(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),dm)})).apply(this,arguments)}class vo extends oi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new vo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new vo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function gs(y,p){return Cr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function $s(y,p){return _i.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function lr(y,p){return cr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:O}=p;return w||m||S||O?new vo({verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:O}):null}}class Oi{constructor(p){var m,w,S,O,Y,ue;const He=(0,N.zd)((0,N.pd)(p)),nt=null!==(m=He.apiKey)&&void 0!==m?m:null,vt=null!==(w=He.oobCode)&&void 0!==w?w:null,ft=function Ml(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=He.mode)&&void 0!==S?S:null);H(nt&&vt&&ft,"argument-error"),this.apiKey=nt,this.operation=ft,this.code=vt,this.continueUrl=null!==(O=He.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Y=He.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(ue=He.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const m=function _s(y){const p=(0,N.zd)((0,N.pd)(y)).link,m=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||m||p||y}(p);try{return new Oi(m)}catch{return null}}}let md=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return qi._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const S=Oi.parseLink(w);return H(S,"argument-error"),qi._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class bo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ys extends bo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Pa extends ys{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return H("providerId"in m&&"signInMethod"in m,"argument-error"),yo._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return H(p.idToken||p.accessToken,"argument-error"),yo._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Pa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Pa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:O,nonce:Y,providerId:ue}=p;if(!w&&!S&&!m&&!O||!ue)return null;try{return new Pa(ue)._credential({idToken:m,accessToken:w,nonce:Y,pendingToken:O})}catch{return null}}}let Hc=(()=>{class y extends ys{constructor(){super("facebook.com")}static credential(m){return yo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Yh=(()=>{class y extends ys{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return yo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:S}=m;if(!w&&!S)return null;try{return y.credential(w,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Qh=(()=>{class y extends ys{constructor(){super("github.com")}static credential(m){return yo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Gs extends oi{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Wi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Wi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Wi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:O}=m;return w&&S&&O&&w===S?new Gs(w,O):null}static _create(p,m){return new Gs(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Jr extends bo{constructor(p){H(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Jr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Jr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Gs.fromJSON(p);return H(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Gs._create(w,m)}catch{return null}}}let fm=(()=>{class y extends ys{constructor(){super("twitter.com")}static credential(m,w){return yo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=m;if(!w||!S)return null;try{return y.credential(w,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Go(y,p){return jc.apply(this,arguments)}function jc(){return(jc=(0,c.Z)(function*(y,p){return kn(y,"POST","/v1/accounts:signUp",it(y,p))})).apply(this,arguments)}class xr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,S=!1){return(0,c.Z)(function*(){const O=yield $t._fromIdTokenResponse(p,w,S),Y=zc(w);return new xr({user:O,providerId:Y,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=zc(w);return new xr({user:p,providerId:S,_tokenResponse:w,operationType:m})})()}}function zc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function gd(){return(gd=(0,c.Z)(function*(y){var p;const m=Bn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new xr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Go(m,{returnSecureToken:!0}),S=yield xr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class kl extends N.ZR{constructor(p,m,w,S){var O;super(m.code,m.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,kl.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,S){return new kl(p,m,w,S)}}function pm(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?kl._fromErrorAndOperation(y,O,p,w):O})}function ur(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function bs(){return bs=(0,c.Z)(function*(y,p){const m=(0,N.m9)(y);yield Ws(!0,m,p);const{providerUserInfo:w}=yield function sr(y,p){return wt.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=ur(w||[]);return m.providerData=m.providerData.filter(O=>S.has(O.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),bs.apply(this,arguments)}function Fa(y,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(y,p,m=!1){const w=yield xn(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return xr._forOperation(y,"link",w)})).apply(this,arguments)}function Ws(y,p,m){return Na.apply(this,arguments)}function Na(){return(Na=(0,c.Z)(function*(y,p,m){yield pn(p);const S=!1===y?"provider-already-linked":"no-such-provider";H(ur(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function $c(y,p){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,c.Z)(function*(y,p,m=!1){const{auth:w}=y,S="reauthenticate";try{const O=yield xn(y,pm(w,S,p,y),m);H(O.idToken,w,"internal-error");const Y=kt(O.idToken);H(Y,w,"internal-error");const{sub:ue}=Y;return H(y.uid===ue,w,"user-mismatch"),xr._forOperation(y,S,O)}catch(O){throw"auth/user-not-found"===O?.code&&xe(w,"user-mismatch"),O}})).apply(this,arguments)}function qo(y,p){return yd.apply(this,arguments)}function yd(){return(yd=(0,c.Z)(function*(y,p,m=!1){const w="signIn",S=yield pm(y,w,p),O=yield xr._fromIdTokenResponse(y,w,S);return m||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function cn(y,p){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(y,p){return qo(Bn(y),p)})).apply(this,arguments)}function La(y,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(y,p){const m=(0,N.m9)(y);return yield Ws(!1,m,p.providerId),Fa(m,p)})).apply(this,arguments)}function Fl(y,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.Z)(function*(y,p){return $c((0,N.m9)(y),p)})).apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(y,p){return kn(y,"POST","/v1/accounts:signInWithCustomToken",it(y,p))})).apply(this,arguments)}function to(){return to=(0,c.Z)(function*(y,p){const m=Bn(y),w=yield function Pi(y,p){return Va.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),S=yield xr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(S.user),S}),to.apply(this,arguments)}class si{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?qc._fromServerResponse(p,m):"totpInfo"in m?Zs._fromServerResponse(p,m):xe(p,"internal-error")}}class qc extends si{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new qc(m)}}class Zs extends si{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Zs(m)}}function Ba(y,p,m){var w;H((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),H(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(H(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(H(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Ks(){return Ks=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y),S={requestType:"PASSWORD_RESET",email:p};m&&Ba(w,S,m),yield function ps(y,p){return ka.apply(this,arguments)}(w,S)}),Ks.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(y,p,m){yield ki((0,N.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Nl(){return Nl=(0,c.Z)(function*(y,p){yield function tt(y,p){return Ut.apply(this,arguments)}((0,N.m9)(y),{oobCode:p})}),Nl.apply(this,arguments)}function bd(y,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(y,p){const m=(0,N.m9)(y),w=yield ki(m,{oobCode:p}),S=w.requestType;switch(H(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(w.mfaInfo,m,"internal-error");default:H(w.email,m,"internal-error")}let O=null;return w.mfaInfo&&(O=si._fromServerResponse(Bn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:S}})).apply(this,arguments)}function Ll(){return(Ll=(0,c.Z)(function*(y,p){const{data:m}=yield bd((0,N.m9)(y),p);return m.email})).apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(y,p,m){const w=Bn(y),S=yield Go(w,{returnSecureToken:!0,email:p,password:m}),O=yield xr._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function Vl(){return Vl=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};H(m.handleCodeInApp,w,"argument-error"),m&&Ba(w,S,m),yield function Wt(y,p){return js.apply(this,arguments)}(w,S)}),Vl.apply(this,arguments)}function Zc(){return(Zc=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y),S=md.credentialWithLink(p,m||fe());return H(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),cn(w,S)})).apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:createAuthUri",it(y,p))})).apply(this,arguments)}function Qs(){return Qs=(0,c.Z)(function*(y,p){const w={identifier:p,continueUri:be()?fe():"http://localhost"},{signinMethods:S}=yield function Ys(y,p){return dr.apply(this,arguments)}((0,N.m9)(y),w);return S||[]}),Qs.apply(this,arguments)}function Bl(){return Bl=(0,c.Z)(function*(y,p){const m=(0,N.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Ba(m.auth,S,p);const{email:O}=yield function fs(y,p){return An.apply(this,arguments)}(m.auth,S);O!==y.email&&(yield y.reload())}),Bl.apply(this,arguments)}function Un(){return Un=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Ba(w.auth,O,m);const{email:Y}=yield function ms(y,p){return zo.apply(this,arguments)}(w.auth,O);Y!==y.email&&(yield y.reload())}),Un.apply(this,arguments)}function Ha(){return(Ha=(0,c.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dr(){return Dr=(0,c.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,N.m9)(y),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Y=yield xn(w,function hr(y,p){return Ha.apply(this,arguments)}(w.auth,O));w.displayName=Y.displayName||null,w.photoURL=Y.photoUrl||null;const ue=w.providerData.find(({providerId:He})=>"password"===He);ue&&(ue.displayName=w.displayName,ue.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Y)}),Dr.apply(this,arguments)}function xd(y,p,m){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(y,p,m){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const Y=yield xn(y,hs(w,O));yield y._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class ws{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Qc extends ws{constructor(p,m,w,S){super(p,m,w),this.username=S}}class jl extends ws{constructor(p,m){super(p,"facebook.com",m)}}class mm extends Qc{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Xc extends ws{constructor(p,m){super(p,"google.com",m)}}class Dd extends Qc{constructor(p,m,w){super(p,"twitter.com",m,w)}}function gm(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Hl(y){var p,m;if(!y)return null;const{providerId:w}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const Y=null===(m=null===(p=kt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Y)return new ws(O,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!w)return null;switch(w){case"facebook.com":return new jl(O,S);case"github.com":return new mm(O,S);case"google.com":return new Xc(O,S);case"twitter.com":return new Dd(O,S,y.screenName||null);case"custom":case"anonymous":return new ws(O,null);default:return new ws(O,w,S)}}(m)}class Wo{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new Wo("enroll",p,m)}static _fromMfaPendingCredential(p){return new Wo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Wo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Wo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Qn{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Bn(p),S=m.customData._serverResponse,O=(S.mfaInfo||[]).map(ue=>si._fromServerResponse(w,ue));H(S.mfaPendingCredential,w,"internal-error");const Y=Wo._fromMfaPendingCredential(S.mfaPendingCredential);return new Qn(Y,O,function(){var ue=(0,c.Z)(function*(He){const nt=yield He._process(w,Y);delete S.mfaInfo,delete S.mfaPendingCredential;const vt=Object.assign(Object.assign({},S),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(m.operationType){case"signIn":const ft=yield xr._fromIdTokenResponse(w,m.operationType,vt);return yield w._updateCurrentUser(ft.user),ft;case"reauthenticate":return H(m.user,w,"internal-error"),xr._forOperation(m.user,m.operationType,vt);default:xe(w,"internal-error")}});return function(He){return ue.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}class Xs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>si._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Xs(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Wo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,c.Z)(function*(){const S=p,O=yield w.getSession(),Y=yield xn(w.user,S._process(w.user.auth,O,m));return yield w.user._updateTokensIfNecessary(Y),w.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield m.user.getIdToken();try{const O=yield xn(m.user,function tu(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",it(y,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Y})=>Y!==w),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const Es=new WeakMap,zl="__sak";class Ir{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(zl,"1"),this.storage.removeItem(zl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const nu=(()=>{class y extends Ir{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $a(){const y=(0,N.z$)();return rt(y)||Bt(y)}()&&function Nc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zh(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),O=this.localCache[w];S!==O&&m(w,O,S)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ue,He,nt)=>{this.notifyListeners(ue,nt)});const S=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(S);if(m.newValue!==ue)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!w)return}const O=()=>{const ue=this.storage.getItem(S);!w&&this.localCache[S]===ue||this.notifyListeners(S,ue)},Y=this.storage.getItem(S);!function Dl(){return(0,N.w1)()&&10===document.documentMode}()||Y===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var S=()=>super._set,O=this;return(0,c.Z)(function*(){yield S().call(O,m,w),O.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,S=this;return(0,c.Z)(function*(){const O=yield w().call(S,m);return S.localCache[m]=JSON.stringify(O),O})()}_remove(m){var w=()=>super._remove,S=this;return(0,c.Z)(function*(){yield w().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),Sr=(()=>{class y extends Ir{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let nf=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(O=>O.isListeningto(m));if(w)return w;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,c.Z)(function*(){const S=m,{eventId:O,eventType:Y,data:ue}=S.data,He=w.handlersMap[Y];if(!He?.size)return;S.ports[0].postMessage({status:"ack",eventId:O,eventType:Y});const nt=Array.from(He).map(function(){var ft=(0,c.Z)(function*(ui){return ui(S.origin,ue)});return function(ui){return ft.apply(this,arguments)}}()),vt=yield function iu(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(nt);S.ports[0].postMessage({status:"done",eventId:O,eventType:Y,response:vt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function no(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class Js{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var S=this;return(0,c.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Y,ue;return new Promise((He,nt)=>{const vt=no("",20);O.port1.start();const ft=setTimeout(()=>{nt(new Error("unsupported_event"))},w);ue={messageChannel:O,onMessage(ui){const so=ui;if(so.data.eventId===vt)switch(so.data.status){case"ack":clearTimeout(ft),Y=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),He(so.data.response);break;default:clearTimeout(ft),clearTimeout(Y),nt(new Error("invalid_response"))}}},S.handlers.add(ue),O.port1.addEventListener("message",ue.onMessage),S.target.postMessage({eventType:p,eventId:vt,data:m},[O.port2])}).finally(()=>{ue&&S.removeMessageHandler(ue)})})()}}function In(){return window}function Cs(){return typeof In().WorkerGlobalScope<"u"&&"function"==typeof In().importScripts}function ea(){return(ea=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ga="firebaseLocalStorageDb",na=1,ou="firebaseLocalStorage",ia="fbase_key";class xs{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Eo(y,p){return y.transaction([ou],p?"readwrite":"readonly").objectStore(ou)}function qa(){const y=indexedDB.open(Ga,na);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(ou,{keyPath:ia})}catch(S){m(S)}}),y.addEventListener("success",(0,c.Z)(function*(){const w=y.result;w.objectStoreNames.contains(ou)?p(w):(w.close(),yield function Tr(){const y=indexedDB.deleteDatabase(Ga);return new xs(y).toPromise()}(),p(yield qa()))}))})}function ra(y,p,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(y,p,m){const w=Eo(y,!0).put({[ia]:p,value:m});return new xs(w).toPromise()})).apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(y,p){const m=Eo(y,!1).get(p),w=yield new xs(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function oa(y,p){const m=Eo(y,!0).delete(p);return new xs(m).toPromise()}const Co=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield qa()),m.db})()}_withRetries(m){var w=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const O=yield w._openDb();return yield m(O)}catch(O){if(S++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Cs()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=nf._getInstance(function ta(){return Cs()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(S,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(S,O){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(S,O){return["keyChanged"]});return function(S,O){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var w,S;if(m.activeServiceWorker=yield function ru(){return ea.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Js(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);O&&null!==(w=O[0])&&void 0!==w&&w.fulfilled&&null!==(S=O[0])&&void 0!==S&&S.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function rf(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield qa();return yield ra(m,zl,"1"),yield oa(m,zl),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(O=>ra(O,m,w)),S.localCache[m]=w,S.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,c.Z)(function*(){const S=yield w._withRetries(O=>function $l(y,p){return Qo.apply(this,arguments)}(O,m));return w.localCache[m]=S,S})()}_remove(m){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(S=>oa(S,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const w=yield m._withRetries(Y=>{const ue=Eo(Y,!1).getAll();return new xs(ue).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const S=[],O=new Set;for(const{fbase_key:Y,value:ue}of w)O.add(Y),JSON.stringify(m.localCache[Y])!==JSON.stringify(ue)&&(m.notifyListeners(Y,ue),S.push(Y));for(const Y of Object.keys(m.localCache))m.localCache[Y]&&!O.has(Y)&&(m.notifyListeners(Y,null),S.push(Y));return S})()}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Is(){return(Is=(0,c.Z)(function*(y){return(yield Rt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ql(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=S=>{const O=we("internal-error");O.customData=S,m(O)},w.type="text/javascript",w.charset="UTF-8",function Md(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Fi(y){return`__${y}${Math.floor(1e6*Math.random())}`}const sa=1e12;class kd{constructor(p){this.auth=p,this.counter=sa,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Od(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||sa;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||sa))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var w;return null===(w=m._widgets.get(p||sa))||void 0===w||w.execute(),""})()}}class Od{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;H(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wl(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xo=Fi("rcb"),Ss=new et(3e4,6e4);class xm{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=In().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return H(function Pd(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(In().grecaptcha):new Promise((w,S)=>{const O=In().setTimeout(()=>{S(we(p,"network-request-failed"))},Ss.get());In()[xo]=()=>{In().clearTimeout(O),delete In()[xo];const ue=In().grecaptcha;if(!ue)return void S(we(p,"internal-error"));const He=ue.render;ue.render=(nt,vt)=>{const ft=He(nt,vt);return this.counter++,ft},this.hostLanguage=m,w(ue)},ql(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:xo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),S(we(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=In().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class aa{load(p){return(0,c.Z)(function*(){return new kd(p)})()}clearedOneInstance(){}}const lf="recaptcha",Xo={theme:"light",type:"image"};class wn{constructor(p,m=Object.assign({},Xo),w){this.parameters=m,this.type=lf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bn(w),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;H(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new aa:new xm,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(O=>{const Y=ue=>{ue&&(p.tokenChangeListeners.delete(Y),O(ue))};p.tokenChangeListeners.add(Y),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=In()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){H(be()&&!Cs(),p.auth,"internal-error"),yield function cf(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Ds(y){return Is.apply(this,arguments)}(p.auth);H(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ka{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=vo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function df(){return(df=(0,c.Z)(function*(y,p,m){const w=Bn(y),S=yield ff(w,p,(0,N.m9)(m));return new Ka(S,O=>cn(w,O))})).apply(this,arguments)}function hf(){return(hf=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y);yield Ws(!1,w,"phone");const S=yield ff(w.auth,p,(0,N.m9)(m));return new Ka(S,O=>La(w,O))})).apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y),S=yield ff(w.auth,p,(0,N.m9)(m));return new Ka(S,O=>Fl(w,O))})).apply(this,arguments)}function ff(y,p,m){return pf.apply(this,arguments)}function pf(){return pf=(0,c.Z)(function*(y,p,m){var w;const S=yield m.verify();try{let O;if(H("string"==typeof S,y,"argument-error"),H(m.type===lf,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Y=O.session;if("phoneNumber"in O)return H("enroll"===Y.type,y,"internal-error"),(yield function fr(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:start",it(y,p))}(y,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{H("signin"===Y.type,y,"internal-error");const ue=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return H(ue,y,"missing-multi-factor-info"),(yield function Ad(y,p){return Rt(y,"POST","/v2/accounts/mfaSignIn:start",it(y,p))}(y,{mfaPendingCredential:Y.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield function Uc(y,p){return Al.apply(this,arguments)}(y,{phoneNumber:O.phoneNumber,recaptchaToken:S});return Y}}finally{m._reset()}}),pf.apply(this,arguments)}function Zl(){return(Zl=(0,c.Z)(function*(y,p){yield Fa((0,N.m9)(y),p)})).apply(this,arguments)}let Do=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Bn(m)}verifyPhoneNumber(m,w){return ff(this.auth,m,(0,N.m9)(w))}static credential(m,w){return vo._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:S}=m;return w&&S?vo._fromTokenResponse(w,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ca(y,p){return p?yt(p):(H(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ni extends oi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Wi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Wi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Wi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Jo(y){return qo(y.auth,new Ni(y),y.bypassAuthState)}function au(y){const{auth:p,user:m}=y;return H(m,p,"internal-error"),$c(m,new Ni(y),y.bypassAuthState)}function Ya(y){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(y){const{auth:p,user:m}=y;return H(m,p,"internal-error"),Fa(m,new Ni(y),y.bypassAuthState)})).apply(this,arguments)}class ua{constructor(p,m,w,S,O=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:O,tenantId:Y,error:ue,type:He}=p;if(ue)return void m.reject(ue);const nt={auth:m.auth,requestUri:w,sessionId:S,tenantId:Y||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(He)(nt))}catch(vt){m.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Jo;case"linkViaPopup":case"linkViaRedirect":return Ya;case"reauthViaPopup":case"reauthViaRedirect":return au;default:xe(this.auth,"internal-error")}}resolve(p){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fd=new et(2e3,1e4);function Im(){return(Im=(0,c.Z)(function*(y,p,m){const w=Bn(y);Be(y,p,bo);const S=ca(w,m);return new yi(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y);Be(w.auth,p,bo);const S=ca(w.auth,m);return new yi(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function Xt(){return(Xt=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y);Be(w.auth,p,bo);const S=ca(w.auth,m);return new yi(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let yi=(()=>{class y extends ua{constructor(m,w,S,O,Y){super(m,w,O,Y),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const w=yield m.execute();return H(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,c.Z)(function*(){Ue(1===m.filter.length,"Popup operations only handle one event");const w=no();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(we(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Fd.get())};m()}}return y.currentPopupAction=null,y})();const gf="pendingRedirect",ts=new Map;class Rn extends ua{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let w=ts.get(m.auth._key());if(!w){try{const O=(yield function _f(y,p){return Io.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(O)}catch(S){w=()=>Promise.reject(S)}ts.set(m.auth._key(),w)}return m.bypassAuthState||ts.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Io(){return(Io=(0,c.Z)(function*(y,p){const m=ht(p),w=ro(y);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(m));return yield w._remove(m),S})).apply(this,arguments)}function Nd(y,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(y,p){return ro(y)._set(ht(p),"true")})).apply(this,arguments)}function ha(y,p){ts.set(y._key(),p)}function ro(y){return yt(y._redirectPersistence)}function ht(y){return U(gf,y.config.apiKey,y.name)}function D(y,p,m){return function I(y,p,m){return R.apply(this,arguments)}(y,p,m)}function R(){return(R=(0,c.Z)(function*(y,p,m){const w=Bn(y);Be(y,p,bo),yield w._initializationPromise;const S=ca(w,m);return yield Nd(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function V(y,p,m){return function W(y,p,m){return ie.apply(this,arguments)}(y,p,m)}function ie(){return(ie=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y);Be(w.auth,p,bo),yield w.auth._initializationPromise;const S=ca(w.auth,m);yield Nd(S,w.auth);const O=yield $n(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function ke(y,p,m){return function ct(y,p,m){return ut.apply(this,arguments)}(y,p,m)}function ut(){return(ut=(0,c.Z)(function*(y,p,m){const w=(0,N.m9)(y);Be(w.auth,p,bo),yield w.auth._initializationPromise;const S=ca(w.auth,m);yield Ws(!1,w,p.providerId),yield Nd(S,w.auth);const O=yield $n(w);return S._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function Yt(){return(Yt=(0,c.Z)(function*(y,p){return yield Bn(y)._initializationPromise,Tt(y,p,!1)})).apply(this,arguments)}function Tt(y,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(y,p,m=!1){const w=Bn(y),S=ca(w,p),Y=yield new Rn(w,S,m).execute();return Y&&!m&&(delete Y.user._redirectEventId,yield w._persistUserIfCurrent(Y.user),yield w._setRedirectUser(null,p)),Y})).apply(this,arguments)}function $n(y){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(y){const p=no(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class zr{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Hn(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xn(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Xn(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(we(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gn(p))}saveEventToCache(p){this.cachedEventUids.add(Gn(p)),this.lastProcessedEventTime=Date.now()}}function Gn(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Xn({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Ld(y){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(y,p={}){return Rt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const ci=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yi=/^https?/;function vi(){return(vi=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Ld(y);for(const m of p)try{if(Li(m))return}catch{}xe(y,"unauthorized-domain")})).apply(this,arguments)}function Li(y){const p=fe(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const Y=new URL(y);return""===Y.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Y.hostname===w}if(!Yi.test(m))return!1;if(ci.test(y))return w===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Xl=new et(3e4,6e4);function Sm(){const y=In().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Ar=null;const bi=new et(5e3,15e3),fa="__/auth/iframe",tw="emulator/auth/iframe",Vd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vf(y){const p=y.config;H(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Qe(p,tw):`https://${y.config.authDomain}/${fa}`,w={apiKey:p.apiKey,appName:y.name,v:re.SDK_VERSION},S=yf.get(y.config.apiHost);S&&(w.eid=S);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${m}?${(0,N.xO)(w).slice(1)}`}function lu(){return lu=(0,c.Z)(function*(y){const p=yield function Xa(y){return Ar=Ar||function ew(y){return new Promise((p,m)=>{var w,S,O;function Y(){Sm(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Sm(),m(we(y,"network-request-failed"))},timeout:Xl.get()})}if(null!==(S=null===(w=In().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(O=In().gapi)||void 0===O||!O.load){const ue=Fi("iframefcb");return In()[ue]=()=>{gapi.load?Y():m(we(y,"network-request-failed"))},ql(`https://apis.google.com/js/api.js?onload=${ue}`).catch(He=>m(He))}Y()}}).catch(p=>{throw Ar=null,p})}(y),Ar}(y),m=In().gapi;return H(m,y,"internal-error"),p.open({where:document.body,url:vf(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vd,dontclear:!0},w=>new Promise(function(){var S=(0,c.Z)(function*(O,Y){yield w.restyle({setHideOnLeave:!1});const ue=we(y,"network-request-failed"),He=In().setTimeout(()=>{Y(ue)},bi.get());function nt(){In().clearTimeout(He),O(w)}w.ping(nt).then(nt,()=>{Y(ue)})});return function(O,Y){return S.apply(this,arguments)}}()))}),lu.apply(this,arguments)}const cu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jt=500,Mr=600,Sy="_blank",Jl="http://localhost";class Tm{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Mm="__/auth/handler",Rm="emulator/auth/handler";function Bd(y,p,m,w,S,O){H(y.config.authDomain,y,"auth-domain-config-required"),H(y.config.apiKey,y,"invalid-api-key");const Y={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:re.SDK_VERSION,eventId:S};if(p instanceof bo){p.setDefaultLanguage(y.languageCode),Y.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(Y.customParameters=JSON.stringify(p.getCustomParameters()));for(const[He,nt]of Object.entries(O||{}))Y[He]=nt}if(p instanceof ys){const He=p.getScopes().filter(nt=>""!==nt);He.length>0&&(Y.scopes=He.join(","))}y.tenantId&&(Y.tid=y.tenantId);const ue=Y;for(const He of Object.keys(ue))void 0===ue[He]&&delete ue[He];return`${function Ty({config:y}){return y.emulator?Qe(y,Rm):`https://${y.authDomain}/${Mm}`}(y)}?${(0,N.xO)(ue).slice(1)}`}const wi="webStorageSupport",Di=class pa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sr,this._completeRedirectFn=Tt,this._overrideRedirectResult=ha}_openPopup(p,m,w,S){var O=this;return(0,c.Z)(function*(){var Y;Ue(null===(Y=O.eventManagers[p._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const ue=Bd(p,m,w,fe(),S);return function Am(y,p,m,w=jt,S=Mr){const O=Math.max((window.screen.availHeight-S)/2,0).toString(),Y=Math.max((window.screen.availWidth-w)/2,0).toString();let ue="";const He=Object.assign(Object.assign({},cu),{width:w.toString(),height:S.toString(),top:O,left:Y}),nt=(0,N.z$)().toLowerCase();m&&(ue=Ke(nt)?Sy:m),ne(nt)&&(p=p||Jl,He.scrollbars="yes");const vt=Object.entries(He).reduce((ui,[so,sl])=>`${ui}${so}=${sl},`,"");if(function Qr(y=(0,N.z$)()){var p;return Bt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(nt)&&"_self"!==ue)return function oo(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ue),new Tm(null);const ft=window.open(p||"",ue,vt);H(ft,y,"popup-blocked");try{ft.focus()}catch{}return new Tm(ft)}(p,ue,no())})()}_openRedirect(p,m,w,S){var O=this;return(0,c.Z)(function*(){return yield O._originValidation(p),function Ko(y){In().location.href=y}(Bd(p,m,w,fe(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:O}=this.eventManagers[m];return S?Promise.resolve(S):(Ue(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const w=yield function bf(y){return lu.apply(this,arguments)}(p),S=new zr(p);return w.register("authEvent",O=>(H(O?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(wi,{type:wi},S=>{var O;const Y=null===(O=S?.[0])||void 0===O?void 0:O[wi];void 0!==Y&&m(!!Y),xe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ql(y){return vi.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Zh()||rt()||Bt()}};class wf{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return ye("unexpected MultiFactorSessionType")}}}class uu extends wf{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new uu(p)}_finalizeEnroll(p,m,w){return function bm(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:finalize",it(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function jr(y,p){return Rt(y,"POST","/v2/accounts/mfaSignIn:finalize",it(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ud=(()=>{class y{constructor(){}static assertion(m){return uu._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Cf="@firebase/auth";class ga{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tl(){return window}(0,N.Pz)("authIdTokenMaxAge"),function du(y){(0,re._registerComponent)(new me.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:O,authDomain:Y}=w.options;return((ue,He)=>{H(O&&!O.includes(":"),"invalid-api-key",{appName:ue.name}),H(!Y?.includes(":"),"argument-error",{appName:ue.name});const nt={apiKey:O,authDomain:Y,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Il(y)},vt=new Kh(ue,He,nt);return function ae(y,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(yt);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(vt,m),vt})(w,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new me.wA("auth-internal",p=>{const m=Bn(p.getProvider("auth").getImmediate());return new ga(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(Cf,"0.22.0",function Jt(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,re.registerVersion)(Cf,"0.22.0","esm2017")}("Browser");const _a=2e3;function jd(){return jd=(0,c.Z)(function*(y,p,m){var w;const{BuildInfo:S}=tl();Ue(p.sessionId,"AuthEvent did not contain a session ID");const O=yield function Ay(y){return pu.apply(this,arguments)}(p.sessionId),Y={};return Bt()?Y.ibi=S.packageName:Pn()?Y.apn=S.packageName:xe(y,"operation-not-supported-in-this-environment"),S.displayName&&(Y.appDisplayName=S.displayName),Y.sessionId=O,Bd(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,Y)}),jd.apply(this,arguments)}function fu(){return(fu=(0,c.Z)(function*(y){const{BuildInfo:p}=tl(),m={};Bt()?m.iosBundleId=p.packageName:Pn()?m.androidPackageName=p.packageName:xe(y,"operation-not-supported-in-this-environment"),yield Ld(y,m)})).apply(this,arguments)}function ic(){return(ic=(0,c.Z)(function*(y,p,m){const{cordova:w}=tl();let S=()=>{};try{yield new Promise((O,Y)=>{let ue=null;function He(){var ft;O();const ui=null===(ft=w.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof ui&&ui(),"function"==typeof m?.close&&m.close()}function nt(){ue||(ue=window.setTimeout(()=>{Y(we(y,"redirect-cancelled-by-user"))},_a))}function vt(){"visible"===document?.visibilityState&&nt()}p.addPassiveListener(He),document.addEventListener("resume",nt,!1),Pn()&&document.addEventListener("visibilitychange",vt,!1),S=()=>{p.removePassiveListener(He),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",vt,!1),ue&&window.clearTimeout(ue)}})}finally{S()}})).apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(y){const p=function My(y){if(Ue(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const $d=20;class Ry extends zr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function Pm(y){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,c.Z)(function*(y){const p=yield _u()._get(As(y));return p&&(yield _u()._remove(As(y))),p})).apply(this,arguments)}function gu(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<$d;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function _u(){return yt(nu)}function As(y){return U("authEvent",y.config.apiKey,y.name)}function rc(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,N.zd)(m.join("?"))}const oc=class Fm{constructor(){this._redirectPersistence=Sr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tt,this._overrideRedirectResult=ha}_initialize(p){var m=this;return(0,c.Z)(function*(){const w=p._key();let S=m.eventManagers.get(w);return S||(S=new Ry(p),m.eventManagers.set(w,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){xe(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,S){var O=this;return(0,c.Z)(function*(){!function xf(y){var p,m,w,S,O,Y,ue,He,nt,vt;const ft=tl();H("function"==typeof(null===(p=ft?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof(null===(m=ft?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(O=null===(S=null===(w=ft?.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(He=null===(ue=null===(Y=ft?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===He?void 0:He.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(vt=null===(nt=ft?.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===vt?void 0:vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Y=yield O._initialize(p);yield Y.initialized(),Y.resetRedirect(),function da(){ts.clear()}(),yield O._originValidation(p);const ue=function ky(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:gu(),postBody:null,tenantId:y.tenantId,error:we(y,"no-auth-event")}}(p,w,S);yield function Oy(y,p){return _u()._set(As(y),p)}(p,ue);const He=yield function hu(y,p,m){return jd.apply(this,arguments)}(p,ue,m),nt=yield function zd(y){const{cordova:p}=tl();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let S=null;w?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function Gi(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(He);return function Ts(y,p,m){return ic.apply(this,arguments)}(p,Y,nt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function nc(y){return fu.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:S,BuildInfo:O}=tl(),Y=setTimeout((0,c.Z)(function*(){yield Pm(p),m.onEvent(sc())}),500),ue=function(){var vt=(0,c.Z)(function*(ft){clearTimeout(Y);const ui=yield Pm(p);let so=null;ui&&ft?.url&&(so=function mu(y,p){var m,w;const S=function Py(y){const p=rc(y),m=p.link?decodeURIComponent(p.link):void 0,w=rc(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return rc(S).link||S||w||m||y}(p);if(S.includes("/__/auth/callback")){const O=rc(S),Y=O.firebaseError?function Df(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ue=null===(w=null===(m=Y?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],He=ue?we(ue):null;return He?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(ui,ft.url)),m.onEvent(so||sc())});return function(ui){return vt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ue);const He=S,nt=`${O.packageName.toLowerCase()}://`;tl().handleOpenURL=function(){var vt=(0,c.Z)(function*(ft){if(ft.toLowerCase().startsWith(nt)&&ue({url:ft}),"function"==typeof He)try{He(ft)}catch(ui){console.error(ui)}});return function(ft){return vt.apply(this,arguments)}}()}};function sc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}const If=1e3;function So(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function qd(y=(0,N.z$)()){return!("file:"!==So()&&"ionic:"!==So()&&"capacitor:"!==So()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zd(){try{const y=self.localStorage,p=no();if(y)return y.setItem(p,"1"),y.removeItem(p),!function nl(y=(0,N.z$)()){return function Wd(){return(0,N.w1)()&&11===document?.documentMode}()||function ac(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return il()&&(0,N.hl)()}return!1}function il(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function bu(){return(function Lm(){return"http:"===So()||"https:"===So()}()||(0,N.ru)()||qd())&&!function Sf(){return(0,N.b$)()||(0,N.UG)()}()&&Zd()&&!il()}function rl(){return qd()&&typeof document<"u"}function va(){return(va=(0,c.Z)(function*(){return!!rl()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},If);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const mr={LOCAL:"local",NONE:"none",SESSION:"session"},To=H,lc="persistence";function ba(y){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,c.Z)(function*(y){yield y._initializationPromise;const p=Bm(),m=U(lc,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function Bm(){var y;try{return(null===(y=function ns(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Fy=H;class ol{constructor(){this.browserResolver=yt(Di),this.cordovaResolver=yt(oc),this.underlyingResolver=null,this._redirectPersistence=Sr,this._completeRedirectFn=Tt,this._overrideRedirectResult=ha}_initialize(p){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,S){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,m,w,S)})()}_openRedirect(p,m,w,S){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,m,w,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return rl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Vm(){return va.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Um(y){return y.unwrap()}function Ny(y){return Cu(y)}function Cu(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Do.credentialFromResult(y);const m=p.providerId;if(!m||m===de.PASSWORD)return null;let w;switch(m){case de.GOOGLE:w=Yh;break;case de.FACEBOOK:w=Hc;break;case de.GITHUB:w=Qh;break;case de.TWITTER:w=fm;break;default:const{oauthIdToken:S,oauthAccessToken:O,oauthTokenSecret:Y,pendingToken:ue,nonce:He}=p;return O||Y||S||ue?ue?m.startsWith("saml.")?Gs._create(m,ue):yo._fromParams({providerId:m,signInMethod:m,pendingToken:ue,idToken:S,accessToken:O}):new Pa(m).credential({idToken:S,accessToken:O,rawNonce:He}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Qi(y,p){return p.catch(m=>{throw m instanceof N.ZR&&function Hm(y,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new jm(y,function vm(y,p){var m;const w=(0,N.m9)(y),S=p;return H(p.customData.operationType,w,"argument-error"),H(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Qn._fromError(w,S)}(y,p));else if(w){const S=Cu(p),O=p;S&&(O.credential=S,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:Ny(m),additionalUserInfo:gm(m),user:gr.getOrCreate(S)}})}function xu(y,p){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,c.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Qi(y,m.confirm(w))}})).apply(this,arguments)}class jm{constructor(p,m){this.resolver=m,this.auth=function Tf(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Qi(Um(this.auth),this.resolver.resolveSignIn(p))}}class gr{constructor(p){this._delegate=p,this.multiFactor=function Zo(y){const p=(0,N.m9)(y);return Es.has(p)||Es.set(p,Xs._fromUser(p)),Es.get(p)}(p)}static getOrCreate(p){return gr.USER_MAP.has(p)||gr.USER_MAP.set(p,new gr(p)),gr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,c.Z)(function*(){return Qi(m.auth,La(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,c.Z)(function*(){return xu(w.auth,function Iy(y,p,m){return hf.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,c.Z)(function*(){return Qi(m.auth,function Xe(y,p,m){return Xt.apply(this,arguments)}(m._delegate,p,ol))})()}linkWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield ba(Bn(m.auth)),ke(m._delegate,p,ol)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,c.Z)(function*(){return Qi(m.auth,Fl(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return xu(this.auth,function Dm(y,p,m){return la.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Qi(this.auth,function Qt(y,p,m){return io.apply(this,arguments)}(this._delegate,p,ol))}reauthenticateWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield ba(Bn(m.auth)),V(m._delegate,p,ol)})()}sendEmailVerification(p){return function Ed(y,p){return Bl.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,c.Z)(function*(){return yield function _d(y,p){return bs.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Ul(y,p){return xd((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Cd(y,p){return xd((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function li(y,p){return Zl.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ja(y,p){return Dr.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Kc(y,p,m){return Un.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gr.USER_MAP=new WeakMap;const Du=H;let zm=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;Du(S,"invalid-api-key",{appName:m.name}),Du(S,"invalid-api-key",{appName:m.name});const O=typeof window<"u"?ol:void 0;this._delegate=w.initialize({options:{persistence:Mf(S,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ge),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Vc(y,p,m){const w=Bn(y);H(w._canInitEmulator,w,"emulator-config-failed"),H(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!m?.disableWarnings,O=on(p),{host:Y,port:ue}=function Yn(y){const p=on(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const O=S[1];return{host:O,port:mi(w.substr(O.length+1))}}{const[O,Y]=w.split(":");return{host:O,port:mi(Y)}}}(p);w.config.emulator={url:`${O}//${Y}${null===ue?"":`:${ue}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Y,port:ue,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function jo(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function vd(y,p){return Nl.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return bd(this._delegate,m)}confirmPasswordReset(m,w){return function Wc(y,p,m){return Ot.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var S=this;return(0,c.Z)(function*(){return Qi(S._delegate,function Jh(y,p,m){return Mn.apply(this,arguments)}(S._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function wd(y,p){return Qs.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ef(y,p){return"EMAIL_SIGNIN"===Oi.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){Du(bu(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function mt(y,p){return Yt.apply(this,arguments)}(m._delegate,ol);return w?Qi(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function yu(y,p){Bn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,S){const{next:O,error:Y,complete:ue}=Af(m,w,S);return this._delegate.onAuthStateChanged(O,Y,ue)}onIdTokenChanged(m,w,S){const{next:O,error:Y,complete:ue}=Af(m,w,S);return this._delegate.onIdTokenChanged(O,Y,ue)}sendSignInLinkToEmail(m,w){return function sn(y,p,m){return Vl.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function wo(y,p,m){return Ks.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,c.Z)(function*(){let S;switch(function wu(y,p){To(Object.values(mr).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?To(p!==mr.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?To(p===mr.NONE,y,"unsupported-persistence-type"):il()?To(p===mr.NONE||p===mr.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):To(p===mr.NONE||Zd(),y,"unsupported-persistence-type")}(w._delegate,m),m){case mr.SESSION:S=Sr;break;case mr.LOCAL:S=(yield yt(Co)._isAvailable())?Co:nu;break;case mr.NONE:S=j;break;default:return xe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Qi(this._delegate,function Rl(y){return gd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Qi(this._delegate,cn(this._delegate,m))}signInWithCustomToken(m){return Qi(this._delegate,function Gc(y,p){return to.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Qi(this._delegate,function Ae(y,p,m){return cn((0,N.m9)(y),md.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Qi(this._delegate,function ai(y,p,m){return Zc.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return xu(this._delegate,function uf(y,p,m){return df.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,c.Z)(function*(){return Du(bu(),w._delegate,"operation-not-supported-in-this-environment"),Qi(w._delegate,function mf(y,p,m){return Im.apply(this,arguments)}(w._delegate,m,ol))})()}signInWithRedirect(m){var w=this;return(0,c.Z)(function*(){return Du(bu(),w._delegate,"operation-not-supported-in-this-environment"),yield ba(w._delegate),D(w._delegate,m,ol)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Xh(y,p){return Ll.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=mr,y})();function Af(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const S=w;return{next:Y=>S(Y&&gr.getOrCreate(Y)),error:p,complete:m}}function Mf(y,p){const m=function cc(y,p){const m=Bm();if(!m)return[];const w=U(lc,y,p);switch(m.getItem(w)){case mr.NONE:return[j];case mr.LOCAL:return[Co,Sr];case mr.SESSION:return[Sr];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(Co)&&m.push(Co),typeof window<"u")for(const w of[nu,Sr])m.includes(w)||m.push(w);return m.includes(j)||m.push(j),m}class Iu{constructor(){this.providerId="phone",this._delegate=new Do(Um(ee.Z.auth()))}static credential(p,m){return Do.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Iu.PHONE_SIGN_IN_METHOD=Do.PHONE_SIGN_IN_METHOD,Iu.PROVIDER_ID=Do.PROVIDER_ID;const Vi=H;class Ao{constructor(p,m,w=ee.Z.app()){var S;Vi(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new wn(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Gm(y){y.INTERNAL.registerComponent(new me.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new zm(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Q_EMAIL_SIGNIN,PASSWORD_RESET:Q_PASSWORD_RESET,RECOVER_EMAIL:Q_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Q_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Q_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Q_VERIFY_EMAIL}},EmailAuthProvider:md,FacebookAuthProvider:Hc,GithubAuthProvider:Qh,GoogleAuthProvider:Yh,OAuthProvider:Pa,SAMLAuthProvider:Jr,PhoneAuthProvider:Iu,PhoneMultiFactorGenerator:Ud,RecaptchaVerifier:Ao,TwitterAuthProvider:fm,Auth:zm,AuthCredential:oi,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.7")}(ee.Z)},8766:(_t,Ee,F)=>{F.d(Ee,{Lj:()=>xe,X3:()=>Ne});var c=F(5861);const ee=(H,ye)=>ye.some(Ue=>H instanceof Ue);let N,re;const me=new WeakMap,he=new WeakMap,de=new WeakMap,z=new WeakMap,G=new WeakMap;let De={get(H,ye,Ue){if(H instanceof IDBTransaction){if("done"===ye)return he.get(H);if("objectStoreNames"===ye)return H.objectStoreNames||de.get(H);if("store"===ye)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return Ie(H[ye])},set:(H,ye,Ue)=>(H[ye]=Ue,!0),has:(H,ye)=>H instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in H};function pe(H){return"function"==typeof H?function dt(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function X(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...ye){return H.apply(Se(this),ye),Ie(me.get(this))}:function(...ye){return Ie(H.apply(Se(this),ye))}:function(ye,...Ue){const Ze=H.call(Se(this),ye,...Ue);return de.set(Ze,ye.sort?ye.sort():[ye]),Ie(Ze)}}(H):(H instanceof IDBTransaction&&function je(H){if(he.has(H))return;const ye=new Promise((Ue,Ze)=>{const yt=()=>{H.removeEventListener("complete",ot),H.removeEventListener("error",ae),H.removeEventListener("abort",ae)},ot=()=>{Ue(),yt()},ae=()=>{Ze(H.error||new DOMException("AbortError","AbortError")),yt()};H.addEventListener("complete",ot),H.addEventListener("error",ae),H.addEventListener("abort",ae)});he.set(H,ye)}(H),ee(H,function oe(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,De):H)}function Ie(H){if(H instanceof IDBRequest)return function Q(H){const ye=new Promise((Ue,Ze)=>{const yt=()=>{H.removeEventListener("success",ot),H.removeEventListener("error",ae)},ot=()=>{Ue(Ie(H.result)),yt()},ae=()=>{Ze(H.error),yt()};H.addEventListener("success",ot),H.addEventListener("error",ae)});return ye.then(Ue=>{Ue instanceof IDBCursor&&me.set(Ue,H)}).catch(()=>{}),G.set(ye,H),ye}(H);if(z.has(H))return z.get(H);const ye=pe(H);return ye!==H&&(z.set(H,ye),G.set(ye,H)),ye}const Se=H=>G.get(H);function Ne(H,ye,{blocked:Ue,upgrade:Ze,blocking:yt,terminated:ot}={}){const ae=indexedDB.open(H,ye),fe=Ie(ae);return Ze&&ae.addEventListener("upgradeneeded",be=>{Ze(Ie(ae.result),be.oldVersion,be.newVersion,Ie(ae.transaction))}),Ue&&ae.addEventListener("blocked",()=>Ue()),fe.then(be=>{ot&&be.addEventListener("close",()=>ot()),yt&&be.addEventListener("versionchange",()=>yt())}).catch(()=>{}),fe}function xe(H,{blocked:ye}={}){const Ue=indexedDB.deleteDatabase(H);return ye&&Ue.addEventListener("blocked",()=>ye()),Ie(Ue).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],Be=new Map;function Fe(H,ye){if(!(H instanceof IDBDatabase)||ye in H||"string"!=typeof ye)return;if(Be.get(ye))return Be.get(ye);const Ue=ye.replace(/FromIndex$/,""),Ze=ye!==Ue,yt=Me.includes(Ue);if(!(Ue in(Ze?IDBIndex:IDBObjectStore).prototype)||!yt&&!we.includes(Ue))return;const ot=function(){var ae=(0,c.Z)(function*(fe,...be){const Re=this.transaction(fe,yt?"readwrite":"readonly");let Le=Re.store;return Ze&&(Le=Le.index(be.shift())),(yield Promise.all([Le[Ue](...be),yt&&Re.done]))[0]});return function(be){return ae.apply(this,arguments)}}();return Be.set(ye,ot),ot}!function Ge(H){De=H(De)}(H=>({...H,get:(ye,Ue,Ze)=>Fe(ye,Ue)||H.get(ye,Ue,Ze),has:(ye,Ue)=>!!Fe(ye,Ue)||H.has(ye,Ue)}))},5861:(_t,Ee,F)=>{function c(N,re,oe,X,me,he,de){try{var z=N[he](de),G=z.value}catch(Q){return void oe(Q)}z.done?re(G):Promise.resolve(G).then(X,me)}function ee(N){return function(){var re=this,oe=arguments;return new Promise(function(X,me){var he=N.apply(re,oe);function de(G){c(he,X,me,de,z,"next",G)}function z(G){c(he,X,me,de,z,"throw",G)}de(void 0)})}}F.d(Ee,{Z:()=>ee})}},_t=>{_t(_t.s=7551)}]);