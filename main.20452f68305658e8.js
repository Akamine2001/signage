"use strict";(self.webpackChunkmeio_classroom_info=self.webpackChunkmeio_classroom_info||[]).push([[179],{2011:(ft,be,F)=>{F.d(be,{Dh:()=>ue,GT:()=>Q,cc:()=>Ce,hO:()=>Ue,on:()=>j,pX:()=>ie,xv:()=>ce});var l=F(4650),X=F(9260),P=F(2122);ft=F.hmd(ft);const ne=["ngOnDestroy"],ie=(De,xe,Fe,Ee={})=>new Proxy(De,{get:(ve,Ae)=>Fe.runOutsideAngular(()=>{var Le;if(De[Ae])return!(null===(Le=Ee?.spy)||void 0===Le)&&Le.get&&Ee.spy.get(Ae,De[Ae]),De[Ae];if(ne.indexOf(Ae)>-1)return()=>{};const ke=xe.toPromise().then(U=>{const ge=U&&U[Ae];return"function"==typeof ge?ge.bind(U):ge&&ge.then?ge.then(Ve=>Fe.run(()=>Ve)):Fe.run(()=>ge)});return new Proxy(()=>{},{get:(U,ge)=>ke[ge],apply:(U,ge,Ve)=>ke.then(qe=>{var gt;const it=qe&&qe(...Ve);return!(null===(gt=Ee?.spy)||void 0===gt)&&gt.apply&&Ee.spy.apply(Ae,Ve,it),it})})})}),Q=(De,xe)=>{xe.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(Ee=>{Object.defineProperty(De.prototype,Ee,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,Ee))})})};class fe{constructor(xe){return xe}}const ue=new l.OlP("angularfire2.app.options"),ce=new l.OlP("angularfire2.app.name");function j(De,xe,Fe){const ve="object"==typeof Fe&&Fe||{};ve.name=ve.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const Le=X.Z.apps.filter(ke=>ke&&ke.name===ve.name)[0]||xe.runOutsideAngular(()=>X.Z.initializeApp(De,ve));try{JSON.stringify(De)!==JSON.stringify(Le.options)&&$("error",`${Le.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Le)}const $=(De,...xe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[De](...xe)},Y={provide:fe,useFactory:j,deps:[ue,l.R0b,[new l.FiY,ce]]};let Ue=(()=>{class De{constructor(Fe){X.Z.registerVersion("angularfire",P.q4.full,"core"),X.Z.registerVersion("angularfire",P.q4.full,"app-compat"),X.Z.registerVersion("angular",l.q4F.full,Fe.toString())}static initializeApp(Fe,Ee){return{ngModule:De,providers:[{provide:ue,useValue:Fe},{provide:ce,useValue:Ee}]}}}return De.\u0275fac=function(Fe){return new(Fe||De)(l.LFG(l.Lbi))},De.\u0275mod=l.oAB({type:De}),De.\u0275inj=l.cJS({providers:[Y]}),De})();function Ce(De,xe,Fe,Ee,ve){const[,Ae,Le]=globalThis.\u0275AngularfireInstanceCache.find(ke=>ke[0]===De)||[];if(Ae)return function $e(De,xe){try{return De.toString()===xe.toString()}catch{return De===xe}}(ve,Le)||(he("error",`${xe} was already initialized on the ${Fe} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:ve,was:Le})),Ae;{const ke=Ee();return globalThis.\u0275AngularfireInstanceCache.push([De,ke,ve]),ke}}const ut=!!ft.hot,he=(De,...xe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[De](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ft,be,F)=>{F.d(be,{q4:()=>ca,iC:()=>da,HU:()=>ts,vb:()=>We,JM:()=>no});var l=F(4650),X=F(259),P=F(5861),ne=F(9681),ie=F(2090),Q=F(4859),fe=F(1877),ue=F(8766);const ce="@firebase/installations",j="0.6.4",$=1e4,Y=`w:${j}`,Ue="FIS_v2",Ce="https://firebaseinstallations.googleapis.com/v1",$e=36e5,xe=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fe(x){return x instanceof ie.ZR&&x.code.includes("request-failed")}function Ee({projectId:x}){return`${Ce}/projects/${x}/installations`}function ve(x){return{token:x.token,requestStatus:2,expiresIn:qe(x.expiresIn),creationTime:Date.now()}}function Ae(x,I){return Le.apply(this,arguments)}function Le(){return(Le=(0,P.Z)(function*(x,I){const L=(yield I.json()).error;return xe.create("request-failed",{requestName:x,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ke({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function ge(x){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,P.Z)(function*(x){const I=yield x();return I.status>=500&&I.status<600?x():I})).apply(this,arguments)}function qe(x){return Number(x.replace("s","000"))}function se(){return(se=(0,P.Z)(function*({appConfig:x,heartbeatServiceProvider:I},{fid:M}){const L=Ee(x),q=ke(x),te=I.getImmediate({optional:!0});if(te){const pt=yield te.getHeartbeatsHeader();pt&&q.append("x-firebase-client",pt)}const lt={method:"POST",headers:q,body:JSON.stringify({fid:M,authVersion:Ue,appId:x.appId,sdkVersion:Y})},ct=yield ge(()=>fetch(L,lt));if(ct.ok){const pt=yield ct.json();return{fid:pt.fid||M,registrationStatus:2,refreshToken:pt.refreshToken,authToken:ve(pt.authToken)}}throw yield Ae("Create Installation",ct)})).apply(this,arguments)}function de(x){return new Promise(I=>{setTimeout(I,x)})}const Me=/^[cdef][\w-]{21}$/,Pe="";function He(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const M=function Xe(x){return function ye(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Me.test(M)?M:Pe}catch{return Pe}}function Ke(x){return`${x.appName}!${x.appId}`}const cn=new Map;function xt(x,I){const M=Ke(x);At(M,I),function Kn(x,I){const M=function In(){return!_n&&"BroadcastChannel"in self&&(_n=new BroadcastChannel("[Firebase] FID Change"),_n.onmessage=x=>{At(x.data.key,x.data.fid)}),_n}();M&&M.postMessage({key:x,fid:I}),function Rn(){0===cn.size&&_n&&(_n.close(),_n=null)}()}(M,I)}function At(x,I){const M=cn.get(x);if(M)for(const L of M)L(I)}let _n=null;const vr="firebase-installations-database",ds=1,br="firebase-installations-store";let rr=null;function jo(){return rr||(rr=(0,ue.X3)(vr,ds,{upgrade:(x,I)=>{0===I&&x.createObjectStore(br)}})),rr}function Sn(x,I){return or.apply(this,arguments)}function or(){return(or=(0,P.Z)(function*(x,I){const M=Ke(x),q=(yield jo()).transaction(br,"readwrite"),te=q.objectStore(br),Ie=yield te.get(M);return yield te.put(I,M),yield q.done,(!Ie||Ie.fid!==I.fid)&&xt(x,I.fid),I})).apply(this,arguments)}function vt(x){return zo.apply(this,arguments)}function zo(){return(zo=(0,P.Z)(function*(x){const I=Ke(x),L=(yield jo()).transaction(br,"readwrite");yield L.objectStore(br).delete(I),yield L.done})).apply(this,arguments)}function Ur(x,I){return On.apply(this,arguments)}function On(){return(On=(0,P.Z)(function*(x,I){const M=Ke(x),q=(yield jo()).transaction(br,"readwrite"),te=q.objectStore(br),Ie=yield te.get(M),lt=I(Ie);return void 0===lt?yield te.delete(M):yield te.put(lt,M),yield q.done,lt&&(!Ie||Ie.fid!==lt.fid)&&xt(x,lt.fid),lt})).apply(this,arguments)}function Ti(x){return hs.apply(this,arguments)}function hs(){return hs=(0,P.Z)(function*(x){let I;const M=yield Ur(x.appConfig,L=>{const q=function Lt(x){return Ai(x||{fid:He(),registrationStatus:0})}(L),te=function Et(x,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(xe.create("app-offline"))};const M={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Mt(x,I){return fs.apply(this,arguments)}(x,M);return{installationEntry:M,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:En(x)}:{installationEntry:I}}(x,q);return I=te.registrationPromise,te.installationEntry});return M.fid===Pe?{installationEntry:yield I}:{installationEntry:M,registrationPromise:I}}),hs.apply(this,arguments)}function fs(){return fs=(0,P.Z)(function*(x,I){try{const M=yield function it(x,I){return se.apply(this,arguments)}(x,I);return Sn(x.appConfig,M)}catch(M){throw Fe(M)&&409===M.customData.serverCode?yield vt(x.appConfig):yield Sn(x.appConfig,{fid:I.fid,registrationStatus:0}),M}}),fs.apply(this,arguments)}function En(x){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,P.Z)(function*(x){let I=yield zi(x.appConfig);for(;1===I.registrationStatus;)yield de(100),I=yield zi(x.appConfig);if(0===I.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield Ti(x);return L||M}return I})).apply(this,arguments)}function zi(x){return Ur(x,I=>{if(!I)throw xe.create("installation-not-found");return Ai(I)})}function Ai(x){return function Fa(x){return 1===x.registrationStatus&&x.registrationTime+$<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function mo(){return(mo=(0,P.Z)(function*({appConfig:x,heartbeatServiceProvider:I},M){const L=function tn(x,{fid:I}){return`${Ee(x)}/${I}/authTokens:generate`}(x,M),q=function U(x,{refreshToken:I}){const M=ke(x);return M.append("Authorization",function gt(x){return`${Ue} ${x}`}(I)),M}(x,M),te=I.getImmediate({optional:!0});if(te){const pt=yield te.getHeartbeatsHeader();pt&&q.append("x-firebase-client",pt)}const lt={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Y,appId:x.appId}})},ct=yield ge(()=>fetch(L,lt));if(ct.ok)return ve(yield ct.json());throw yield Ae("Generate Auth Token",ct)})).apply(this,arguments)}function $i(x){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,P.Z)(function*(x,I=!1){let M;const L=yield Ur(x.appConfig,te=>{if(!zt(te))throw xe.create("not-registered");const Ie=te.authToken;if(!I&&function Mi(x){return 2===x.requestStatus&&!function H(x){const I=Date.now();return I<x.creationTime||x.creationTime+x.expiresIn<I+$e}(x)}(Ie))return te;if(1===Ie.requestStatus)return M=function je(x,I){return we.apply(this,arguments)}(x,I),te;{if(!navigator.onLine)throw xe.create("app-offline");const lt=function B(x){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:I})}(te);return M=function Tt(x,I){return Pt.apply(this,arguments)}(x,lt),lt}});return M?yield M:L.authToken}),Yr.apply(this,arguments)}function we(){return(we=(0,P.Z)(function*(x,I){let M=yield ot(x.appConfig);for(;1===M.authToken.requestStatus;)yield de(100),M=yield ot(x.appConfig);const L=M.authToken;return 0===L.requestStatus?$i(x,I):L})).apply(this,arguments)}function ot(x){return Ur(x,I=>{if(!zt(I))throw xe.create("not-registered");return function W(x){return 1===x.requestStatus&&x.requestTime+$<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Pt(){return Pt=(0,P.Z)(function*(x,I){try{const M=yield function hn(x,I){return mo.apply(this,arguments)}(x,I),L=Object.assign(Object.assign({},I),{authToken:M});return yield Sn(x.appConfig,L),M}catch(M){if(!Fe(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Sn(x.appConfig,L)}else yield vt(x.appConfig);throw M}}),Pt.apply(this,arguments)}function zt(x){return void 0!==x&&2===x.registrationStatus}function ee(){return(ee=(0,P.Z)(function*(x){const I=x,{installationEntry:M,registrationPromise:L}=yield Ti(I);return L?L.catch(console.error):$i(I).catch(console.error),M.fid})).apply(this,arguments)}function Ze(){return Ze=(0,P.Z)(function*(x,I=!1){const M=x;return yield function mn(x){return kn.apply(this,arguments)}(M),(yield $i(M,I)).token}),Ze.apply(this,arguments)}function kn(){return(kn=(0,P.Z)(function*(x){const{registrationPromise:I}=yield Ti(x);I&&(yield I)})).apply(this,arguments)}function Sl(x){return xe.create("missing-app-config-values",{valueName:x})}const Tl="installations",Vn=x=>{const I=x.getProvider("app").getImmediate(),M=function Nc(x){if(!x||!x.options)throw Sl("App Configuration");if(!x.name)throw Sl("App Name");const I=["projectId","apiKey","appId"];for(const M of I)if(!x.options[M])throw Sl(M);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(I);return{app:I,appConfig:M,heartbeatServiceProvider:(0,ne._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Lc=x=>{const I=x.getProvider("app").getImmediate(),M=(0,ne._getProvider)(I,Tl).getImmediate();return{getId:()=>function me(x){return ee.apply(this,arguments)}(M),getToken:q=>function nt(x){return Ze.apply(this,arguments)}(M,q)}};(function Vc(){(0,ne._registerComponent)(new Q.wA(Tl,Vn,"PUBLIC")),(0,ne._registerComponent)(new Q.wA("installations-internal",Lc,"PRIVATE"))})(),(0,ne.registerVersion)(ce,j),(0,ne.registerVersion)(ce,j,"esm2017");const nn="@firebase/remote-config",Ri=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zs{constructor(I,M,L,q){this.client=I,this.storage=M,this.storageCache=L,this.logger=q}isCachedDataFresh(I,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,q=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${q}.`),q}fetch(I){var M=this;return(0,P.Z)(function*(){const[L,q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(q&&M.isCachedDataFresh(I.cacheMaxAgeMillis,L))return q;I.eTag=q&&q.eTag;const te=yield M.client.fetch(I),Ie=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Ie.push(M.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Ie),te})()}}function qo(x=navigator){return x.languages&&x.languages[0]||x.language}class qi{constructor(I,M,L,q,te,Ie){this.firebaseInstallations=I,this.sdkVersion=M,this.namespace=L,this.projectId=q,this.apiKey=te,this.appId=Ie}fetch(I){var M=this;return(0,P.Z)(function*(){const[L,q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},ct={sdk_version:M.sdkVersion,app_instance_id:L,app_instance_id_token:q,app_id:M.appId,language_code:qo()},pt={method:"POST",headers:lt,body:JSON.stringify(ct)},Yt=fetch(Ie,pt),It=new Promise((Gn,xn)=>{I.signal.addEventListener(()=>{const jn=new Error("The operation was aborted.");jn.name="AbortError",xn(jn)})});let Pn;try{yield Promise.race([Yt,It]),Pn=yield Yt}catch(Gn){let xn="fetch-client-network";throw"AbortError"===Gn?.name&&(xn="fetch-timeout"),Ri.create(xn,{originalErrorMessage:Gn?.message})}let Hn=Pn.status;const Ja=Pn.headers.get("ETag")||void 0;let Yi,jr;if(200===Pn.status){let Gn;try{Gn=yield Pn.json()}catch(xn){throw Ri.create("fetch-client-parse",{originalErrorMessage:xn?.message})}Yi=Gn.entries,jr=Gn.state}if("INSTANCE_STATE_UNSPECIFIED"===jr?Hn=500:"NO_CHANGE"===jr?Hn=304:("NO_TEMPLATE"===jr||"EMPTY_CONFIG"===jr)&&(Yi={}),304!==Hn&&200!==Hn)throw Ri.create("fetch-status",{httpStatus:Hn});return{status:Hn,eTag:Ja,config:Yi}})()}}class Jt{constructor(I,M){this.client=I,this.storage=M}fetch(I){var M=this;return(0,P.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:M,backoffCount:L}){var q=this;return(0,P.Z)(function*(){yield function Wi(x,I){return new Promise((M,L)=>{const q=Math.max(I-Date.now(),0),te=setTimeout(M,q);x.addEventListener(()=>{clearTimeout(te),L(Ri.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,M);try{const te=yield q.client.fetch(I);return yield q.storage.deleteThrottleMetadata(),te}catch(te){if(!function Bc(x){if(!(x instanceof ie.ZR&&x.customData))return!1;const I=Number(x.customData.httpStatus);return 429===I||500===I||503===I||504===I}(te))throw te;const Ie={throttleEndTimeMillis:Date.now()+(0,ie.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(Ie),q.attemptFetch(I,Ie)}})()}}class Ml{constructor(I,M,L,q,te){this.app=I,this._client=M,this._storageCache=L,this._storage=q,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gs(x,I){const M=x.target.error||void 0;return Ri.create(I,{originalErrorMessage:M&&M?.message})}const Er="app_namespace_store";class ar{constructor(I,M,L,q=function um(){return new Promise((x,I)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=L=>{I(gs(L,"storage-open"))},M.onsuccess=L=>{x(L.target.result)},M.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Er,{keyPath:"compositeKey"})}}catch(M){I(Ri.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=I,this.appName=M,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var M=this;return(0,P.Z)(function*(){const L=yield M.openDbPromise;return new Promise((q,te)=>{const lt=L.transaction([Er],"readonly").objectStore(Er),ct=M.createCompositeKey(I);try{const pt=lt.get(ct);pt.onerror=Yt=>{te(gs(Yt,"storage-get"))},pt.onsuccess=Yt=>{const It=Yt.target.result;q(It?It.value:void 0)}}catch(pt){te(Ri.create("storage-get",{originalErrorMessage:pt?.message}))}})})()}set(I,M){var L=this;return(0,P.Z)(function*(){const q=yield L.openDbPromise;return new Promise((te,Ie)=>{const ct=q.transaction([Er],"readwrite").objectStore(Er),pt=L.createCompositeKey(I);try{const Yt=ct.put({compositeKey:pt,value:M});Yt.onerror=It=>{Ie(gs(It,"storage-set"))},Yt.onsuccess=()=>{te()}}catch(Yt){Ie(Ri.create("storage-set",{originalErrorMessage:Yt?.message}))}})})()}delete(I){var M=this;return(0,P.Z)(function*(){const L=yield M.openDbPromise;return new Promise((q,te)=>{const lt=L.transaction([Er],"readwrite").objectStore(Er),ct=M.createCompositeKey(I);try{const pt=lt.delete(ct);pt.onerror=Yt=>{te(gs(Yt,"storage-delete"))},pt.onsuccess=()=>{q()}}catch(pt){te(Ri.create("storage-delete",{originalErrorMessage:pt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class lr{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const M=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),q=I.storage.getActiveConfig(),te=yield M;te&&(I.lastFetchStatus=te);const Ie=yield L;Ie&&(I.lastSuccessfulFetchTimestampMillis=Ie);const lt=yield q;lt&&(I.activeConfig=lt)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Oi(){return gd.apply(this,arguments)}function gd(){return(gd=(0,P.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function vo(){(0,ne._registerComponent)(new Q.wA("remote-config",function x(I,{instanceIdentifier:M}){const L=I.getProvider("app").getImmediate(),q=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ri.create("registration-window");if(!(0,ie.hl)())throw Ri.create("indexed-db-unavailable");const{projectId:te,apiKey:Ie,appId:lt}=L.options;if(!te)throw Ri.create("registration-project-id");if(!Ie)throw Ri.create("registration-api-key");if(!lt)throw Ri.create("registration-app-id");const ct=new ar(lt,L.name,M=M||"firebase"),pt=new lr(ct),Yt=new fe.Yd(nn);Yt.logLevel=fe.in.ERROR;const It=new qi(q,ne.SDK_VERSION,M,te,Ie,lt),Pn=new Jt(It,ct),Hn=new zs(Pn,ct,pt,Yt),Ja=new Ml(L,Hn,pt,ct,Yt);return function ms(x){const I=(0,ie.m9)(x);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Ja),Ja},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(nn,"0.4.4"),(0,ne.registerVersion)(nn,"0.4.4","esm2017")}();const _d="/firebase-messaging-sw.js",bo="/firebase-cloud-messaging-push-scope",ys="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Na="https://fcmregistrations.googleapis.com/v1",Hc="google.c.a.c_id",Xh="google.c.a.c_l",Jh="google.c.a.ts",dm="google.c.a.e";var vs=(()=>{return(x=vs||(vs={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",vs;var x})();function Xr(x){const I=new Uint8Array(x);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hm(x){const M=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),q=new Uint8Array(L.length);for(let te=0;te<L.length;++te)q[te]=L.charCodeAt(te);return q}const bs="fcm_token_details_db",jc=5,Cr="fcm_token_object_Store";function Ol(){return Ol=(0,P.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(bs))return null;let I=null;return(yield(0,ue.X3)(bs,jc,{upgrade:(L=(0,P.Z)(function*(q,te,Ie,lt){var ct;if(te<2||!q.objectStoreNames.contains(Cr))return;const pt=lt.objectStore(Cr),Yt=yield pt.index("fcmSenderId").get(x);if(yield pt.clear(),Yt)if(2===te){const It=Yt;if(!It.auth||!It.p256dh||!It.endpoint)return;I={token:It.fcmToken,createTime:null!==(ct=It.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:It.auth,p256dh:It.p256dh,endpoint:It.endpoint,swScope:It.swScope,vapidKey:"string"==typeof It.vapidKey?It.vapidKey:Xr(It.vapidKey)}}}else if(3===te){const It=Yt;I={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:Xr(It.auth),p256dh:Xr(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:Xr(It.vapidKey)}}}else if(4===te){const It=Yt;I={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:Xr(It.auth),p256dh:Xr(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:Xr(It.vapidKey)}}}}),function(te,Ie,lt,ct){return L.apply(this,arguments)})})).close(),yield(0,ue.Lj)(bs),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),function yd(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:I}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var L}),Ol.apply(this,arguments)}const kl="firebase-messaging-database",fm=1,cr="firebase-messaging-store";let vd=null;function ws(){return vd||(vd=(0,ue.X3)(kl,fm,{upgrade:(x,I)=>{0===I&&x.createObjectStore(cr)}})),vd}function La(x){return qs.apply(this,arguments)}function qs(){return qs=(0,P.Z)(function*(x){const I=Wo(x),L=yield(yield ws()).transaction(cr).objectStore(cr).get(I);if(L)return L;{const q=yield function zc(x){return Ol.apply(this,arguments)}(x.appConfig.senderId);if(q)return yield Ws(x,q),q}}),qs.apply(this,arguments)}function Ws(x,I){return Va.apply(this,arguments)}function Va(){return(Va=(0,P.Z)(function*(x,I){const M=Wo(x),q=(yield ws()).transaction(cr,"readwrite");return yield q.objectStore(cr).put(I,M),yield q.done,I})).apply(this,arguments)}function Fl(){return(Fl=(0,P.Z)(function*(x){const I=Wo(x),L=(yield ws()).transaction(cr,"readwrite");yield L.objectStore(cr).delete(I),yield L.done})).apply(this,arguments)}function Wo({appConfig:x}){return x.appId}const an=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pl(x,I){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,P.Z)(function*(x,I){const M=yield Gc(x),L=si(I),q={method:"POST",headers:M,body:JSON.stringify(L)};let te;try{te=yield(yield fetch(Ua(x.appConfig),q)).json()}catch(Ie){throw an.create("token-subscribe-failed",{errorInfo:Ie?.toString()})}if(te.error)throw an.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw an.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function Nl(){return(Nl=(0,P.Z)(function*(x,I){const M=yield Gc(x),L=si(I.subscriptionOptions),q={method:"PATCH",headers:M,body:JSON.stringify(L)};let te;try{te=yield(yield fetch(`${Ua(x.appConfig)}/${I.token}`,q)).json()}catch(Ie){throw an.create("token-update-failed",{errorInfo:Ie?.toString()})}if(te.error)throw an.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw an.create("token-update-no-token");return te.token})).apply(this,arguments)}function Jr(x,I){return ki.apply(this,arguments)}function ki(){return(ki=(0,P.Z)(function*(x,I){const L={method:"DELETE",headers:yield Gc(x)};try{const te=yield(yield fetch(`${Ua(x.appConfig)}/${I}`,L)).json();if(te.error)throw an.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(q){throw an.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function Ua({projectId:x}){return`${Na}/projects/${x}/registrations`}function Gc(x){return eo.apply(this,arguments)}function eo(){return(eo=(0,P.Z)(function*({appConfig:x,installations:I}){const M=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function si({p256dh:x,auth:I,endpoint:M,vapidKey:L}){const q={web:{endpoint:M,auth:I,p256dh:x}};return L!==ys&&(q.web.applicationPubKey=L),q}const qc=6048e5;function Ha(){return Ha=(0,P.Z)(function*(x){const I=yield function Ed(x,I){return ja.apply(this,arguments)}(x.swRegistration,x.vapidKey),M={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:I.endpoint,auth:Xr(I.getKey("auth")),p256dh:Xr(I.getKey("p256dh"))},L=yield La(x.firebaseDependencies);if(L){if(function ef(x,I){return I.vapidKey===x.vapidKey&&I.endpoint===x.endpoint&&I.auth===x.auth&&I.p256dh===x.p256dh}(L.subscriptionOptions,M))return Date.now()>=L.createTime+qc?function Wc(x,I){return Rt.apply(this,arguments)}(x,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield Jr(x.firebaseDependencies,L.token)}catch(q){console.warn(q)}return wd(x.firebaseDependencies,M)}return wd(x.firebaseDependencies,M)}),Ha.apply(this,arguments)}function Ys(){return Ys=(0,P.Z)(function*(x){const I=yield La(x.firebaseDependencies);I&&(yield Jr(x.firebaseDependencies,I.token),yield function $c(x){return Fl.apply(this,arguments)}(x.firebaseDependencies));const M=yield x.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Ys.apply(this,arguments)}function Rt(){return Rt=(0,P.Z)(function*(x,I){try{const M=yield function Fn(x,I){return Nl.apply(this,arguments)}(x.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:M,createTime:Date.now()});return yield Ws(x.firebaseDependencies,L),M}catch(M){throw yield function wo(x){return Ys.apply(this,arguments)}(x),M}}),Rt.apply(this,arguments)}function wd(x,I){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,P.Z)(function*(x,I){const L={token:yield Pl(x,I),createTime:Date.now(),subscriptionOptions:I};return yield Ws(x,L),L.token})).apply(this,arguments)}function ja(){return(ja=(0,P.Z)(function*(x,I){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hm(I)})})).apply(this,arguments)}function Vl(x){const I={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function tf(x,I){if(!I.notification)return;x.notification={};const M=I.notification.title;M&&(x.notification.title=M);const L=I.notification.body;L&&(x.notification.body=L);const q=I.notification.image;q&&(x.notification.image=q);const te=I.notification.icon;te&&(x.notification.icon=te)}(I,x),function An(x,I){I.data&&(x.data=I.data)}(I,x),function Te(x,I){var M,L,q,te,Ie;if(!(I.fcmOptions||null!==(M=I.notification)&&void 0!==M&&M.click_action))return;x.fcmOptions={};const lt=null!==(q=null===(L=I.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==q?q:null===(te=I.notification)||void 0===te?void 0:te.click_action;lt&&(x.fcmOptions.link=lt);const ct=null===(Ie=I.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;ct&&(x.fcmOptions.analyticsLabel=ct)}(I,x),I}function Bl(x,I){const M=[];for(let L=0;L<x.length;L++)M.push(x.charAt(L)),L<I.length&&M.push(I.charAt(L));return M.join("")}function ai(x){return an.create("missing-app-config-values",{valueName:x})}Bl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zc{constructor(I,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function nf(x){if(!x||!x.options)throw ai("App Configuration Object");if(!x.name)throw ai("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:M}=x;for(const L of I)if(!M[L])throw ai(L);return{appName:x.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:q,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Ks(x){return ur.apply(this,arguments)}function ur(){return(ur=(0,P.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(_d,{scope:bo}),x.swRegistration.update().catch(()=>{})}catch(I){throw an.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Qs(){return(Qs=(0,P.Z)(function*(x,I){if(!I&&!x.swRegistration&&(yield Ks(x)),I||!x.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");x.swRegistration=I}})).apply(this,arguments)}function Ul(){return(Ul=(0,P.Z)(function*(x,I){I?x.vapidKey=I:x.vapidKey||(x.vapidKey=ys)})).apply(this,arguments)}function Un(){return Un=(0,P.Z)(function*(x,I){if(!navigator)throw an.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw an.create("permission-blocked");return yield function Dd(x,I){return Ul.apply(this,arguments)}(x,I?.vapidKey),yield function Cd(x,I){return Qs.apply(this,arguments)}(x,I?.serviceWorkerRegistration),function Zs(x){return Ha.apply(this,arguments)}(x)}),Un.apply(this,arguments)}function za(){return(za=(0,P.Z)(function*(x,I,M){const L=function $a(x){switch(x){case vs.NOTIFICATION_CLICKED:return"notification_open";case vs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[Hc],message_name:M[Xh],message_time:M[Jh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Hl(){return Hl=(0,P.Z)(function*(x,I){const M=I.data;if(!M.isFirebaseMessaging)return;x.onMessageHandler&&M.messageType===vs.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Vl(M)):x.onMessageHandler.next(Vl(M)));const L=M.data;(function rn(x){return"object"==typeof x&&!!x&&Hc in x})(L)&&"1"===L[dm]&&(yield function dr(x,I,M){return za.apply(this,arguments)}(x,M.messageType,L))}),Hl.apply(this,arguments)}const xd="@firebase/messaging",Kc=x=>{const I=new Zc(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Dr(x,I){return Hl.apply(this,arguments)}(I,M)),I},jl=x=>{const I=x.getProvider("messaging").getImmediate();return{getToken:L=>function Yc(x,I){return Un.apply(this,arguments)}(I,L)}};function Qc(){return zl.apply(this,arguments)}function zl(){return(zl=(0,P.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Es(){(0,ne._registerComponent)(new Q.wA("messaging",Kc,"PUBLIC")),(0,ne._registerComponent)(new Q.wA("messaging-internal",jl,"PRIVATE")),(0,ne.registerVersion)(xd,"0.12.4"),(0,ne.registerVersion)(xd,"0.12.4","esm2017")}();const Td="analytics",_m="firebase_id",Zi="origin",Ga=6e4,Cn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Eo="https://www.googletagmanager.com/gtag/js",Jn=new fe.Yd("@firebase/analytics"),hr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ym(x){if(!x.startsWith(Eo)){const I=hr.create("invalid-gtag-resource",{gtagURL:x});return Jn.warn(I.message),""}return x}function vm(x){return Promise.all(x.map(I=>I.catch(M=>M)))}function Zo(){return(Zo=(0,P.Z)(function*(x,I,M,L,q,te){const Ie=L[q];try{if(Ie)yield I[Ie];else{const ct=(yield vm(M)).find(pt=>pt.measurementId===q);ct&&(yield I[ct.appId])}}catch(lt){Jn.error(lt)}x("config",q,te)})).apply(this,arguments)}function xr(){return(xr=(0,P.Z)(function*(x,I,M,L,q){try{let te=[];if(q&&q.send_to){let Ie=q.send_to;Array.isArray(Ie)||(Ie=[Ie]);const lt=yield vm(M);for(const ct of Ie){const pt=lt.find(It=>It.measurementId===ct),Yt=pt&&I[pt.appId];if(!Yt){te=[];break}te.push(Yt)}}0===te.length&&(te=Object.values(I)),yield Promise.all(te),x("event",L,q||{})}catch(te){Jn.error(te)}})).apply(this,arguments)}const Md=30,Ir=new class wm{constructor(I={},M=1e3){this.throttleMetadata=I,this.intervalMillis=M}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,M){this.throttleMetadata[I]=M}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function iu(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function to(){return(to=(0,P.Z)(function*(x){var I;const{appId:M,apiKey:L}=x,q={method:"GET",headers:iu(L)},te=Cn.replace("{app-id}",M),Ie=yield fetch(te,q);if(200!==Ie.status&&304!==Ie.status){let lt="";try{const ct=yield Ie.json();null!==(I=ct.error)&&void 0!==I&&I.message&&(lt=ct.error.message)}catch{}throw hr.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:lt})}return Ie.json()})).apply(this,arguments)}function Dn(){return(Dn=(0,P.Z)(function*(x,I=Ir,M){const{appId:L,apiKey:q,measurementId:te}=x.options;if(!L)throw hr.create("no-app-id");if(!q){if(te)return{measurementId:te,appId:L};throw hr.create("no-api-key")}const Ie=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lt=new lf;return setTimeout((0,P.Z)(function*(){lt.abort()}),void 0!==M?M:Ga),Yo({appId:L,apiKey:q,measurementId:te},Ie,lt,I)})).apply(this,arguments)}function Yo(x,I,M){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,P.Z)(function*(x,{throttleEndTimeMillis:I,backoffCount:M},L,q=Ir){var te;const{appId:Ie,measurementId:lt}=x;try{yield function ru(x,I){return new Promise((M,L)=>{const q=Math.max(I-Date.now(),0),te=setTimeout(M,q);x.addEventListener(()=>{clearTimeout(te),L(hr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(L,I)}catch(ct){if(lt)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:Ie,measurementId:lt};throw ct}try{const ct=yield function af(x){return to.apply(this,arguments)}(x);return q.deleteThrottleMetadata(Ie),ct}catch(ct){const pt=ct;if(!function ea(x){if(!(x instanceof ie.ZR&&x.customData))return!1;const I=Number(x.customData.httpStatus);return 429===I||500===I||503===I||504===I}(pt)){if(q.deleteThrottleMetadata(Ie),lt)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:Ie,measurementId:lt};throw ct}const Yt=503===Number(null===(te=pt?.customData)||void 0===te?void 0:te.httpStatus)?(0,ie.$s)(M,q.intervalMillis,Md):(0,ie.$s)(M,q.intervalMillis),It={throttleEndTimeMillis:Date.now()+Yt,backoffCount:M+1};return q.setThrottleMetadata(Ie,It),Jn.debug(`Calling attemptFetch again in ${Yt} millis`),Yo(x,It,L,q)}}),Ds.apply(this,arguments)}class lf{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let ta,Gl;function na(){return(na=(0,P.Z)(function*(x,I,M,L,q){if(q&&q.global)x("event",M,L);else{const te=yield I;x("event",M,Object.assign(Object.assign({},L),{send_to:te}))}})).apply(this,arguments)}function Ya(){return(Ya=(0,P.Z)(function*(){if(!(0,ie.hl)())return Jn.warn(hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(x){return Jn.warn(hr.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function Do(){return Do=(0,P.Z)(function*(x,I,M,L,q,te,Ie){var lt;const ct=function Js(x){return Dn.apply(this,arguments)}(x);ct.then(Hn=>{M[Hn.measurementId]=Hn.appId,x.options.measurementId&&Hn.measurementId!==x.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Hn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Hn=>Jn.error(Hn)),I.push(ct);const pt=function cf(){return Ya.apply(this,arguments)}().then(Hn=>{if(Hn)return L.getId()}),[Yt,It]=yield Promise.all([ct,pt]);(function bm(x){const I=window.document.getElementsByTagName("script");for(const M of Object.values(I))if(M.src&&M.src.includes(Eo)&&M.src.includes(x))return M;return null})(te)||function tu(x,I){const M=function eu(x,I){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(x,I)),M}("firebase-js-sdk-policy",{createScriptURL:ym}),L=document.createElement("script"),q=`${Eo}?l=${x}&id=${I}`;L.src=M?M?.createScriptURL(q):q,L.async=!0,document.head.appendChild(L)}(te,Yt.measurementId),Gl&&(q("consent","default",Gl),function Qo(x){Gl=x}(void 0)),q("js",new Date);const Pn=null!==(lt=Ie?.config)&&void 0!==lt?lt:{};return Pn[Zi]="firebase",Pn.update=!0,null!=It&&(Pn[_m]=It),q("config",Yt.measurementId,Pn),ta&&(q("set",ta),function oa(x){ta=x}(void 0)),Yt.measurementId}),Do.apply(this,arguments)}class Rd{constructor(I){this.app=I}_delete(){return delete Hr[this.app.options.appId],Promise.resolve()}}let Hr={},ql=[];const Is={};let Wl,Fi,Ss="dataLayer",Od="gtag",su=!1;function Fd(x,I,M){!function sa(){const x=[];if((0,ie.ru)()&&x.push("This is a browser extension environment."),(0,ie.zI)()||x.push("Cookies are not available."),x.length>0){const I=x.map((L,q)=>`(${q+1}) ${L}`).join(" "),M=hr.create("invalid-analytics-context",{errorInfo:I});Jn.warn(M.message)}}();const L=x.options.appId;if(!L)throw hr.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw hr.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hr[L])throw hr.create("already-exists",{id:L});if(!su){!function Xs(x){let I=[];Array.isArray(window[x])?I=window[x]:window[x]=I}(Ss);const{wrappedGtag:te,gtagCore:Ie}=function Ad(x,I,M,L,q){let te=function(...Ie){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(te=window[q]),window[q]=function qa(x,I,M,L){function te(){return te=(0,P.Z)(function*(Ie,lt,ct){try{"event"===Ie?yield function $l(x,I,M,L,q){return xr.apply(this,arguments)}(x,I,M,lt,ct):"config"===Ie?yield function Cs(x,I,M,L,q,te){return Zo.apply(this,arguments)}(x,I,M,L,lt,ct):"consent"===Ie?x("consent","update",ct):x("set",lt)}catch(pt){Jn.error(pt)}}),te.apply(this,arguments)}return function q(Ie,lt,ct){return te.apply(this,arguments)}}(te,x,I,M),{gtagCore:te,wrappedGtag:window[q]}}(Hr,ql,Is,Ss,Od);Fi=te,Wl=Ie,su=!0}return Hr[L]=function uf(x,I,M,L,q,te,Ie){return Do.apply(this,arguments)}(x,ql,Is,I,Wl,Ss,M),new Rd(x)}function xo(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,P.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const hf="@firebase/analytics";!function ff(){(0,ne._registerComponent)(new Q.wA(Td,(I,{options:M})=>Fd(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ne._registerComponent)(new Q.wA("analytics-internal",function x(I){try{const M=I.getProvider(Td).getImmediate();return{logEvent:(L,q,te)=>function Xo(x,I,M,L){x=(0,ie.m9)(x),function Wa(x,I,M,L,q){return na.apply(this,arguments)}(Fi,Hr[x.app.options.appId],I,M,L).catch(q=>Jn.error(q))}(M,L,q,te)}}catch(M){throw hr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ne.registerVersion)(hf,"0.9.5"),(0,ne.registerVersion)(hf,"0.9.5","esm2017")}();var pf=F(4408),mf=F(7565);const la=new class Cm extends mf.v{}(class wy extends pf.o{constructor(I,M){super(I,M),this.scheduler=I,this.work=M}schedule(I,M=0){return M>0?super.schedule(I,M):(this.delay=M,this.state=I,this.scheduler.flush(this),this)}execute(I,M){return M>0||this.closed?super.execute(I,M):this._execute(I,M)}requestAsyncId(I,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,M,L):(I.flush(this),0)}});var _f=F(4986),li=F(8505),Yl=F(9468),Io=F(5363);const ca=new l.GfV("7.5.0"),Pi="__angularfire_symbol__analyticsIsSupportedValue",Jo="__angularfire_symbol__analyticsIsSupported",au="__angularfire_symbol__remoteConfigIsSupportedValue",Xa="__angularfire_symbol__remoteConfigIsSupported",es="__angularfire_symbol__messagingIsSupportedValue",ua="__angularfire_symbol__messagingIsSupported";function no(x,I,M){if(I){if(1===I.length)return I[0];const te=I.filter(Ie=>Ie.app===M);if(1===te.length)return te[0]}return M.container.getProvider(x).getImmediate({optional:!0})}globalThis[Jo]||(globalThis[Jo]=xo().then(x=>globalThis[Pi]=x).catch(()=>globalThis[Pi]=!1)),globalThis[ua]||(globalThis[ua]=Qc().then(x=>globalThis[es]=x).catch(()=>globalThis[es]=!1)),globalThis[Xa]||(globalThis[Xa]=Oi().then(x=>globalThis[au]=x).catch(()=>globalThis[au]=!1));const We=(x,I)=>{const M=I?[I]:(0,X.C6)(),L=[];return M.forEach(q=>{q.container.getProvider(x).instances.forEach(Ie=>{L.includes(Ie)||L.push(Ie)})}),L};function Nt(){}class $n{constructor(I,M=la){this.zone=I,this.delegate=M}now(){return this.delegate.now()}schedule(I,M,L){const q=this.zone;return this.delegate.schedule(function(Ie){q.runGuarded(()=>{I.apply(this,[Ie])})},M,L)}}class vf{constructor(I){this.zone=I,this.task=null}call(I,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nt,{},Nt,Nt)),M.pipe((0,li.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ts=(()=>{class x{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new $n(Zone.current)),this.insideAngular=M.run(()=>new $n(Zone.current,_f.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(M){return new(M||x)(l.LFG(l.R0b))},x.\u0275prov=l.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Mn(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function da(x){return Mn(),function ha(x){return function(M){return(M=M.lift(new vf(x.ngZone))).pipe((0,Yl.R)(x.outsideAngular),(0,Io.Q)(x.insideAngular))}}(Mn())(x)}},2090:(ft,be,F)=>{F.d(be,{$s:()=>Tt,BH:()=>Ae,G6:()=>Me,L:()=>ce,LL:()=>xt,Pz:()=>ve,Sg:()=>Le,UG:()=>ge,US:()=>Q,ZB:()=>Y,ZR:()=>cn,aH:()=>Ee,b$:()=>gt,eu:()=>He,hl:()=>Pe,jU:()=>Ve,m9:()=>Mi,ne:()=>Lt,pd:()=>Ti,r3:()=>br,ru:()=>qe,tV:()=>j,uI:()=>U,vZ:()=>or,w1:()=>se,xO:()=>Ur,xb:()=>jo,z$:()=>ke,zI:()=>Xe,zd:()=>On});const ne=function(H){const B=[];let W=0;for(let me=0;me<H.length;me++){let ee=H.charCodeAt(me);ee<128?B[W++]=ee:ee<2048?(B[W++]=ee>>6|192,B[W++]=63&ee|128):55296==(64512&ee)&&me+1<H.length&&56320==(64512&H.charCodeAt(me+1))?(ee=65536+((1023&ee)<<10)+(1023&H.charCodeAt(++me)),B[W++]=ee>>18|240,B[W++]=ee>>12&63|128,B[W++]=ee>>6&63|128,B[W++]=63&ee|128):(B[W++]=ee>>12|224,B[W++]=ee>>6&63|128,B[W++]=63&ee|128)}return B},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,B){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,me=[];for(let ee=0;ee<H.length;ee+=3){const nt=H[ee],Ze=ee+1<H.length,mn=Ze?H[ee+1]:0,kn=ee+2<H.length,Ln=kn?H[ee+2]:0;let Gi=(15&mn)<<2|Ln>>6,Kr=63&Ln;kn||(Kr=64,Ze||(Gi=64)),me.push(W[nt>>2],W[(3&nt)<<4|mn>>4],W[Gi],W[Kr])}return me.join("")},encodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(H):this.encodeByteArray(ne(H),B)},decodeString(H,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(H):function(H){const B=[];let W=0,me=0;for(;W<H.length;){const ee=H[W++];if(ee<128)B[me++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const nt=H[W++];B[me++]=String.fromCharCode((31&ee)<<6|63&nt)}else if(ee>239&&ee<365){const kn=((7&ee)<<18|(63&H[W++])<<12|(63&H[W++])<<6|63&H[W++])-65536;B[me++]=String.fromCharCode(55296+(kn>>10)),B[me++]=String.fromCharCode(56320+(1023&kn))}else{const nt=H[W++],Ze=H[W++];B[me++]=String.fromCharCode((15&ee)<<12|(63&nt)<<6|63&Ze)}}return B.join("")}(this.decodeStringToByteArray(H,B))},decodeStringToByteArray(H,B){this.init_();const W=B?this.charToByteMapWebSafe_:this.charToByteMap_,me=[];for(let ee=0;ee<H.length;){const nt=W[H.charAt(ee++)],mn=ee<H.length?W[H.charAt(ee)]:0;++ee;const Ln=ee<H.length?W[H.charAt(ee)]:64;++ee;const Vt=ee<H.length?W[H.charAt(ee)]:64;if(++ee,null==nt||null==mn||null==Ln||null==Vt)throw new fe;me.push(nt<<2|mn>>4),64!==Ln&&(me.push(mn<<4&240|Ln>>2),64!==Vt&&me.push(Ln<<6&192|Vt))}return me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ce=function(H){return function(H){const B=ne(H);return Q.encodeByteArray(B,!0)}(H).replace(/\./g,"")},j=function(H){try{return Q.decodeString(H,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function Y(H,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return B}for(const W in B)!B.hasOwnProperty(W)||!Ue(W)||(H[W]=Y(H[W],B[W]));return H}function Ue(H){return"__proto__"!==H}const De=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const B=H&&j(H[1]);return B&&JSON.parse(B)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},Ee=()=>{var H;return null===(H=De())||void 0===H?void 0:H.config},ve=H=>{var B;return null===(B=De())||void 0===B?void 0:B[`_${H}`]};class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,W)=>{this.resolve=B,this.reject=W})}wrapCallback(B){return(W,me)=>{W?this.reject(W):this.resolve(me),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(W):B(W,me))}}}function Le(H,B){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const me=B||"demo-project",ee=H.iat||0,nt=H.sub||H.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ze=Object.assign({iss:`https://securetoken.google.com/${me}`,aud:me,iat:ee,exp:ee+3600,auth_time:ee,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Ze)),""].join(".")}function ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function U(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function ge(){var H;const B=null===(H=De())||void 0===H?void 0:H.forceEnvironment;if("node"===B)return!0;if("browser"===B)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ve(){return"object"==typeof self&&self.self===self}function qe(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function gt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function se(){const H=ke();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Me(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pe(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise((H,B)=>{try{let W=!0;const me="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(me);ee.onsuccess=()=>{ee.result.close(),W||self.indexedDB.deleteDatabase(me),H(!0)},ee.onupgradeneeded=()=>{W=!1},ee.onerror=()=>{var nt;B((null===(nt=ee.error)||void 0===nt?void 0:nt.message)||"")}}catch(W){B(W)}})}function Xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class cn extends Error{constructor(B,W,me){super(W),this.code=B,this.customData=me,this.name="FirebaseError",Object.setPrototypeOf(this,cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(B,W,me){this.service=B,this.serviceName=W,this.errors=me}create(B,...W){const me=W[0]||{},ee=`${this.service}/${B}`,nt=this.errors[B],Ze=nt?function on(H,B){return H.replace(tt,(W,me)=>{const ee=B[me];return null!=ee?String(ee):`<${me}?>`})}(nt,me):"Error";return new cn(ee,`${this.serviceName}: ${Ze} (${ee}).`,me)}}const tt=/\{\$([^}]+)}/g;function br(H,B){return Object.prototype.hasOwnProperty.call(H,B)}function jo(H){for(const B in H)if(Object.prototype.hasOwnProperty.call(H,B))return!1;return!0}function or(H,B){if(H===B)return!0;const W=Object.keys(H),me=Object.keys(B);for(const ee of W){if(!me.includes(ee))return!1;const nt=H[ee],Ze=B[ee];if(vt(nt)&&vt(Ze)){if(!or(nt,Ze))return!1}else if(nt!==Ze)return!1}for(const ee of me)if(!W.includes(ee))return!1;return!0}function vt(H){return null!==H&&"object"==typeof H}function Ur(H){const B=[];for(const[W,me]of Object.entries(H))Array.isArray(me)?me.forEach(ee=>{B.push(encodeURIComponent(W)+"="+encodeURIComponent(ee))}):B.push(encodeURIComponent(W)+"="+encodeURIComponent(me));return B.length?"&"+B.join("&"):""}function On(H){const B={};return H.replace(/^\?/,"").split("&").forEach(me=>{if(me){const[ee,nt]=me.split("=");B[decodeURIComponent(ee)]=decodeURIComponent(nt)}}),B}function Ti(H){const B=H.indexOf("?");if(!B)return"";const W=H.indexOf("#",B);return H.substring(B,W>0?W:void 0)}function Lt(H,B){const W=new Et(H,B);return W.subscribe.bind(W)}class Et{constructor(B,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{B(this)}).catch(me=>{this.error(me)})}next(B){this.forEachObserver(W=>{W.next(B)})}error(B){this.forEachObserver(W=>{W.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,W,me){let ee;if(void 0===B&&void 0===W&&void 0===me)throw new Error("Missing Observer.");ee=function fs(H,B){if("object"!=typeof H||null===H)return!1;for(const W of B)if(W in H&&"function"==typeof H[W])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:W,complete:me},void 0===ee.next&&(ee.next=En),void 0===ee.error&&(ee.error=En),void 0===ee.complete&&(ee.complete=En);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),nt}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,B)}sendOne(B,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{W(this.observers[B])}catch(me){typeof console<"u"&&console.error&&console.error(me)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function En(){}const Yr=1e3,je=2,we=144e5,ot=.5;function Tt(H,B=Yr,W=je){const me=B*Math.pow(W,H),ee=Math.round(ot*me*(Math.random()-.5)*2);return Math.min(we,me+ee)}function Mi(H){return H&&H._delegate?H._delegate:H}},9554:(ft,be,F)=>{var l=F(4650);let X=null;function P(){return X}class ie{}const Q=new l.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ue(){return(0,l.LFG)(j)}()},providedIn:"platform"}),n})();const ce=new l.OlP("Location Initialized");let j=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){$()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){$()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Y(){return new j((0,l.LFG)(Q))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let ut=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(De)},providedIn:"root"}),n})();const he=new l.OlP("appBaseHref");let De=(()=>{class n extends ut{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(Q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+$e(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+$e(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+$e(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(he,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xe=(()=>{class n extends ut{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ue(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+$e(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+$e(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(he,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Le(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ce(Ae(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+$e(i))}normalize(t){return n.stripTrailingSlash(function ve(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ae(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Ue,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(l.LFG(ut))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ee(){return new Fe((0,l.LFG)(ut))}()},providedIn:"root"}),n})();function Ae(n){return n.replace(/\/index.html$/,"")}var Ve=(()=>((Ve=Ve||{})[Ve.Format=0]="Format",Ve[Ve.Standalone=1]="Standalone",Ve))(),qe=(()=>((qe=qe||{})[qe.Narrow=0]="Narrow",qe[qe.Abbreviated=1]="Abbreviated",qe[qe.Wide=2]="Wide",qe[qe.Short=3]="Short",qe))(),gt=(()=>((gt=gt||{})[gt.Short=0]="Short",gt[gt.Medium=1]="Medium",gt[gt.Long=2]="Long",gt[gt.Full=3]="Full",gt))(),it=(()=>((it=it||{})[it.Decimal=0]="Decimal",it[it.Group=1]="Group",it[it.List=2]="List",it[it.PercentSign=3]="PercentSign",it[it.PlusSign=4]="PlusSign",it[it.MinusSign=5]="MinusSign",it[it.Exponential=6]="Exponential",it[it.SuperscriptingExponent=7]="SuperscriptingExponent",it[it.PerMille=8]="PerMille",it[it.Infinity=9]="Infinity",it[it.NaN=10]="NaN",it[it.TimeSeparator=11]="TimeSeparator",it[it.CurrencyDecimal=12]="CurrencyDecimal",it[it.CurrencyGroup=13]="CurrencyGroup",it))();function cn(n,e){return Sn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function xt(n,e){return Sn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function on(n,e){return Sn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function tt(n,e){const t=(0,l.cg1)(n),i=t[l.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===it.CurrencyDecimal)return t[l.wAp.NumberSymbols][it.Decimal];if(e===it.CurrencyGroup)return t[l.wAp.NumberSymbols][it.Group]}return i}function ds(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Sn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function or(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const On=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ti={},hs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Lt=(()=>((Lt=Lt||{})[Lt.Short=0]="Short",Lt[Lt.ShortGMT=1]="ShortGMT",Lt[Lt.Long=2]="Long",Lt[Lt.Extended=3]="Extended",Lt))(),Et=(()=>((Et=Et||{})[Et.FullYear=0]="FullYear",Et[Et.Month=1]="Month",Et[Et.Date=2]="Date",Et[Et.Hours=3]="Hours",Et[Et.Minutes=4]="Minutes",Et[Et.Seconds=5]="Seconds",Et[Et.FractionalSeconds=6]="FractionalSeconds",Et[Et.Day=7]="Day",Et))(),Mt=(()=>((Mt=Mt||{})[Mt.DayPeriods=0]="DayPeriods",Mt[Mt.Days=1]="Days",Mt[Mt.Months=2]="Months",Mt[Mt.Eras=3]="Eras",Mt))();function fs(n,e,t,i){let r=function ee(n){if(Ze(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,a=1,u=1]=n.split("-").map(f=>+f);return En(r,a-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(On))return function nt(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,f=Number(n[5]||0)-i,_=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,u,f,_,b),e}(i)}const e=new Date(n);if(!Ze(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Qn(t,e)||e;let f,u=[];for(;e;){if(f=hs.exec(e),!f){u.push(e);break}{u=u.concat(f.slice(1));const C=u.pop();if(!C)break;e=C}}let _=r.getTimezoneOffset();i&&(_=B(i,_),r=function me(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function W(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(B(e,r)-r))}(r,i,!0));let b="";return u.forEach(C=>{const A=function H(n){if(Mi[n])return Mi[n];let e;switch(n){case"G":case"GG":case"GGG":e=tn(Mt.Eras,qe.Abbreviated);break;case"GGGG":e=tn(Mt.Eras,qe.Wide);break;case"GGGGG":e=tn(Mt.Eras,qe.Narrow);break;case"y":e=hn(Et.FullYear,1,0,!1,!0);break;case"yy":e=hn(Et.FullYear,2,0,!0,!0);break;case"yyy":e=hn(Et.FullYear,3,0,!1,!0);break;case"yyyy":e=hn(Et.FullYear,4,0,!1,!0);break;case"Y":e=zt(1);break;case"YY":e=zt(2,!0);break;case"YYY":e=zt(3);break;case"YYYY":e=zt(4);break;case"M":case"L":e=hn(Et.Month,1,1);break;case"MM":case"LL":e=hn(Et.Month,2,1);break;case"MMM":e=tn(Mt.Months,qe.Abbreviated);break;case"MMMM":e=tn(Mt.Months,qe.Wide);break;case"MMMMM":e=tn(Mt.Months,qe.Narrow);break;case"LLL":e=tn(Mt.Months,qe.Abbreviated,Ve.Standalone);break;case"LLLL":e=tn(Mt.Months,qe.Wide,Ve.Standalone);break;case"LLLLL":e=tn(Mt.Months,qe.Narrow,Ve.Standalone);break;case"w":e=Pt(1);break;case"ww":e=Pt(2);break;case"W":e=Pt(1,!0);break;case"d":e=hn(Et.Date,1);break;case"dd":e=hn(Et.Date,2);break;case"c":case"cc":e=hn(Et.Day,1);break;case"ccc":e=tn(Mt.Days,qe.Abbreviated,Ve.Standalone);break;case"cccc":e=tn(Mt.Days,qe.Wide,Ve.Standalone);break;case"ccccc":e=tn(Mt.Days,qe.Narrow,Ve.Standalone);break;case"cccccc":e=tn(Mt.Days,qe.Short,Ve.Standalone);break;case"E":case"EE":case"EEE":e=tn(Mt.Days,qe.Abbreviated);break;case"EEEE":e=tn(Mt.Days,qe.Wide);break;case"EEEEE":e=tn(Mt.Days,qe.Narrow);break;case"EEEEEE":e=tn(Mt.Days,qe.Short);break;case"a":case"aa":case"aaa":e=tn(Mt.DayPeriods,qe.Abbreviated);break;case"aaaa":e=tn(Mt.DayPeriods,qe.Wide);break;case"aaaaa":e=tn(Mt.DayPeriods,qe.Narrow);break;case"b":case"bb":case"bbb":e=tn(Mt.DayPeriods,qe.Abbreviated,Ve.Standalone,!0);break;case"bbbb":e=tn(Mt.DayPeriods,qe.Wide,Ve.Standalone,!0);break;case"bbbbb":e=tn(Mt.DayPeriods,qe.Narrow,Ve.Standalone,!0);break;case"B":case"BB":case"BBB":e=tn(Mt.DayPeriods,qe.Abbreviated,Ve.Format,!0);break;case"BBBB":e=tn(Mt.DayPeriods,qe.Wide,Ve.Format,!0);break;case"BBBBB":e=tn(Mt.DayPeriods,qe.Narrow,Ve.Format,!0);break;case"h":e=hn(Et.Hours,1,-12);break;case"hh":e=hn(Et.Hours,2,-12);break;case"H":e=hn(Et.Hours,1);break;case"HH":e=hn(Et.Hours,2);break;case"m":e=hn(Et.Minutes,1);break;case"mm":e=hn(Et.Minutes,2);break;case"s":e=hn(Et.Seconds,1);break;case"ss":e=hn(Et.Seconds,2);break;case"S":e=hn(Et.FractionalSeconds,1);break;case"SS":e=hn(Et.FractionalSeconds,2);break;case"SSS":e=hn(Et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Yr(Lt.Short);break;case"ZZZZZ":e=Yr(Lt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Yr(Lt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Yr(Lt.Long);break;default:return null}return Mi[n]=e,e}(C);b+=A?A(r,t,_):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function En(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Qn(n,e){const t=function de(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Ti[t]=Ti[t]||{},Ti[t][e])return Ti[t][e];let i="";switch(e){case"shortDate":i=cn(n,gt.Short);break;case"mediumDate":i=cn(n,gt.Medium);break;case"longDate":i=cn(n,gt.Long);break;case"fullDate":i=cn(n,gt.Full);break;case"shortTime":i=xt(n,gt.Short);break;case"mediumTime":i=xt(n,gt.Medium);break;case"longTime":i=xt(n,gt.Long);break;case"fullTime":i=xt(n,gt.Full);break;case"short":const r=Qn(n,"shortTime"),a=Qn(n,"shortDate");i=zi(on(n,gt.Short),[r,a]);break;case"medium":const u=Qn(n,"mediumTime"),f=Qn(n,"mediumDate");i=zi(on(n,gt.Medium),[u,f]);break;case"long":const _=Qn(n,"longTime"),b=Qn(n,"longDate");i=zi(on(n,gt.Long),[_,b]);break;case"full":const C=Qn(n,"fullTime"),A=Qn(n,"fullDate");i=zi(on(n,gt.Full),[C,A])}return i&&(Ti[t][e]=i),i}function zi(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Ai(n,e,t="-",i,r){let a="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,a=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),a+u}function hn(n,e,t=0,i=!1,r=!1){return function(a,u){let f=function mo(n,e){switch(n){case Et.FullYear:return e.getFullYear();case Et.Month:return e.getMonth();case Et.Date:return e.getDate();case Et.Hours:return e.getHours();case Et.Minutes:return e.getMinutes();case Et.Seconds:return e.getSeconds();case Et.FractionalSeconds:return e.getMilliseconds();case Et.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===Et.Hours)0===f&&-12===t&&(f=12);else if(n===Et.FractionalSeconds)return function Fa(n,e){return Ai(n,3).substring(0,e)}(f,e);const _=tt(u,it.MinusSign);return Ai(f,e,_,i,r)}}function tn(n,e,t=Ve.Format,i=!1){return function(r,a){return function $i(n,e,t,i,r,a){switch(t){case Mt.Months:return function Pe(n,e,t){const i=(0,l.cg1)(n),a=Sn([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],e);return Sn(a,t)}(e,r,i)[n.getMonth()];case Mt.Days:return function Me(n,e,t){const i=(0,l.cg1)(n),a=Sn([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],e);return Sn(a,t)}(e,r,i)[n.getDay()];case Mt.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(a){const b=function br(n){const e=(0,l.cg1)(n);return ds(e),(e[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?or(i):[or(i[0]),or(i[1])])}(e),C=function rr(n,e,t){const i=(0,l.cg1)(n);ds(i);const a=Sn([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],e)||[];return Sn(a,t)||[]}(e,r,i),A=b.findIndex(k=>{if(Array.isArray(k)){const[V,G]=k,K=u>=V.hours&&f>=V.minutes,oe=u<G.hours||u===G.hours&&f<G.minutes;if(V.hours<G.hours){if(K&&oe)return!0}else if(K||oe)return!0}else if(k.hours===u&&k.minutes===f)return!0;return!1});if(-1!==A)return C[A]}return function ye(n,e,t){const i=(0,l.cg1)(n),a=Sn([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],e);return Sn(a,t)}(e,r,i)[u<12?0:1];case Mt.Eras:return function He(n,e){return Sn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,a,n,e,t,i)}}function Yr(n){return function(e,t,i){const r=-1*i,a=tt(t,it.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Lt.Short:return(r>=0?"+":"")+Ai(u,2,a)+Ai(Math.abs(r%60),2,a);case Lt.ShortGMT:return"GMT"+(r>=0?"+":"")+Ai(u,1,a);case Lt.Long:return"GMT"+(r>=0?"+":"")+Ai(u,2,a)+":"+Ai(Math.abs(r%60),2,a);case Lt.Extended:return 0===i?"Z":(r>=0?"+":"")+Ai(u,2,a)+":"+Ai(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}const je=0,we=4;function Tt(n){return En(n.getFullYear(),n.getMonth(),n.getDate()+(we-n.getDay()))}function Pt(n,e=!1){return function(t,i){let r;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+a)/7)}else{const a=Tt(t),u=function ot(n){const e=En(n,je,1).getDay();return En(n,0,1+(e<=we?we:we+7)-e)}(a.getFullYear()),f=a.getTime()-u.getTime();r=1+Math.round(f/6048e5)}return Ai(r,n,tt(i,it.MinusSign))}}function zt(n,e=!1){return function(t,i){return Ai(Tt(t).getFullYear(),n,tt(i,it.MinusSign),e)}}const Mi={};function B(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ze(n){return n instanceof Date&&!isNaN(n.valueOf())}const ps=/\s+/,wr=[];let Je=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this.initialClasses=wr,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ps):wr}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ps):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(ps).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Qr{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Qr(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),ms(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ms(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ms(n,e){n.context.$implicit=e.item}let go=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Pa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Pa{constructor(){this.$implicit=null,this.ngIf=null}}function qt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class Hs{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Go=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),_o=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Hs(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Go,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),js=(()=>{class n{constructor(t,i,r){r._addDefault(new Hs(t,i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Go,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Wi=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:a,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,a,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();const vo=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Rl=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let _s=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,a){if(null==t||""===t||t!=t)return null;try{return fs(t,i??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw function Jt(n,e){return new l.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(vo,24),l.Y36(Rl,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),bs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const jc="browser",Cr="server";function kl(n){return n===Cr}let ws=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new La((0,l.LFG)(Q),window)}),n})();class La{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ws(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qs(this.window.history)||qs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xs extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Cs extends Xs{static makeCurrent(){!function ne(n){X||(X=n)}(new Cs)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $l(){return Zo=Zo||document.querySelector("base"),Zo?Zo.getAttribute("href"):null}();return null==t?null:function qa(n){xr=xr||document.createElement("a"),xr.setAttribute("href",n);const e=xr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Al(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let xr,Zo=null;const Ad=new l.OlP("TRANSITION_ID"),Md=[{provide:l.ip1,useFactory:function bm(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=P(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Ad,Q,l.zs3],multi:!0}];let wm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ir=new l.OlP("EventManagerPlugins");let iu=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ir),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class af{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=P().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let to=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let a=r.get(t)??0;return a+=i,a>0?r.set(t,a):r.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Js=(()=>{class n extends to{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(a=>a.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const a=this.styleRef.get(i);a?a.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Dn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yo=/%COMP%/g,Wa=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ia(n,e){return e.flat(100).map(t=>t.replace(Yo,n))}function xs(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Co=(()=>{class n{constructor(t,i,r,a){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Sr(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof oa?r.applyToHost(t):r instanceof Qo&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let a=r.get(i.id);if(!a){const u=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(i.encapsulation){case l.ifc.Emulated:a=new oa(u,f,i,this.appId,_);break;case l.ifc.ShadowDom:return new Gl(u,f,t,i);default:a=new Qo(u,f,i,_)}a.onDestroy=()=>r.delete(i.id),r.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(iu),l.LFG(Js),l.LFG(l.AFp),l.LFG(Wa))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Sr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Dn[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ko(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Ko(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Dn[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Dn[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xs(i)):this.eventManager.addEventListener(e,t,xs(i))}}function Ko(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Gl extends Sr{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ia(r.id,r.styles);for(const u of a){const f=document.createElement("style");f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qo extends Sr{constructor(e,t,i,r,a=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=ia(a,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class oa extends Qo{constructor(e,t,i,r,a){const u=r+"-"+i.id;super(e,t,i,a,u),this.contentAttr=function na(n){return"_ngcontent-%COMP%".replace(Yo,n)}(u),this.hostAttr=function ou(n){return"_nghost-%COMP%".replace(Yo,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let cf=(()=>{class n extends af{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ya=["alt","control","meta","shift"],uf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Do={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Rd=(()=>{class n extends af{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),Ya.forEach(b=>{const C=i.indexOf(b);C>-1&&(i.splice(C,1),u+=b+".")}),u+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(t,i){let r=uf[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ya.forEach(u=>{u!==r&&(0,Do[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const sa=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:jc},{provide:l.g9A,useValue:function Wl(){Cs.makeCurrent()},multi:!0},{provide:Q,useFactory:function su(){return(0,l.RDi)(document),document},deps:[]}]),Fd=new l.OlP(""),Pd=[{provide:l.rWj,useClass:class nu{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Zl=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Fi(){return new l.qLn},deps:[]},{provide:Ir,useClass:cf,multi:!0,deps:[Q,l.R0b,l.Lbi]},{provide:Ir,useClass:Rd,multi:!0,deps:[Q]},{provide:Co,useClass:Co,deps:[iu,Js,l.AFp,Wa]},{provide:l.FYo,useExisting:Co},{provide:to,useExisting:Js},{provide:Js,useClass:Js,deps:[Q]},{provide:iu,useClass:iu,deps:[Ir,l.R0b]},{provide:class $c{},useClass:wm,deps:[]},[]];let xo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Ad,useExisting:l.AFp},Md]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fd,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Zl,...Pd],imports:[bs,l.hGG]}),n})(),aa=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Nd(){return new aa((0,l.LFG)(Q))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ua=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(yf),i},providedIn:"root"}),n})(),yf=(()=>{class n extends ua{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ld(n){return new yf(n.get(Q))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var Kt=F(8996),no=F(3269);function We(...n){const e=(0,no.yG)(n);return(0,Kt.D)(n,e)}var Nt=F(7579);class $n extends Nt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const ts=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Mn=F(9751);const{isArray:bf}=Array,{getPrototypeOf:So,prototype:Vd,keys:Kl}=Object;function da(n){if(1===n.length){const e=n[0];if(bf(e))return{args:e,keys:null};if(function ha(n){return n&&"object"==typeof n&&So(n)===Vd}(e)){const t=Kl(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var io=F(4671),rt=F(4004);const{isArray:x}=Array;function M(n){return(0,rt.U)(e=>function I(n,e){return x(e)?n(...e):n(e)}(n,e))}function L(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var q=F(5403),te=F(9672);function Ie(...n){const e=(0,no.yG)(n),t=(0,no.jO)(n),{args:i,keys:r}=da(n);if(0===i.length)return(0,Kt.D)([],e);const a=new Mn.y(function lt(n,e,t=io.y){return i=>{ct(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)ct(e,()=>{const b=(0,Kt.D)(n[_],e);let C=!1;b.subscribe((0,q.x)(i,A=>{a[_]=A,C||(C=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>L(r,u):io.y));return t?a.pipe(M(t)):a}function ct(n,e,t){n?(0,te.f)(t,n,e):e()}var pt=F(8189);function It(...n){return function Yt(){return(0,pt.J)(1)}()((0,Kt.D)(n,(0,no.yG)(n)))}var Pn=F(8421);function Hn(n){return new Mn.y(e=>{(0,Pn.Xf)(n()).subscribe(e)})}var Ja=F(9635),Yi=F(576);function jr(n,e){const t=(0,Yi.m)(n)?n:()=>n,i=r=>r.error(t());return new Mn.y(e?r=>e.schedule(i,0,r):i)}var Gn=F(515),xn=F(727),jn=F(4482);function Bd(){return(0,jn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,q.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Ql extends Mn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,jn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,q.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xn.w0.EMPTY)}return e}refCount(){return Bd()(this)}}function qn(n,e){return(0,jn.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,q.x)(i,_=>{r?.unsubscribe();let b=0;const C=a++;(0,Pn.Xf)(n(_,C)).subscribe(r=(0,q.x)(i,A=>i.next(e?e(_,A,C,b++):A),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function Ci(n){return n<=0?()=>Gn.E:(0,jn.e)((e,t)=>{let i=0;e.subscribe((0,q.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function fa(...n){const e=(0,no.yG)(n);return(0,jn.e)((t,i)=>{(e?It(n,t,e):It(n,t)).subscribe(i)})}function Wn(n,e){return(0,jn.e)((t,i)=>{let r=0;t.subscribe((0,q.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var Ni=F(5577);function Xl(n){return(0,jn.e)((e,t)=>{let i=!1;e.subscribe((0,q.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function xm(n=tw){return(0,jn.e)((e,t)=>{let i=!1;e.subscribe((0,q.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function tw(){return new ts}function Tr(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Wn((r,a)=>n(r,a,i)):io.y,Ci(1),t?Xl(e):xm(()=>new ts))}function el(n,e){return(0,Yi.m)(e)?(0,Ni.z)(n,e,1):(0,Ni.z)(n,1)}var ci=F(8505);function pa(n){return(0,jn.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,q.x)(t,void 0,void 0,u=>{a=(0,Pn.Xf)(n(u,pa(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function Ud(n,e){return(0,jn.e)(function nw(n,e,t,i,r){return(a,u)=>{let f=t,_=e,b=0;a.subscribe((0,q.x)(u,C=>{const A=b++;_=f?n(_,C,A):(f=!0,C),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}(n,e,arguments.length>=2,!0))}function wf(n){return n<=0?()=>Gn.E:(0,jn.e)((e,t)=>{let i=[];e.subscribe((0,q.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ef(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Wn((r,a)=>n(r,a,i)):io.y,wf(1),t?Xl(e):xm(()=>new ts))}function Hd(n,e=!1){return(0,jn.e)((t,i)=>{let r=0;t.subscribe((0,q.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}function cu(n){return(0,jn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ht="primary",Ar=Symbol("RouteTitle");class Ey{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Jl(n){return new Ey(n)}function Im(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ro(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!Tm(n[r],e[r]))return!1;return!0}function Tm(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Am(n){return Array.prototype.concat.apply([],n)}function jd(n){return n.length>0?n[n.length-1]:null}function vi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ma(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Kt.D)(Promise.resolve(n)):We(n)}const Di=!1,Cf={exact:function ga(n,e,t){if(!tl(n.segments,e.segments)||!tc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!ga(n.children[i],e.children[i],t))return!1;return!0},subset:ec},uu={exact:function fr(n,e){return ro(n,e)},subset:function Df(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Tm(n[t],e[t]))},ignored:()=>!0};function zd(n,e,t){return Cf[t.paths](n.root,e.root,t.matrixParams)&&uu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ec(n,e,t){return xf(n,e,e.segments,t)}function xf(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!tl(r,t)||e.hasChildren()||!tc(r,t,i))}if(n.segments.length===t.length){if(!tl(n.segments,t)||!tc(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!ec(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(tl(n.segments,r)&&tc(n.segments,r,i)&&n.children[Ht])&&xf(n.children[Ht],e,a,i)}}function tc(n,e,t){return e.every((i,r)=>uu[t](n[r].parameters,i.parameters))}class _a{constructor(e=new Qt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jl(this.queryParams)),this._queryParamMap}toString(){return il.serialize(this)}}class Qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,vi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ya(this)}}class du{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Jl(this.parameters)),this._parameterMap}toString(){return If(this)}}function tl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let nl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new $d},providedIn:"root"}),n})();class $d{parse(e){const t=new Zd(e);return new _a(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${hu(e.root,!0)}`,i=function pu(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${nc(t)}=${nc(r)}`).join("&"):`${nc(t)}=${nc(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function fu(n){return encodeURI(n)}(e.fragment)}`:""}`}}const il=new $d;function ya(n){return n.segments.map(e=>If(e)).join("/")}function hu(n,e){if(!n.hasChildren())return ya(n);if(e){const t=n.children[Ht]?hu(n.children[Ht],!1):"",i=[];return vi(n.children,(r,a)=>{a!==Ht&&i.push(`${a}:${hu(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Rm(n,e){let t=[];return vi(n.children,(i,r)=>{r===Ht&&(t=t.concat(e(i,r)))}),vi(n.children,(i,r)=>{r!==Ht&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Ht?[hu(n.children[Ht],!1)]:[`${r}:${hu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${ya(n)}/${t[0]}`:`${ya(n)}/(${t.join("//")})`}}function Gd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nc(n){return Gd(n).replace(/%3B/gi,";")}function qd(n){return Gd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function As(n){return decodeURIComponent(n)}function ic(n){return As(n.replace(/\+/g,"%20"))}function If(n){return`${qd(n.path)}${function Dy(n){return Object.keys(n).map(e=>`;${qd(e)}=${qd(n[e])}`).join("")}(n.parameters)}`}const xy=/^[^\/()?;=#]+/;function Wd(n){const e=n.match(xy);return e?e[0]:""}const Iy=/^[^=?&#]+/,Ty=/^[^&#]+/;class Zd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ht]=new Qt(e,t)),i}parseSegment(){const e=Wd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,Di);return this.capture(e),new du(As(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Wd(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Wd(this.remaining);r&&(i=r,this.capture(i))}e[As(t)]=As(i)}parseQueryParam(e){const t=function Sy(n){const e=n.match(Iy);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function Om(n){const e=n.match(Ty);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=ic(t),a=ic(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Wd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,Di);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Ht);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Ht]:new Qt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,Di)}}function mu(n){return n.segments.length>0?new Qt([],{[Ht]:n}):n}function gu(n){const e={};for(const i of Object.keys(n.children)){const a=gu(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function _u(n){if(1===n.numberOfChildren&&n.children[Ht]){const e=n.children[Ht];return new Qt(n.segments.concat(e.segments),e.children)}return n}(new Qt(n.segments,e))}function Ms(n){return n instanceof _a}const Sf=!1;function km(n,e,t,i,r){if(0===t.length)return yu(e.root,e.root,e.root,i,r);const a=function Tf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Fm(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return vi(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Fm(t,e,i)}(t);return a.toRoot()?yu(e.root,e.root,new Qt([],{}),i,r):function u(_){const b=function Yd(n,e,t,i){if(n.isAbsolute)return new To(e.root,!0,0);if(-1===i)return new To(t,t===e.root,0);return function Af(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new l.vHH(4005,Sf&&"Invalid number of '../'");r=i.segments.length}return new To(i,!1,r-a)}(t,i+(oc(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),C=b.processChildren?rl(b.segmentGroup,b.index,a.commands):ac(b.segmentGroup,b.index,a.commands);return yu(e.root,b.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function oc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sc(n){return"object"==typeof n&&null!=n&&n.outlets}function yu(n,e,t,i,r){let u,a={};i&&vi(i,(_,b)=>{a[b]=Array.isArray(_)?_.map(C=>`${C}`):`${_}`}),u=n===e?t:vu(n,e,t);const f=mu(gu(u));return new _a(f,a,r)}function vu(n,e,t){const i={};return vi(n.children,(r,a)=>{i[a]=r===e?t:vu(r,e,t)}),new Qt(n.segments,i)}class Fm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&oc(i[0]))throw new l.vHH(4003,Sf&&"Root segment cannot have matrix parameters");const r=i.find(sc);if(r&&r!==jd(i))throw new l.vHH(4004,Sf&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class To{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function ac(n,e,t){if(n||(n=new Qt([],{})),0===n.segments.length&&n.hasChildren())return rl(n,e,t);const i=function Qd(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(sc(f))break;const _=`${f}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Nm(_,b,u))return a;i+=2}else{if(!Nm(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Qt(n.segments.slice(0,i.pathIndex),{});return a.children[Ht]=new Qt(n.segments.slice(i.pathIndex),n.children),rl(a,0,r)}return i.match&&0===r.length?new Qt(n.segments,{}):i.match&&!n.hasChildren()?ol(n,e,t):i.match?rl(n,0,r):ol(n,e,t)}function rl(n,e,t){if(0===t.length)return new Qt(n.segments,{});{const i=function Kd(n){return sc(n[0])?n[0].outlets:{[Ht]:n}}(t),r={};return!i[Ht]&&n.children[Ht]&&1===n.numberOfChildren&&0===n.children[Ht].segments.length?rl(n.children[Ht],e,t):(vi(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=ac(n.children[u],e,a))}),vi(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new Qt(n.segments,r))}}function ol(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(sc(a)){const _=bu(a.outlets);return new Qt(i,_)}if(0===r&&oc(t[0])){i.push(new du(n.segments[e].path,sl(t[0]))),r++;continue}const u=sc(a)?a.outlets[Ht]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&oc(f)?(i.push(new du(u,sl(f))),r+=2):(i.push(new du(u,{})),r++)}return new Qt(i,{})}function bu(n){const e={};return vi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=ol(new Qt([],{}),0,t))}),e}function sl(n){const e={};return vi(n,(t,i)=>e[i]=`${t}`),e}function Nm(n,e,t){return n==t.path&&ro(e,t.parameters)}const ba="imperative";class ns{constructor(e,t){this.id=e,this.url=t}}class pr extends ns{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ao extends ns{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lc extends ns{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wu extends ns{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class wa extends ns{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Eu extends ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cc extends ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lm extends ns{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class My extends ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class al extends ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mf{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ry{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bm{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cu{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Du{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let mr=(()=>{class n{createUrlTree(t,i,r,a,u,f){return km(t||i.root,r,a,u,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Hm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return mr.\u0275fac(e)},providedIn:"root"}),n})();class Rf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Of(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Of(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Iu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Iu(e,this._root).map(t=>t.value)}}function Of(n,e){if(n===e.value)return e;for(const t of e.children){const i=Of(n,t);if(i)return i}return null}function Iu(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Iu(n,t);if(i.length)return i.unshift(e),i}return[]}class Li{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Mo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class jm extends Rf{constructor(e,t){super(e),this.snapshot=t,Z(this,e)}toString(){return this.snapshot.toString()}}function zm(n,e){const t=function y(n,e){const u=new S([],{},{},"",{},Ht,e,null,n.root,-1,{});return new O("",new Li(u,[]))}(n,e),i=new $n([new du("",{})]),r=new $n({}),a=new $n({}),u=new $n({}),f=new $n(""),_=new p(i,r,u,f,a,Ht,e,t.root);return _.snapshot=t.root,new jm(new Li(_,[]),t)}class p{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,rt.U)(b=>b[Ar]))??We(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(e=>Jl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(e=>Jl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function m(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function w(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class S{get title(){return this.data?.[Ar]}constructor(e,t,i,r,a,u,f,_,b,C,A){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=C,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class O extends Rf{constructor(e,t){super(t),this.url=e,Z(this,t)}toString(){return le(this._root)}}function Z(n,e){e.value._routerState=n,e.children.forEach(t=>Z(n,t))}function le(n){const e=n.children.length>0?` { ${n.children.map(le).join(", ")} } `:"";return`${n.value}${e}`}function Be(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ro(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ro(e.params,t.params)||n.params.next(t.params),function Sm(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ro(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ro(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function et(n,e){const t=ro(n.params,e.params)&&function Mm(n,e){return tl(n,e)&&n.every((t,i)=>ro(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||et(n.parent,e.parent))}function dt(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function ui(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return dt(n,i,r);return dt(n,i)})}(n,e,t);return new Li(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>dt(n,f)),u}}const i=function oo(n){return new p(new $n(n.url),new $n(n.params),new $n(n.queryParams),new $n(n.fragment),new $n(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>dt(n,a));return new Li(i,r)}}const ll="ngNavigationCancelingError";function $m(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ms(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=kf(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function kf(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ll]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Gm(n){return Su(n)&&Ms(n.url)}function Su(n){return n&&n[ll]}class Tu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Au,this.attachRef=null}}let Au=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Tu,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jd=!1;let uc=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Au),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Jd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Jd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Jd);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,Jd);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new qm(t,f,r.injector);if(i&&function Oy(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(u);this.activated=r.createComponent(b,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class qm{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===p?this.route:e===Au?this.childContexts:this.parent.get(e,t)}}let Mu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[uc],encapsulation:2}),n})();function Wm(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Zm(n){const e=n.children&&n.children.map(Zm),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ht&&(t.component=Mu),t}function Ro(n){return n.outlet||Ht}function rw(n,e){const t=n.filter(i=>Ro(i)===e);return t.push(...n.filter(i=>Ro(i)!==e)),t}function Ff(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Xx{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Be(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Mo(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),vi(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Mo(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Mo(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Mo(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Ki(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Bm(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(Be(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Be(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=Ff(r.snapshot),_=f?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class Py{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ny{constructor(e,t){this.component=e,this.route=t}}function zR(n,e,t){const i=n._root;return eh(i,e?e._root:null,t,[i.value])}function dc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function eh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Mo(e);return n.children.forEach(u=>{(function ow(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function sw(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!tl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!tl(n.url,e.url)||!ro(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!et(n,e)||!ro(n.queryParams,e.queryParams);default:return!et(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Py(i)):(a.data=u.data,a._resolvedData=u._resolvedData),eh(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Ny(f.outlet.component,u))}else u&&Ym(e,f,r),r.canActivateChecks.push(new Py(i)),eh(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),vi(a,(u,f)=>Ym(u,t.getContext(f),r)),r}function Ym(n,e,t){const i=Mo(n),r=n.value;vi(i,(a,u)=>{Ym(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ny(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Nf(n){return"function"==typeof n}function Km(n){return n instanceof ts||"EmptyError"===n?.name}const Ea=Symbol("INITIAL_VALUE");function th(){return qn(n=>Ie(n.map(e=>e.pipe(Ci(1),fa(Ea)))).pipe((0,rt.U)(e=>{for(const t of e)if(!0!==t){if(t===Ea)return Ea;if(!1===t||t instanceof _a)return t}return!0}),Wn(e=>e!==Ea),Ci(1)))}function hw(n){return(0,Ja.z)((0,ci.b)(e=>{if(Ms(e))throw $m(0,e)}),(0,rt.U)(e=>!0===e))}const hc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pw(n,e,t,i,r){const a=jy(n,e,t);return a.matched?function fw(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?We(r.map(u=>{const f=dc(u,n);return ma(function Jx(n){return n&&Nf(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(th(),hw()):We(!0)}(i=Wm(e,i),e,t).pipe((0,rt.U)(u=>!0===u?a:{...hc})):We(a)}function jy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...hc}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Im)(t,n,e);if(!r)return{...hc};const a={};vi(r.posParams,(f,_)=>{a[_]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function Jm(n,e,t,i){if(t.length>0&&function mw(n,e,t){return t.some(i=>Lf(n,e,i)&&Ro(i)!==Ht)}(n,t,i)){const a=new Qt(e,function nI(n,e,t,i){const r={};r[Ht]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Ro(a)!==Ht){const u=new Qt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Ro(a)]=u}return r}(n,e,i,new Qt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function iI(n,e,t){return t.some(i=>Lf(n,e,i))}(n,t,i)){const a=new Qt(n.segments,function zy(n,e,t,i,r){const a={};for(const u of i)if(Lf(n,t,u)&&!r[Ro(u)]){const f=new Qt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[Ro(u)]=f}return{...r,...a}}(n,e,t,i,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const r=new Qt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function Lf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function rI(n,e,t,i){return!!(Ro(n)===i||i!==Ht&&Lf(e,t,n))&&("**"===n.path||jy(e,n,t).matched)}function gw(n,e,t){return 0===e.length&&!n.children[t]}const fc=!1;class eg{constructor(e){this.segmentGroup=e||null}}class Ou{constructor(e){this.urlTree=e}}function cl(n){return jr(new eg(n))}function _w(n){return jr(new Ou(n))}class aI{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=Jm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ht).pipe((0,rt.U)(a=>this.createUrlTree(gu(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(pa(a=>{if(a instanceof Ou)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof eg?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ht).pipe((0,rt.U)(r=>this.createUrlTree(gu(r),e.queryParams,e.fragment))).pipe(pa(r=>{throw r instanceof eg?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,fc)}createUrlTree(e,t,i){const r=mu(e);return new _a(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,rt.U)(a=>new Qt([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Kt.D)(r).pipe(el(a=>{const u=i.children[a],f=rw(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,rt.U)(_=>({segment:_,outlet:a})))}),Ud((a,u)=>(a[u.outlet]=u.segment,a),{}),Ef())}expandSegment(e,t,i,r,a,u){return(0,Kt.D)(i).pipe(el(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(pa(b=>{if(b instanceof eg)return We(null);throw b}))),Tr(f=>!!f),pa((f,_)=>{if(Km(f))return gw(t,r,a)?We(new Qt([],{})):cl(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return rI(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):cl(t):cl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?_w(a):this.lineralizeSegments(i,a).pipe((0,Ni.z)(u=>{const f=new Qt(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:C}=jy(t,r,a);if(!f)return cl(t);const A=this.applyRedirectCommands(_,r.redirectTo,C);return r.redirectTo.startsWith("/")?_w(A):this.lineralizeSegments(r,A).pipe((0,Ni.z)(k=>this.expandSegment(e,t,i,k.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=Wm(i,e),i.loadChildren?(i._loadedRoutes?We({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,rt.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new Qt(r,{})))):We(new Qt(r,{}))):pw(t,i,r,e).pipe(qn(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Ni.z)(C=>{const A=C.injector??e,k=C.routes,{segmentGroup:V,slicedSegments:G}=Jm(t,f,_,k),K=new Qt(V.segments,V.children);if(0===G.length&&K.hasChildren())return this.expandChildren(A,k,K).pipe((0,rt.U)(ht=>new Qt(f,ht)));if(0===k.length&&0===G.length)return We(new Qt(f,{}));const oe=Ro(i)===a;return this.expandSegment(A,K,k,G,oe?Ht:a,!0).pipe((0,rt.U)(mt=>new Qt(f.concat(mt.segments),mt.children)))})):cl(t)))}getChildConfig(e,t,i){return t.children?We({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?We({routes:t._loadedRoutes,injector:t._loadedInjector}):function tI(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?We(!0):We(r.map(u=>{const f=dc(u,n);return ma(function lw(n){return n&&Nf(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(th(),hw())}(e,t,i).pipe((0,Ni.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,ci.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function oI(n){return jr(kf(fc,3))}())):We({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return We(i);if(r.numberOfChildren>1||!r.children[Ht])return e.redirectTo,jr(new l.vHH(4e3,fc));r=r.children[Ht]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new _a(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return vi(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return vi(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new Qt(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,fc);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Gy{}class Wy{constructor(e,t,i,r,a,u,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.urlSerializer=f}recognize(){const e=Jm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ht).pipe((0,rt.U)(t=>{if(null===t)return null;const i=new S([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Li(i,t),a=new O(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=m(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Kt.D)(Object.keys(i.children)).pipe(el(r=>{const a=i.children[r],u=rw(t,r);return this.processSegmentGroup(e,u,a,r)}),Ud((r,a)=>r&&a?(r.push(...a),r):null),Hd(r=>null!==r),Xl(null),Ef(),(0,rt.U)(r=>{if(null===r)return null;const a=bw(r);return function Vf(n){n.sort((e,t)=>e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,Kt.D)(t).pipe(el(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),Tr(u=>!!u),pa(u=>{if(Km(u))return gw(i,r,a)?We([]):We(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!rI(t,i,r,a))return We(null);let u;if("**"===t.path){const f=r.length>0?jd(r).parameters:{},_=Ew(i)+r.length;u=We({snapshot:new S(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ku(t),Ro(t),t.component??t._loadedComponent??null,t,ww(i),_,Ca(t)),consumedSegments:[],remainingSegments:[]})}else u=pw(i,t,r,e).pipe((0,rt.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:C})=>{if(!f)return null;const A=Ew(i)+_.length;return{snapshot:new S(_,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ku(t),Ro(t),t.component??t._loadedComponent??null,t,ww(i),A,Ca(t)),consumedSegments:_,remainingSegments:b}}));return u.pipe(qn(f=>{if(null===f)return We(null);const{snapshot:_,consumedSegments:b,remainingSegments:C}=f;e=t._injector??e;const A=t._loadedInjector??e,k=function cI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:G}=Jm(i,b,C,k.filter(oe=>void 0===oe.redirectTo));if(0===G.length&&V.hasChildren())return this.processChildren(A,k,V).pipe((0,rt.U)(oe=>null===oe?null:[new Li(_,oe)]));if(0===k.length&&0===G.length)return We([new Li(_,[])]);const K=Ro(t)===a;return this.processSegment(A,k,V,G,K?Ht:a).pipe((0,rt.U)(oe=>null===oe?null:[new Li(_,oe)]))}))}}function uI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function bw(n){const e=[],t=new Set;for(const i of n){if(!uI(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=bw(i.children);e.push(new Li(i.value,r))}return e.filter(i=>!t.has(i))}function ww(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ew(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ku(n){return n.data||{}}function Ca(n){return n.resolve||{}}function fI(n,e){return(0,Ni.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return We(t);let a=0;return(0,Kt.D)(r).pipe(el(u=>function qR(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!Zy(r)&&(a[Ar]=r.title),function WR(n,e,t,i){const r=function Cw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return We({});const a={};return(0,Kt.D)(r).pipe((0,Ni.z)(u=>function ZR(n,e,t,i){const r=Ff(e)??i,a=dc(n,r);return ma(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[u],e,t,i).pipe(Tr(),(0,ci.b)(f=>{a[u]=f}))),wf(1),function lu(n){return(0,rt.U)(()=>n)}(a),pa(u=>Km(u)?Gn.E:jr(u)))}(a,n,e,i).pipe((0,rt.U)(u=>(n._resolvedData=u,n.data=m(n,t).resolve,r&&Zy(r)&&(n.data[Ar]=r.title),null)))}(u.route,i,n,e)),(0,ci.b)(()=>a++),wf(1),(0,Ni.z)(u=>a===r.length?We(t):Gn.E))})}function Zy(n){return"string"==typeof n.title||null===n.title}function tg(n){return qn(e=>{const t=n(e);return t?(0,Kt.D)(t).pipe((0,rt.U)(()=>e)):We(e)})}const Fu=new l.OlP("ROUTES");let Yy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return We(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ma(t.loadComponent()).pipe((0,rt.U)(is),(0,ci.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),cu(()=>{this.componentLoaders.delete(t)})),r=new Ql(i,()=>new Nt.x).pipe(Bd());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return We({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,rt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b,C=!1;Array.isArray(f)?b=f:(_=f.create(t).injector,b=Am(_.get(Fu,[],l.XFs.Self|l.XFs.Optional)));return{routes:b.map(Zm),injector:_}}),cu(()=>{this.childrenLoaders.delete(i)})),u=new Ql(a,()=>new Nt.x).pipe(Bd());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return ma(t()).pipe((0,rt.U)(is),(0,Ni.z)(i=>i instanceof l.YKP||Array.isArray(i)?We(i):(0,Kt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function is(n){return function pI(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Bf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Nt.x,this.configLoader=(0,l.f3M)(Yy),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(nl),this.rootContexts=(0,l.f3M)(Au),this.navigationId=0,this.afterPreactivation=()=>We(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Mf(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Vm(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new $n({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ba,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wn(i=>0!==i.id),(0,rt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),qn(i=>{let r=!1,a=!1;return We(i).pipe((0,ci.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qn(u=>{const f=t.browserUrlTree.toString(),_=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new wu(u.id,t.serializeUrl(i.rawUrl),C,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),Gn.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return xw(u.source)&&(t.browserUrlTree=u.extractedUrl),We(u).pipe(qn(C=>{const A=this.transitions?.getValue();return this.events.next(new pr(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),A!==this.transitions?.getValue()?Gn.E:Promise.resolve(C)}),function vw(n,e,t,i){return qn(r=>function sI(n,e,t,i,r){return new aI(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,rt.U)(a=>({...r,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ci.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},i.urlAfterRedirects=C.urlAfterRedirects}),function hI(n,e,t,i,r){return(0,Ni.z)(a=>function lI(n,e,t,i,r,a,u="emptyOnly"){return new Wy(n,e,t,i,r,u,a).recognize().pipe(qn(f=>null===f?function qy(n){return new Mn.y(e=>e.error(n))}(new Gy):We(f)))}(n,e,t,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r).pipe((0,rt.U)(u=>({...a,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ci.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(k,C)}t.browserUrlTree=C.urlAfterRedirects}const A=new Eu(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(A)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:A,source:k,restoredState:V,extras:G}=u,K=new pr(C,this.urlSerializer.serialize(A),k,V);this.events.next(K);const oe=zm(A,this.rootComponentType).snapshot;return We(i={...u,targetSnapshot:oe,urlAfterRedirects:A,extras:{...G,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new wu(u.id,t.serializeUrl(i.extractedUrl),C,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),Gn.E}}),(0,ci.b)(u=>{const f=new cc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,rt.U)(u=>i={...u,guards:zR(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function By(n,e){return(0,Ni.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?We({...t,guardsResult:!0}):function Qm(n,e,t,i){return(0,Kt.D)(n).pipe((0,Ni.z)(r=>function Hy(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?We(a.map(f=>{const _=Ff(e)??r,b=dc(f,_);return ma(function Vy(n){return n&&Nf(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,i):_.runInContext(()=>b(n,e,t,i))).pipe(Tr())})).pipe(th()):We(!0)}(r.component,r.route,t,e,i)),Tr(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Ni.z)(f=>f&&function aw(n){return"boolean"==typeof n}(f)?function eI(n,e,t,i){return(0,Kt.D)(e).pipe(el(r=>It(function Xm(n,e){return null!==n&&e&&e(new Ry(n)),We(!0)}(r.route.parent,i),function Uy(n,e){return null!==n&&e&&e(new Cu(n)),We(!0)}(r.route,i),function dw(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function Pf(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Hn(()=>We(u.guards.map(_=>{const b=Ff(u.node)??t,C=dc(_,b);return ma(function $R(n){return n&&Nf(n.canActivateChild)}(C)?C.canActivateChild(i,n):b.runInContext(()=>C(i,n))).pipe(Tr())})).pipe(th())));return We(a).pipe(th())}(n,r.path,t),function Ru(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return We(!0);const r=i.map(a=>Hn(()=>{const u=Ff(e)??t,f=dc(a,u);return ma(function Ly(n){return n&&Nf(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(Tr())}));return We(r).pipe(th())}(n,r.route,t))),Tr(r=>!0!==r,!0))}(i,a,n,e):We(f)),(0,rt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),(0,ci.b)(u=>{if(i.guardsResult=u.guardsResult,Ms(u.guardsResult))throw $m(0,u.guardsResult);const f=new Lm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),Wn(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),tg(u=>{if(u.guards.canActivateChecks.length)return We(u).pipe((0,ci.b)(f=>{const _=new My(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),qn(f=>{let _=!1;return We(f).pipe(fI(t.paramsInheritanceStrategy,this.environmentInjector),(0,ci.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,ci.b)(f=>{const _=new al(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),tg(u=>{const f=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,ci.b)(C=>{_.component=C}),(0,rt.U)(()=>{})));for(const C of _.children)b.push(...f(C));return b};return Ie(f(u.targetSnapshot.root)).pipe(Xl(),Ci(1))}),tg(()=>this.afterPreactivation()),(0,rt.U)(u=>{const f=function _t(n,e,t){const i=dt(n,e._root,t?t._root:void 0);return new jm(i,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:f}}),(0,ci.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,rt.U)(i=>(new Xx(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),(0,ci.b)({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ao(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),cu(()=>{r||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),pa(u=>{if(a=!0,Su(u)){Gm(u)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new lc(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),Gm(u)){const _=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||xw(i.source)};t.scheduleNavigation(_,ba,null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new wa(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(u))}catch(_){i.reject(_)}}return Gn.E}))}))}cancelNavigationTransition(t,i,r){const a=new lc(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xw(n){return n!==ba}let Iw=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Ht);return i}getResolvedTitleForRoute(t){return t.data[Ar]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(mI)},providedIn:"root"}),n})(),mI=(()=>{class n extends Iw{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(aa))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(_I)},providedIn:"root"}),n})();class Sw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let _I=(()=>{class n extends Sw{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ig=new l.OlP("",{providedIn:"root",factory:()=>({})});let Wt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Tw)},providedIn:"root"}),n})(),Tw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Aw(n){throw n}function vI(n,e,t){return e.parse("/")}const bI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(ig,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Aw,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Wt),this.routeReuseStrategy=(0,l.f3M)(gI),this.urlCreationStrategy=(0,l.f3M)(Hm),this.titleStrategy=(0,l.f3M)(Iw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Am((0,l.f3M)(Fu,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(Bf),this.urlSerializer=(0,l.f3M)(nl),this.location=(0,l.f3M)(Fe),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _a,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zm(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ba,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const a={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,u,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Zm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,b=_?this.currentUrlTree.fragment:u;let C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...a};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=a||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,C,b??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ms(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,ba,null,i)}navigate(t,i={skipLocationChange:!1}){return function Rw(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...bI}:!1===i?{...Mw}:i,Ms(t))return zd(this.currentUrlTree,t,r);const a=this.parseUrl(t);return zd(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,_,b,C;return u?(f=u.resolve,_=u.reject,b=u.promise):b=new Promise((A,k)=>{f=A,_=k}),C="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(A=>Promise.reject(A))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),og=(()=>{class n{constructor(t,i,r,a,u,f){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Nt.x;const _=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof Ao&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,a,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,a=this.el.nativeElement;null!==i?r.setAttribute(a,t,i):r.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Oo),l.Y36(p),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ut))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&l.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class Ky{}let CI=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Wn(t=>t instanceof Ao),el(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Kt.D)(r).pipe((0,pt.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):We(null);const a=r.pipe((0,Ni.z)(u=>null===u?We(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Kt.D)([a,u]).pipe((0,pt.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Oo),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Ky),l.LFG(Yy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uf=new l.OlP("");let sg=(()=>{class n{constructor(t,i,r,a,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=a,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ao&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Du&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Du(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var ko=(()=>((ko=ko||{})[ko.COMPLETE=0]="COMPLETE",ko[ko.FAILED=1]="FAILED",ko[ko.REDIRECTING=2]="REDIRECTING",ko))();const Hf=!1;function ul(n,e){return{\u0275kind:n,\u0275providers:e}}const kw=new l.OlP("",{providedIn:"root",factory:()=>!1});function Qy(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(Oo),r=n.get(zf);1===n.get(Xy)&&i.initialNavigation(),n.get(Pw,null,l.XFs.Optional)?.setUpPreloading(),n.get(Uf,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const zf=new l.OlP(Hf?"bootstrap done indicator":"",{factory:()=>new Nt.x}),Xy=new l.OlP(Hf?"initial navigation":"",{providedIn:"root",factory:()=>1});function II(){let n=[];return n=Hf?[{provide:l.Xts,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Oo);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Xd(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],ul(1,n)}const Pw=new l.OlP(Hf?"router preloader":"");function SI(n){return ul(0,[{provide:Pw,useExisting:CI},{provide:Ky,useExisting:n}])}const ih=!1,ag=new l.OlP(ih?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),eO=[Fe,{provide:nl,useClass:$d},Oo,Au,{provide:p,useFactory:function Ow(n){return n.routerState.root},deps:[Oo]},Yy,ih?{provide:kw,useValue:!0}:[]];function Jy(){return new l.PXZ("Router",Oo)}let Nw=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[eO,ih&&i?.enableTracing?II().\u0275providers:[],{provide:Fu,multi:!0,useValue:t},{provide:ag,useFactory:MI,deps:[[Oo,new l.FiY,new l.tp0]]},{provide:ig,useValue:i||{}},i?.useHash?{provide:ut,useClass:xe}:{provide:ut,useClass:De},{provide:Uf,useFactory:()=>{const n=(0,l.f3M)(ws),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(ig),i=(0,l.f3M)(Bf),r=(0,l.f3M)(nl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new sg(r,i,n,e,t)}},i?.preloadingStrategy?SI(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Jy},i?.initialNavigation?Vw(i):[],[{provide:Bw,useFactory:Qy},{provide:l.tb,multi:!0,useExisting:Bw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Fu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ag,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Mu]}),n})();function MI(n){if(ih&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Vw(n){return["disabled"===n.initialNavigation?ul(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Oo);return()=>{e.setUpLocationChangeListener()}}},{provide:Xy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ul(2,[{provide:Xy,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(ce,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Oo),a=e.get(zf);(function KR(n,e){n.events.pipe(Wn(t=>t instanceof Ao||t instanceof lc||t instanceof wa||t instanceof wu),(0,rt.U)(t=>t instanceof Ao||t instanceof wu?ko.COMPLETE:t instanceof lc&&(0===t.code||1===t.code)?ko.REDIRECTING:ko.FAILED),Wn(t=>t!==ko.REDIRECTING),Ci(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(Bf).afterPreactivation=()=>(i(!0),a.closed?We(void 0):a),r.initialNavigation()}))}}]).\u0275providers:[]]}const Bw=new l.OlP(ih?"Router Initializer":"");function Pu(...n){const e=(0,no.jO)(n),{args:t,keys:i}=da(n),r=new Mn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,b=u;for(let C=0;C<u;C++){let A=!1;(0,Pn.Xf)(t[C]).subscribe((0,q.x)(a,k=>{A||(A=!0,b--),f[C]=k},()=>_--,void 0,()=>{(!_||!A)&&(b||a.next(i?L(i,f):f),a.complete())}))}});return e?r.pipe(M(e)):r}const ov=!1;function pc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Uw(n){return null!=n&&"number"==typeof n.length}const gr=new l.OlP("NgValidators"),mc=new l.OlP("NgAsyncValidators"),Hw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sv{static min(e){return function jw(n){return e=>{if(pc(e.value)||pc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function zw(n){return e=>{if(pc(e.value)||pc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function so(n){return pc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function av(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function $w(n){return pc(n.value)||Hw.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function OI(n){return e=>pc(e.value)||!Uw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function dg(n){return e=>Uw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function lv(n){if(!n)return hg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(pc(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Zw(e)}static composeAsync(e){return Yw(e)}}function hg(n){return null}function Gw(n){return null!=n}function qw(n){const e=(0,l.QGY)(n)?(0,Kt.D)(n):n;if(ov&&!(0,l.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,t)}return e}function cv(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Ww(n,e){return e.map(t=>t(n))}function fg(n){return n.map(e=>function kI(n){return!n.validate}(e)?e:t=>e.validate(t))}function Zw(n){if(!n)return null;const e=n.filter(Gw);return 0==e.length?null:function(t){return cv(Ww(t,e))}}function uv(n){return null!=n?Zw(fg(n)):null}function Yw(n){if(!n)return null;const e=n.filter(Gw);return 0==e.length?null:function(t){return Pu(Ww(t,e).map(qw)).pipe((0,rt.U)(cv))}}function dv(n){return null!=n?Yw(fg(n)):null}function Kw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Os(n){return n._rawValidators}function pg(n){return n._rawAsyncValidators}function hv(n){return n?Array.isArray(n)?n:[n]:[]}function mg(n,e){return Array.isArray(n)?n.includes(e):n===e}function fv(n,e){const t=hv(e);return hv(n).forEach(r=>{mg(t,r)||t.push(r)}),t}function Qw(n,e){return hv(e).filter(t=>!mg(n,t))}class Xw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=uv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zr extends Xw{get formDirective(){return null}get path(){return null}}class rs extends Xw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}function yv(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Nu=!1,$f="VALID",vv="INVALID",sh="PENDING",Gf="DISABLED";function bv(n){return(vg(n)?n.validators:n)||null}function wv(n,e){return(vg(e)?e.asyncValidators:n)||null}function vg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class rE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$f}get invalid(){return this.status===vv}get pending(){return this.status==sh}get disabled(){return this.status===Gf}get enabled(){return this.status!==Gf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qw(e,this._rawAsyncValidators))}hasValidator(e){return mg(this._rawValidators,e)}hasAsyncValidator(e){return mg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=sh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gf,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$f,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$f||this.status===sh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gf:$f}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=sh,this._hasOwnPendingAsyncValidator=!0;const t=qw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Gf:this.errors?vv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sh)?sh:this._anyControlsHaveStatus(vv)?vv:$f}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function BI(n){return Array.isArray(n)?uv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function UI(n){return Array.isArray(n)?dv(n):n||null}(this._rawAsyncValidators)}}class ah extends rE{constructor(e,t,i){super(bv(t),wv(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function bg(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,Nu?function VI(n,e){return`Must supply a value for form control ${yv(n,e)}`}(e,r):"")})})(this,!0,e),Object.keys(e).forEach(i=>{(function Ev(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,Nu?function iE(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new l.vHH(1001,Nu?function LI(n,e){return`Cannot find form control ${yv(n,e)}`}(e,t):"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const qf=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Cv}),Cv="always";function lh(n,e,t=Cv){Cg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Dg(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oE(n,e)})}(n,e),function xv(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function jI(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function aO(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Wf(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Dv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Eg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Cg(n,e){const t=Os(n);null!==e.validator?n.setValidators(Kw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=pg(n);null!==e.asyncValidator?n.setAsyncValidators(Kw(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Eg(e._rawValidators,r),Eg(e._rawAsyncValidators,r)}function Dv(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Os(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=pg(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Eg(e._rawValidators,i),Eg(e._rawAsyncValidators,i),t}function oE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sE(n,e){Cg(n,e)}function Lu(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const dh={provide:zr,useExisting:(0,l.Gpc)(()=>Ia)},xa=(()=>Promise.resolve())();let Ia=(()=>{class n extends zr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new ah({},uv(t),dv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xa.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),lh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xa.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xa.then(()=>{const i=this._findContainer(t.path),r=new ah({});sE(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xa.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){xa.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Lu(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gr,10),l.Y36(mc,10),l.Y36(qf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([dh]),l.qOj]}),n})();function Vu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Sv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Fs=class extends rE{constructor(e=null,t,i){super(bv(t),wv(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Sv(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Sv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},hE={provide:zr,useExisting:(0,l.Gpc)(()=>Bu)};let Bu=(()=>{class n extends zr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return lh(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Wf(t.control||null,t,!1),function uh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Lu(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Wf(i||null,t),(n=>n instanceof Fs)(r)&&(lh(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);sE(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Da(n,e){return Dv(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cg(this.form,this),this._oldForm&&Dv(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gr,10),l.Y36(mc,10),l.Y36(qf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([hE]),l.qOj,l.TTD]}),n})();var lo=F(4986),Qi=F(2122);function Gv(){return(0,jn.e)((n,e)=>{let t,i=!1;n.subscribe((0,q.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function os(n,e=io.y){return n=n??Ps,(0,jn.e)((t,i)=>{let r,a=!0;t.subscribe((0,q.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function Ps(n,e){return n===e}var yt,wi=F(2011),ME=(F(9800),F(3942)),_e=F(5861),Uu=F(9681),Rg=F(4859),vc=F(1877),un=F(2090),tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hl={},qv=qv||{},jt=tp||self;function np(){}function Hu(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ip(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Og="closure_uid_"+(1e9*Math.random()>>>0),Wv=0;function kg(n,e,t){return n.call.apply(n.bind,arguments)}function OE(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function _r(n,e,t){return(_r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kg:OE).apply(null,arguments)}function rp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Xi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function fl(){this.s=this.s,this.o=this.o}fl.prototype.s=!1,fl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function RE(n){Object.prototype.hasOwnProperty.call(n,Og)&&n[Og]||(n[Og]=++Wv)}(this)},fl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Fg(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Yv(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Hu(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let u=0;u<a;u++)n[r+u]=i[u]}else n.push(i)}}function Rr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Rr.prototype.h=function(){this.defaultPrevented=!0};var aS=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",np,e),jt.removeEventListener("test",np,e)}catch{}return n}();function Pg(n){return/^[\s\xa0]*$/.test(n)}var FE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Kv(n,e){return n<e?-1:n>e?1:0}function Ng(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function Sa(n){return-1!=Ng().indexOf(n)}function Qv(n){return Qv[" "](n),n}Qv[" "]=np;var Lg,n,cS=Sa("Opera"),hh=Sa("Trident")||Sa("MSIE"),PE=Sa("Edge"),Xv=PE||hh,NE=Sa("Gecko")&&!(-1!=Ng().toLowerCase().indexOf("webkit")&&!Sa("Edge"))&&!(Sa("Trident")||Sa("MSIE"))&&!Sa("Edge"),uS=-1!=Ng().toLowerCase().indexOf("webkit")&&!Sa("Edge");function LE(){var n=jt.document;return n?n.documentMode:void 0}e:{var Vg="",Bg=(n=Ng(),NE?/rv:([^\);]+)(\)|;)/.exec(n):PE?/Edge\/([\d\.]+)/.exec(n):hh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):uS?/WebKit\/(\S+)/.exec(n):cS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Bg&&(Vg=Bg?Bg[1]:""),hh){var Ug=LE();if(null!=Ug&&Ug>parseFloat(Vg)){Lg=String(Ug);break e}}Lg=Vg}var VE={};var UE=jt.document&&hh&&(LE()||parseInt(Lg,10))||void 0;function fh(n,e){if(Rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(NE){e:{try{Qv(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&fh.X.h.call(this)}}Xi(fh,Rr);var eb={2:"touch",3:"pen",4:"mouse"};fh.prototype.h=function(){fh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ph="closure_listenable_"+(1e6*Math.random()|0),ju=0;function dS(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++ju,this.ba=this.ea=!1}function jg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function bc(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function hS(n){const e={};for(const t in n)e[t]=n[t];return e}const zg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fS(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<zg.length;a++)t=zg[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function op(n){this.src=n,this.g={},this.h=0}function $g(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Zv(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(jg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function HE(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}op.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=HE(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new dS(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var St="closure_lm_"+(1e6*Math.random()|0),tb={};function jE(n,e,t,i,r){if(i&&i.once)return $E(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)jE(n,e[a],t,i,r);return null}return t=nb(t),n&&n[ph]?n.N(e,t,ip(i)?!!i.capture:!!i,r):zE(n,e,t,!1,i,r)}function zE(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=ip(r)?!!r.capture:!!r,f=Gg(n);if(f||(n[St]=f=new op(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function mh(){const e=pO;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)aS||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(ei(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function $E(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)$E(n,e[a],t,i,r);return null}return t=nb(t),n&&n[ph]?n.O(e,t,ip(i)?!!i.capture:!!i,r):zE(n,e,t,!0,i,r)}function sp(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)sp(n,e[a],t,i,r);else i=ip(i)?!!i.capture:!!i,t=nb(t),n&&n[ph]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=HE(a=n.g[e],t,i,r))&&(jg(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Gg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=HE(e,t,i,r)),(t=-1<n?e[n]:null)&&gh(t))}function gh(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[ph])$g(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(ei(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Gg(e))?($g(t,n),0==t.h&&(t.src=null,e[St]=null)):jg(n)}}}function ei(n){return n in tb?tb[n]:tb[n]="on"+n}function pO(n,e){if(n.ba)n=!0;else{e=new fh(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&gh(n),n=t.call(i,e)}return n}function Gg(n){return(n=n[St])instanceof op?n:null}var qg="__closure_events_fn_"+(1e9*Math.random()>>>0);function nb(n){return"function"==typeof n?n:(n[qg]||(n[qg]=function(e){return n.handleEvent(e)}),n[qg])}function Vi(){fl.call(this),this.i=new op(this),this.P=this,this.I=null}function Ji(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Rr(e,n);else if(e instanceof Rr)e.target=e.target||n;else{var r=e;fS(e=new Rr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=ap(u,i,!0,e)&&r}if(r=ap(u=e.g=n,i,!0,e)&&r,r=ap(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=ap(u=e.g=t[a],i,!1,e)&&r}function ap(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var f=u.listener,_=u.ha||u.src;u.ea&&$g(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}Xi(Vi,fl),Vi.prototype[ph]=!0,Vi.prototype.removeEventListener=function(n,e,t,i){sp(this,n,e,t,i)},Vi.prototype.M=function(){if(Vi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)jg(t[i]);delete n.g[e],n.h--}}this.I=null},Vi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Vi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Wg=jt.JSON.stringify;function pS(){var n=rb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ib,GE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new lp,n=>n.reset());class lp{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gS(n){jt.setTimeout(()=>{throw n},0)}function qE(n,e){ib||function Zg(){var n=jt.Promise.resolve(void 0);ib=function(){n.then(WE)}}(),Yg||(ib(),Yg=!0),rb.add(n,e)}var Yg=!1,rb=new class mS{constructor(){this.h=this.g=null}add(e,t){const i=GE.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function WE(){for(var n;n=pS();){try{n.h.call(n.g)}catch(t){gS(t)}var e=GE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Yg=!1}function Kg(n,e){Vi.call(this),this.h=n||1,this.g=e||jt,this.j=_r(this.lb,this),this.l=Date.now()}function zu(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function $u(n,e,t){if("function"==typeof n)t&&(n=_r(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=_r(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function ZE(n){n.g=$u(()=>{n.g=null,n.i&&(n.i=!1,ZE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Xi(Kg,Vi),(yt=Kg.prototype).ca=!1,yt.R=null,yt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ji(this,"tick"),this.ca&&(zu(this),this.start()))}},yt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},yt.M=function(){Kg.X.M.call(this),zu(this),delete this.g};class _S extends fl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZE(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cp(n){fl.call(this),this.h=n,this.g={}}Xi(cp,fl);var ob=[];function sb(n,e,t,i){Array.isArray(t)||(t&&(ob[0]=t.toString()),t=ob);for(var r=0;r<t.length;r++){var a=jE(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function ab(n){bc(n.g,function(e,t){this.g.hasOwnProperty(t)&&gh(e)},n),n.g={}}function Qg(){this.g=!0}function _h(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gO(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Wg(t)}catch{return e}}(n,t)+(i?" "+i:"")})}cp.prototype.M=function(){cp.X.M.call(this),ab(this)},cp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qg.prototype.Aa=function(){this.g=!1},Qg.prototype.info=function(){};var yh={},vS=null;function up(){return vS=vS||new Vi}function dp(n){Rr.call(this,yh.Pa,n)}function hp(n){const e=up();Ji(e,new dp(e))}function KE(n,e){Rr.call(this,yh.STAT_EVENT,n),this.stat=e}function Or(n){const e=up();Ji(e,new KE(e,n))}function vh(n,e){Rr.call(this,yh.Qa,n),this.size=e}function fp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}yh.Pa="serverreachability",Xi(dp,Rr),yh.STAT_EVENT="statevent",Xi(KE,Rr),yh.Qa="timingevent",Xi(vh,Rr);var Xg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},QE={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function lb(){}function XE(){}lb.prototype.h=null;var Gu,bh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function cb(){Rr.call(this,"d")}function ub(){Rr.call(this,"c")}function Jg(){}function wh(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new cp(this),this.O=eC,this.T=new Kg(n=Xv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new JE}function JE(){this.i=null,this.g="",this.h=!1}Xi(cb,Rr),Xi(ub,Rr),Xi(Jg,lb),Jg.prototype.g=function(){return new XMLHttpRequest},Jg.prototype.i=function(){return{}},Gu=new Jg;var eC=45e3,db={},pp={};function hb(n,e,t){n.K=1,n.v=r_(pl(e)),n.s=t,n.P=!0,e_(n,null)}function e_(n,e){n.F=Date.now(),mp(n),n.A=pl(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),yb(t.i,"t",i),n.C=0,t=n.l.H,n.h=new JE,n.g=Dh(n.l,t?e:null,!n.s),0<n.N&&(n.L=new _S(_r(n.La,n,n.g),n.N)),sb(n.S,n.g,"readystatechange",n.ib),e=n.H?hS(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),hp(),function YE(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var C=b[0];b=b[1];var A=C.split("_");u=2<=A.length&&"type"==A[1]?u+(C+"=")+b+"&":u+(C+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function tC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function fb(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=nC(n,t),r==pp){4==e&&(n.o=4,Or(14),i=!1),_h(n.j,n.m,null,"[Incomplete Response]");break}if(r==db){n.o=4,Or(15),_h(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}_h(n.j,n.m,r,null),n_(n,r)}tC(n)&&r!=pp&&r!=db&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Or(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ab(e),e.K=!0,Or(11))):(_h(n.j,n.m,t,"[Invalid Chunked Response]"),Wu(n),qu(n))}function nC(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?pp:(t=Number(e.substring(t,i)),isNaN(t)?db:(i+=1)+t>e.length?pp:(e=e.substr(i,t),n.C=i+t,e))}function mp(n){n.V=Date.now()+n.O,iC(n,n.O)}function iC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=fp(_r(n.gb,n),e)}function t_(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function qu(n){0==n.l.G||n.I||xC(n.l,n)}function Wu(n){t_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,zu(n.T),ab(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function n_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||vp(t.h,n)))if(!n.J&&vp(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Ec(t),wp(t)}Tb(t),Or(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=fp(_r(t.cb,t),6e3));if(1>=dC(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else kr(t,11)}else if((n.J||t.g==n)&&Ec(t),!Pg(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const C=b[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const A=b[4];null!=A&&(t.Ca=A,t.j.info("SVER="+t.Ca));const k=b[5];null!=k&&"number"==typeof k&&0<k&&(t.J=i=1.5*k,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const V=n.g;if(V){const G=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=i.h;a.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(vb(a,a.h),a.h=null))}if(i.D){const K=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.za=K,Zn(i.F,i.D,K))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=Cp(i,i.H?i.ka:null,i.V),u.J){bb(i.h,u);var f=u,_=i.J;_&&f.setTimeout(_),f.B&&(t_(f),mp(f)),i.g=u}else Sb(i);0<t.i.length&&Ep(t)}else"stop"!=b[0]&&"close"!=b[0]||kr(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?kr(t,7):f_(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}hp()}catch{}}function rC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Hu(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ES(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Hu(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function wS(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Hu(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(yt=wh.prototype).setTimeout=function(n){this.O=n},yt.ib=function(n){n=n.target;const e=this.L;e&&3==ml(n)?e.l():this.La(n)},yt.La=function(n){try{if(n==this.g)e:{const C=ml(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||Xv||this.g&&(this.h.h||this.g.fa()||vC(this.g)))){this.I||4!=C||7==e||hp(),t_(this);var t=this.g.aa();this.Y=t;t:if(tC(this)){var i=vC(this.g);n="";var r=i.length,a=4==ml(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wu(this),qu(this);var u="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function yS(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pg(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Or(12),Wu(this),qu(this);break e}_h(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,n_(this,t)}this.P?(fb(this,C,u),Xv&&this.i&&3==C&&(sb(this.S,this.T,"tick",this.hb),this.T.start())):(_h(this.j,this.m,u,null),n_(this,u)),4==C&&Wu(this),this.i&&!this.I&&(4==C?xC(this.l,this):(this.i=!1,mp(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Or(12)):(this.o=0,Or(13)),Wu(this),qu(this)}}}catch{}},yt.hb=function(){if(this.g){var n=ml(this.g),e=this.g.fa();this.C<e.length&&(t_(this),fb(this,n,e),this.i&&4!=n&&mp(this))}},yt.cancel=function(){this.I=!0,Wu(this)},yt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function mO(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(hp(),Or(17)),Wu(this),this.o=2,qu(this)):iC(this,this.V-n)};var oC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Zu){this.h=void 0!==e?e:n.h,i_(this,n.j),this.s=n.s,this.g=n.g,gp(this,n.m),this.l=n.l,e=n.i;var t=new yp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),pb(this,t),this.o=n.o}else n&&(t=String(n).match(oC))?(this.h=!!e,i_(this,t[1]||"",!0),this.s=Eh(t[2]||""),this.g=Eh(t[3]||"",!0),gp(this,t[4]),this.l=Eh(t[5]||"",!0),pb(this,t[6]||"",!0),this.o=Eh(t[7]||"")):(this.h=!!e,this.i=new yp(null,this.h))}function pl(n){return new Zu(n)}function i_(n,e,t){n.j=t?Eh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function pb(n,e,t){e instanceof yp?(n.i=e,function cC(n,e){e&&!n.j&&(wc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(o_(this,i),yb(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=_p(e,aC)),n.i=new yp(e,n.h))}function Zn(n,e,t){n.i.set(e,t)}function r_(n){return Zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Eh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _p(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,DS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function DS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Zu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_p(e,sC,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_p(e,sC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(_p(t,"/"==t.charAt(0)?gb:mb,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_p(t,_b)),n.join("")};var sC=/[#\/\?@]/g,mb=/[#\?:]/g,gb=/[#\?]/g,aC=/[#\?@]/g,_b=/#/g;function yp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wc(n){n.g||(n.g=new Map,n.h=0,n.i&&function CS(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function o_(n,e){wc(n),e=Ns(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function lC(n,e){return wc(n),e=Ns(n,e),n.g.has(e)}function yb(n,e,t){o_(n,e),0<t.length&&(n.i=null,n.g.set(Ns(n,e),Fg(t)),n.h+=t.length)}function Ns(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function IS(n){this.l=n||uC,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(yt=yp.prototype).add=function(n,e){wc(this),this.i=null,n=Ns(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},yt.forEach=function(n,e){wc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},yt.oa=function(){wc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},yt.W=function(n){wc(this);let e=[];if("string"==typeof n)lC(this,n)&&(e=e.concat(this.g.get(Ns(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},yt.set=function(n,e){return wc(this),this.i=null,lC(this,n=Ns(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},yt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=a;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var uC=10;function s_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function dC(n){return n.h?1:n.g?n.g.size:0}function vp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function vb(n,e){n.g?n.g.add(e):n.h=e}function bb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function a_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Fg(n.i)}function l_(){}function hC(){this.g=new l_}function fC(n,e,t){const i=t||"";try{rC(n,function(r,a){let u=r;ip(r)&&(u=Wg(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function c_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function bp(n){this.l=n.ac||null,this.j=n.jb||!1}function u_(n,e){Vi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=wb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}IS.prototype.cancel=function(){if(this.i=a_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},l_.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},l_.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},Xi(bp,lb),bp.prototype.g=function(){return new u_(this.l,this.j)},bp.prototype.i=function(n){return function(){return n}}({}),Xi(u_,Vi);var wb=0;function Eb(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function d_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ch(n)}function Ch(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(yt=u_.prototype).open=function(n,e){if(this.readyState!=wb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ch(this)},yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||jt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,d_(this)),this.readyState=wb},yt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ch(this)),this.g&&(this.readyState=3,Ch(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Eb(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},yt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?d_(this):Ch(this),3==this.readyState&&Eb(this)}},yt.Va=function(n){this.g&&(this.response=this.responseText=n,d_(this))},yt.Ua=function(n){this.g&&(this.response=n,d_(this))},yt.ga=function(){this.g&&d_(this)},yt.setRequestHeader=function(n,e){this.v.append(n,e)},yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(u_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var SS=jt.JSON.parse;function di(n){Vi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=TS,this.K=this.L=!1}Xi(di,Vi);var TS="",AS=/^https?$/i,MS=["POST","PUT"];function Cb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gC(n),h_(n)}function gC(n){n.D||(n.D=!0,Ji(n,"complete"),Ji(n,"error"))}function _C(n){if(n.h&&typeof qv<"u"&&(!n.C[1]||4!=ml(n)||2!=n.aa()))if(n.v&&4==ml(n))$u(n.Ha,0,n);else if(Ji(n,"readystatechange"),4==ml(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(oC)[1]||null;if(!r&&jt.self&&jt.self.location){var a=jt.self.location.protocol;r=a.substr(0,a.length-1)}i=!AS.test(r?r.toLowerCase():"")}t=i}if(t)Ji(n,"complete"),Ji(n,"success");else{n.m=6;try{var u=2<ml(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",gC(n)}}finally{h_(n)}}}function h_(n,e){if(n.g){yC(n);const t=n.g,i=n.C[0]?np:null;n.g=null,n.C=null,e||Ji(n,"ready");try{t.onreadystatechange=i}catch{}}}function yC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function ml(n){return n.g?n.g.readyState:0}function vC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case TS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function bC(n){let e="";return bc(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Db(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=bC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Zn(n,e,t))}function gl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xb(n){this.Ca=0,this.i=[],this.j=new Qg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=gl("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=gl("baseRetryDelayMs",5e3,n),this.bb=gl("retryDelaySeedMs",1e4,n),this.$a=gl("forwardChannelMaxRetries",2,n),this.ta=gl("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new IS(n&&n.concurrentRequestLimit),this.Fa=new hC,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function f_(n){if(Ib(n),3==n.G){var e=n.U++,t=pl(n.F);Zn(t,"SID",n.I),Zn(t,"RID",e),Zn(t,"TYPE","terminate"),p_(n,t),(e=new wh(n,n.j,e,void 0)).K=2,e.v=r_(pl(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon&&(t=jt.navigator.sendBeacon(e.v.toString(),"")),!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Dh(e.l,null),e.g.da(e.v)),e.F=Date.now(),mp(e)}IC(n)}function wp(n){n.g&&(Ab(n),n.g.cancel(),n.g=null)}function Ib(n){wp(n),n.u&&(jt.clearTimeout(n.u),n.u=null),Ec(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function Ep(n){s_(n.h)||n.m||(n.m=!0,qE(n.Ja,n),n.C=0)}function EC(n,e){var t;t=e?e.m:n.U++;const i=pl(n.F);Zn(i,"SID",n.I),Zn(i,"RID",t),Zn(i,"AID",n.T),p_(n,i),n.o&&n.s&&Db(i,n.o,n.s),t=new wh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=CC(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),vb(n.h,t),hb(t,i,e)}function p_(n,e){n.ia&&bc(n.ia,function(t,i){Zn(e,i,t)}),n.l&&rC({},function(t,i){Zn(e,i,t)})}function CC(n,e,t){t=Math.min(n.i.length,t);var i=n.l?_r(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=r[_].h;const C=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{fC(C,u,"req"+b+"_")}catch{i&&i(C)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function Sb(n){n.g||n.u||(n.Z=1,qE(n.Ia,n),n.A=0)}function Tb(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=fp(_r(n.Ia,n),m_(n,n.A)),n.A++,0))}function Ab(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function DC(n){n.g=new wh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=pl(n.sa);Zn(e,"RID","rpc"),Zn(e,"SID",n.I),Zn(e,"CI",n.L?"0":"1"),Zn(e,"AID",n.T),Zn(e,"TYPE","xmlhttp"),p_(n,e),n.o&&n.s&&Db(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=r_(pl(e)),t.s=null,t.P=!0,e_(t,n)}function Ec(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function xC(n,e){var t=null;if(n.g==e){Ec(n),Ab(n),n.g=null;var i=2}else{if(!vp(n.h,e))return;t=e.D,bb(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Ji(i=up(),new vh(i,t)),Ep(n)}else Sb(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function wC(n,e){return!(dC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=fp(_r(n.Ja,n,e),m_(n,n.C)),n.C++,0)))}(n,e)||2==i&&Tb(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:kr(n,5);break;case 4:kr(n,10);break;case 3:kr(n,6);break;default:kr(n,2)}}function m_(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function kr(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=_r(n.kb,n);t||(t=new Zu("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||i_(t,"https"),r_(t)),function pC(n,e){const t=new Qg;if(jt.Image){const i=new Image;i.onload=rp(c_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=rp(c_,t,i,"TestLoadImage: error",!1,e),i.onabort=rp(c_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=rp(c_,t,i,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Or(2);n.G=0,n.l&&n.l.va(e),IC(n),Ib(n)}function IC(n){if(n.G=0,n.la=[],n.l){const e=a_(n.h);(0!=e.length||0!=n.i.length)&&(Yv(n.la,e),Yv(n.la,n.i),n.h.i.length=0,Fg(n.i),n.i.length=0),n.l.ua()}}function Cp(n,e,t){var i=t instanceof Zu?pl(t):new Zu(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),gp(i,i.m);else{var r=jt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Zu(null,void 0);i&&i_(a,i),e&&(a.g=e),r&&gp(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&Zn(i,t,e),Zn(i,"VER",n.ma),p_(n,i),i}function Dh(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new di(t&&n.Da&&!n.ra?new bp({jb:!0}):n.ra)).Ka(n.H),e}function SC(){}function g_(){if(hh&&!(10<=Number(UE)))throw Error("Environmental error: no available transport.")}function Po(n,e){Vi.call(this),this.g=new xb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Pg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new xh(this)}function Dp(n){cb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xp(){ub.call(this),this.status=1}function xh(n){this.g=n}(yt=di.prototype).Ka=function(n){this.L=n},yt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gu.g(),this.C=function bS(n){return n.h||(n.h=n.i())}(this.u?this.u:Gu),this.g.onreadystatechange=_r(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Cb(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=jt.FormData&&n instanceof jt.FormData,!(0<=Zv(MS,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yC(this),0<this.B&&((this.K=function mC(n){return hh&&function BE(){return function lS(n){var e=VE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=FE(String(Lg)).split("."),t=FE("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Kv(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Kv(0==r[2].length,0==a[2].length)||Kv(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_r(this.qa,this)):this.A=$u(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Cb(this,a)}},yt.qa=function(){typeof qv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ji(this,"timeout"),this.abort(8))},yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ji(this,"complete"),Ji(this,"abort"),h_(this))},yt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),h_(this,!0)),di.X.M.call(this)},yt.Ha=function(){this.s||(this.F||this.v||this.l?_C(this):this.fb())},yt.fb=function(){_C(this)},yt.aa=function(){try{return 2<ml(this)?this.g.status:-1}catch{return-1}},yt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},yt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),SS(e)}},yt.Ea=function(){return this.m},yt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(yt=xb.prototype).ma=8,yt.G=1,yt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new wh(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=hS(a),fS(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=CC(this,r,e),Zn(t=pl(this.F),"RID",n),Zn(t,"CVER",22),this.D&&Zn(t,"X-HTTP-Session-Id",this.D),p_(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(bC(a)))+"&"+e:this.o&&Db(t,this.o,a)),vb(this.h,r),this.Ya&&Zn(t,"TYPE","init"),this.O?(Zn(t,"$req",e),Zn(t,"SID","null"),r.Z=!0,hb(r,t,null)):hb(r,t,e),this.G=2}}else 3==this.G&&(n?EC(this,n):0==this.i.length||s_(this.h)||EC(this))},yt.Ia=function(){if(this.u=null,DC(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=fp(_r(this.eb,this),n)}},yt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Or(10),wp(this),DC(this))},yt.cb=function(){null!=this.v&&(this.v=null,wp(this),Tb(this),Or(19))},yt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Or(2)):(this.j.info("Failed to ping google.com"),Or(1))},(yt=SC.prototype).xa=function(){},yt.wa=function(){},yt.va=function(){},yt.ua=function(){},yt.Ra=function(){},g_.prototype.g=function(n,e){return new Po(n,e)},Xi(Po,Vi),Po.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Or(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Cp(n,null,n.V),Ep(n)},Po.prototype.close=function(){f_(this.g)},Po.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Wg(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Ep(e)},Po.prototype.M=function(){this.g.l=null,delete this.j,f_(this.g),delete this.g,Po.X.M.call(this)},Xi(Dp,cb),Xi(xp,ub),Xi(xh,SC),xh.prototype.xa=function(){Ji(this.g,"a")},xh.prototype.wa=function(n){Ji(this.g,new Dp(n))},xh.prototype.va=function(n){Ji(this.g,new xp)},xh.prototype.ua=function(){Ji(this.g,"b")},g_.prototype.createWebChannel=g_.prototype.g,Po.prototype.send=Po.prototype.u,Po.prototype.open=Po.prototype.m,Po.prototype.close=Po.prototype.close,Xg.NO_ERROR=0,Xg.TIMEOUT=8,Xg.HTTP_ERROR=6,QE.COMPLETE="complete",XE.EventType=bh,bh.OPEN="a",bh.CLOSE="b",bh.ERROR="c",bh.MESSAGE="d",Vi.prototype.listen=Vi.prototype.N,di.prototype.listenOnce=di.prototype.O,di.prototype.getLastError=di.prototype.Oa,di.prototype.getLastErrorCode=di.prototype.Ea,di.prototype.getStatus=di.prototype.aa,di.prototype.getResponseJson=di.prototype.Sa,di.prototype.getResponseText=di.prototype.fa,di.prototype.send=di.prototype.da,di.prototype.setWithCredentials=di.prototype.Ka;var RS=hl.createWebChannelTransport=function(){return new g_},TC=hl.getStatEventTarget=function(){return up()},__=hl.ErrorCode=Xg,Mb=hl.EventType=QE,AC=hl.Event=yh,y_=hl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Rb=hl.FetchXmlHttpFactory=bp,Ip=hl.WebChannel=XE,Ob=hl.XhrIo=di;const v_="@firebase/firestore";class er{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");let Ih="9.19.0";const Cc=new vc.Yd("@firebase/firestore");function kb(){return Cc.logLevel}function Oe(n,...e){if(Cc.logLevel<=vc.in.DEBUG){const t=e.map(b_);Cc.debug(`Firestore (${Ih}): ${n}`,...t)}}function hi(n,...e){if(Cc.logLevel<=vc.in.ERROR){const t=e.map(b_);Cc.error(`Firestore (${Ih}): ${n}`,...t)}}function Ls(n,...e){if(Cc.logLevel<=vc.in.WARN){const t=e.map(b_);Cc.warn(`Firestore (${Ih}): ${n}`,...t)}}function b_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function st(n="Unexpected state"){const e=`FIRESTORE (${Ih}) INTERNAL ASSERTION FAILED: `+n;throw hi(e),new Error(e)}function wt(n,e){n||st()}function Ye(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends un.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Fr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(er.UNAUTHENTICATED))}shutdown(){}}class OS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kS{constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let u=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ii,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,_e.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ii)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wt("string"==typeof i.accessToken),new Fr(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(null===e||"string"==typeof e),new er(e)}}class _O{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=er.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class yO{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new _O(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pb{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,Oe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wt("string"==typeof t.token),this.T=t.token,new Fb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function FS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class E_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=FS(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function $t(n,e){return n<e?-1:n>e?1:0}function Yu(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function OC(n){return n+"\0"}class Yn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yn.fromMillis(Date.now())}static fromDate(e){return Yn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Yn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Yn(0,0))}static max(){return new Dt(new Yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ku{constructor(e,t,i){void 0===t?t=0:t>e.length&&st(),void 0===i?i=e.length-t:i>e.length-t&&st(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Ku.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ku?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends Ku{construct(e,t,i){return new ln(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const kC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Ku{construct(e,t,i){return new zn(e,t,i)}static isValidIdentifier(e){return kC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Se(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Se(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Se(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Se(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(t)}static emptyPath(){return new zn([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(ln.fromString(e))}static fromName(e){return new Ge(ln.fromString(e).popFirst(5))}static empty(){return new Ge(ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new ln(e.slice()))}}class Nb{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function C_(n){return n.fields.find(e=>2===e.kind)}function Qu(n){return n.fields.filter(e=>2!==e.kind)}Nb.UNKNOWN_ID=-1;class _l{constructor(e,t){this.fieldPath=e,this.kind=t}}class Th{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Th(0,No.min())}}function D_(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(1e9===i?new Yn(t+1,0):new Yn(t,i));return new No(r,Ge.empty(),e)}function NS(n){return new No(n.readTime,n.key,-1)}class No{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new No(Dt.min(),Ge.empty(),-1)}static max(){return new No(Dt.max(),Ge.empty(),-1)}}function PC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:$t(n.largestBatchId,e.largestBatchId))}const NC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dc(n){return x_.apply(this,arguments)}function x_(){return x_=(0,_e.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==NC)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),x_.apply(this,arguments)}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,i)=>{t(e)})}static reject(e){return new re((t,i)=>{i(e)})}static waitFor(e){return new re((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next(r=>r?re.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new re((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(C=>{u[b]=C,++f,f===a&&i(u)},C=>r(C))}})}static doWhile(e,t){return new re((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class I_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Ii,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Sp(e,t.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=S_(i.target.error);this.R.reject(new Sp(e,r))}}static open(e,t,i,r){try{return new I_(t,e.transaction(r,i))}catch(a){throw new Sp(t,a)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new BC(t)}}class ss{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===ss.S((0,un.z$)())&&hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),Xu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,un.hl)())return!1;if(ss.C())return!0;const e=(0,un.z$)(),t=ss.S(e),i=0<t&&t<10,r=ss.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Sp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Se(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Se(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Sp(e,f))},a.onupgradeneeded=u=>{Oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.M(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,_e.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const _=I_.open(a.db,e,u?"readonly":"readwrite",i),b=r(_).next(C=>(_.P(),C)).catch(C=>(_.abort(C),re.reject(C))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,C="FirebaseError"!==b.name&&f<3;if(Oe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),a.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class VC{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Xu(this.L.delete())}}class Sp extends Se{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xc(n){return"IndexedDbTransactionError"===n.name}class BC{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Oe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Xu(i)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),Xu(this.store.add(e))}get(e){return Xu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),Xu(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),Xu(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new re((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new re((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){Oe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,u,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}X(e){const t=this.cursor({});return new re((i,r)=>{t.onerror=a=>{const u=S_(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}W(e,t){const i=[];return new re((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new VC(f),b=t(f.primaryKey,f.value,_);if(b instanceof re){const C=b.catch(A=>(_.done(),re.reject(A)));i.push(C)}_.isDone?r():null===_.K?f.continue():f.continue(_.K)}}).next(()=>re.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xu(n){return new re((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=S_(i.target.error);t(r)}})}let Lb=!1;function S_(n){const e=ss.S((0,un.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Lb||(Lb=!0,setTimeout(()=>{throw i},0)),i}}return n}class UC{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Oe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{Oe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){xc(i)?Oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Dc(i)}yield t.et(6e4)}))}}class HC{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return re.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Oe("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,a)).next(f=>(Oe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=NS(a);PC(u,i)>0&&(i=u)}),new No(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Lo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Tp(n){return null==n}function T_(n){return 0===n&&1/n==-1/0}function Vb(n){return"number"==typeof n&&Number.isInteger(n)&&!T_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function co(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=LS(e)),e=vO(n.get(t),e);return LS(e)}function vO(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function LS(n){return n+"\x01\x01"}function yl(n){const e=n.length;if(wt(e>=2),2===e)return wt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&st(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:st()}a=u+2}return new ln(i)}const VS=["userId","batchId"];function Bb(n,e){return[n,co(e)]}function BS(n,e,t){return[n,co(e),t]}const bO={},A_=["prefixPath","collectionGroup","readTime","documentId"],wO=["prefixPath","collectionGroup","documentId"],jC=["collectionGroup","readTime","prefixPath","documentId"],M_=["canonicalId","targetId"],zC=["targetId","path"],$C=["path","targetId"],EO=["collectionId","parent"],Ub=["indexId","uid"],GC=["uid","sequenceNumber"],US=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],CO=["indexId","uid","orderedDocumentKey"],HS=["userId","collectionPath","documentId"],jS=["userId","collectionPath","largestBatchId"],zS=["userId","collectionGroup","largestBatchId"],Ap=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$S=[...Ap,"documentOverlays"],GS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qS=GS,DO=[...qS,"indexConfiguration","indexState","indexEntries"];class Hb extends LC{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function tr(n,e){const t=Ye(n);return ss.O(t.at,e)}function qC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ah(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function WC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ti{constructor(e,t){this.comparator=e,this.root=t||Pr.EMPTY}insert(e,t){return new ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mp(this.root,e,this.comparator,!0)}}class Mp{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Pr.RED,this.left=r??Pr.EMPTY,this.right=a??Pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Pr(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Pr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const e=this.left.check();if(e!==this.right.check())throw st();return e+(this.isRed()?0:1)}}Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1,Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Pr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZC(this.data.getIterator())}getIteratorFrom(e){return new ZC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class ZC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ic(n){return n.hasNext()?n.getNext():void 0}class uo{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new uo([])}unionWith(e){let t=new en(zn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class xO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new xO("Invalid base64 string: "+r):r}}(e);return new Bi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bi.EMPTY_BYTE_STRING=new Bi("");const jb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sc(n){if(wt(!!n),"string"==typeof n){let e=0;const t=jb.exec(n);if(wt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fi(n.seconds),nanos:fi(n.nanos)}}function fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vl(n){return"string"==typeof n?Bi.fromBase64String(n):Bi.fromUint8Array(n)}function R_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function zb(n){const e=n.mapValue.fields.__previous_value__;return R_(e)?zb(e):e}function Rp(n){const e=Sc(n.mapValue.fields.__local_write_time__.timestampValue);return new Yn(e.seconds,e.nanos)}class YC{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class bl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}const Tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Op={nullValue:"NULL_VALUE"};function Ju(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?R_(n)?4:WS(n)?9007199254740991:10:st()}function ls(n,e){if(n===e)return!0;const t=Ju(n);if(t!==Ju(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rp(n).isEqual(Rp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Sc(i.timestampValue),u=Sc(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,vl(n.bytesValue).isEqual(vl(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return fi(i.geoPointValue.latitude)===fi(r.geoPointValue.latitude)&&fi(i.geoPointValue.longitude)===fi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return fi(i.integerValue)===fi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=fi(i.doubleValue),u=fi(r.doubleValue);return a===u?T_(a)===T_(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Yu(n.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(qC(a)!==qC(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!ls(a[f],u[f])))return!1;return!0}(n,e);default:return st()}var r}function Vo(n,e){return void 0!==(n.values||[]).find(t=>ls(t,e))}function $r(n,e){if(n===e)return 0;const t=Ju(n),i=Ju(e);if(t!==i)return $t(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=fi(r.integerValue||r.doubleValue),f=fi(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return $b(n.timestampValue,e.timestampValue);case 4:return $b(Rp(n),Rp(e));case 5:return $t(n.stringValue,e.stringValue);case 6:return function(r,a){const u=vl(r),f=vl(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=$t(u[_],f[_]);if(0!==b)return b}return $t(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=$t(fi(r.latitude),fi(a.latitude));return 0!==u?u:$t(fi(r.longitude),fi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=$r(u[_],f[_]);if(b)return b}return $t(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Tc.mapValue&&a===Tc.mapValue)return 0;if(r===Tc.mapValue)return 1;if(a===Tc.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let C=0;C<f.length&&C<b.length;++C){const A=$t(f[C],b[C]);if(0!==A)return A;const k=$r(u[f[C]],_[b[C]]);if(0!==k)return k}return $t(f.length,b.length)}(n.mapValue,e.mapValue);default:throw st()}}function $b(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $t(n,e);const t=Sc(n),i=Sc(e),r=$t(t.seconds,i.seconds);return 0!==r?r:$t(t.nanos,i.nanos)}function Ac(n){return O_(n)}function O_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Sc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vl(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=O_(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${O_(i.fields[f])}`;return a+"}"}(n.mapValue):st();var e}function ed(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function KC(n){return!!n&&"integerValue"in n}function kp(n){return!!n&&"arrayValue"in n}function QC(n){return!!n&&"nullValue"in n}function XC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function k_(n){return!!n&&"mapValue"in n}function Mh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ah(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Mh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WS(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function JC(n){return"nullValue"in n?Op:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ed(bl.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:st()}function ZS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ed(bl.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Tc:st()}function Gb(n,e){const t=$r(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function YS(n,e){const t=$r(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Si{constructor(e){this.value=e}static empty(){return new Si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!k_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mh(t)}setAll(e){let t=zn.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=Mh(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());k_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];k_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ah(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Si(Mh(this.value))}}function qb(n){const e=[];return Ah(n.fields,(t,i)=>{const r=new zn([t]);if(k_(i)){const a=qb(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new uo(e)}class Nn{constructor(e,t,i,r,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Nn(e,0,Dt.min(),Dt.min(),Dt.min(),Si.empty(),0)}static newFoundDocument(e,t,i,r){return new Nn(e,1,t,Dt.min(),i,r,0)}static newNoDocument(e,t){return new Nn(e,2,t,Dt.min(),Dt.min(),Si.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,Dt.min(),Dt.min(),Si.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wl{constructor(e,t){this.position=e,this.inclusive=t}}function Wb(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?Ge.comparator(Ge.fromName(u.referenceValue),t.key):$r(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function Zb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ls(n.position[t],e.position[t]))return!1;return!0}class El{constructor(e,t="asc"){this.field=e,this.dir=t}}function F_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Yb{}class sn extends Yb{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new IO(e,t,i):"array-contains"===t?new XS(e,i):"in"===t?new Pp(e,i):"not-in"===t?new JS(e,i):"array-contains-any"===t?new eT(e,i):new sn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new SO(e,i):new TO(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($r(t,this.value)):null!==t&&Ju(this.value)===Ju(t)&&this.matchesComparison($r(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bn extends Yb{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new bn(e,t)}matches(e){return Fp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Fp(n){return"and"===n.op}function eD(n){return"or"===n.op}function tD(n){return Kb(n)&&Fp(n)}function Kb(n){for(const e of n.filters)if(e instanceof bn)return!1;return!0}function Qb(n){if(n instanceof sn)return n.field.canonicalString()+n.op.toString()+Ac(n.value);if(tD(n))return n.filters.map(e=>Qb(e)).join(",");{const e=n.filters.map(t=>Qb(t)).join(",");return`${n.op}(${e})`}}function nD(n,e){return n instanceof sn?(t=n,(i=e)instanceof sn&&t.op===i.op&&t.field.isEqual(i.field)&&ls(t.value,i.value)):n instanceof bn?function(t,i){return i instanceof bn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,u)=>r&&nD(a,i.filters[u]),!0)}(n,e):void st();var t,i}function iD(n,e){const t=n.filters.concat(e);return bn.create(t,n.op)}function KS(n){return n instanceof sn?`${(e=n).field.canonicalString()} ${e.op} ${Ac(e.value)}`:n instanceof bn?function(e){return e.op.toString()+" {"+e.getFilters().map(KS).join(" ,")+"}"}(n):"Filter";var e}class IO extends sn{constructor(e,t,i){super(e,t,i),this.key=Ge.fromName(i.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class SO extends sn{constructor(e,t){super(e,"in",t),this.keys=QS(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TO extends sn{constructor(e,t){super(e,"not-in",t),this.keys=QS(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function QS(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ge.fromName(i.referenceValue))}class XS extends sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kp(t)&&Vo(t.arrayValue,this.value)}}class Pp extends sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vo(this.value.arrayValue,t)}}class JS extends sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vo(this.value.arrayValue,t)}}class eT extends sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Vo(this.value.arrayValue,i))}}class rD{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ft=null}}function Cl(n,e=null,t=[],i=[],r=null,a=null,u=null){return new rD(n,e,t,i,r,a,u)}function Mc(n){const e=Ye(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Qb(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Tp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ac(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ac(i)).join(",")),e.ft=t}return e.ft}function td(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!F_(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Zb(n.startAt,e.startAt)&&Zb(n.endAt,e.endAt)}function Rh(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function P_(n,e){return n.filters.filter(t=>t instanceof sn&&t.field.isEqual(e))}function N_(n,e,t){let i=Op,r=!0;for(const a of P_(n,e)){let u=Op,f=!0;switch(a.op){case"<":case"<=":u=JC(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=Op}Gb({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];Gb({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function L_(n,e,t){let i=Tc,r=!0;for(const a of P_(n,e)){let u=Tc,f=!0;switch(a.op){case">=":case">":u=ZS(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Tc}YS({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];YS({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class cs{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.dt=null,this.wt=null}}function tT(n,e,t,i,r,a,u,f){return new cs(n,e,t,i,r,a,u,f)}function Np(n){return new cs(n)}function nT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function oD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Lp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Xb(n){return null!==n.collectionGroup}function nd(n){const e=Ye(n);if(null===e.dt){e.dt=[];const t=Lp(e),i=oD(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new El(t)),e.dt.push(new El(zn.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new El(zn.keyField(),a))}}}return e.dt}function Gr(n){const e=Ye(n);if(!e.wt)if("F"===e.limitType)e.wt=Cl(e.path,e.collectionGroup,nd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of nd(e))t.push(new El(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new wl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new wl(e.startAt.position,e.startAt.inclusive):null;e.wt=Cl(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function Jb(n,e){e.getFirstInequalityField(),Lp(n);const t=n.filters.concat([e]);return new cs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vp(n,e,t){return new cs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Oh(n,e){return td(Gr(n),Gr(e))&&n.limitType===e.limitType}function e0(n){return`${Mc(Gr(n))}|lt:${n.limitType}`}function t0(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>KS(i)).join(", ")}]`),Tp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ac(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ac(i)).join(",")),`Target(${t})`}(Gr(n))}; limitType=${n.limitType})`}function Bp(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ge.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of nd(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=Wb(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,nd(t),i)||t.endAt&&!function(r,a,u){const f=Wb(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,nd(t),i)));var t,i}function n0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function V_(n){return(e,t)=>{let i=!1;for(const r of nd(n)){const a=AO(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function AO(n,e,t){const i=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?$r(f,_):st()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return st()}}class Dl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ah(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return WC(this.inner)}size(){return this.innerSize}}const r0=new ti(Ge.comparator);function ho(){return r0}const sD=new ti(Ge.comparator);function B_(...n){let e=sD;for(const t of n)e=e.insert(t.key,t);return e}function iT(n){let e=sD;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ta(){return Up()}function aD(){return Up()}function Up(){return new Dl(n=>n.toString(),(n,e)=>n.isEqual(e))}const MO=new ti(Ge.comparator),RO=new en(Ge.comparator);function Xt(...n){let e=RO;for(const t of n)e=e.add(t);return e}const OO=new en($t);function U_(){return OO}function rT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:T_(e)?"-0":e}}function oT(n){return{integerValue:""+n}}function sT(n,e){return Vb(e)?oT(e):rT(n,e)}class o0{constructor(){this._=void 0}}function kO(n,e,t){return n instanceof s?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof c?d(n,e):n instanceof h?g(n,e):function(i,r){const a=o(i,r),u=E(a)+E(i._t);return KC(a)&&KC(i._t)?oT(u):rT(i.serializer,u)}(n,e)}function FO(n,e,t){return n instanceof c?d(n,e):n instanceof h?g(n,e):t}function o(n,e){return n instanceof v?KC(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class s extends o0{}class c extends o0{constructor(e){super(),this.elements=e}}function d(n,e){const t=D(e);for(const i of n.elements)t.some(r=>ls(r,i))||t.push(i);return{arrayValue:{values:t}}}class h extends o0{constructor(e){super(),this.elements=e}}function g(n,e){let t=D(e);for(const i of n.elements)t=t.filter(r=>!ls(r,i));return{arrayValue:{values:t}}}class v extends o0{constructor(e,t){super(),this.serializer=e,this._t=t}}function E(n){return fi(n.integerValue||n.doubleValue)}function D(n){return kp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class T{constructor(e,t){this.field=e,this.transform=t}}class N{constructor(e,t){this.version=e,this.transformResults=t}}class z{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new z}static exists(e){return new z(void 0,e)}static updateTime(e){return new z(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function J(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class pe{}function Ne(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new H_(n.key,z.none()):new Ft(n.key,n.data,z.none());{const t=n.data,i=Si.empty();let r=new en(zn.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new fn(n.key,i,new uo(r.toArray()),z.none())}}function Qe(n,e,t){n instanceof Ft?function(i,r,a){const u=i.value.clone(),f=aT(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof fn?function(i,r,a){if(!J(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=aT(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(pi(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function at(n,e,t,i){return n instanceof Ft?function(r,a,u,f){if(!J(r.precondition,a))return u;const _=r.value.clone(),b=PO(r.fieldTransforms,f,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof fn?function(r,a,u,f){if(!J(r.precondition,a))return u;const _=PO(r.fieldTransforms,f,a),b=a.data;return b.setAll(pi(r)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(u=t,J(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function Ot(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=o(i.transform,r||null);null!=a&&(null===t&&(t=Si.empty()),t.set(i.field,a))}return t||null}function Re(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Yu(t,i,(r,a)=>function R(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof c&&i instanceof c||t instanceof h&&i instanceof h?Yu(t.elements,i.elements,ls):t instanceof v&&i instanceof v?ls(t._t,i._t):t instanceof s&&i instanceof s);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Ft extends pe{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fn extends pe{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pi(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function aT(n,e,t){const i=new Map;wt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,FO(u,f,t[r]))}return i}function PO(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,kO(a,u,e))}return i}class H_ extends pe{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lT extends pe{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cT{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&Qe(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=at(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=at(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=aD();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=Ne(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(Dt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&Yu(this.mutations,e.mutations,(t,i)=>Re(t,i))&&Yu(this.baseMutations,e.baseMutations,(t,i)=>Re(t,i))}}class uT{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){wt(e.mutations.length===i.length);let r=MO;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new uT(e,t,i,r)}}class dT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class LL{constructor(e){this.count=e}}var nr,pn;function NO(n){switch(n){default:return st();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function LO(n){if(void 0===n)return hi("GRPC error has no .code"),ae.UNKNOWN;switch(n){case nr.OK:return ae.OK;case nr.CANCELLED:return ae.CANCELLED;case nr.UNKNOWN:return ae.UNKNOWN;case nr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case nr.INTERNAL:return ae.INTERNAL;case nr.UNAVAILABLE:return ae.UNAVAILABLE;case nr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case nr.NOT_FOUND:return ae.NOT_FOUND;case nr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case nr.ABORTED:return ae.ABORTED;case nr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case nr.DATA_LOSS:return ae.DATA_LOSS;default:return st()}}(pn=nr||(nr={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";class fT{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return lD}static getOrCreateInstance(){return null===lD&&(lD=new fT),lD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let lD=null;class s0{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,a0.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new s0(Dt.min(),r,U_(),ho(),Xt())}}class a0{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new a0(i,t,Xt(),Xt(),Xt())}}class cD{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class VO{constructor(e,t){this.targetId=e,this.Et=t}}class BO{constructor(e,t,i=Bi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class UO{constructor(){this.At=0,this.Rt=jO(),this.vt=Bi.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Xt(),t=Xt(),i=Xt();return this.Rt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:st()}}),new a0(this.vt,this.bt,e,t,i)}xt(){this.Pt=!1,this.Rt=jO()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class VL{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=ho(),this.qt=HO(),this.Ut=new en($t)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const i=this.jt(t);switch(e.state){case 0:this.Wt(t)&&i.Dt(e.resumeToken);break;case 1:i.$t(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.$t(),i.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(i.Mt(),i.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:st()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.Wt(r)&&t(r)})}Jt(e){var t;const i=e.targetId,r=e.Et.count,a=this.Yt(i);if(a){const u=a.target;if(Rh(u))if(0===r){const f=new Ge(u.path);this.Qt(i,f,Nn.newNoDocument(f,Dt.min()))}else wt(1===r);else{const f=this.Zt(i);f!==r&&(this.Ht(i),this.Ut=this.Ut.add(i),null===(t=fT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:f,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((a,u)=>{const f=this.Yt(u);if(f){if(a.current&&Rh(f.target)){const _=new Ge(f.target.path);null!==this.Lt.get(_)||this.te(u,_)||this.Qt(u,_,Nn.newNoDocument(_,e))}a.St&&(t.set(u,a.Ct()),a.xt())}});let i=Xt();this.qt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.Yt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Lt.forEach((a,u)=>u.setReadTime(e));const r=new s0(e,t,this.Ut,this.Lt,i);return this.Lt=ho(),this.qt=HO(),this.Ut=new en($t),r}Gt(e,t){if(!this.Wt(e))return;const i=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.Wt(e))return;const r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new UO,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new en($t),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new UO),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function HO(){return new ti(Ge.comparator)}function jO(){return new ti(Ge.comparator)}const BL={asc:"ASCENDING",desc:"DESCENDING"},UL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HL={and:"AND",or:"OR"};class jL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function j_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zL(n,e){return j_(n,e.toTimestamp())}function Ui(n){return wt(!!n),Dt.fromTimestamp(function(e){const t=Sc(e);return new Yn(t.seconds,t.nanos)}(n))}function pT(n,e){return(t=n,new ln(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function $O(n){const e=ln.fromString(n);return wt(JO(e)),e}function l0(n,e){return pT(n.databaseId,e.path)}function Rc(n,e){const t=$O(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(qO(t))}function mT(n,e){return pT(n.databaseId,e)}function GO(n){const e=$O(n);return 4===e.length?ln.emptyPath():qO(e)}function c0(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qO(n){return wt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function WO(n,e,t){return{name:l0(n,e),fields:t.value.mapValue.fields}}function ZO(n,e,t){const i=Rc(n,e.name),r=Ui(e.updateTime),a=e.createTime?Ui(e.createTime):Dt.min(),u=new Si({mapValue:{fields:e.fields}}),f=Nn.newFoundDocument(i,r,a,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function u0(n,e){let t;if(e instanceof Ft)t={update:WO(n,e.key,e.value)};else if(e instanceof H_)t={delete:l0(n,e.key)};else if(e instanceof fn)t={update:WO(n,e.key,e.data),updateMask:QL(e.fieldMask)};else{if(!(e instanceof lT))return st();t={verify:l0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof s)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof c)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof h)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof v)return{fieldPath:a.field.canonicalString(),increment:u._t};throw st()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:zL(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:st()),t;var r}function gT(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?z.updateTime(Ui(r.updateTime)):void 0!==r.exists?z.exists(r.exists):z.none():z.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(wt("REQUEST_TIME"===u.setToServerValue),f=new s):"appendMissingElements"in u?f=new c(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new h(u.removeAllFromArray.values||[]):"increment"in u?f=new v(a,u.increment):st();const _=zn.fromServerFormat(u.fieldPath);return new T(_,f)}(n,r)):[];var r;if(e.update){const r=Rc(n,e.update.name),a=new Si({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new uo((e.updateMask.fieldPaths||[]).map(b=>zn.fromServerFormat(b)));return new fn(r,a,u,t,i)}return new Ft(r,a,t,i)}if(e.delete){const r=Rc(n,e.delete);return new H_(r,t)}if(e.verify){const r=Rc(n,e.verify);return new lT(r,t)}return st()}function YO(n,e){return{documents:[mT(n,e.path)]}}function _T(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=mT(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=mT(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return XO(bn.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:kh((C=b).field),direction:ZL(C.dir)};var C})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(b=e.limit,n.useProto3Json||Tp(b)?b:{value:b});var b,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function KO(n){let e=GO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){wt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let a=[];t.where&&(a=function(C){const A=QO(C);return A instanceof bn&&tD(A)?A.getFilters():[A]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(C=>{return new El(z_((A=C).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(C){let A;return A="object"==typeof C?C.value:C,Tp(A)?null:A}(t.limit));let _=null;var C;t.startAt&&(_=new wl((C=t.startAt).values||[],!!C.before));let b=null;return t.endAt&&(b=function(C){return new wl(C.values||[],!C.before)}(t.endAt)),tT(e,r,u,a,f,"F",_,b)}function QO(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=z_(e.unaryFilter.field);return sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=z_(e.unaryFilter.field);return sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=z_(e.unaryFilter.field);return sn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=z_(e.unaryFilter.field);return sn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(n):void 0!==n.fieldFilter?sn.create(z_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return bn.create(e.compositeFilter.filters.map(t=>QO(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return st()}}(e.compositeFilter.op))}(n):st();var e}function ZL(n){return BL[n]}function YL(n){return UL[n]}function KL(n){return HL[n]}function kh(n){return{fieldPath:n.canonicalString()}}function z_(n){return zn.fromServerFormat(n.fieldPath)}function XO(n){return n instanceof sn?function(e){if("=="===e.op){if(XC(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NAN"}};if(QC(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(XC(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NOT_NAN"}};if(QC(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kh(e.field),op:YL(e.op),value:e.value}}}(n):n instanceof bn?function(e){const t=e.getFilters().map(i=>XO(i));return 1===t.length?t[0]:{compositeFilter:{op:KL(e.op),filters:t}}}(n):st()}function QL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function JO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Fh{constructor(e,t,i,r,a=Dt.min(),u=Dt.min(),f=Bi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Fh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Fh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Fh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ek{constructor(e){this.se=e}}function tk(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:uD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:l0(r=n.se,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:j_(r,a.version.toTimestamp()),createTime:j_(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Hp(e.version)};else{if(!e.isUnknownDocument())return st();i.unknownDocument={path:t.path.toArray(),version:Hp(e.version)}}var r,a;return i}function uD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Hp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jp(n){const e=new Yn(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function zp(n,e){const t=(e.baseMutations||[]).map(a=>gT(n.se,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const i=e.mutations.map(a=>gT(n.se,a)),r=Yn.fromMillis(e.localWriteTimeMs);return new cT(e.batchId,r,t,i)}function d0(n){const e=jp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?jp(n.lastLimboFreeSnapshotVersion):Dt.min();let i;var r;return void 0!==n.query.documents?(wt(1===(r=n.query).documents.length),i=Gr(Np(GO(r.documents[0])))):i=Gr(KO(n.query)),new Fh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Bi.fromBase64String(n.resumeToken))}function nk(n,e){const t=Hp(e.snapshotVersion),i=Hp(e.lastLimboFreeSnapshotVersion);let r;r=Rh(e.target)?YO(n.se,e.target):_T(n.se,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Mc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function yT(n){const e=KO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Vp(e,e.limit,"L"):e}function vT(n,e){return new dT(e.largestBatchId,gT(n.se,e.overlayMutation))}function ik(n,e){const t=e.path.lastSegment();return[n,co(e.path.popLast()),t]}function rk(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Hp(i.readTime),documentKey:co(i.documentKey.path),largestBatchId:i.largestBatchId}}class JL{getBundleMetadata(e,t){return ok(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:jp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return ok(e).put({bundleId:(i=t).id,createTime:Hp(Ui(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return sk(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:yT(r.bundledQuery),readTime:jp(r.readTime)};var r})}saveNamedQuery(e,t){return sk(e).put({name:(i=t).name,readTime:Hp(Ui(i.readTime)),bundledQuery:i.bundledQuery});var i}}function ok(n){return tr(n,"bundles")}function sk(n){return tr(n,"namedQueries")}class dD{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new dD(e,t.uid||"")}getOverlay(e,t){return h0(e).get(ik(this.userId,t)).next(i=>i?vT(this.serializer,i):null)}getOverlays(e,t){const i=Ta();return re.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new dT(t,u);r.push(this.re(e,f))}),re.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(co(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(h0(e).J("collectionPathOverlayIndex",f))}),re.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Ta(),a=co(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return h0(e).j("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=vT(this.serializer,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Ta();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return h0(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,b,C)=>{const A=vT(this.serializer,b);a.size()<r||A.largestBatchId===u?(a.set(A.getKey(),A),u=A.largestBatchId):C.done()}).next(()=>a)}re(e,t){return h0(e).put(function(i,r,a){const[u,f,_]=ik(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:u0(i.se,a.mutation)}}(this.serializer,this.userId,t))}}function h0(n){return tr(n,"documentOverlays")}class $p{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(fi(e.integerValue));else if("doubleValue"in e){const i=fi(e.doubleValue);isNaN(i)?this.ae(t,13):(this.ae(t,15),T_(i)?t.he(0):t.he(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ae(t,20),"string"==typeof i?t.le(i):(t.le(`${i.seconds||""}`),t.he(i.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(vl(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?WS(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):st()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const i=e.fields||{};this.ae(t,55);for(const r of Object.keys(i))this.fe(r,t),this.ue(i[r],t)}ge(e,t){const i=e.values||[];this.ae(t,50);for(const r of i)this.ue(r,t)}_e(e,t){this.ae(t,37),Ge.fromName(e).path.forEach(i=>{this.ae(t,60),this.ye(i,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function e2(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function ak(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=e2(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}$p.pe=new $p;class t2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Te(i.value),i=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Re(i.value),i=t.next();this.ve()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{const r=t.codePointAt(0);this.Te(240|r>>>18),this.Te(128|63&r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r)}}this.Ee()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=t.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.ve()}Ve(e){const t=this.Se(e),i=ak(t);this.De(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ce(e){const t=this.Se(e),i=ak(t);this.De(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class n2{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class r2{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class f0{constructor(){this.Me=new t2,this.Fe=new n2(this.Me),this.Be=new r2(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class Gp{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Gp(this.indexId,this.documentKey,this.arrayValue,i)}}function Ph(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=lk(n.arrayValue,e.arrayValue),0!==t?t:(t=lk(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function lk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class o2{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ge=i:this.Ke.push(i)}}Qe(e){wt(e.collectionGroup===this.collectionId);const t=C_(e);if(void 0!==t&&!this.ze(t))return!1;const i=Qu(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ge){const u=i[r];if(!this.je(this.Ge,u)||!this.We(this.Ue[a++],u))return!1;++r}for(;r<i.length;++r)if(a>=this.Ue.length||!this.We(this.Ue[a++],i[r]))return!1;return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ck(n){var e,t;if(wt(n instanceof sn||n instanceof bn),n instanceof sn){if(n instanceof Pp){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>sn.create(n.field,"==",a)))||[];return bn.create(r,"or")}return n}const i=n.filters.map(r=>ck(r));return bn.create(i,n.op)}function s2(n){if(0===n.getFilters().length)return[];const e=ET(ck(n));return wt(uk(e)),bT(e)||wT(e)?[e]:e.getFilters()}function bT(n){return n instanceof sn}function wT(n){return n instanceof bn&&tD(n)}function uk(n){return bT(n)||wT(n)||function(e){if(e instanceof bn&&eD(e)){for(const t of e.getFilters())if(!bT(t)&&!wT(t))return!1;return!0}return!1}(n)}function ET(n){if(wt(n instanceof sn||n instanceof bn),n instanceof sn)return n;if(1===n.filters.length)return ET(n.filters[0]);const e=n.filters.map(i=>ET(i));let t=bn.create(e,n.op);return t=hD(t),uk(t)?t:(wt(t instanceof bn),wt(Fp(t)),wt(t.filters.length>1),t.filters.reduce((i,r)=>CT(i,r)))}function CT(n,e){let t;return wt(n instanceof sn||n instanceof bn),wt(e instanceof sn||e instanceof bn),t=n instanceof sn?e instanceof sn?bn.create([n,e],"and"):dk(n,e):e instanceof sn?dk(e,n):function(i,r){if(wt(i.filters.length>0&&r.filters.length>0),Fp(i)&&Fp(r))return iD(i,r.getFilters());const a=eD(i)?i:r,u=eD(i)?r:i,f=a.filters.map(_=>CT(_,u));return bn.create(f,"or")}(n,e),hD(t)}function dk(n,e){if(Fp(e))return iD(e,n.getFilters());{const t=e.filters.map(i=>CT(n,i));return bn.create(t,"or")}}function hD(n){if(wt(n instanceof sn||n instanceof bn),n instanceof sn)return n;const e=n.getFilters();if(1===e.length)return hD(e[0]);if(Kb(n))return n;const t=e.map(r=>hD(r)),i=[];return t.forEach(r=>{r instanceof sn?i.push(r):r instanceof bn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:bn.create(i,n.op)}class a2{constructor(){this.He=new DT}addToCollectionParentIndex(e,t){return this.He.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(No.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(No.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class DT{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new en(ln.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new en(ln.comparator)).toArray()}}const fD=new Uint8Array(0);class l2{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new DT,this.Ye=new Dl(i=>Mc(i),(i,r)=>td(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const a={collectionId:i,parent:co(r)};return hk(e).put(a)}return re.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[OC(t),""],!1,!0);return hk(e).j(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(yl(u.parent))}return i})}addFieldIndex(e,t){const i=pD(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=m0(e);return a.next(f=>{u.put(rk(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=pD(e),r=m0(e),a=p0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=p0(e);let r=!0;const a=new Map;return re.forEach(this.Ze(t),u=>this.Xe(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=Xt();const f=[];return re.forEach(a,(_,b)=>{var C;Oe("IndexedDbIndexManager",`Using index ${C=_,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(ht=>`${ht.fieldPath}:${ht.kind}`).join(",")}`} to execute ${Mc(t)}`);const A=function(ht,Ct){const Gt=C_(Ct);if(void 0===Gt)return null;for(const Zt of P_(ht,Gt.fieldPath))switch(Zt.op){case"array-contains-any":return Zt.value.arrayValue.values||[];case"array-contains":return[Zt.value]}return null}(b,_),k=function(ht,Ct){const Gt=new Map;for(const Zt of Qu(Ct))for(const wn of P_(ht,Zt.fieldPath))switch(wn.op){case"==":case"in":Gt.set(Zt.fieldPath.canonicalString(),wn.value);break;case"not-in":case"!=":return Gt.set(Zt.fieldPath.canonicalString(),wn.value),Array.from(Gt.values())}return null}(b,_),V=function(ht,Ct){const Gt=[];let Zt=!0;for(const wn of Qu(Ct)){const Vr=0===wn.kind?N_(ht,wn.fieldPath,ht.startAt):L_(ht,wn.fieldPath,ht.startAt);Gt.push(Vr.value),Zt&&(Zt=Vr.inclusive)}return new wl(Gt,Zt)}(b,_),G=function(ht,Ct){const Gt=[];let Zt=!0;for(const wn of Qu(Ct)){const Vr=0===wn.kind?L_(ht,wn.fieldPath,ht.endAt):N_(ht,wn.fieldPath,ht.endAt);Gt.push(Vr.value),Zt&&(Zt=Vr.inclusive)}return new wl(Gt,Zt)}(b,_),K=this.tn(_,b,V),oe=this.tn(_,b,G),ze=this.en(_,b,k),mt=this.nn(_.indexId,A,K,V.inclusive,oe,G.inclusive,ze);return re.forEach(mt,ht=>i.H(ht,t.limit).next(Ct=>{Ct.forEach(Gt=>{const Zt=Ge.fromSegments(Gt.documentKey);u.has(Zt)||(u=u.add(Zt),f.push(Zt))})}))}).next(()=>f)}return re.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:s2(bn.create(e.filters,"and")).map(i=>Cl(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),b=_/(null!=t?t.length:1),C=[];for(let A=0;A<_;++A){const k=t?this.sn(t[A/b]):fD,V=this.rn(e,k,i[A%b],r),G=this.on(e,k,a[A%b],u),K=f.map(oe=>this.rn(e,k,oe,!0));C.push(...this.createRange(V,G,K))}return C}rn(e,t,i,r){const a=new Gp(e,Ge.empty(),t,i);return r?a:a.qe()}on(e,t,i,r){const a=new Gp(e,Ge.empty(),t,i);return r?a.qe():a}Xe(e,t){const i=new o2(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.Qe(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;const r=this.Ze(t);return re.forEach(r,a=>this.Xe(e,a).next(u=>{u?0!==i&&u.fields.length<function(f){let _=new en(zn.comparator),b=!1;for(const C of f.filters)for(const A of C.getFlattenedFilters())A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?b=!0:_=_.add(A.field));for(const C of f.orderBy)C.field.isKeyField()||(_=_.add(C.field));return _.size+(b?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}un(e,t){const i=new f0;for(const r of Qu(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.Le(r.kind);$p.pe.oe(a,u)}return i.$e()}sn(e){const t=new f0;return $p.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const i=new f0;return $p.pe.oe(ed(this.databaseId,t),i.Le(function(r){const a=Qu(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}en(e,t,i){if(null===i)return[];let r=[];r.push(new f0);let a=0;for(const u of Qu(e)){const f=i[a++];for(const _ of r)if(this.an(t,u.fieldPath)&&kp(f))r=this.hn(r,u,f);else{const b=_.Le(u.kind);$p.pe.oe(f,b)}}return this.ln(r)}tn(e,t,i){return this.en(e,t,i.position)}ln(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}hn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new f0;_.seed(f.$e()),$p.pe.oe(u,_.Le(t.kind)),a.push(_)}return a}an(e,t){return!!e.filters.find(i=>i instanceof sn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=pD(e),r=m0(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const u=[];return re.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(b,C){const A=C?new Th(C.sequenceNumber,new No(jp(C.readTime),new Ge(yl(C.documentKey)),C.largestBatchId)):Th.empty(),k=b.fields.map(([V,G])=>new _l(zn.fromServerFormat(V),G));return new Nb(b.indexId,b.collectionGroup,k,A)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:$t(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=pD(e),a=m0(e);return this.fn(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>re.forEach(f,_=>a.put(rk(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return re.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?re.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),re.forEach(f,_=>this.dn(e,r,_).next(b=>{const C=this.wn(a,_);return b.isEqual(C)?re.resolve():this._n(e,a,_,b,C)}))))})}mn(e,t,i,r){return p0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(i,t.key),documentKey:t.key.path.toArray()})}gn(e,t,i,r){return p0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(i,t.key),t.key.path.toArray()])}dn(e,t,i){const r=p0(e);let a=new en(Ph);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.cn(i,t)])},(u,f)=>{a=a.add(new Gp(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}wn(e,t){let i=new en(Ph);const r=this.un(t,e);if(null==r)return i;const a=C_(t);if(null!=a){const u=e.data.field(a.fieldPath);if(kp(u))for(const f of u.arrayValue.values||[])i=i.add(new Gp(t.indexId,e.key,this.sn(f),r))}else i=i.add(new Gp(t.indexId,e.key,fD,r));return i}_n(e,t,i,r,a){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,b,C,A){const k=f.getIterator(),V=_.getIterator();let G=Ic(k),K=Ic(V);for(;G||K;){let oe=!1,ze=!1;if(G&&K){const mt=b(G,K);mt<0?ze=!0:mt>0&&(oe=!0)}else null!=G?ze=!0:oe=!0;oe?(C(K),K=Ic(V)):ze?(A(G),G=Ic(k)):(G=Ic(k),K=Ic(V))}}(r,a,Ph,f=>{u.push(this.mn(e,t,i,f))},f=>{u.push(this.gn(e,t,i,f))}),re.waitFor(u)}fn(e){let t=1;return m0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>Ph(u,f)).filter((u,f,_)=>!f||0!==Ph(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=Ph(u,e),_=Ph(u,t);if(0===f)r[0]=e.qe();else if(f>0&&_<0)r.push(u),r.push(u.qe());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2){if(this.yn(r[u],r[u+1]))return[];a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,fD,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,fD,[]]))}return a}yn(e,t){return Ph(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(fk)}getMinOffset(e,t){return re.mapArray(this.Ze(t),i=>this.Xe(e,i).next(r=>r||st())).next(fk)}}function hk(n){return tr(n,"collectionParents")}function p0(n){return tr(n,"indexEntries")}function pD(n){return tr(n,"indexConfiguration")}function m0(n){return tr(n,"indexState")}function fk(n){wt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;PC(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new No(e.readTime,e.documentKey,t)}const pk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class us{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new us(e,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mk(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.Z({range:u},(C,A,k)=>(f++,k.delete()));a.push(_.next(()=>{wt(1===f)}));const b=[];for(const C of t.mutations){const A=BS(e,C.key.path,t.batchId);a.push(r.delete(A)),b.push(C.key)}return re.waitFor(a).next(()=>b)}function mD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw st();e=n.noDocument}return JSON.stringify(e).length}us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(41943040,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);class gD{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.pn={}}static ie(e,t,i,r){wt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new gD(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nh(e).Z({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=$_(e),u=Nh(e);return u.add({}).next(f=>{wt("number"==typeof f);const _=new cT(f,t,i,r),b=function(k,V,G){const K=G.baseMutations.map(ze=>u0(k.se,ze)),oe=G.mutations.map(ze=>u0(k.se,ze));return{userId:V,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:K,mutations:oe}}(this.serializer,this.userId,_),C=[];let A=new en((k,V)=>$t(k.canonicalString(),V.canonicalString()));for(const k of r){const V=BS(this.userId,k.key.path,f);A=A.add(k.key.path.popLast()),C.push(u.put(b)),C.push(a.put(V,bO))}return A.forEach(k=>{C.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.pn[f]=_.keys()}),re.waitFor(C).next(()=>_)})}lookupMutationBatch(e,t){return Nh(e).get(t).next(i=>i?(wt(i.userId===this.userId),zp(this.serializer,i)):null)}In(e,t){return this.pn[t]?re.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.pn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Nh(e).Z({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(wt(f.batchId>=i),a=zp(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Nh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nh(e).j("userMutationsIndex",t).next(i=>i.map(r=>zp(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Bb(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return $_(e).Z({range:r},(u,f,_)=>{const[b,C,A]=u,k=yl(C);if(b===this.userId&&t.path.isEqual(k))return Nh(e).get(A).next(V=>{if(!V)throw st();wt(V.userId===this.userId),a.push(zp(this.serializer,V))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new en($t);const r=[];return t.forEach(a=>{const u=Bb(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=$_(e).Z({range:f},(b,C,A)=>{const[k,V,G]=b,K=yl(V);k===this.userId&&a.path.isEqual(K)?i=i.add(G):A.done()});r.push(_)}),re.waitFor(r).next(()=>this.Tn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=Bb(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new en($t);return $_(e).Z({range:u},(_,b,C)=>{const[A,k,V]=_,G=yl(k);A===this.userId&&i.isPrefixOf(G)?G.length===r&&(f=f.add(V)):C.done()}).next(()=>this.Tn(e,f))}Tn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Nh(e).get(a).next(u=>{if(null===u)throw st();wt(u.userId===this.userId),i.push(zp(this.serializer,u))}))}),re.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return mk(e.at,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),re.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return re.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return $_(e).Z({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=yl(a[1]);r.push(_)}else f.done()}).next(()=>{wt(0===r.length)})})}containsKey(e,t){return gk(e,this.userId,t)}An(e){return _k(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function gk(n,e,t){const i=Bb(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return $_(n).Z({range:a,Y:!0},(f,_,b)=>{const[C,A,k]=f;C===e&&A===r&&(u=!0),b.done()}).next(()=>u)}function Nh(n){return tr(n,"mutations")}function $_(n){return tr(n,"documentMutations")}function _k(n){return tr(n,"mutationQueues")}class qp{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new qp(0)}static bn(){return new qp(-1)}}class c2{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const i=new qp(t.highestTargetId);return t.highestTargetId=i.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>Dt.fromTimestamp(new Yn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Vn(e,r)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(i=>(i.targetCount+=1,this.Dn(t,i),this.Vn(e,i))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>G_(e).delete(t.targetId)).next(()=>this.Pn(e)).next(i=>(wt(i.targetCount>0),i.targetCount-=1,this.Vn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return G_(e).Z((u,f)=>{const _=d0(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>re.waitFor(a)).next(()=>r)}forEachTarget(e,t){return G_(e).Z((i,r)=>{const a=d0(r);t(a)})}Pn(e){return yk(e).get("targetGlobalKey").next(t=>(wt(null!==t),t))}Vn(e,t){return yk(e).put("targetGlobalKey",t)}Sn(e,t){return G_(e).put(nk(this.serializer,t))}Dn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Mc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return G_(e).Z({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const b=d0(f);td(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Lh(e);return t.forEach(u=>{const f=co(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),re.waitFor(r)}removeMatchingKeys(e,t,i){const r=Lh(e);return re.forEach(t,a=>{const u=co(a.path);return re.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Lh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Lh(e);let a=Xt();return r.Z({range:i,Y:!0},(u,f,_)=>{const b=yl(u[1]),C=new Ge(b);a=a.add(C)}).next(()=>a)}containsKey(e,t){const i=co(t.path),r=IDBKeyRange.bound([i],[OC(i)],!1,!0);let a=0;return Lh(e).Z({index:"documentTargetsIndex",Y:!0,range:r},([u,f],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}ne(e,t){return G_(e).get(t).next(i=>i?d0(i):null)}}function G_(n){return tr(n,"targets")}function yk(n){return tr(n,"targetGlobal")}function Lh(n){return tr(n,"targetDocuments")}function vk([n,e],[t,i]){const r=$t(n,t);return 0===r?$t(e,i):r}class u2{constructor(e){this.Cn=e,this.buffer=new en(vk),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();vk(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;Oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){xc(i)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Dc(i)}yield t.$n(3e5)}))}}class h2{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return re.resolve(Lo.ct);const i=new u2(t);return this.Mn.forEachTarget(e,r=>i.kn(r.sequenceNumber)).next(()=>this.Mn.Bn(e,r=>i.kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Mn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(pk)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pk):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let i,r,a,u,f,_,b;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),r=this.params.maximumSequenceNumbersToCollect):r=A,u=Date.now(),this.nthSequenceNumber(e,r))).next(A=>(i=A,f=Date.now(),this.removeTargets(e,i,t))).next(A=>(a=A,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(A=>(b=Date.now(),kb()<=vc.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(b-_)+`ms\nTotal Duration: ${b-C}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:A})))}}class f2{constructor(e,t){this.db=e,this.garbageCollector=new h2(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Bn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(i,r)=>t(r))}addReference(e,t,i){return _D(e,i)}removeReference(e,t,i){return _D(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return _D(e,t)}Kn(e,t){return function(i,r){let a=!1;return _k(i).X(u=>gk(i,u,r).next(f=>(f&&(a=!0),re.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Un(e,(u,f)=>{if(f<=t){const _=this.Kn(e,u).next(b=>{if(!b)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Dt.min()),Lh(e).delete([0,co(u.path)])))});r.push(_)}}).next(()=>re.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return _D(e,t)}Un(e,t){const i=Lh(e);let r,a=Lo.ct;return i.Z({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(a!==Lo.ct&&t(new Ge(yl(r)),a),a=b,r=_):a=Lo.ct}).next(()=>{a!==Lo.ct&&t(new Ge(yl(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _D(n,e){return Lh(n).put((i=n.currentSequenceNumber,{targetId:0,path:co(e.path),sequenceNumber:i}));var i}class bk{constructor(){this.changes=new Dl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class p2{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Wp(e).put(i)}removeEntry(e,t,i){return Wp(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],uD(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Gn(e,i)))}getEntry(e,t){let i=Nn.newInvalidDocument(t);return Wp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(g0(t))},(r,a)=>{i=this.Qn(t,a)}).next(()=>i)}zn(e,t){let i={size:0,document:Nn.newInvalidDocument(t)};return Wp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(g0(t))},(r,a)=>{i={document:this.Qn(t,a),size:mD(a)}}).next(()=>i)}getEntries(e,t){let i=ho();return this.jn(e,t,(r,a)=>{const u=this.Qn(r,a);i=i.insert(r,u)}).next(()=>i)}Wn(e,t){let i=ho(),r=new ti(Ge.comparator);return this.jn(e,t,(a,u)=>{const f=this.Qn(a,u);i=i.insert(a,f),r=r.insert(a,mD(u))}).next(()=>({documents:i,Hn:r}))}jn(e,t,i){if(t.isEmpty())return re.resolve();let r=new en(Dk);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(g0(r.first()),g0(r.last())),u=r.getIterator();let f=u.getNext();return Wp(e).Z({index:"documentKeyIndex",range:a},(_,b,C)=>{const A=Ge.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&Dk(f,A)<0;)i(f,null),f=u.getNext();f&&f.isEqual(A)&&(i(f,b),f=u.hasNext()?u.getNext():null),f?C.G(g0(f)):C.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),uD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Wp(e).j(IDBKeyRange.bound(u,f,!0)).next(_=>{let b=ho();for(const C of _){const A=this.Qn(Ge.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);A.isFoundDocument()&&(Bp(t,A)||r.has(A.key))&&(b=b.insert(A.key,A))}return b})}getAllFromCollectionGroup(e,t,i,r){let a=ho();const u=Ck(t,i),f=Ck(t,No.max());return Wp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,C)=>{const A=this.Qn(Ge.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(A.key,A),a.size===r&&C.done()}).next(()=>a)}newChangeBuffer(e){return new m2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ek(e).get("remoteDocumentGlobalKey").next(t=>(wt(!!t),t))}Gn(e,t){return Ek(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const i=function XL(n,e){let t;if(e.document)t=ZO(n.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ge.fromSegments(e.noDocument.path),r=jp(e.noDocument.readTime);t=Nn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return st();{const i=Ge.fromSegments(e.unknownDocument.path),r=jp(e.unknownDocument.version);t=Nn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Yn(i[0],i[1]);return Dt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Dt.min()))return i}return Nn.newInvalidDocument(e)}}function wk(n){return new p2(n)}class m2 extends bk{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new Dl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new en((a,u)=>$t(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Yn.get(a);if(t.push(this.Jn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=tk(this.Jn.serializer,u);r=r.add(a.path.popLast());const b=mD(_);i+=b-f.size,t.push(this.Jn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=tk(this.Jn.serializer,u.convertToNoDocument(Dt.min()));t.push(this.Jn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Jn.updateMetadata(e,i)),re.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(i=>(this.Yn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:i,Hn:r})=>(r.forEach((a,u)=>{this.Yn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function Ek(n){return tr(n,"remoteDocumentGlobal")}function Wp(n){return tr(n,"remoteDocumentsV14")}function g0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ck(n,e){const t=e.documentKey.path.toArray();return[n,uD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Dk(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=$t(t[a],i[a]),r)return r;return r=$t(t.length,i.length),r||(r=$t(t[t.length-2],i[i.length-2]),r||$t(t[t.length-1],i[i.length-1]))}class g2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class xk{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&at(i.mutation,r,uo.empty(),Yn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Xt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Xt()){const r=Ta();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=B_();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Ta();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Xt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=ho();const u=Up(),f=Up();return t.forEach((_,b)=>{const C=i.get(b.key);r.has(b.key)&&(void 0===C||C.mutation instanceof fn)?a=a.insert(b.key,b):void 0!==C?(u.set(b.key,C.mutation.getFieldMask()),at(C.mutation,b,C.mutation.getFieldMask(),Yn.now())):u.set(b.key,uo.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,C)=>u.set(b,C)),t.forEach((b,C)=>{var A;return f.set(b,new g2(C,null!==(A=u.get(b))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Up();let r=new ti((u,f)=>u-f),a=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let C=i.get(_)||uo.empty();C=f.applyToLocalView(b,C),i.set(_,C);const A=(r.get(f.batchId)||Xt()).add(_);r=r.insert(f.batchId,A)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,C=_.value,A=aD();C.forEach(k=>{if(!a.has(k)){const V=Ne(t.get(k),i.get(k));null!==V&&A.set(k,V),a=a.add(k)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,A))}return re.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ge.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Xb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):re.resolve(Ta());let f=-1,_=a;return u.next(b=>re.forEach(b,(C,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),a.get(C)?re.resolve():this.remoteDocumentCache.getEntry(e,C).next(k=>{_=_.insert(C,k)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,Xt())).next(C=>({batchId:f,changes:iT(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(i=>{let r=B_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=B_();return this.indexManager.getCollectionParents(e,r).next(u=>re.forEach(u,f=>{const _=(b=t,C=f.child(r),new cs(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,C;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(b=>{b.forEach((C,A)=>{a=a.insert(C,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((f,_)=>{const b=_.getKey();null===a.get(b)&&(a=a.insert(b,Nn.newInvalidDocument(b)))});let u=B_();return a.forEach((f,_)=>{const b=r.get(f);void 0!==b&&at(b.mutation,_,uo.empty(),Yn.now()),Bp(t,_)&&(u=u.insert(f,_))}),u})}}class _2{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return re.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Ui(i.createTime)}),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(i=t).name,query:yT(i.bundledQuery),readTime:Ui(i.readTime)}),re.resolve();var i}}class y2{constructor(){this.overlays=new ti(Ge.comparator),this.ts=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ta();return re.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.re(e,t,a)}),re.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ts.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.ts.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const r=Ta(),a=t.length+1,u=new Ge(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new ti((b,C)=>b-C);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let C=a.get(b.largestBatchId);null===C&&(C=Ta(),a=a.insert(b.largestBatchId,C)),C.set(b.getKey(),b)}}const f=Ta(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,C)=>f.set(b,C)),!(f.size()>=r)););return re.resolve(f)}re(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ts.get(r.largestBatchId).delete(i.key);this.ts.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new dT(t,i));let a=this.ts.get(t);void 0===a&&(a=Xt(),this.ts.set(t,a)),this.ts.set(t,a.add(i.key))}}class xT{constructor(){this.es=new en(Nr.ns),this.ss=new en(Nr.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const i=new Nr(e,t);this.es=this.es.add(i),this.ss=this.ss.add(i)}os(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.us(new Nr(e,t))}cs(e,t){e.forEach(i=>this.removeReference(i,t))}hs(e){const t=new Ge(new ln([])),i=new Nr(t,e),r=new Nr(t,e+1),a=[];return this.ss.forEachInRange([i,r],u=>{this.us(u),a.push(u.key)}),a}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new Ge(new ln([])),i=new Nr(t,e),r=new Nr(t,e+1);let a=Xt();return this.ss.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Nr(e,0),i=this.es.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Nr{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return Ge.comparator(e.key,t.key)||$t(e.ds,t.ds)}static rs(e,t){return $t(e.ds,t.ds)||Ge.comparator(e.key,t.key)}}class v2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new en(Nr.ns)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const u=new cT(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this._s=this._s.add(new Nr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,t){return re.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ys(t+1),a=r<0?0:r;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Nr(t,0),r=new Nr(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([i,r],u=>{const f=this.gs(u.ds);a.push(f)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new en($t);return t.forEach(r=>{const a=new Nr(r,0),u=new Nr(r,Number.POSITIVE_INFINITY);this._s.forEachInRange([a,u],f=>{i=i.add(f.ds)})}),re.resolve(this.ps(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Ge.isDocumentKey(a)||(a=a.child(""));const u=new Nr(new Ge(a),0);let f=new en($t);return this._s.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_.ds)),!0)},u),re.resolve(this.ps(f))}ps(e){const t=[];return e.forEach(i=>{const r=this.gs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){wt(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let i=this._s;return re.forEach(t.mutations,r=>{const a=new Nr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this._s=i})}En(e){}containsKey(e,t){const i=new Nr(t,0),r=this._s.firstAfterOrEqual(i);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return re.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class b2{constructor(e){this.Ts=e,this.docs=new ti(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let i=ho();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Nn.newInvalidDocument(r))}),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=ho();const u=t.path,f=new Ge(u.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:b,value:{document:C}}=_.getNext();if(!u.isPrefixOf(b.path))break;b.path.length>u.length+1||PC(NS(C),i)<=0||(r.has(C.key)||Bp(t,C))&&(a=a.insert(C.key,C.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,i,r){st()}Es(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new w2(this)}getSize(e){return re.resolve(this.size)}}class w2 extends bk{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Jn.addEntry(e,r)):this.Jn.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class E2{constructor(e){this.persistence=e,this.As=new Dl(t=>Mc(t),td),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Rs=0,this.vs=new xT,this.targetCount=0,this.bs=qp.vn()}forEachTarget(e,t){return this.As.forEach((i,r)=>t(r)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Rs&&(this.Rs=t),re.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new qp(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Sn(t),re.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.As.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.As.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),re.waitFor(a).next(()=>r)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.As.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.vs.os(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.vs.cs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this.vs.fs(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.vs.containsKey(t))}}class Ik{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Lo(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new E2(this),this.indexManager=new a2,this.remoteDocumentCache=new b2(i=>this.referenceDelegate.Cs(i)),this.serializer=new ek(t),this.xs=new _2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new y2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ps[e.toKey()];return i||(i=new v2(t,this.referenceDelegate),this.Ps[e.toKey()]=i),i}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,i){Oe("MemoryPersistence","Starting transaction:",e);const r=new C2(this.Vs.next());return this.referenceDelegate.Ns(),i(r).next(a=>this.referenceDelegate.ks(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return re.or(Object.values(this.Ps).map(i=>()=>i.containsKey(e,t)))}}class C2 extends LC{constructor(e){super(),this.currentSequenceNumber=e}}class yD{constructor(e){this.persistence=e,this.$s=new xT,this.Ms=null}static Fs(e){return new yD(e)}get Bs(){if(this.Ms)return this.Ms;throw st()}addReference(e,t,i){return this.$s.addReference(i,t),this.Bs.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.$s.removeReference(i,t),this.Bs.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),re.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(r=>this.Bs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Bs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Bs,i=>{const r=Ge.fromPath(i);return this.Ls(e,r).next(a=>{a||t.removeEntry(r,Dt.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(i=>{i?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return re.or([()=>re.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class D2{constructor(e){this.serializer=e}M(e,t,i,r){const a=new I_("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VS,{unique:!0}),f.createObjectStore("documentMutations"),Sk(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=re.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),Sk(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").j().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VS,{unique:!0});const C=_.store("mutations"),A=b.map(k=>C.put(k));return re.waitFor(A)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.qs(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Us(a)))),i<7&&r>=7&&(u=u.next(()=>this.Ks(a))),i<8&&r>=8&&(u=u.next(()=>this.Gs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Qs(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:HS});_.createIndex("collectionPathOverlayIndex",jS,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",zS,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:A_});_.createIndex("documentKeyIndex",wO),_.createIndex("collectionGroupIndex",jC)}(e)).next(()=>this.zs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.js(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Ub}).createIndex("sequenceNumberIndex",GC,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:US}).createIndex("documentKeyIndex",CO,{unique:!1})}(e))),u}Us(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=mD(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>re.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(f=>re.forEach(f,_=>{wt(_.userId===a.userId);const b=zp(this.serializer,_);return mk(e,a.userId,b).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((u,f)=>{const _=new ln(u),b=[0,co(_)];a.push(t.get(b).next(C=>C?re.resolve():t.put({targetId:0,path:co(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>re.waitFor(a))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:EO});const i=t.store("collectionParents"),r=new DT,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:co(_)})}};return t.store("remoteDocuments").Z({Y:!0},(u,f)=>{const _=new ln(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([u,f,_],b)=>{const C=yl(f);return a(C.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((i,r)=>{const a=d0(r),u=nk(this.serializer,a);return t.put(u)})}zs(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(b=u,b.document?new Ge(ln.fromString(b.document.name).popFirst(5)):b.noDocument?Ge.fromSegments(b.noDocument.path):b.unknownDocument?Ge.fromSegments(b.unknownDocument.path):st()).path.toArray();var b;const C={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(C))}).next(()=>re.waitFor(r))}js(e,t){const i=t.store("mutations"),r=wk(this.serializer),a=new Ik(yD.Fs,this.serializer.se);return i.j().next(u=>{const f=new Map;return u.forEach(_=>{var b;let C=null!==(b=f.get(_.userId))&&void 0!==b?b:Xt();zp(this.serializer,_).keys().forEach(A=>C=C.add(A)),f.set(_.userId,C)}),re.forEach(f,(_,b)=>{const C=new er(b),A=dD.ie(this.serializer,C),k=a.getIndexManager(C),V=gD.ie(C,this.serializer,k,a.referenceDelegate);return new xk(r,V,A,k).recalculateAndSaveOverlaysForDocumentKeys(new Hb(t,Lo.ct),_).next()})})}}function Sk(n){n.createObjectStore("targetDocuments",{keyPath:zC}).createIndex("documentTargetsIndex",$C,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",M_,{unique:!0}),n.createObjectStore("targetGlobal")}const IT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ST{constructor(e,t,i,r,a,u,f,_,b,C,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ws=a,this.window=u,this.document=f,this.Hs=b,this.Js=C,this.Ys=A,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=k=>Promise.resolve(),!ST.D())throw new Se(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new f2(this,r),this.si=t+"main",this.serializer=new ek(_),this.ii=new ss(this.si,this.Ys,new D2(this.serializer)),this.Ds=new c2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wk(this.serializer),this.xs=new JL,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===C&&hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(ae.FAILED_PRECONDITION,IT);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new Lo(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var i=(0,_e.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,_e.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>vD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(xc(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return _0(e).get("owner").next(t=>re.resolve(this._i(t)))}mi(e){return vD(e).delete(this.clientId)}gi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=tr(i,"clientMetadata");return r.j().next(a=>{const u=e.pi(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return re.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ri)for(const i of t)e.ri.removeItem(e.Ii(i.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?re.resolve(!0):_0(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new Se(ae.FAILED_PRECONDITION,IT);return!1}}return!(!this.networkEnabled||!this.inForeground)||vD(e).j().next(i=>void 0===this.pi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Hb(t,Lo.ct);return e.di(i).next(()=>e.mi(i))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(i=>this.yi(i.updateTimeMs,t)&&!this.Ti(i.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>vD(e).j().next(t=>this.pi(t,18e5).map(i=>i.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return gD.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new l2(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return dD.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,i){Oe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Ys)?DO:14===u?qS:13===u?GS:12===u?$S:11===u?Ap:void st();var u;let f;return this.ii.runTransaction(e,r,a,_=>(f=new Hb(_,this.Vs?this.Vs.next():Lo.ct),"readwrite-primary"===t?this.li(f).next(b=>!!b||this.fi(f)).next(b=>{if(!b)throw hi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Se(ae.FAILED_PRECONDITION,NC);return i(f)}).next(b=>this.wi(f).next(()=>b)):this.Pi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Pi(e){return _0(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Se(ae.FAILED_PRECONDITION,IT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _0(e).put("owner",t)}static D(){return ss.D()}di(e){const t=_0(e);return t.get("owner").next(i=>this._i(i)?(Oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):re.resolve())}yi(e,t){const i=Date.now();return!(e<i-t||e>i&&(hi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,un.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const i=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Oe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return hi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){hi("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _0(n){return tr(n,"owner")}function vD(n){return tr(n,"clientMetadata")}function TT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class AT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Vi=i,this.Si=r}static Di(e,t){let i=Xt(),r=Xt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new AT(e,t.fromCache,i,r)}}class Tk{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ni(e,t).next(a=>a||this.ki(e,t,r,i)).next(a=>a||this.Oi(e,t))}Ni(e,t){if(nT(t))return re.resolve(null);let i=Gr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Vp(t,null,"F"),i=Gr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Xt(...a);return this.xi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const b=this.$i(t,f);return this.Mi(t,b,u,_.readTime)?this.Ni(e,Vp(t,null,"F")):this.Fi(e,b,t,_)}))})))}ki(e,t,i,r){return nT(t)||r.isEqual(Dt.min())?this.Oi(e,t):this.xi.getDocuments(e,i).next(a=>{const u=this.$i(t,a);return this.Mi(t,u,i,r)?this.Oi(e,t):(kb()<=vc.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),t0(t)),this.Fi(e,u,t,D_(r,-1)))})}$i(e,t){let i=new en(V_(e));return t.forEach((r,a)=>{Bp(e,a)&&(i=i.add(a))}),i}Mi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return kb()<=vc.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",t0(t)),this.xi.getDocumentsMatchingQuery(e,t,No.min())}Fi(e,t,i,r){return this.xi.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class x2{constructor(e,t,i,r){this.persistence=e,this.Bi=t,this.serializer=r,this.Li=new ti($t),this.qi=new Dl(a=>Mc(a),td),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(i)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xk(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function Ak(n,e,t,i){return new x2(n,e,t,i)}function Mk(n,e){return MT.apply(this,arguments)}function MT(){return MT=(0,_e.Z)(function*(n,e){const t=Ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Gi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=Xt();for(const b of r){u.push(b.batchId);for(const C of b.mutations)_=_.add(C.key)}for(const b of a){f.push(b.batchId);for(const C of b.mutations)_=_.add(C.key)}return t.localDocuments.getDocuments(i,_).next(b=>({Qi:b,removedBatchIds:u,addedBatchIds:f}))})})}),MT.apply(this,arguments)}function Rk(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function Ok(n,e,t){let i=Xt(),r=Xt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=ho();return t.forEach((f,_)=>{const b=a.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(Dt.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Oe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{zi:u,ji:r}})}function T2(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function q_(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ds.getTargetData(i,e).next(a=>a?(r=a,re.resolve(r)):t.Ds.allocateTargetId(i).next(u=>(r=new Fh(e,u,0,i.currentSequenceNumber),t.Ds.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Li.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Li=t.Li.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function W_(n,e,t){return RT.apply(this,arguments)}function RT(){return RT=(0,_e.Z)(function*(n,e,t){const i=Ye(n),r=i.Li.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!xc(u))throw u;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Li=i.Li.remove(e),i.qi.delete(r.target)}),RT.apply(this,arguments)}function bD(n,e,t){const i=Ye(n);let r=Dt.min(),a=Xt();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const C=Ye(f),A=C.qi.get(b);return void 0!==A?re.resolve(C.Li.get(A)):C.Ds.getTargetData(_,b)}(i,u,Gr(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Ds.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Bi.getDocumentsMatchingQuery(u,e,t?r:Dt.min(),t?a:Xt())).next(f=>(Pk(i,n0(e),f),{documents:f,Wi:a})))}function kk(n,e){const t=Ye(n),i=Ye(t.Ds),r=t.Li.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.ne(a,e).next(u=>u?u.target:null))}function Fk(n,e){const t=Ye(n),i=t.Ui.get(e)||Dt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ki.getAllFromCollectionGroup(r,e,D_(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Pk(t,e,r),r))}function Pk(n,e,t){let i=n.Ui.get(e)||Dt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ui.set(e,i)}function OT(){return OT=(0,_e.Z)(function*(n,e,t,i){const r=Ye(n);let a=Xt(),u=ho();for(const b of t){const C=e.Hi(b.metadata.name);b.document&&(a=a.add(C));const A=e.Ji(b);A.setReadTime(e.Yi(b.metadata.readTime)),u=u.insert(C,A)}const f=r.Ki.newChangeBuffer({trackRemovals:!0}),_=yield q_(r,(b=i,Gr(Np(ln.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>Ok(b,f,u).next(C=>(f.apply(b),C)).next(C=>r.Ds.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Ds.addMatchingKeys(b,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,C.zi,C.ji)).next(()=>C.zi)))}),OT.apply(this,arguments)}function M2(n,e){return kT.apply(this,arguments)}function kT(){return kT=(0,_e.Z)(function*(n,e,t=Xt()){const i=yield q_(n,Gr(yT(e.bundledQuery))),r=Ye(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Ui(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.xs.saveNamedQuery(a,e);const f=i.withResumeToken(Bi.EMPTY_BYTE_STRING,u);return r.Li=r.Li.insert(f.targetId,f),r.Ds.updateTargetData(a,f).next(()=>r.Ds.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Ds.addMatchingKeys(a,t,i.targetId)).next(()=>r.xs.saveNamedQuery(a,e))})}),kT.apply(this,arguments)}function Nk(n,e){return`firestore_clients_${n}_${e}`}function Lk(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function FT(n,e){return`firestore_targets_${n}_${e}`}class wD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Se(r.error.code,r.error.message))),u?new wD(e,t,r.state,a):(hi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class y0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Se(i.error.code,i.error.message))),a?new y0(e,i.state,r):(hi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ED{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=U_();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Vb(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new ED(e,a):(hi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class PT{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new PT(t.clientId,t.onlineState):(hi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class NT{constructor(){this.activeTargetIds=U_()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LT{constructor(e,t,i,r,a){this.window=e,this.Ws=t,this.persistenceKey=i,this.nr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new ti($t),this.started=!1,this.ur=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.cr=Nk(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new NT),this.hr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.bi();for(const r of t){if(r===e.nr)continue;const a=e.getItem(Nk(e.persistenceKey,r));if(a){const u=ED.Zi(r,a);u&&(e.rr=e.rr.insert(u.clientId,u))}}e.mr();const i=e.storage.getItem(e.wr);if(i){const r=e.gr(i);r&&e.yr(r)}for(const r of e.ur)e.ir(r);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,i){this.Ir(e,t,i),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(FT(this.persistenceKey,e));if(i){const r=y0.Zi(e,i);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(FT(this.persistenceKey,e))}updateQueryState(e,t,i){this.Ar(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Tr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Oe("SharedClientState","READ",e,t),t}setItem(e,t){Oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Oe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.cr)return void hi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==i.key)if(t.hr.test(i.key)){if(null==i.newValue){const r=t.br(i.key);return t.Pr(r,null)}{const r=t.Vr(i.key,i.newValue);if(r)return t.Pr(r.clientId,r)}}else if(t.lr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Cr(i.key,i.newValue);if(r)return t.Nr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.gr(i.newValue);if(r)return t.yr(r)}}else if(i.key===t.ar){const r=function(a){let u=Lo.ct;if(null!=a)try{const f=JSON.parse(a);wt("number"==typeof f),u=f}catch(f){hi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Lo.ct&&t.sequenceNumberHandler(r)}else if(i.key===t._r){const r=t.kr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.ur.push(i)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,i){const r=new wD(this.currentUser,e,t,i),a=Lk(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Xi())}Tr(e){const t=Lk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,i){const r=FT(this.persistenceKey,e),a=new y0(e,t,i);this.setItem(r,a.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const i=this.br(e);return ED.Zi(i,t)}Sr(e,t){const i=this.lr.exec(e),r=Number(i[1]);return wD.Zi(new er(void 0!==i[2]?i[2]:null),r,t)}Cr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return y0.Zi(r,t)}gr(e){return PT.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const i=t?this.rr.insert(e,t):this.rr.remove(e),r=this.pr(this.rr),a=this.pr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Fr(u,f).then(()=>{this.rr=i})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=U_();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Vk{constructor(){this.Br=new NT,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,i){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new NT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class R2{qr(e){}shutdown(){}}class Bk{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let CD=null;function VT(){return null===CD?CD=268435456+Math.round(2147483648*Math.random()):CD++,"0x"+CD.toString(16)}const O2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k2{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const fo="WebChannelConnection";class F2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,i,r,a){const u=VT(),f=this.ao(e,t);Oe("RestConnection",`Sending RPC '${e}' ${u}:`,f,i);const _={};return this.ho(_,r,a),this.lo(e,f,_,i).then(b=>(Oe("RestConnection",`Received RPC '${e}' ${u}: `,b),b),b=>{throw Ls("RestConnection",`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",i),b})}fo(e,t,i,r,a,u){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ih,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.ro}/v1/${t}:${O2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){const a=VT();return new Promise((u,f)=>{const _=new Ob;_.setWithCredentials(!0),_.listenOnce(Mb.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case __.NO_ERROR:const C=_.getResponseJson();Oe(fo,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(C)),u(C);break;case __.TIMEOUT:Oe(fo,`RPC '${e}' ${a} timed out`),f(new Se(ae.DEADLINE_EXCEEDED,"Request time out"));break;case __.HTTP_ERROR:const A=_.getStatus();if(Oe(fo,`RPC '${e}' ${a} failed with status:`,A,"response text:",_.getResponseText()),A>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const V=k?.error;if(V&&V.status&&V.message){const G=function(K){const oe=K.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(oe)>=0?oe:ae.UNKNOWN}(V.status);f(new Se(G,V.message))}else f(new Se(ae.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Se(ae.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Oe(fo,`RPC '${e}' ${a} completed.`)}});const b=JSON.stringify(r);Oe(fo,`RPC '${e}' ${a} sending request:`,r),_.send(t,"POST",b,i,15)})}wo(e,t,i){const r=VT(),a=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=RS(),f=TC(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new Rb({})),this.ho(_.initMessageHeaders,t,i),_.encodeInitMessageHeaders=!0;const b=a.join("");Oe(fo,`Creating RPC '${e}' stream ${r}: ${b}`,_);const C=u.createWebChannel(b,_);let A=!1,k=!1;const V=new k2({Wr:K=>{k?Oe(fo,`Not sending because RPC '${e}' stream ${r} is closed:`,K):(A||(Oe(fo,`Opening RPC '${e}' stream ${r} transport.`),C.open(),A=!0),Oe(fo,`RPC '${e}' stream ${r} sending:`,K),C.send(K))},Hr:()=>C.close()}),G=(K,oe,ze)=>{K.listen(oe,mt=>{try{ze(mt)}catch(ht){setTimeout(()=>{throw ht},0)}})};return G(C,Ip.EventType.OPEN,()=>{k||Oe(fo,`RPC '${e}' stream ${r} transport opened.`)}),G(C,Ip.EventType.CLOSE,()=>{k||(k=!0,Oe(fo,`RPC '${e}' stream ${r} transport closed`),V.so())}),G(C,Ip.EventType.ERROR,K=>{k||(k=!0,Ls(fo,`RPC '${e}' stream ${r} transport errored:`,K),V.so(new Se(ae.UNAVAILABLE,"The operation could not be completed")))}),G(C,Ip.EventType.MESSAGE,K=>{var oe;if(!k){const ze=K.data[0];wt(!!ze);const ht=ze.error||(null===(oe=ze[0])||void 0===oe?void 0:oe.error);if(ht){Oe(fo,`RPC '${e}' stream ${r} received error:`,ht);const Ct=ht.status;let Gt=function(wn){const Vr=nr[wn];if(void 0!==Vr)return LO(Vr)}(Ct),Zt=ht.message;void 0===Gt&&(Gt=ae.INTERNAL,Zt="Unknown error status: "+Ct+" with message "+ht.message),k=!0,V.so(new Se(Gt,Zt)),C.close()}else Oe(fo,`RPC '${e}' stream ${r} received:`,ze),V.io(ze)}}),G(f,AC.STAT_EVENT,K=>{K.stat===y_.PROXY?Oe(fo,`RPC '${e}' stream ${r} detected buffering proxy`):K.stat===y_.NOPROXY&&Oe(fo,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{V.no()},0),V}}function Uk(){return typeof window<"u"?window:null}function DD(){return typeof document<"u"?document:null}function v0(n){return new jL(n,!0)}class BT{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Ws=e,this.timerId=t,this._o=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&Oe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Hk{constructor(e,t,i,r,a,u,f,_){this.Ws=e,this.bo=i,this.Po=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new BT(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,_e.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,_e.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var i=this;return(0,_e.Z)(function*(){i.Bo(),i.Lo(),i.Co.cancel(),i.Vo++,4!==e?i.Co.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),i.Co.Eo()):t&&t.code===ae.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.Ko(i,r)},i=>{e(()=>{const r=new Se(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Go(r)})})}Ko(e,t){const i=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{i(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(r=>{i(()=>this.Go(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}ko(){var e=this;this.state=5,this.Co.Ao((0,_e.Z)(function*(){e.state=0,e.start()}))}Go(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P2 extends Hk{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function GL(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:st(),r=e.targetChange.targetIds||[],a=function(_,b){return _.useProto3Json?(wt(void 0===b||"string"==typeof b),Bi.fromBase64String(b||"")):(wt(void 0===b||b instanceof Uint8Array),Bi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const b=void 0===_.code?ae.UNKNOWN:LO(_.code);return new Se(b,_.message||"")}(u);t=new BO(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Rc(n,i.document.name),a=Ui(i.document.updateTime),u=i.document.createTime?Ui(i.document.createTime):Dt.min(),f=new Si({mapValue:{fields:i.document.fields}}),_=Nn.newFoundDocument(r,a,u,f);t=new cD(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=Rc(n,i.document),a=i.readTime?Ui(i.readTime):Dt.min(),u=Nn.newNoDocument(r,a);t=new cD([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Rc(n,i.document);t=new cD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return st();{const i=e.filter,a=new LL(i.count||0);t=new VO(i.targetId,a)}}var _;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Dt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?Ui(a.readTime):Dt.min()}(e);return this.listener.zo(t,i)}jo(e){const t={};t.database=c0(this.serializer),t.addTarget=function(r,a){let u;const f=a.target;return u=Rh(f)?{documents:YO(r,f)}:{query:_T(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=zO(r,a.resumeToken):a.snapshotVersion.compareTo(Dt.min())>0&&(u.readTime=j_(r,a.snapshotVersion.toTimestamp())),u}(this.serializer,e);const i=function WL(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Fo(t)}Wo(e){const t={};t.database=c0(this.serializer),t.removeTarget=e,this.Fo(t)}}class N2 extends Hk{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function qL(n,e){return n&&n.length>0?(wt(void 0!==e),n.map(t=>function(i,r){let a=Ui(i.updateTime?i.updateTime:r);return a.isEqual(Dt.min())&&(a=Ui(r)),new N(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ui(e.commitTime);return this.listener.Zo(i,t)}return wt(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=c0(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>u0(this.serializer,i))};this.Fo(t)}}class L2 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.eu=!1}nu(){if(this.eu)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Se(ae.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.fo(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ae.UNKNOWN,a.toString())})}terminate(){this.eu=!0}}class B2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(hi(t),this.ru=!1):Oe("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class U2{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr(f=>{i.enqueueAndForget((0,_e.Z)(function*(){var _;id(u)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,_e.Z)(function*(b){const C=Ye(b);C.du.add(4),yield Z_(C),C.mu.set("Unknown"),C.du.delete(4),yield b0(C)}),function(b){return _.apply(this,arguments)})(u))}))}),this.mu=new B2(i,r)}}function b0(n){return HT.apply(this,arguments)}function HT(){return HT=(0,_e.Z)(function*(n){if(id(n))for(const e of n.wu)yield e(!0)}),HT.apply(this,arguments)}function Z_(n){return jT.apply(this,arguments)}function jT(){return jT=(0,_e.Z)(function*(n){for(const e of n.wu)yield e(!1)}),jT.apply(this,arguments)}function xD(n,e){const t=Ye(n);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),GT(t)?$T(t):K_(t).No()&&zT(t,e))}function w0(n,e){const t=Ye(n),i=K_(t);t.fu.delete(e),i.No()&&jk(t,e),0===t.fu.size&&(i.No()?i.$o():id(t)&&t.mu.set("Unknown"))}function zT(n,e){n.gu.Ot(e.targetId),K_(n).jo(e)}function jk(n,e){n.gu.Ot(e),K_(n).Wo(e)}function $T(n){n.gu=new VL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.fu.get(e)||null}),K_(n).start(),n.mu.ou()}function GT(n){return id(n)&&!K_(n).xo()&&n.fu.size>0}function id(n){return 0===Ye(n).du.size}function zk(n){n.gu=void 0}function H2(n){return qT.apply(this,arguments)}function qT(){return qT=(0,_e.Z)(function*(n){n.fu.forEach((e,t)=>{zT(n,e)})}),qT.apply(this,arguments)}function j2(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,_e.Z)(function*(n,e){zk(n),GT(n)?(n.mu.au(e),$T(n)):n.mu.set("Unknown")}),WT.apply(this,arguments)}function z2(n,e,t){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,_e.Z)(function*(n,e,t){if(n.mu.set("Online"),e instanceof BO&&2===e.state&&e.cause)try{yield(i=(0,_e.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.fu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.fu.delete(f),r.gu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ID(n,i)}else if(e instanceof cD?n.gu.Kt(e):e instanceof VO?n.gu.Jt(e):n.gu.zt(e),!t.isEqual(Dt.min()))try{const i=yield Rk(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.gu.Xt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.fu.get(_);b&&r.fu.set(_,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.fu.get(f);if(!_)return;r.fu.set(f,_.withResumeToken(Bi.EMPTY_BYTE_STRING,_.snapshotVersion)),jk(r,f);const b=new Fh(_.target,f,1,_.sequenceNumber);zT(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Oe("RemoteStore","Failed to raise snapshot:",i),yield ID(n,i)}var i}),ZT.apply(this,arguments)}function ID(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=(0,_e.Z)(function*(n,e,t){if(!xc(e))throw e;n.du.add(1),yield Z_(n),n.mu.set("Offline"),t||(t=()=>Rk(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield b0(n)}))}),YT.apply(this,arguments)}function $k(n,e){return e().catch(t=>ID(n,t,e))}function Y_(n){return KT.apply(this,arguments)}function KT(){return KT=(0,_e.Z)(function*(n){const e=Ye(n),t=Vh(e);let i=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;$2(e);)try{const r=yield T2(e.localStore,i);if(null===r){0===e.lu.length&&t.$o();break}i=r.batchId,G2(e,r)}catch(r){yield ID(e,r)}Gk(e)&&qk(e)}),KT.apply(this,arguments)}function $2(n){return id(n)&&n.lu.length<10}function G2(n,e){n.lu.push(e);const t=Vh(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function Gk(n){return id(n)&&!Vh(n).xo()&&n.lu.length>0}function qk(n){Vh(n).start()}function q2(n){return QT.apply(this,arguments)}function QT(){return QT=(0,_e.Z)(function*(n){Vh(n).tu()}),QT.apply(this,arguments)}function W2(n){return XT.apply(this,arguments)}function XT(){return XT=(0,_e.Z)(function*(n){const e=Vh(n);for(const t of n.lu)e.Yo(t.mutations)}),XT.apply(this,arguments)}function Z2(n,e,t){return JT.apply(this,arguments)}function JT(){return JT=(0,_e.Z)(function*(n,e,t){const i=n.lu.shift(),r=uT.from(i,e,t);yield $k(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Y_(n)}),JT.apply(this,arguments)}function Y2(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,_e.Z)(function*(n,e){var t;e&&Vh(n).Jo&&(yield(t=(0,_e.Z)(function*(i,r){if(NO(a=r.code)&&a!==ae.ABORTED){const u=i.lu.shift();Vh(i).Oo(),yield $k(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Y_(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),Gk(n)&&qk(n)}),eA.apply(this,arguments)}function Wk(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,_e.Z)(function*(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const i=id(t);t.du.add(3),yield Z_(t),i&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield b0(t)}),tA.apply(this,arguments)}function nA(n,e){return iA.apply(this,arguments)}function iA(){return iA=(0,_e.Z)(function*(n,e){const t=Ye(n);e?(t.du.delete(2),yield b0(t)):e||(t.du.add(2),yield Z_(t),t.mu.set("Unknown"))}),iA.apply(this,arguments)}function K_(n){return n.yu||(n.yu=function(e,t,i){const r=Ye(e);return r.nu(),new P2(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:H2.bind(null,n),Zr:j2.bind(null,n),zo:z2.bind(null,n)}),n.wu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.yu.Oo(),GT(n)?$T(n):n.mu.set("Unknown")):(yield n.yu.stop(),zk(n))});return function(t){return e.apply(this,arguments)}}())),n.yu}function Vh(n){return n.pu||(n.pu=function(e,t,i){const r=Ye(e);return r.nu(),new N2(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:q2.bind(null,n),Zr:Y2.bind(null,n),Xo:W2.bind(null,n),Zo:Z2.bind(null,n)}),n.wu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.pu.Oo(),yield Y_(n)):(yield n.pu.stop(),n.lu.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class rA{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new rA(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q_(n,e){if(hi("AsyncQueue",`${e}: ${n}`),xc(n))return new Se(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class X_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ge.comparator(t.key,i.key):(t,i)=>Ge.comparator(t.key,i.key),this.keyedMap=B_(),this.sortedSet=new ti(this.comparator)}static emptySet(e){return new X_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof X_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new X_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Zk{constructor(){this.Iu=new ti(Ge.comparator)}track(e){const t=e.doc.key,i=this.Iu.get(t);i?0!==e.type&&3===i.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==i.type?this.Iu=this.Iu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Iu=this.Iu.remove(t):1===e.type&&2===i.type?this.Iu=this.Iu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):st():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,i)=>{e.push(i)}),e}}class J_{constructor(e,t,i,r,a,u,f,_,b){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new J_(e,t,X_.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class K2{constructor(){this.Eu=void 0,this.listeners=[]}}class Q2{constructor(){this.queries=new Dl(e=>e0(e),Oh),this.onlineState="Unknown",this.Au=new Set}}function oA(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,_e.Z)(function*(n,e){const t=Ye(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new K2),r)try{a.Eu=yield t.onListen(i)}catch(u){const f=Q_(u,`Initialization of query '${t0(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.Ru(t.onlineState),a.Eu&&e.vu(a.Eu)&&cA(t)}),sA.apply(this,arguments)}function aA(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,_e.Z)(function*(n,e){const t=Ye(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),lA.apply(this,arguments)}function X2(n,e){const t=Ye(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.vu(r)&&(i=!0);u.Eu=r}}i&&cA(t)}function J2(n,e,t){const i=Ye(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function cA(n){n.Au.forEach(e=>{e.next()})}class uA{constructor(e,t,i){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new J_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=J_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class eV{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class Yk{constructor(e){this.serializer=e}Hi(e){return Rc(this.serializer,e)}Ji(e){return e.metadata.exists?ZO(this.serializer,e.document,!1):Nn.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Ui(e)}}class tV{constructor(e,t,i){this.Ou=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Kk(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const i=ln.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,i=new Yk(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.Hi(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||Xt()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function A2(n,e,t,i){return OT.apply(this,arguments)}(e.localStore,new Yk(e.serializer),e.documents,e.Ou.id),i=e.Mu(e.documents);for(const r of e.queries)yield M2(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function Kk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Qk{constructor(e){this.key=e}}class Xk{constructor(e){this.key=e}}class Jk{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Xt(),this.mutatedKeys=Xt(),this.Ku=V_(e),this.Gu=new X_(this.Ku)}get Qu(){return this.Lu}zu(e,t){const i=t?t.ju:new Zk,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,A)=>{const k=r.get(C),V=Bp(this.query,A)?A:null,G=!!k&&this.mutatedKeys.has(k.key),K=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let oe=!1;k&&V?k.data.isEqual(V.data)?G!==K&&(i.track({type:3,doc:V}),oe=!0):this.Wu(k,V)||(i.track({type:2,doc:V}),oe=!0,(_&&this.Ku(V,_)>0||b&&this.Ku(V,b)<0)&&(f=!0)):!k&&V?(i.track({type:0,doc:V}),oe=!0):k&&!V&&(i.track({type:1,doc:k}),oe=!0,(_||b)&&(f=!0)),oe&&(V?(u=u.add(V),a=K?a.add(C):a.delete(C)):(u=u.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const C="F"===this.query.limitType?u.last():u.first();u=u.delete(C.key),a=a.delete(C.key),i.track({type:1,doc:C})}return{Gu:u,ju:i,Mi:f,mutatedKeys:a}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.ju.Tu();a.sort((b,C)=>function(A,k){const V=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return V(A)-V(k)}(b.type,C.type)||this.Ku(b.doc,C.doc)),this.Hu(i);const u=t?this.Ju():[],f=0===this.Uu.size&&this.current?1:0,_=f!==this.qu;return this.qu=f,0!==a.length||_?{snapshot:new J_(this.query,e.Gu,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Yu:u}:{Yu:u}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Zk,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Xt(),this.Gu.forEach(i=>{this.Zu(i.key)&&(this.Uu=this.Uu.add(i.key))});const t=[];return e.forEach(i=>{this.Uu.has(i)||t.push(new Xk(i))}),this.Uu.forEach(i=>{e.has(i)||t.push(new Qk(i))}),t}Xu(e){this.Lu=e.Wi,this.Uu=Xt();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return J_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class nV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class iV{constructor(e){this.key=e,this.ec=!1}}class rV{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new Dl(f=>e0(f),Oh),this.ic=new Map,this.rc=new Set,this.oc=new ti(Ge.comparator),this.uc=new Map,this.cc=new xT,this.ac={},this.hc=new Map,this.lc=qp.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function oV(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,_e.Z)(function*(n,e){const t=FA(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const u=yield q_(t.localStore,Gr(e));t.isPrimaryClient&&xD(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield hA(t,e,i,"current"===f,u.resumeToken)}return r}),dA.apply(this,arguments)}function hA(n,e,t,i,r){return fA.apply(this,arguments)}function fA(){return fA=(0,_e.Z)(function*(n,e,t,i,r){n.dc=(A,k,V)=>{return(G=(0,_e.Z)(function*(K,oe,ze,mt){let ht=oe.view.zu(ze);ht.Mi&&(ht=yield bD(K.localStore,oe.query,!1).then(({documents:Zt})=>oe.view.zu(Zt,ht)));const Ct=mt&&mt.targetChanges.get(oe.targetId),Gt=oe.view.applyChanges(ht,K.isPrimaryClient,Ct);return CA(K,oe.targetId,Gt.Yu),Gt.snapshot}),function(K,oe,ze,mt){return G.apply(this,arguments)})(n,A,k,V);var G};const a=yield bD(n.localStore,e,!0),u=new Jk(e,a.Wi),f=u.zu(a.documents),_=a0.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),b=u.applyChanges(f,n.isPrimaryClient,_);CA(n,t,b.Yu);const C=new nV(e,t,u);return n.sc.set(e,C),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),b.snapshot}),fA.apply(this,arguments)}function sV(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,_e.Z)(function*(n,e){const t=Ye(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!Oh(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield W_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),w0(t.remoteStore,i.targetId),ey(t,i.targetId)}).catch(Dc))):(ey(t,i.targetId),yield W_(t.localStore,i.targetId,!0))}),pA.apply(this,arguments)}function mA(){return mA=(0,_e.Z)(function*(n,e,t){const i=PA(n);try{const r=yield function(a,u){const f=Ye(a),_=Yn.now(),b=u.reduce((k,V)=>k.add(V.key),Xt());let C,A;return f.persistence.runTransaction("Locally write mutations","readwrite",k=>{let V=ho(),G=Xt();return f.Ki.getEntries(k,b).next(K=>{V=K,V.forEach((oe,ze)=>{ze.isValidDocument()||(G=G.add(oe))})}).next(()=>f.localDocuments.getOverlayedDocuments(k,V)).next(K=>{C=K;const oe=[];for(const ze of u){const mt=Ot(ze,C.get(ze.key).overlayedDocument);null!=mt&&oe.push(new fn(ze.key,mt,qb(mt.value.mapValue),z.exists(!0)))}return f.mutationQueue.addMutationBatch(k,_,oe,u)}).next(K=>{A=K;const oe=K.applyToLocalDocumentSet(C,G);return f.documentOverlayCache.saveOverlays(k,K.batchId,oe)})}).then(()=>({batchId:A.batchId,changes:iT(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.ac[a.currentUser.toKey()];_||(_=new ti($t)),_=_.insert(u,f),a.ac[a.currentUser.toKey()]=_}(i,r.batchId,t),yield rd(i,r.changes),yield Y_(i.remoteStore)}catch(r){const a=Q_(r,"Failed to persist write");t.reject(a)}}),mA.apply(this,arguments)}function e1(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,_e.Z)(function*(n,e){const t=Ye(n);try{const i=yield function S2(n,e){const t=Ye(n),i=e.snapshotVersion;let r=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ki.newChangeBuffer({trackRemovals:!0});r=t.Li;const f=[];e.targetChanges.forEach((C,A)=>{const k=r.get(A);if(!k)return;f.push(t.Ds.removeMatchingKeys(a,C.removedDocuments,A).next(()=>t.Ds.addMatchingKeys(a,C.addedDocuments,A)));let V=k.withSequenceNumber(a.currentSequenceNumber);var G,K,oe;e.targetMismatches.has(A)?V=V.withResumeToken(Bi.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):C.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(C.resumeToken,i)),r=r.insert(A,V),K=V,oe=C,(0===(G=k).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0)&&f.push(t.Ds.updateTargetData(a,V))});let _=ho(),b=Xt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),f.push(Ok(a,u,e.documentUpdates).next(C=>{_=C.zi,b=C.ji})),!i.isEqual(Dt.min())){const C=t.Ds.getLastRemoteSnapshotVersion(a).next(A=>t.Ds.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(C)}return re.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.Li=r,a))}(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.uc.get(a);u&&(wt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?wt(u.ec):r.removedDocuments.size>0&&(wt(u.ec),u.ec=!1))}),yield rd(t,i,e)}catch(i){yield Dc(i)}}),gA.apply(this,arguments)}function t1(n,e,t){const i=Ye(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,u)=>{const f=u.view.Ru(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=Ye(a);f.onlineState=u;let _=!1;f.queries.forEach((b,C)=>{for(const A of C.listeners)A.Ru(u)&&(_=!0)}),_&&cA(f)}(i.eventManager,e),r.length&&i.nc.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function lV(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,_e.Z)(function*(n,e,t){const i=Ye(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let u=new ti(Ge.comparator);u=u.insert(a,Nn.newNoDocument(a,Dt.min()));const f=Xt().add(a),_=new s0(Dt.min(),new Map,new en($t),u,f);yield e1(i,_),i.oc=i.oc.remove(a),i.uc.delete(e),DA(i)}else yield W_(i.localStore,e,!1).then(()=>ey(i,e,t)).catch(Dc)}),_A.apply(this,arguments)}function cV(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,_e.Z)(function*(n,e){const t=Ye(n),i=e.batch.batchId;try{const r=yield function I2(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Ki.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const C=_.batch,A=C.keys();let k=re.resolve();return A.forEach(V=>{k=k.next(()=>b.getEntry(f,V)).next(G=>{const K=_.docVersions.get(V);wt(null!==K),G.version.compareTo(K)<0&&(C.applyToRemoteDocument(G,_),G.isValidDocument()&&(G.setReadTime(_.commitVersion),b.addEntry(G)))})}),k.next(()=>u.mutationQueue.removeMutationBatch(f,C))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=Xt();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);EA(t,i,null),wA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield rd(t,r)}catch(r){yield Dc(r)}}),yA.apply(this,arguments)}function uV(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,_e.Z)(function*(n,e,t){const i=Ye(n);try{const r=yield function(a,u){const f=Ye(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,u).next(C=>(wt(null!==C),b=C.keys(),f.mutationQueue.removeMutationBatch(_,C))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(i.localStore,e);EA(i,e,t),wA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield rd(i,r)}catch(r){yield Dc(r)}}),vA.apply(this,arguments)}function bA(){return bA=(0,_e.Z)(function*(n,e){const t=Ye(n);id(t.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Ye(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=Q_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),bA.apply(this,arguments)}function wA(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function EA(n,e,t){const i=Ye(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function ey(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc.wc(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.hs(e).forEach(i=>{n.cc.containsKey(i)||n1(n,i)})}function n1(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(w0(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),DA(n))}function CA(n,e,t){for(const i of t)i instanceof Qk?(n.cc.addReference(i.key,e),hV(n,i)):i instanceof Xk?(Oe("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||n1(n,i.key)):st()}function hV(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(Oe("SyncEngine","New document in limbo: "+t),n.rc.add(i),DA(n))}function DA(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Ge(ln.fromString(e)),i=n.lc.next();n.uc.set(i,new iV(t)),n.oc=n.oc.insert(t,i),xD(n.remoteStore,new Fh(Gr(Np(t.path)),i,2,Lo.ct))}}function rd(n,e,t){return xA.apply(this,arguments)}function xA(){return xA=(0,_e.Z)(function*(n,e,t){const i=Ye(n),r=[],a=[],u=[];var f;i.sc.isEmpty()||(i.sc.forEach((f,_)=>{u.push(i.dc(_,e,t).then(b=>{if((b||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){r.push(b);const C=AT.Di(_.targetId,b);a.push(C)}}))}),yield Promise.all(u),i.nc.zo(r),yield(f=(0,_e.Z)(function*(_,b){const C=Ye(_);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>re.forEach(b,k=>re.forEach(k.Vi,V=>C.persistence.referenceDelegate.addReference(A,k.targetId,V)).next(()=>re.forEach(k.Si,V=>C.persistence.referenceDelegate.removeReference(A,k.targetId,V)))))}catch(A){if(!xc(A))throw A;Oe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of b){const k=A.targetId;if(!A.fromCache){const V=C.Li.get(k),K=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);C.Li=C.Li.insert(k,K)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),xA.apply(this,arguments)}function fV(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,_e.Z)(function*(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const i=yield Mk(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(u=>{u.forEach(f=>{f.reject(new Se(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield rd(t,i.Qi)}var r}),IA.apply(this,arguments)}function pV(n,e){const t=Ye(n),i=t.uc.get(e);if(i&&i.ec)return Xt().add(i.key);{let r=Xt();const a=t.ic.get(e);if(!a)return r;for(const u of a){const f=t.sc.get(u);r=r.unionWith(f.view.Qu)}return r}}function mV(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,_e.Z)(function*(n,e){const t=Ye(n),i=yield bD(t.localStore,e.query,!0),r=e.view.Xu(i);return t.isPrimaryClient&&CA(t,e.targetId,r.Yu),r}),SA.apply(this,arguments)}function gV(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,_e.Z)(function*(n,e){const t=Ye(n);return Fk(t.localStore,e).then(i=>rd(t,i))}),TA.apply(this,arguments)}function _V(n,e,t,i){return AA.apply(this,arguments)}function AA(){return AA=(0,_e.Z)(function*(n,e,t,i){const r=Ye(n),a=yield function(u,f){const _=Ye(u),b=Ye(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",C=>b.In(C,f).next(A=>A?_.localDocuments.getDocuments(C,A):re.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield Y_(r.remoteStore):"acknowledged"===t||"rejected"===t?(EA(r,e,i||null),wA(r,e),f=e,Ye(Ye(r.localStore).mutationQueue).En(f)):st(),yield rd(r,a)):Oe("SyncEngine","Cannot apply mutation batch with id: "+e)}),AA.apply(this,arguments)}function MA(){return MA=(0,_e.Z)(function*(n,e){const t=Ye(n);if(FA(t),PA(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield r1(t,i.toArray());t.fc=!0,yield nA(t.remoteStore,!0);for(const a of r)xD(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(ey(t,u),W_(t.localStore,u,!0))),w0(t.remoteStore,u)}),yield r,yield r1(t,i),function(a){const u=Ye(a);u.uc.forEach((f,_)=>{w0(u.remoteStore,_)}),u.cc.ls(),u.uc=new Map,u.oc=new ti(Ge.comparator)}(t),t.fc=!1,yield nA(t.remoteStore,!1)}}),MA.apply(this,arguments)}function r1(n,e,t){return RA.apply(this,arguments)}function RA(){return RA=(0,_e.Z)(function*(n,e,t){const i=Ye(n),r=[],a=[];for(const u of e){let f;const _=i.ic.get(u);if(_&&0!==_.length){f=yield q_(i.localStore,Gr(_[0]));for(const b of _){const C=i.sc.get(b),A=yield mV(i,C);A.snapshot&&a.push(A.snapshot)}}else{const b=yield kk(i.localStore,u);f=yield q_(i.localStore,b),yield hA(i,o1(b),u,!1,f.resumeToken)}r.push(f)}return i.nc.zo(a),r}),RA.apply(this,arguments)}function o1(n){return tT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function vV(n){const e=Ye(n);return Ye(Ye(e.localStore).persistence).bi()}function bV(n,e,t,i){return OA.apply(this,arguments)}function OA(){return OA=(0,_e.Z)(function*(n,e,t,i){const r=Ye(n);if(r.fc)return void Oe("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield Fk(r.localStore,n0(a[0])),f=s0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Bi.EMPTY_BYTE_STRING);yield rd(r,u,f);break}case"rejected":yield W_(r.localStore,e,!0),ey(r,e,i);break;default:st()}}),OA.apply(this,arguments)}function wV(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,_e.Z)(function*(n,e,t){const i=FA(n);if(i.fc){for(const r of e){if(i.ic.has(r)){Oe("SyncEngine","Adding an already active target "+r);continue}const a=yield kk(i.localStore,r),u=yield q_(i.localStore,a);yield hA(i,o1(a),u.targetId,!1,u.resumeToken),xD(i.remoteStore,u)}for(const r of t)i.ic.has(r)&&(yield W_(i.localStore,r,!1).then(()=>{w0(i.remoteStore,r),ey(i,r)}).catch(Dc))}}),kA.apply(this,arguments)}function FA(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lV.bind(null,e),e.nc.zo=X2.bind(null,e.eventManager),e.nc.wc=J2.bind(null,e.eventManager),e}function PA(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uV.bind(null,e),e}class SD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.serializer=v0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ak(this.persistence,new Tk,e.initialUser,this.serializer)}createPersistence(e){return new Ik(yD.Fs,this.serializer)}createSharedClientState(e){return new Vk}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class NA extends SD{constructor(e,t,i){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield t().call(i,e),yield i.mc.initialize(i,e),yield PA(i.mc.syncEngine),yield Y_(i.mc.remoteStore),yield i.persistence.hi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ak(this.persistence,new Tk,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new d2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new HC(t,this.persistence);return new UC(e.asyncQueue,i)}createPersistence(e){const t=TT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new ST(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Uk(),DD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Vk}}class s1 extends NA{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield t().call(i,e);const r=i.mc.syncEngine;i.sharedClientState instanceof LT&&(i.sharedClientState.syncEngine={$r:_V.bind(null,r),Mr:bV.bind(null,r),Fr:wV.bind(null,r),bi:vV.bind(null,r),Or:gV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.hi(function(){var a=(0,_e.Z)(function*(u){yield function yV(n,e){return MA.apply(this,arguments)}(i.mc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Uk();if(!LT.D(t))throw new Se(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=TT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new LT(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ty{initialize(e,t){var i=this;return(0,_e.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>t1(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=fV.bind(null,i.syncEngine),yield nA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Q2}createDatastore(e){const t=v0(e.databaseInfo.databaseId),i=new F2(e.databaseInfo);return new L2(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>t1(this.syncEngine,f,0),u=Bk.D()?new Bk:new R2,new U2(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,b){const C=new rV(i,r,a,u,f,_);return b&&(C.fc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const i=Ye(t);Oe("RemoteStore","RemoteStore shutting down."),i.du.add(5),yield Z_(i),i._u.shutdown(),i.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function a1(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class TD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class CV{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new Ii,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(i=>{i&&i.ku()?this.metadata.resolve(i.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Nu)}`))},i=>this.metadata.reject(i))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const i=e.Tc.decode(t),r=Number(i);isNaN(r)&&e.Rc(`length string (${i}) is not valid number`);const a=yield e.vc(r);return new eV(JSON.parse(a),t.length+r)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,_e.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const i=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class DV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Se(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,_e.Z)(function*(a,u){const f=Ye(a),_=c0(f.serializer)+"/documents",b={documents:u.map(V=>l0(f.serializer,V))},C=yield f.fo("BatchGetDocuments",_,b,u.length),A=new Map;C.forEach(V=>{const G=function $L(n,e){return"found"in e?function(t,i){wt(!!i.found);const r=Rc(t,i.found.name),a=Ui(i.found.updateTime),u=i.found.createTime?Ui(i.found.createTime):Dt.min(),f=new Si({mapValue:{fields:i.found.fields}});return Nn.newFoundDocument(r,a,u,f)}(n,e):"missing"in e?function(t,i){wt(!!i.missing),wt(!!i.readTime);const r=Rc(t,i.missing),a=Ui(i.readTime);return Nn.newNoDocument(r,a)}(n,e):st()}(f.serializer,V);A.set(G.key.toString(),G)});const k=[];return u.forEach(V=>{const G=A.get(V.toString());wt(!!G),k.push(G)}),k}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new H_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Ge.fromPath(r);e.mutations.push(new lT(a,e.precondition(a)))}),yield(i=(0,_e.Z)(function*(r,a){const u=Ye(r),f=c0(u.serializer)+"/documents",_={writes:a.map(b=>u0(u.serializer,b))};yield u.co("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw st();t=Dt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Se(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Dt.min())?z.exists(!1):z.updateTime(t):z.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Se(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return z.updateTime(t)}return z.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xV{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Vc=i.maxAttempts,this.Co=new BT(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,_e.Z)(function*(){const t=new DV(e.datastore),i=e.Dc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Cc(a)}))}).catch(r=>{e.Cc(r)})}))}Dc(e){try{const t=this.updateFunction(e);return!Tp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!NO(t)}return!1}}class IV{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=er.UNAUTHENTICATED,this.clientId=E_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,_e.Z)(function*(f){Oe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Oe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Q_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function AD(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,_e.Z)(function*(a){i.isEqual(a)||(yield Mk(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),LA.apply(this,arguments)}function VA(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield UA(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Wk(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>Wk(e.remoteStore,a)),n._onlineComponents=e}),BA.apply(this,arguments)}function l1(n){return"FirebaseError"===n.name?n.code===ae.FAILED_PRECONDITION||n.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function UA(n){return HA.apply(this,arguments)}function HA(){return HA=(0,_e.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield AD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!l1(t))throw t;Ls("Error using user provided cache. Falling back to memory cache: "+t),yield AD(n,new SD)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),yield AD(n,new SD);return n._offlineComponents}),HA.apply(this,arguments)}function MD(n){return jA.apply(this,arguments)}function jA(){return jA=(0,_e.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield VA(n,n._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield VA(n,new ty))),n._onlineComponents}),jA.apply(this,arguments)}function c1(n){return UA(n).then(e=>e.persistence)}function RD(n){return UA(n).then(e=>e.localStore)}function zA(n){return MD(n).then(e=>e.remoteStore)}function $A(n){return MD(n).then(e=>e.syncEngine)}function ny(n){return GA.apply(this,arguments)}function GA(){return GA=(0,_e.Z)(function*(n){const e=yield MD(n),t=e.eventManager;return t.onListen=oV.bind(null,e.syncEngine),t.onUnlisten=sV.bind(null,e.syncEngine),t}),GA.apply(this,arguments)}function d1(n,e,t={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,a,u,f,_){const b=new TD({next:A=>{a.enqueueAndForget(()=>aA(r,C));const k=A.docs.has(u);!k&&A.fromCache?_.reject(new Se(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&f&&"server"===f.source?_.reject(new Se(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),C=new uA(Np(u.path),b,{includeMetadataChanges:!0,xu:!0});return oA(r,C)}(yield ny(n),n.asyncQueue,e,t,i)})),i.promise}function h1(n,e,t={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,a,u,f,_){const b=new TD({next:A=>{a.enqueueAndForget(()=>aA(r,C)),A.fromCache&&"server"===f.source?_.reject(new Se(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),C=new uA(u,b,{includeMetadataChanges:!0,xu:!0});return oA(r,C)}(yield ny(n),n.asyncQueue,e,t,i)})),i.promise}const f1=new Map;function qA(n,e,t){if(!t)throw new Se(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function p1(n,e,t,i){if(!0===e&&!0===i)throw new Se(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function m1(n){if(!Ge.isDocumentKey(n))throw new Se(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function g1(n){if(Ge.isDocumentKey(n))throw new Se(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":st()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OD(n);throw new Se(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function _1(n,e){if(e<=0)throw new Se(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class y1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,p1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class E0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Sh;switch(t.type){case"firstParty":return new yO(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Se(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=f1.get(e);t&&(Oe("ComponentProvider","Removing Datastore"),f1.delete(e),t.terminate())}(this),Promise.resolve()}}class ni{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ni(this.firestore,e,this._key)}}class qr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class Oc extends qr{constructor(e,t,i){super(e,t,Np(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ni(this.firestore,null,new Ge(e))}withConverter(e){return new Oc(this.firestore,e,this._path)}}function b1(n,e,...t){if(n=(0,un.m9)(n),qA("collection","path",e),n instanceof E0){const i=ln.fromString(e,...t);return g1(i),new Oc(n,null,i)}{if(!(n instanceof ni||n instanceof Oc))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ln.fromString(e,...t));return g1(i),new Oc(n.firestore,null,i)}}function kD(n,e,...t){if(n=(0,un.m9)(n),1===arguments.length&&(e=E_.A()),qA("doc","path",e),n instanceof E0){const i=ln.fromString(e,...t);return m1(i),new ni(n,null,new Ge(i))}{if(!(n instanceof ni||n instanceof Oc))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ln.fromString(e,...t));return m1(i),new ni(n.firestore,n instanceof Oc?n.converter:null,new Ge(i))}}function w1(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),(n instanceof ni||n instanceof Oc)&&(e instanceof ni||e instanceof Oc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function WA(n,e){return n=(0,un.m9)(n),e=(0,un.m9)(e),n instanceof qr&&e instanceof qr&&n.firestore===e.firestore&&Oh(n._query,e._query)&&n.converter===e.converter}class NV{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new BT(this,"async_queue_retry"),this.qc=()=>{const t=DD();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=DD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=DD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new Ii;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!xc(t))throw t;Oe("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(i=>{throw this.Mc=i,this.Fc=!1,hi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Fc=!1,i))));return this.Nc=t,t}enqueueAfterDelay(e,t,i){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const r=rA.createAndSchedule(this,e,t,i,a=>this.Qc(a));return this.$c.push(r),r}Uc(){this.Mc&&st()}verifyOperationInProgress(){}zc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function ZA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class LV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ii extends E0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new NV,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||E1(this),this._firestoreClient.terminate()}}function Hi(n){return n._firestoreClient||E1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function E1(n){var e,t,i;const r=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new YC(n._databaseId,f,n._persistenceKey,(b=r).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var f,b;n._firestoreClient=new IV(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function C1(n,e,t){const i=new Ii;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield AD(n,t),yield VA(n,e),i.resolve()}catch(r){const a=r;if(!l1(a))throw a;Ls("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function D1(n){if(n._initialized||n._terminated)throw new Se(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class kc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kc(Bi.fromBase64String(e))}catch(t){throw new Se(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kc(Bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class od{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Se(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zp{constructor(e){this._methodName=e}}class FD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}const ZV=/^__.*__$/;class YV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new fn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ft(e,this.data,t,this.fieldTransforms)}}class x1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new fn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function I1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class PD{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new PD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.ea(e),r}na(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.Jc(),r}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return VD(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(I1(this.Yc)&&ZV.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class KV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||v0(e)}ua(e,t,i,r=!1){return new PD({Yc:e,methodName:t,oa:i,path:zn.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yp(n){const e=n._freezeSettings(),t=v0(n._databaseId);return new KV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ND(n,e,t,i,r,a={}){const u=n.ua(a.merge||a.mergeFields?2:0,e,t,r);XA("Data must be an object, but it was:",u,i);const f=A1(i,u);let _,b;if(a.merge)_=new uo(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const C=[];for(const A of a.mergeFields){const k=x0(e,A,t);if(!u.contains(k))throw new Se(ae.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);R1(C,k)||C.push(k)}_=new uo(C),b=u.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,b=u.fieldTransforms;return new YV(new Si(f),_,b)}class D0 extends Zp{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof D0}}function S1(n,e,t){return new PD({Yc:3,oa:e.settings.oa,methodName:n._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class YA extends Zp{_toFieldTransform(e){return new T(e.path,new s)}isEqual(e){return e instanceof YA}}class QV extends Zp{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=S1(this,e,!0),i=this.ca.map(a=>Kp(a,t)),r=new c(i);return new T(e.path,r)}isEqual(e){return this===e}}class XV extends Zp{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=S1(this,e,!0),i=this.ca.map(a=>Kp(a,t)),r=new h(i);return new T(e.path,r)}isEqual(e){return this===e}}class JV extends Zp{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new v(e.serializer,sT(e.serializer,this.aa));return new T(e.path,t)}isEqual(e){return this===e}}function KA(n,e,t,i){const r=n.ua(1,e,t);XA("Data must be an object, but it was:",r,i);const a=[],u=Si.empty();Ah(i,(_,b)=>{const C=LD(e,_,t);b=(0,un.m9)(b);const A=r.na(C);if(b instanceof D0)a.push(C);else{const k=Kp(b,A);null!=k&&(a.push(C),u.set(C,k))}});const f=new uo(a);return new x1(u,f,r.fieldTransforms)}function QA(n,e,t,i,r,a){const u=n.ua(1,e,t),f=[x0(e,i,t)],_=[r];if(a.length%2!=0)throw new Se(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<a.length;k+=2)f.push(x0(e,a[k])),_.push(a[k+1]);const b=[],C=Si.empty();for(let k=f.length-1;k>=0;--k)if(!R1(b,f[k])){const V=f[k];let G=_[k];G=(0,un.m9)(G);const K=u.na(V);if(G instanceof D0)b.push(V);else{const oe=Kp(G,K);null!=oe&&(b.push(V),C.set(V,oe))}}const A=new uo(b);return new x1(C,A,u.fieldTransforms)}function T1(n,e,t,i=!1){return Kp(t,n.ua(i?4:3,e))}function Kp(n,e){if(M1(n=(0,un.m9)(n)))return XA("Unsupported field value:",e,n),A1(n,e);if(n instanceof Zp)return function(t,i){if(!I1(i.Yc))throw i.ia(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ia(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=Kp(u,i.sa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,un.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sT(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Yn.fromDate(t);return{timestampValue:j_(i.serializer,r)}}if(t instanceof Yn){const r=new Yn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:j_(i.serializer,r)}}if(t instanceof FD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof kc)return{bytesValue:zO(i.serializer,t._byteString)};if(t instanceof ni){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ia(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:pT(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ia(`Unsupported field value: ${OD(t)}`)}(n,e)}function A1(n,e){const t={};return WC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ah(n,(i,r)=>{const a=Kp(r,e.Xc(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function M1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Yn||n instanceof FD||n instanceof kc||n instanceof ni||n instanceof Zp)}function XA(n,e,t){if(!M1(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=OD(t);throw e.ia("an object"===i?n+" a custom object":n+" "+i)}var i}function x0(n,e,t){if((e=(0,un.m9)(e))instanceof od)return e._internalPath;if("string"==typeof e)return LD(n,e);throw VD("Field path arguments must be of type string or ",n,!1,void 0,t)}const eB=new RegExp("[~\\*/\\[\\]]");function LD(n,e,t){if(e.search(eB)>=0)throw VD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new od(...e.split("."))._internalPath}catch{throw VD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function VD(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Se(ae.INVALID_ARGUMENT,f+n+_)}function R1(n,e){return n.some(t=>t.isEqual(e))}class I0{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(BD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class tB extends I0{data(){return super.data()}}function BD(n,e){return"string"==typeof e?LD(n,e):e instanceof od?e._internalPath:e._delegate._internalPath}function O1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Se(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JA{}class S0 extends JA{}function Bh(n,e,...t){let i=[];e instanceof JA&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof iy).length,u=r.filter(f=>f instanceof T0).length;if(a>1||a>0&&u>0)throw new Se(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class T0 extends S0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new T0(e,t,i)}_apply(e){const t=this._parse(e);return N1(e._query,t),new qr(e.firestore,e.converter,Jb(e._query,t))}_parse(e){const t=Yp(e.firestore);return function(r,a,u,f,_,b,C){let A;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){P1(C,b);const k=[];for(const V of C)k.push(F1(f,r,V));A={arrayValue:{values:k}}}else A=F1(f,r,C)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||P1(C,b),A=T1(u,"where",C,"in"===b||"not-in"===b);return sn.create(_,b,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class iy extends JA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:bn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const u=r.getFlattenedFilters();for(const f of u)N1(a,f),a=Jb(a,f)}(e._query,t),new qr(e.firestore,e.converter,Jb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eM extends S0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new eM(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new El(r,a);return function(f,_){if(null===oD(f)){const b=Lp(f);null!==b&&L1(0,b,_.field)}}(i,u),u}(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new cs(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class UD extends S0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new UD(e,t,i)}_apply(e){return new qr(e.firestore,e.converter,Vp(e._query,this._limit,this._limitType))}}class HD extends S0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new HD(e,t,i)}_apply(e){const t=k1(e,this.type,this._docOrFields,this._inclusive);return new qr(e.firestore,e.converter,(r=t,new cs((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class jD extends S0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new jD(e,t,i)}_apply(e){const t=k1(e,this.type,this._docOrFields,this._inclusive);return new qr(e.firestore,e.converter,(r=t,new cs((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function k1(n,e,t,i){if(t[0]=(0,un.m9)(t[0]),t[0]instanceof I0)return function(r,a,u,f,_){if(!f)throw new Se(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const C of nd(r))if(C.field.isKeyField())b.push(ed(a,f.key));else{const A=f.data.field(C.field);if(R_(A))throw new Se(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const k=C.field.canonicalString();throw new Se(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}b.push(A)}return new wl(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Yp(n.firestore);return function(a,u,f,_,b,C){const A=a.explicitOrderBy;if(b.length>A.length)throw new Se(ae.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let V=0;V<b.length;V++){const G=b[V];if(A[V].field.isKeyField()){if("string"!=typeof G)throw new Se(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof G}`);if(!Xb(a)&&-1!==G.indexOf("/"))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${G}' contains a slash.`);const K=a.path.child(ln.fromString(G));if(!Ge.isDocumentKey(K))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const oe=new Ge(K);k.push(ed(u,oe))}else{const K=T1(f,_,G);k.push(K)}}return new wl(k,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function F1(n,e,t){if("string"==typeof(t=(0,un.m9)(t))){if(""===t)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xb(e)&&-1!==t.indexOf("/"))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ln.fromString(t));if(!Ge.isDocumentKey(i))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ed(n,new Ge(i))}if(t instanceof ni)return ed(n,t._key);throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${OD(t)}.`)}function P1(n,e){if(!Array.isArray(n)||0===n.length)throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function N1(n,e){if(e.isInequality()){const i=Lp(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=oD(n);null!==a&&L1(0,r,a)}const t=function(i,r){for(const a of i)for(const u of a.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Se(ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function L1(n,e,t){if(!t.isEqual(e))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class tM{convertValue(e,t="none"){switch(Ju(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw st()}}convertObject(e,t){const i={};return Ah(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new FD(fi(e.latitude),fi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=zb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Rp(e));default:return null}}convertTimestamp(e){const t=Sc(e);return new Yn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ln.fromString(e);wt(JO(i));const r=new bl(i.get(1),i.get(3)),a=new Ge(i.popFirst(5));return r.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function zD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class uB extends tM{constructor(e){super(),this.firestore=e}convertBytes(e){return new kc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ni(this.firestore,null,t)}}class Qp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sd extends I0{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new A0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(BD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class A0 extends sd{data(e={}){return super.data(e)}}class Uh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new A0(this._firestore,this._userDataWriter,i.key,i,new Qp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new A0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Qp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new A0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Qp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:hB(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function B1(n,e){return n instanceof sd&&e instanceof sd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Uh&&e instanceof Uh&&n._firestore===e._firestore&&WA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Hh extends tM{constructor(e){super(),this.firestore=e}convertBytes(e){return new kc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ni(this.firestore,null,t)}}function U1(n,e,t){n=dn(n,ni);const i=dn(n.firestore,ii),r=zD(n.converter,e,t);return ry(i,[ND(Yp(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,z.none())])}function H1(n,e,t,...i){n=dn(n,ni);const r=dn(n.firestore,ii),a=Yp(r);let u;return u="string"==typeof(e=(0,un.m9)(e))||e instanceof od?QA(a,"updateDoc",n._key,e,t,i):KA(a,"updateDoc",n._key,e),ry(r,[u.toMutation(n._key,z.exists(!0))])}function j1(n,...e){var t,i,r;n=(0,un.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||ZA(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(ZA(e[u])){const A=e[u];e[u]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[u+1]=null===(i=A.error)||void 0===i?void 0:i.bind(A),e[u+2]=null===(r=A.complete)||void 0===r?void 0:r.bind(A)}let _,b,C;if(n instanceof ni)b=dn(n.firestore,ii),C=Np(n._key.path),_={next:A=>{e[u]&&e[u](nM(b,n,A))},error:e[u+1],complete:e[u+2]};else{const A=dn(n,qr);b=dn(A.firestore,ii),C=A._query;const k=new Hh(b);_={next:V=>{e[u]&&e[u](new Uh(b,k,A,V))},error:e[u+1],complete:e[u+2]},O1(n._query)}return function(A,k,V,G){const K=new TD(G),oe=new uA(k,K,V);return A.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return oA(yield ny(A),oe)})),()=>{K.yc(),A.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return aA(yield ny(A),oe)}))}}(Hi(b),C,f,_)}function ry(n,e){return function(t,i){const r=new Ii;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function aV(n,e,t){return mA.apply(this,arguments)}(yield $A(t),i,r)})),r.promise}(Hi(n),e)}function nM(n,e,t){const i=t.docs.get(e._key),r=new Hh(n);return new sd(n,r,e._key,i,new Qp(t.hasPendingWrites,t.fromCache),e.converter)}const TB={maxAttempts:5};class z1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Yp(e)}set(e,t,i){this._verifyNotCommitted();const r=jh(e,this._firestore),a=zD(r.converter,t,i),u=ND(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,z.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=jh(e,this._firestore);let u;return u="string"==typeof(t=(0,un.m9)(t))||t instanceof od?QA(this._dataReader,"WriteBatch.update",a._key,t,i,r):KA(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,z.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=jh(e,this._firestore);return this._mutations=this._mutations.concat(new H_(t._key,z.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jh(n,e){if((n=(0,un.m9)(n)).firestore!==e)throw new Se(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class AB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Yp(e)}get(e){const t=jh(e,this._firestore),i=new uB(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return st();const a=r[0];if(a.isFoundDocument())return new I0(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new I0(this._firestore,i,t._key,null,t.converter);throw st()})}set(e,t,i){const r=jh(e,this._firestore),a=zD(r.converter,t,i),u=ND(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=jh(e,this._firestore);let u;return u="string"==typeof(t=(0,un.m9)(t))||t instanceof od?QA(this._dataReader,"Transaction.update",a._key,t,i,r):KA(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=jh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=jh(e,this._firestore),i=new Hh(this._firestore);return super.get(e).then(r=>new sd(this._firestore,i,t._key,r._document,new Qp(!1,!1),t.converter))}}!function(n,e=!0){Ih=Uu.SDK_VERSION,(0,Uu._registerComponent)(new Rg.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new ii(new kS(t.getProvider("auth-internal")),new Pb(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Se(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Uu.registerVersion)(v_,"3.10.0",n),(0,Uu.registerVersion)(v_,"3.10.0","esm2017")}();function iM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function G1(){if(typeof Uint8Array>"u")throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function q1(){if(!function as(){return typeof atob<"u"}())throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}class M0{constructor(e){this._delegate=e}static fromBase64String(e){return q1(),new M0(kc.fromBase64String(e))}static fromUint8Array(e){return G1(),new M0(kc.fromUint8Array(e))}toBase64(){return q1(),this._delegate.toBase64()}toUint8Array(){return G1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function rM(n){return function VB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class BB{enableIndexedDbPersistence(e,t){return function BV(n,e){D1(n=dn(n,ii));const t=Hi(n);if(t._uninitializedComponentsProvider)throw new Se(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Ls("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new ty;return C1(t,r,new NA(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function UV(n){D1(n=dn(n,ii));const e=Hi(n);if(e._uninitializedComponentsProvider)throw new Se(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Ls("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new ty;return C1(e,i,new s1(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function HV(n){if(n._initialized&&!n._terminated)throw new Se(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ii;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(i){if(!ss.D())return Promise.resolve();const r=i+"main";yield ss.delete(r)}),function(i){return t.apply(this,arguments)})(TT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class W1{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof bl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ls("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function v1(n,e,t,i={}){var r;const a=(n=dn(n,E0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ls("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=er.MOCK_USER;else{u=(0,un.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Se(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new er(_)}n._authCredentials=new OS(new Fr(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function zV(n){return function SV(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield c1(n),t=yield zA(n);return e.setNetworkEnabled(!0),function(i){const r=Ye(i);return r.du.delete(0),b0(r)}(t)}))}(Hi(n=dn(n,ii)))}(this._delegate)}disableNetwork(){return function $V(n){return function TV(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield c1(n),t=yield zA(n);return e.setNetworkEnabled(!1),(i=(0,_e.Z)(function*(r){const a=Ye(r);a.du.add(0),yield Z_(a),a.mu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Hi(n=dn(n,ii)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,p1("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function jV(n){return function(e){const t=new Ii;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function dV(n,e){return bA.apply(this,arguments)}(yield $A(e),t)})),t.promise}(Hi(n=dn(n,ii)))}(this._delegate)}onSnapshotsInSync(e){return function wB(n,e){return function RV(n,e){const t=new TD(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield ny(n),r=t,Ye(i).Au.add(r),void r.next();var i,r})),()=>{t.yc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield ny(n),r=t,void Ye(i).Au.delete(r);var i,r}))}}(Hi(n=dn(n,ii)),ZA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new oy(this,b1(this._delegate,e))}catch(t){throw Bo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Aa(this,kD(this._delegate,e))}catch(t){throw Bo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Uo(this,function PV(n,e){if(n=dn(n,E0),qA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qr(n,null,(t=e,new cs(ln.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function MB(n,e,t){n=dn(n,ii);const i=Object.assign(Object.assign({},TB),t);return function(r){if(r.maxAttempts<1)throw new Se(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,u){const f=new Ii;return r.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const _=yield function u1(n){return MD(n).then(e=>e.datastore)}(r);new xV(r.asyncQueue,_,u,a,f).run()})),f.promise}(Hi(n),r=>e(new AB(n,r)),i)}(this._delegate,t=>e(new Z1(this,t)))}batch(){return Hi(this._delegate),new Y1(new z1(this._delegate,e=>ry(this._delegate,e)))}loadBundle(e){return function GV(n,e){const t=Hi(n=dn(n,ii)),i=new LV;return function OV(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return a1(_,b);if(_ instanceof ArrayBuffer)return a1(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new CV(_,u);var _}(t,v0(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function EV(n,e,t){const i=Ye(n);var r;(r=(0,_e.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(k,V){const G=Ye(k),K=Ui(V.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",oe=>G.xs.getBundleMetadata(oe,V.id)).then(oe=>!!oe&&oe.createTime.compareTo(K)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(k=_).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);f._updateProgress(Kk(_));const b=new tV(_,a.localStore,u.serializer);let C=yield u._c();for(;C;){const k=yield b.$u(C);k&&f._updateProgress(k),C=yield u._c()}const A=yield b.complete();return yield rd(a,A.Bu,void 0),yield function(k,V){const G=Ye(k);return G.persistence.runTransaction("Save bundle","readwrite",K=>G.xs.saveBundleMetadata(K,V))}(a.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Fu)}catch(_){return Ls("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var k}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield $A(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function qV(n,e){return function kV(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,i){const r=Ye(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.xs.getNamedQuery(a,i))}(yield RD(n),e)}))}(Hi(n=dn(n,ii)),e).then(t=>t?new qr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Uo(this,t):null)}}class $D extends tM{constructor(e){super(),this.firestore=e}convertBytes(e){return new M0(new kc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Aa.forKey(t,this.firestore,null)}}class Z1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $D(e)}get(e){const t=Jp(e);return this._delegate.get(t).then(i=>new R0(this._firestore,new sd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Jp(e);return i?(iM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Jp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Jp(e);return this._delegate.delete(t),this}}class Y1{constructor(e){this._delegate=e}set(e,t,i){const r=Jp(e);return i?(iM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Jp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Jp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xp{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new A0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new O0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Xp.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new Xp(e,new $D(e),t),r.set(t,a)),a}}Xp.INSTANCES=new WeakMap;class Aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $D(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Aa(t,new ni(t._delegate,i,new Ge(e)))}static forKey(e,t,i){return new Aa(t,new ni(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new oy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new oy(this.firestore,b1(this._delegate,e))}catch(t){throw Bo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,un.m9)(e))instanceof ni&&w1(this._delegate,e)}set(e,t){t=iM("DocumentReference.set",t);try{return t?U1(this._delegate,e,t):U1(this._delegate,e)}catch(i){throw Bo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?H1(this._delegate,e):H1(this._delegate,e,t,...i)}catch(r){throw Bo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function vB(n){return ry(dn(n.firestore,ii),[new H_(n._key,z.none())])}(this._delegate)}onSnapshot(...e){const t=K1(e),i=Q1(e,r=>new R0(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return j1(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function pB(n){n=dn(n,ni);const e=dn(n.firestore,ii),t=Hi(e),i=new Hh(e);return function AV(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,a,u){try{const f=yield function(_,b){const C=Ye(_);return C.persistence.runTransaction("read document","readonly",A=>C.localDocuments.getDocument(A,b))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Se(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Q_(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield RD(n),e,t);var i})),t.promise}(t,n._key).then(r=>new sd(e,i,n._key,r,new Qp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function mB(n){n=dn(n,ni);const e=dn(n.firestore,ii);return d1(Hi(e),n._key,{source:"server"}).then(t=>nM(e,n,t))}(this._delegate):function fB(n){n=dn(n,ni);const e=dn(n.firestore,ii);return d1(Hi(e),n._key).then(t=>nM(e,n,t))}(this._delegate),t.then(i=>new R0(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Aa(this.firestore,this._delegate.withConverter(e?Xp.getInstance(this.firestore,e):null))}}function Bo(n,e,t){return n.message=n.message.replace(e,t),n}function K1(n){for(const e of n)if("object"==typeof e&&!rM(e))return e;return{}}function Q1(n,e){var t,i;let r;return r=rM(n[0])?n[0]:rM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class R0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return B1(this._delegate,e._delegate)}}class O0 extends R0{data(e){const t=this._delegate.data(e);return function RC(n,e){n||st()}(void 0!==t),t}}class Uo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $D(e)}where(e,t,i){try{return new Uo(this.firestore,Bh(this._delegate,function nB(n,e,t){const i=e,r=BD("where",n);return T0._create(r,i,t)}(e,t,i)))}catch(r){throw Bo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Uo(this.firestore,Bh(this._delegate,function iB(n,e="asc"){const t=e,i=BD("orderBy",n);return eM._create(i,t)}(e,t)))}catch(i){throw Bo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Uo(this.firestore,Bh(this._delegate,function rB(n){return _1("limit",n),UD._create("limit",n,"F")}(e)))}catch(t){throw Bo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Uo(this.firestore,Bh(this._delegate,function oB(n){return _1("limitToLast",n),UD._create("limitToLast",n,"L")}(e)))}catch(t){throw Bo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Uo(this.firestore,Bh(this._delegate,function sB(...n){return HD._create("startAt",n,!0)}(...e)))}catch(t){throw Bo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Uo(this.firestore,Bh(this._delegate,function aB(...n){return HD._create("startAfter",n,!1)}(...e)))}catch(t){throw Bo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Uo(this.firestore,Bh(this._delegate,function lB(...n){return jD._create("endBefore",n,!1)}(...e)))}catch(t){throw Bo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Uo(this.firestore,Bh(this._delegate,function cB(...n){return jD._create("endAt",n,!0)}(...e)))}catch(t){throw Bo(t,"endAt()","Query.endAt()")}}isEqual(e){return WA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function _B(n){n=dn(n,qr);const e=dn(n.firestore,ii),t=Hi(e),i=new Hh(e);return function MV(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,a,u){try{const f=yield bD(r,a,!0),_=new Jk(a,f.Wi),b=_.zu(f.documents),C=_.applyChanges(b,!1);u.resolve(C.snapshot)}catch(f){const _=Q_(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield RD(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Uh(e,i,n,r))}(this._delegate):"server"===e?.source?function yB(n){n=dn(n,qr);const e=dn(n.firestore,ii),t=Hi(e),i=new Hh(e);return h1(t,n._query,{source:"server"}).then(r=>new Uh(e,i,n,r))}(this._delegate):function gB(n){n=dn(n,qr);const e=dn(n.firestore,ii),t=Hi(e),i=new Hh(e);return O1(n._query),h1(t,n._query).then(r=>new Uh(e,i,n,r))}(this._delegate),t.then(i=>new oM(this.firestore,new Uh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=K1(e),i=Q1(e,r=>new oM(this.firestore,new Uh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return j1(this._delegate,t,i)}withConverter(e){return new Uo(this.firestore,this._delegate.withConverter(e?Xp.getInstance(this.firestore,e):null))}}class HB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new O0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class oM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Uo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new O0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new HB(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new O0(this._firestore,i))})}isEqual(e){return B1(this._delegate,e._delegate)}}class oy extends Uo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Aa(this.firestore,e):null}doc(e){try{return new Aa(this.firestore,void 0===e?kD(this._delegate):kD(this._delegate,e))}catch(t){throw Bo(t,"doc()","CollectionReference.doc()")}}add(e){return function bB(n,e){const t=dn(n.firestore,ii),i=kD(n),r=zD(n.converter,e);return ry(t,[ND(Yp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,z.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Aa(this.firestore,t))}isEqual(e){return w1(this._delegate,e._delegate)}withConverter(e){return new oy(this.firestore,this._delegate.withConverter(e?Xp.getInstance(this.firestore,e):null))}}function Jp(n){return dn(n,ni)}class sM{constructor(...e){this._delegate=new od(...e)}static documentId(){return new sM(zn.keyField().canonicalString())}isEqual(e){return(e=(0,un.m9)(e))instanceof od&&this._delegate._internalPath.isEqual(e._internalPath)}}class em{constructor(e){this._delegate=e}static serverTimestamp(){const e=function OB(){return new YA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new em(e)}static delete(){const e=function RB(){return new D0("deleteField")}();return e._methodName="FieldValue.delete",new em(e)}static arrayUnion(...e){const t=function kB(...n){return new QV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new em(t)}static arrayRemove(...e){const t=function FB(...n){return new XV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new em(t)}static increment(e){const t=function PB(n){return new JV("increment",n)}(e);return t._methodName="FieldValue.increment",new em(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jB={Firestore:W1,GeoPoint:FD,Timestamp:Yn,Blob:M0,Transaction:Z1,WriteBatch:Y1,DocumentReference:Aa,DocumentSnapshot:R0,Query:Uo,QueryDocumentSnapshot:O0,QuerySnapshot:oM,CollectionReference:oy,FieldPath:sM,FieldValue:em,setLogLevel:function UB(n){!function MC(n){Cc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function $B(n){(function zB(n,e){n.INTERNAL.registerComponent(new Rg.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},jB)))})(n,(e,t)=>new W1(e,t,new BB)),n.registerVersion("@firebase/firestore-compat","0.3.6")}(ME.Z);var Ma=F(6451),GD=F(5363),GB=F(6063);class qB extends Nt.x{constructor(e=1/0,t=1/0,i=GB.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var X1=F(3099);function J1(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,X1.B)({connector:()=>new qB(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function eF(n,e){return(0,Yi.m)(e)?qn(()=>n,e):qn(()=>n)}var aM=F(9468);F(259);const cM=new Map,nF={activated:!1,tokenObservers:[]},QB={initialized:!1,enabled:!1};function Wr(n){return cM.get(n)||Object.assign({},nF)}function WD(){return QB}const uM="https://content-firebaseappcheck.googleapis.com/v1",tU="exchangeDebugToken",iF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class iU{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new un.BH,yield function rU(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new un.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ho=new un.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fM(){return fM=(0,_e.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const A=yield r.getHeartbeatsHeader();A&&(i["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(A){throw Ho.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==u.status)throw Ho.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(A){throw Ho.create("fetch-parse-error",{originalErrorMessage:A?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Ho.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+b,issuedAtTimeMillis:C}}),fM.apply(this,arguments)}const cU="firebase-app-check-database",uU=1,k0="firebase-app-check-store";let KD=null;function pM(){return pM=(0,_e.Z)(function*(n,e){const i=(yield function sF(){return KD||(KD=new Promise((n,e)=>{try{const t=indexedDB.open(cU,uU);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Ho.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(k0,{keyPath:"compositeKey"})}}catch(t){e(Ho.create("storage-open",{originalErrorMessage:t?.message}))}}),KD)}()).transaction(k0,"readwrite"),a=i.objectStore(k0).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var b;f(Ho.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),pM.apply(this,arguments)}const F0=new vc.Yd("@firebase/app-check");function _M(n,e){return(0,un.hl)()?function hU(n,e){return function aF(n,e){return pM.apply(this,arguments)}(function cF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{F0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function vM(){return vM=(0,_e.Z)(function*(){const n=WD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),vM.apply(this,arguments)}const yU={error:"UNKNOWN_ERROR"};function vU(n){return un.US.encodeString(JSON.stringify(n),!1)}function QD(n){return bM.apply(this,arguments)}function bM(){return bM=(0,_e.Z)(function*(n,e=!1){const t=n.app;!function rF(n){if(!Wr(n).activated)throw Ho.create("use-before-activation",{appName:n.name})}(t);const i=Wr(t);let a,r=i.token;if(r&&!sy(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(sy(_)?r=_:yield _M(t,void 0))}if(!e&&r&&sy(r))return{token:r.token};let f,u=!1;if(function uF(){return WD().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function hM(n,e){return fM.apply(this,arguments)}(function lU(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${uM}/projects/${t}/apps/${i}:${tU}?key=${r}`,body:{debug_token:e}}}(t,yield function dF(){return vM.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield _M(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Wr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?F0.warn(_.message):F0.error(_),a=_}return r?a?f=sy(r)?{token:r.token,internalError:a}:pF(a):(f={token:r.token},i.token=r,yield _M(t,r)):f=pF(a),u&&function fF(n,e){const t=Wr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,f),f}),bM.apply(this,arguments)}function EM(n,e){const t=Wr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function hF(n){const{app:e}=n,t=Wr(e);let i=t.tokenRefresher;i||(i=function bU(n){const{app:e}=n;return new iU((0,_e.Z)(function*(){let i;if(i=Wr(e).token?yield QD(n,!0):yield QD(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Wr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},iF.RETRIAL_MIN_WAIT,iF.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function sy(n){return n.expireTimeMillis-Date.now()>0}function pF(n){return{token:vU(yU),error:n}}class wU{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Wr(this.app);for(const t of e)EM(this.app,t.next);return Promise.resolve()}}const EF="app-check-internal";!function PU(){(0,Uu._registerComponent)(new Rg.wA("app-check",n=>function EU(n,e){return new wU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(EF).initialize()})),(0,Uu._registerComponent)(new Rg.wA(EF,n=>function CU(n){return{getToken:e=>QD(n,e),addTokenListener:e=>function wM(n,e,t,i){const{app:r}=n,a=Wr(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&sy(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),hF(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>hF(n))}(n,"INTERNAL",e),removeTokenListener:e=>EM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Uu.registerVersion)("@firebase/app-check","0.6.4")}();class IM{constructor(){return(0,Qi.vb)("app-check")}}typeof window<"u"&&window;var DF=F(9260);const xF=new l.OlP("angularfire2.auth.use-emulator"),IF=new l.OlP("angularfire2.auth.settings"),SF=new l.OlP("angularfire2.auth.tenant-id"),TF=new l.OlP("angularfire2.auth.langugage-code"),AF=new l.OlP("angularfire2.auth.use-device-language"),MF=new l.OlP("angularfire.auth.persistence"),RF=(n,e,t,i,r,a,u,f)=>(0,wi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[b,C]of Object.entries(u))_.settings[b]=C;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let TM=(()=>{class n{constructor(t,i,r,a,u,f,_,b,C,A,k,V){const G=new Nt.x,K=We(void 0).pipe((0,GD.Q)(u.outsideAngular),qn(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9800)))),(0,rt.U)(()=>(0,wi.on)(t,a,i)),(0,rt.U)(oe=>RF(oe,a,f,b,C,A,_,k)),J1({bufferSize:1,refCount:!1}));if(kl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=We(null);else{K.pipe(Tr()).subscribe();const ze=K.pipe(qn(Ct=>Ct.getRedirectResult().then(Gt=>Gt,()=>null)),Qi.iC,J1({bufferSize:1,refCount:!1})),mt=K.pipe(qn(Ct=>new Mn.y(Gt=>({unsubscribe:a.runOutsideAngular(()=>Ct.onAuthStateChanged(Zt=>Gt.next(Zt),Zt=>Gt.error(Zt),()=>Gt.complete()))})))),ht=K.pipe(qn(Ct=>new Mn.y(Gt=>({unsubscribe:a.runOutsideAngular(()=>Ct.onIdTokenChanged(Zt=>Gt.next(Zt),Zt=>Gt.error(Zt),()=>Gt.complete()))}))));this.authState=ze.pipe(eF(mt),(0,aM.R)(u.outsideAngular),(0,GD.Q)(u.insideAngular)),this.user=ze.pipe(eF(ht),(0,aM.R)(u.outsideAngular),(0,GD.Q)(u.insideAngular)),this.idToken=this.user.pipe(qn(Ct=>Ct?(0,Kt.D)(Ct.getIdToken()):We(null))),this.idTokenResult=this.user.pipe(qn(Ct=>Ct?(0,Kt.D)(Ct.getIdTokenResult()):We(null))),this.credential=(0,Ma.T)(ze,G,this.authState.pipe(Wn(Ct=>!Ct))).pipe((0,rt.U)(Ct=>Ct?.user?Ct:null),(0,aM.R)(u.outsideAngular),(0,GD.Q)(u.insideAngular))}return(0,wi.pX)(this,K,a,{spy:{apply:(oe,ze,mt)=>{(oe.startsWith("signIn")||oe.startsWith("createUser"))&&mt.then(ht=>G.next(ht))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wi.Dh),l.LFG(wi.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Qi.HU),l.LFG(xF,8),l.LFG(IF,8),l.LFG(SF,8),l.LFG(TF,8),l.LFG(AF,8),l.LFG(MF,8),l.LFG(IM,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HU=(()=>{class n{constructor(){DF.Z.registerVersion("angularfire",Qi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[TM]}),n})();function OF(n,e){return function jU(n,e=lo.z){return new Mn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function AM(n,e){return OF(n,e).pipe((0,rt.U)(t=>({payload:t,type:"query"})))}function JD(n,e){return AM(n,e).pipe(fa(void 0),Gv(),(0,rt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(C=>C.doc.ref.isEqual(u.ref)),b=t?.payload.docs.find(C=>C.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function kF(n,e,t){return JD(n,t).pipe(Ud((i,r)=>function $U(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function GU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return MM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return MM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return MM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),os(),(0,rt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function MM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function FF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class PF{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=JD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,rt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(fa(void 0),Gv(),Wn(([i,r])=>r.length>0||!i),(0,rt.U)(([i,r])=>r),Qi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ud((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=FF(e);return kF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qi.iC)}valueChanges(e={}){return AM(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Qi.iC)}get(e){return(0,Kt.D)(this.query.get(e)).pipe(Qi.iC)}add(e){return this.ref.add(e)}doc(e){return new NF(this.ref.doc(e),this.afs)}}class NF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=BF(i,t);return new PF(r,a,this.afs)}snapshotChanges(){return function zU(n,e){return OF(n,e).pipe(fa(void 0),Gv(),(0,rt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Kt.D)(this.ref.get(e)).pipe(Qi.iC)}}class qU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?JD(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Wn(t=>t.length>0),Qi.iC):JD(this.query,this.afs.schedulers.outsideAngular).pipe(Qi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ud((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=FF(e);return kF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qi.iC)}valueChanges(e={}){return AM(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Qi.iC)}get(e){return(0,Kt.D)(this.query.get(e)).pipe(Qi.iC)}}const LF=new l.OlP("angularfire2.enableFirestorePersistence"),VF=new l.OlP("angularfire2.firestore.persistenceSettings"),WU=new l.OlP("angularfire2.firestore.settings"),ZU=new l.OlP("angularfire2.firestore.use-emulator");function BF(n,e=(t=>t)){return{query:e(n),ref:n}}let RM,UF=(()=>{class n{constructor(t,i,r,a,u,f,_,b,C,A,k,V,G,K,oe,ze,mt){this.schedulers=_;const ht=(0,wi.on)(t,f,i),Ct=C;A&&RF(ht,f,k,G,K,oe,V,ze),[this.firestore,this.persistenceEnabled$]=(0,wi.cc)(`${ht.name}.firestore`,"AngularFirestore",ht.name,()=>{const Gt=f.runOutsideAngular(()=>ht.firestore());if(a&&Gt.settings(a),Ct&&Gt.useEmulator(...Ct),r&&!kl(u)){const Zt=()=>{try{return(0,Kt.D)(Gt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(wn){return typeof console<"u"&&console.warn(wn),We(!1)}};return[Gt,f.runOutsideAngular(Zt)]}return[Gt,We(!1)]},[a,Ct,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=BF(r,i),f=this.schedulers.ngZone.run(()=>a);return new PF(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new qU(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new NF(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wi.Dh),l.LFG(wi.xv,8),l.LFG(LF,8),l.LFG(WU,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Qi.HU),l.LFG(VF,8),l.LFG(ZU,8),l.LFG(TM,8),l.LFG(xF,8),l.LFG(IF,8),l.LFG(SF,8),l.LFG(TF,8),l.LFG(AF,8),l.LFG(MF,8),l.LFG(IM,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YU=(()=>{class n{constructor(){DF.Z.registerVersion("angularfire",Qi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:LF,useValue:!0},{provide:VF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[UF]}),n})();try{RM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{RM=!1}let ay,Lr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function yd(n){return n===jc}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!RM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function jF(){if(ay)return ay;if("object"!=typeof document||!document)return ay=new Set(HF),ay;let n=document.createElement("input");return ay=new Set(HF.filter(e=>(n.setAttribute("type",e),n.type===e))),ay}let P0,ex,tm,OM;function N0(n){return function KU(){if(null==P0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>P0=!0}))}finally{P0=P0||!1}return P0}()?n:!!n.capture}function zF(){if(null==tm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tm=!1,tm;if("scrollBehavior"in document.documentElement.style)tm=!0;else{const n=Element.prototype.scrollTo;tm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return tm}function L0(){if("object"!=typeof document||!document)return 0;if(null==ex){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),ex=0,0===n.scrollLeft&&(n.scrollLeft=1,ex=0===n.scrollLeft?1:2),n.remove()}return ex}function ad(n){return n.composedPath?n.composedPath()[0]:n.target}function kM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function zh(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function NM(n,e=lo.z){return(0,jn.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=u+n,C=e.now();if(C<b)return r=this.schedule(void 0,b-C),void i.add(r);f()}t.subscribe((0,q.x)(i,b=>{a=b,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}function ZF(n){return Wn((e,t)=>n<=t)}var YF=F(5032);function yr(n){return(0,jn.e)((e,t)=>{(0,Pn.Xf)(n).subscribe((0,q.x)(t,()=>t.complete(),YF.Z)),!t.closed&&e.subscribe(t)})}function mi(n){return null!=n&&"false"!=`${n}`}function B0(n,e=0){return KF(n)?Number(n):e}function KF(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function ix(n){return Array.isArray(n)?n:[n]}function ir(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ld(n){return n instanceof l.SBq?n.nativeElement:n}const QF=new Set;let ly,dH=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fH}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function hH(n){if(!QF.has(n))try{ly||(ly=document.createElement("style"),ly.setAttribute("type","text/css"),document.head.appendChild(ly)),ly.sheet&&(ly.sheet.insertRule(`@media ${n} {body{ }}`,0),QF.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Lr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fH(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let pH=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Nt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return XF(ix(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=Ie(XF(ix(t)).map(u=>this._registerQuery(u).observable));return a=It(a.pipe(Ci(1)),a.pipe(ZF(1),NM(0))),a.pipe((0,rt.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{f.matches=f.matches||_,f.breakpoints[b]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new Mn.y(u=>{const f=_=>this._zone.run(()=>u.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(fa(i),(0,rt.U)(({matches:u})=>({query:t,matches:u})),yr(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dH),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XF(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class _H{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Nt.x,this._typeaheadSubscription=xn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Nt.x,this.change=new Nt.x,e instanceof l.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ci.b)(t=>this._pressedLetters.push(t)),NM(e),Wn(()=>this._pressedLetters.length>0),(0,rt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const a=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(a<u?a:u-1,-1);break}return;default:return void((r||zh(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class yH extends _H{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function nP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function iP(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const DH=new l.OlP("cdk-input-modality-detector-options"),xH={ignoreKeys:[18,17,224,91,16]},cy=N0({passive:!0,capture:!0});let IH=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new $n(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ad(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(nP(u)?"keyboard":"mouse"),this._mostRecentTarget=ad(u))},this._onTouchstart=u=>{iP(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ad(u))},this._options={...xH,...a},this.modalityDetected=this._modality.pipe(ZF(1)),this.modalityChanged=this.modalityDetected.pipe(os()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,cy),r.addEventListener("mousedown",this._onMousedown,cy),r.addEventListener("touchstart",this._onTouchstart,cy)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,cy),document.removeEventListener("mousedown",this._onMousedown,cy),document.removeEventListener("touchstart",this._onTouchstart,cy))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Lr),l.LFG(l.R0b),l.LFG(Q),l.LFG(DH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SH=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function TH(){return null}}),AH=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let MH=0,RH=(()=>{class n{constructor(t,i,r,a){this._ngZone=i,this._defaultOptions=a,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let a,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[a,u]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",a),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+MH++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const a=i[r],u=a.getAttribute("aria-owns");u?-1===u.indexOf(t)&&a.setAttribute("aria-owns",u+" "+t):a.setAttribute("aria-owns",t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(SH,8),l.LFG(l.R0b),l.LFG(Q),l.LFG(AH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OH=new l.OlP("cdk-focus-monitor-default-options"),rx=N0({passive:!0,capture:!0});let kH=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Nt.x,this._rootNodeFocusAndBlurListener=f=>{for(let b=ad(f);b;b=b.parentElement)"focus"===f.type?this._onFocus(f,b):this._onBlur(f,b)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=ld(t);if(!this._platform.isBrowser||1!==r.nodeType)return We(null);const a=function XU(n){if(function QU(){if(null==OM){const n=typeof document<"u"?document.head:null;OM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return OM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Nt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=ld(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=ld(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=ad(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,rx),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,rx)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yr(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rx),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rx),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let u=0;u<a.length;u++)if(a[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Lr),l.LFG(IH),l.LFG(Q,8),l.LFG(OH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oP="cdk-high-contrast-black-on-white",sP="cdk-high-contrast-white-on-black",LM="cdk-high-contrast-active";let FH=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,l.f3M)(pH).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(LM,oP,sP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(LM,oP):2===i&&t.add(LM,sP)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Lr),l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PH=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function NH(){return(0,l.f3M)(Q)}}),LH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let cd=(()=>{class n{constructor(t){this.value="ltr",this.change=new l.vpe,t&&(this.value=function VH(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?LH.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(PH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const BH=["text"];function UH(n,e){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",6),2&n){const t=l.oxw();l.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function HH(n,e){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",7),2&n){const t=l.oxw();l.Q6J("disabled",t.disabled)}}function jH(n,e){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij("(",t.group.label,")")}}const zH=[[["mat-icon"]],"*"],$H=["mat-icon","*"],qH=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function GH(){return!0}});let ji=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!kM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(FH),l.LFG(qH,8),l.LFG(Q))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[U0,U0]}),n})();function cP(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=mi(e)}constructor(...e){super(...e),this._disabled=!1}}}function ox(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function uP(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=mi(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function WH(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?B0(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function dP(n){return class extends n{updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let hP=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class YH{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fP=N0({passive:!0,capture:!0});class KH{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ad(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,i,r){const a=this._events.get(t);if(a){const u=a.get(i);u?u.add(r):a.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,fP)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const a=r.get(t);a&&(a.delete(i),0===a.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,fP)))}}const pP={enterDuration:225,exitDuration:150},mP=N0({passive:!0,capture:!0}),gP=["mousedown","touchstart"],_P=["mouseup","mouseleave","touchend","touchcancel"];class j0{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ld(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...pP,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function XH(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,b=a.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=f-u+"px",C.style.top=_-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(C);const A=window.getComputedStyle(C),V=A.transitionDuration,G="none"===A.transitionProperty||"0s"===V||"0s, 0s"===V||0===r.width&&0===r.height,K=new YH(this,C,i,G);C.style.transform="scale3d(1, 1, 1)",K.state=0,i.persistent||(this._mostRecentTransientRipple=K);let oe=null;return!G&&(b||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ze=()=>this._finishRippleTransition(K),mt=()=>this._destroyRipple(K);C.addEventListener("transitionend",ze),C.addEventListener("transitioncancel",mt),oe={onTransitionEnd:ze,onTransitionCancel:mt}}),this._activeRipples.set(K,oe),(G||!b)&&this._finishRippleTransition(K),K}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...pP,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ld(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,gP.forEach(i=>{j0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_P.forEach(t=>{this._triggerElement.addEventListener(t,this,mP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=nP(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!iP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(gP.forEach(t=>j0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&_P.forEach(t=>e.removeEventListener(t,this,mP)))}}j0._eventManager=new KH;const JH=new l.OlP("mat-ripple-global-options");let sx=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new j0(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Lr),l.Y36(JH,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),yP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ji,ji]}),n})(),ej=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(t,i){2&t&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),tj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ji]}),n})();const vP=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),bP=new l.OlP("MatOptgroup");let nj=0;class wP{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let ij=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=mi(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,i,r,a){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+nj++,this.onSelectionChange=new l.vpe,this._stateChanges=new Nt.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!zh(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new wP(this,t))}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(BH,7),2&t){let r;l.iGM(r=l.CRH())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),EP=(()=>{class n extends ij{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(vP,8),l.Y36(bP,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(a){return i._handleKeydown(a)}),2&t&&(l.Ikx("id",i.id),l.uIk("tabindex",i._getTabIndex())("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),l.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:$H,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(l.F$t(zH),l.YNc(0,UH,1,2,"mat-pseudo-checkbox",0),l.Hsn(1),l.TgZ(2,"span",1,2),l.Hsn(4,1),l.qZA(),l.YNc(5,HH,1,1,"mat-pseudo-checkbox",3),l.YNc(6,jH,2,1,"span",4),l._UZ(7,"div",5)),2&t&&(l.Q6J("ngIf",i.multiple),l.xp6(5),l.Q6J("ngIf",!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator),l.xp6(1),l.Q6J("ngIf",i.group&&i.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[sx,go,ej],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();let ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[yP,bs,ji,tj]}),n})();class VM{}class $h{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof $h?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new $h;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof $h?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class rj{encodeKey(e){return IP(e)}encodeValue(e){return IP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const sj=/%(\d[a-f0-9])/gi,aj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function IP(n){return encodeURIComponent(n).replace(sj,(e,t)=>aj[t]??e)}function lx(n){return`${n}`}class Gh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function oj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(lx):[lx(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Gh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(lx(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(lx(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function SP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function TP(n){return typeof Blob<"u"&&n instanceof Blob}function AP(n){return typeof FormData<"u"&&n instanceof FormData}class z0{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new $h),this.context||(this.context=new lj),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Gh,this.urlWithParams=t}serializeBody(){return null===this.body?null:SP(this.body)||TP(this.body)||AP(this.body)||function uj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AP(this.body)?null:TP(this.body)?this.body.type||null:SP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((A,k)=>A.set(k,e.setHeaders[k]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((A,k)=>A.set(k,e.setParams[k]),b)),new z0(t,i,a,{params:b,headers:_,context:C,reportProgress:f,responseType:r,withCredentials:u})}}var Zr=(()=>((Zr=Zr||{})[Zr.Sent=0]="Sent",Zr[Zr.UploadProgress=1]="UploadProgress",Zr[Zr.ResponseHeader=2]="ResponseHeader",Zr[Zr.DownloadProgress=3]="DownloadProgress",Zr[Zr.Response=4]="Response",Zr[Zr.User=5]="User",Zr))();class dj{constructor(e,t=200,i="OK"){this.headers=e.headers||new $h,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class BM extends dj{constructor(e={}){super(e),this.type=Zr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new BM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function UM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let HM=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof z0)a=t;else{let _,b;_=r.headers instanceof $h?r.headers:new $h(r.headers),r.params&&(b=r.params instanceof Gh?r.params:new Gh({fromObject:r.params})),a=new z0(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=We(a).pipe(el(_=>this.handler.handle(_)));if(t instanceof z0||"events"===r.observe)return u;const f=u.pipe(Wn(_=>_ instanceof BM));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,rt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,rt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,rt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,rt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Gh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,UM(r,i))}post(t,i,r={}){return this.request("POST",t,UM(r,i))}put(t,i,r={}){return this.request("PUT",t,UM(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(VM))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Dj=["*"];let ux;function $0(n){return function xj(){if(void 0===ux&&(ux=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(ux=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return ux}()?.createHTML(n)||n}function LP(n){return Error(`Unable to find icon with the name "${n}"`)}function VP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function BP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class nm{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let dx=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new nm(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw BP(r);const f=$0(u);return this._addSvgIconConfig(t,i,new nm("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new nm(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(l.q3G.HTML,i);if(!a)throw BP(i);const u=$0(a);return this._addSvgIconSetConfig(t,new nm("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw VP(t);const r=this._cachedIconsByUrl.get(i);return r?We(hx(r)):this._loadSvgIconFromConfig(new nm(t,null)).pipe((0,ci.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,rt.U)(a=>hx(a)))}getNamedSvgIcon(t,i=""){const r=UP(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):jr(LP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?We(hx(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,rt.U)(i=>hx(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?We(r):Pu(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(pa(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),We(null)})))).pipe((0,rt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw LP(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,ci.b)(i=>t.svgText=i),(0,rt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?We(null):this._fetchIcon(t).pipe((0,ci.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString($0("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString($0("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function Ij(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!u)throw VP(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const _=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,rt.U)(b=>$0(b)),cu(()=>this._inProgressUrlFetches.delete(u)),(0,X1.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(UP(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return Tj(a)?new nm(a.url,null,a.options):new nm(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(HM,8),l.LFG(ua),l.LFG(Q,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hx(n){return n.cloneNode(!0)}function UP(n,e){return n+":"+e}function Tj(n){return!(!n.url||!n.options)}const Aj=ox(class{constructor(n){this._elementRef=n}}),Mj=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),Rj=new l.OlP("mat-icon-location",{providedIn:"root",factory:function Oj(){const n=(0,l.f3M)(Q),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),HP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],kj=HP.map(n=>`[${n}]`).join(", "),Fj=/^url\(['"]?#(.*?)['"]?\)$/;let jP=(()=>{class n extends Aj{get inline(){return this._inline}set inline(t){this._inline=mi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,a,u,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=xn.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(kj),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)HP.forEach(u=>{const f=i[a],_=f.getAttribute(u),b=_?_.match(Fj):null;if(b){let C=r.get(f);C||(C=[],r.set(f,C)),C.push({name:u,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ci(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(dx),l.$8M("aria-hidden"),l.Y36(Rj),l.Y36(l.qLn),l.Y36(Mj,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:Dj,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Pj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ji,ji]}),n})();const Nj=["mat-button",""],Lj=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Vj=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Uj=["mat-icon-button",""],Hj=["*"],jj=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],zj=ox(cP(uP(class{constructor(n){this._elementRef=n}})));let zP=(()=>{class n extends zj{constructor(t,i,r,a){super(t),this._platform=i,this._ngZone=r,this._animationMode=a,this._focusMonitor=(0,l.f3M)(kH),this._isFab=!1;const u=t.nativeElement.classList;for(const f of jj)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(_=>{u.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(sx,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},features:[l.qOj]}),n})(),Gj=(()=>{class n extends zP{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Lr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Nj,ngContentSelectors:Vj,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(Lj),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(l.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),l.xp6(6),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[sx],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),$P=(()=>{class n extends zP{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Lr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Uj,ngContentSelectors:Hj,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(l.xp6(3),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[sx],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Wj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ji,yP,ji]}),n})();class GP{}class Zj{}const ud="*";function fx(n,e){return{type:7,name:n,definitions:e,options:{}}}function hy(n,e=null){return{type:4,styles:e,timings:n}}function qP(n,e=null){return{type:2,steps:n,options:e}}function xl(n){return{type:6,styles:n,offset:null}}function zM(n,e,t){return{type:0,name:n,styles:e,options:t}}function fy(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Kj(n=null){return{type:9,options:n}}function Qj(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function WP(n){Promise.resolve().then(n)}class G0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){WP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ZP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?WP(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const $M="!";let YP=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xj=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=ld(t);return new Mn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Nt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(YP))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jj=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=mi(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=B0(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(NM(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Xj),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),e3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[YP]}),n})();const t3=["matFormFieldNotchedOutline",""],n3=["*"],i3=["textField"],r3=["iconPrefixContainer"],o3=["textPrefixContainer"];function s3(n,e){1&n&&l._UZ(0,"span",19)}function a3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",17),l.NdJ("cdkObserveContent",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r._refreshOutlineNotchWidth())}),l.Hsn(1,1),l.YNc(2,s3,1,0,"span",18),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function l3(n,e){if(1&n&&l.YNc(0,a3,3,6,"label",16),2&n){const t=l.oxw();l.Q6J("ngIf",t._hasFloatingLabel())}}function c3(n,e){1&n&&l._UZ(0,"div",20)}function u3(n,e){}function d3(n,e){if(1&n&&l.YNc(0,u3,0,0,"ng-template",22),2&n){l.oxw(2);const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function h3(n,e){if(1&n&&(l.TgZ(0,"div",21),l.YNc(1,d3,1,1,"ng-template",9),l.qZA()),2&n){const t=l.oxw();l.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),l.xp6(1),l.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function f3(n,e){1&n&&(l.TgZ(0,"div",23,24),l.Hsn(2,2),l.qZA())}function p3(n,e){1&n&&(l.TgZ(0,"div",25,26),l.Hsn(2,3),l.qZA())}function m3(n,e){}function g3(n,e){if(1&n&&l.YNc(0,m3,0,0,"ng-template",22),2&n){l.oxw();const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function _3(n,e){1&n&&(l.TgZ(0,"div",27),l.Hsn(1,4),l.qZA())}function y3(n,e){1&n&&(l.TgZ(0,"div",28),l.Hsn(1,5),l.qZA())}function v3(n,e){1&n&&l._UZ(0,"div",29)}function b3(n,e){if(1&n&&(l.TgZ(0,"div",30),l.Hsn(1,6),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function w3(n,e){if(1&n&&(l.TgZ(0,"mat-hint",34),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function E3(n,e){if(1&n&&(l.TgZ(0,"div",31),l.YNc(1,w3,2,2,"mat-hint",32),l.Hsn(2,7),l._UZ(3,"div",33),l.Hsn(4,8),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const C3=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],D3=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let GM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})();const x3=new l.OlP("MatError");let I3=0,KP=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+I3++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(l.Ikx("id",i.id),l.uIk("align",null),l.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const S3=new l.OlP("MatPrefix"),QP=new l.OlP("MatSuffix");let T3=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[l._Bn([{provide:QP,useExisting:n}])]}),n})(),XP=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function A3(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const JP="mdc-line-ripple--active",px="mdc-line-ripple--deactivating";let eN=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const a=this._elementRef.nativeElement.classList,u=a.contains(px);"opacity"===r.propertyName&&u&&a.remove(JP,px)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(px),t.add(JP)}deactivate(){this._elementRef.nativeElement.classList.add(px)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),tN=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:t3,ngContentSelectors:n3,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(l.F$t(),l._UZ(0,"div",0),l.TgZ(1,"div",1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(1),l.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const M3={transitionMessages:fx("transitionMessages",[zM("enter",xl({opacity:1,transform:"translateY(0%)"})),fy("void => enter",[xl({opacity:0,transform:"translateY(-5px)"}),hy("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let qM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const mx=new l.OlP("MatFormField"),R3=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let nN=0,F3=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=mi(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,a,u,f,_,b){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._platform=u,this._defaults=f,this._animationMode=_,this._document=b,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+nN++,this._hintLabelId="mat-mdc-hint-"+nN++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Nt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(yr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ma.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(yr(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(yr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(cd),l.Y36(Lr),l.Y36(R3,8),l.Y36(l.QbO,8),l.Y36(Q))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,GM,5),l.Suo(r,GM,7),l.Suo(r,qM,5),l.Suo(r,S3,5),l.Suo(r,QP,5),l.Suo(r,x3,5),l.Suo(r,KP,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(i._formFieldControl=a.first),l.iGM(a=l.CRH())&&(i._prefixChildren=a),l.iGM(a=l.CRH())&&(i._suffixChildren=a),l.iGM(a=l.CRH())&&(i._errorChildren=a),l.iGM(a=l.CRH())&&(i._hintChildren=a)}},viewQuery:function(t,i){if(1&t&&(l.Gf(i3,5),l.Gf(r3,5),l.Gf(o3,5),l.Gf(XP,5),l.Gf(tN,5),l.Gf(eN,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._textField=r.first),l.iGM(r=l.CRH())&&(i._iconPrefixContainer=r.first),l.iGM(r=l.CRH())&&(i._textPrefixContainer=r.first),l.iGM(r=l.CRH())&&(i._floatingLabel=r.first),l.iGM(r=l.CRH())&&(i._notchedOutline=r.first),l.iGM(r=l.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&l.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:mx,useExisting:n}])],ngContentSelectors:D3,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(l.F$t(C3),l.YNc(0,l3,1,1,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),l.YNc(4,c3,1,0,"div",3),l.TgZ(5,"div",4),l.YNc(6,h3,2,3,"div",5),l.YNc(7,f3,3,0,"div",6),l.YNc(8,p3,3,0,"div",7),l.TgZ(9,"div",8),l.YNc(10,g3,1,1,"ng-template",9),l.Hsn(11),l.qZA(),l.YNc(12,_3,2,0,"div",10),l.YNc(13,y3,2,0,"div",11),l.qZA(),l.YNc(14,v3,1,0,"div",12),l.qZA(),l.TgZ(15,"div",13),l.YNc(16,b3,2,1,"div",14),l.YNc(17,E3,5,2,"div",15),l.qZA()),2&t&&(l.xp6(2),l.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),l.xp6(2),l.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),l.xp6(2),l.Q6J("ngIf",i._hasOutline()),l.xp6(1),l.Q6J("ngIf",i._hasIconPrefix),l.xp6(1),l.Q6J("ngIf",i._hasTextPrefix),l.xp6(2),l.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),l.xp6(2),l.Q6J("ngIf",i._hasTextSuffix),l.xp6(1),l.Q6J("ngIf",i._hasIconSuffix),l.xp6(1),l.Q6J("ngIf",!i._hasOutline()),l.xp6(1),l.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[go,Wi,Go,_o,Jj,KP,XP,tN,eN],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[M3.transitionMessages]},changeDetection:0}),n})(),gx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ji,bs,e3,ji]}),n})();const oN=N0({passive:!0});let P3=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Gn.E;const i=ld(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new Nt.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,oN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,oN)}}),a}stopMonitoring(t){const i=ld(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Lr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const L3=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),V3=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let B3=0;const U3=dP(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Nt.x}});let H3=(()=>{class n extends U3{get disabled(){return this._disabled}set disabled(t){this._disabled=mi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(sv.required)??!1}set required(t){this._required=mi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&jF().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=mi(t)}constructor(t,i,r,a,u,f,_,b,C,A){super(f,a,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=b,this._formField=A,this._uid="mat-input-"+B3++,this.focused=!1,this.stateChanges=new Nt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(G=>jF().has(G)),this._iOSKeyupListener=G=>{const K=G.target;!K.value&&0===K.selectionStart&&0===K.selectionEnd&&(K.setSelectionRange(1,1),K.setSelectionRange(0,0))};const k=this._elementRef.nativeElement,V=k.nodeName.toLowerCase();this._inputValueAccessor=_||k,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!A,this._isNativeSelect&&(this.controlType=k.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){V3.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Lr),l.Y36(rs,10),l.Y36(Ia,8),l.Y36(Bu,8),l.Y36(hP),l.Y36(L3,10),l.Y36(P3),l.Y36(l.R0b),l.Y36(mx,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),l.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),l.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:qM,useExisting:n}]),l.qOj,l.TTD]}),n})(),j3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ji,gx,gx,N3,ji]}),n})();var z3=F(1144);const $3=["addListener","removeListener"],G3=["addEventListener","removeEventListener"],q3=["on","off"];function im(n,e,t,i){if((0,Yi.m)(t)&&(i=t,t=void 0),i)return im(n,e,t).pipe(M(i));const[r,a]=function Y3(n){return(0,Yi.m)(n.addEventListener)&&(0,Yi.m)(n.removeEventListener)}(n)?G3.map(u=>f=>n[u](e,f,t)):function W3(n){return(0,Yi.m)(n.addListener)&&(0,Yi.m)(n.removeListener)}(n)?$3.map(sN(n,e)):function Z3(n){return(0,Yi.m)(n.on)&&(0,Yi.m)(n.off)}(n)?q3.map(sN(n,e)):[];if(!r&&(0,z3.z)(n))return(0,Ni.z)(u=>im(u,e,t))((0,Pn.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Mn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function sN(n,e){return t=>i=>n[t](e,i)}var aN=F(4408);const q0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=q0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new xn.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=q0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=q0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var lN=F(7565);const X3=new class Q3 extends lN.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class K3 extends aN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=q0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(q0.cancelAnimationFrame(t),e._scheduled=void 0)}});let WM,J3=1;const _x={};function cN(n){return n in _x&&(delete _x[n],!0)}const ez={setImmediate(n){const e=J3++;return _x[e]=!0,WM||(WM=Promise.resolve()),WM.then(()=>cN(e)&&n()),e},clearImmediate(n){cN(n)}},{setImmediate:tz,clearImmediate:nz}=ez,yx={setImmediate(...n){const{delegate:e}=yx;return(e?.setImmediate||tz)(...n)},clearImmediate(n){const{delegate:e}=yx;return(e?.clearImmediate||nz)(n)},delegate:void 0},oz=new class rz extends lN.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class iz extends aN.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=yx.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(yx.clearImmediate(t),e._scheduled=void 0)}});var az=F(3532);function ZM(n,e=lo.z){return function sz(n){return(0,jn.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const b=r;r=null,t.next(b)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,q.x)(t,b=>{i=!0,r=b,a||(0,Pn.Xf)(n(b)).subscribe(a=(0,q.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function uN(n=0,e,t=lo.P){let i=-1;return null!=e&&((0,az.K)(e)?t=e:i=e),new Mn.y(r=>{let a=function lz(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}const cz=["contentWrapper"],uz=["*"],dz=new l.OlP("VIRTUAL_SCROLL_STRATEGY");let vx=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Nt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Mn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(ZM(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):We()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Wn(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=ld(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>im(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Lr),l.LFG(Q,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dN=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new Nt.x,this._elementScrolled=new Mn.y(u=>this.ngZone.runOutsideAngular(()=>im(this.elementRef.nativeElement,"scroll").pipe(yr(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=L0()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==L0()?t.left=t.right:1==L0()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;zF()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==L0()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==L0()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(vx),l.Y36(l.R0b),l.Y36(cd,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),py=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Nt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ZM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Lr),l.LFG(l.R0b),l.LFG(Q,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hN=new l.OlP("VIRTUAL_SCROLLABLE");let pz=(()=>{class n extends dN{constructor(t,i,r,a){super(t,i,r,a)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(vx),l.Y36(l.R0b),l.Y36(cd,8))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const gz=typeof requestAnimationFrame<"u"?X3:oz;let _z=(()=>{class n extends pz{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=mi(t)}constructor(t,i,r,a,u,f,_,b){super(t,f,r,u),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=a,this.scrollable=b,this._platform=(0,l.f3M)(Lr),this._detachedSubject=new Nt.x,this._renderedRangeSubject=new Nt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Mn.y(C=>this._scrollStrategy.scrolledIndexChange.subscribe(A=>Promise.resolve().then(()=>this.ngZone.run(()=>C.next(A))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=xn.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(fa(null),ZM(0,gz)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(yr(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function mz(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const a="horizontal"==this.orientation,u=a?"X":"Y";let _=`translate${u}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(_+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",a="right",u="rtl"==this.dir?.value;i="start"==t?u?a:r:"end"==t?u?r:a:t||("horizontal"===this.orientation?"left":"top");const f=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-f}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(dz,8),l.Y36(cd,8),l.Y36(vx),l.Y36(py),l.Y36(hN,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&l.Gf(cz,7),2&t){let r;l.iGM(r=l.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[l._Bn([{provide:dN,useFactory:(e,t)=>e||t,deps:[[new l.FiY,new l.tBr(hN)],n]}]),l.qOj,l.jDz],ngContentSelectors:uz,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(3),l.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),bx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),YM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[U0,bx,_z,U0,bx]}),n})();class KM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class yz extends KM{constructor(e,t,i,r,a){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=a}}class QM extends KM{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class vz extends KM{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class bz{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof yz?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof QM?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof vz?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class wz extends bz{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ez=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const fN=zF();class Cz{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ir(-this._previousScrollPosition.left),e.style.top=ir(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),fN&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fN&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Dz{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pN{enable(){}disable(){}attach(){}}function XM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function mN(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class xz{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();XM(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Iz=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new pN,this.close=u=>new Dz(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Cz(this._viewportRuler,this._document),this.reposition=u=>new xz(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vx),l.LFG(py),l.LFG(l.R0b),l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class JM{constructor(e){if(this.scrollStrategy=new pN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Sz{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let gN=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tz=(()=>{class n extends gN{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Az=(()=>{class n extends gN{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=ad(a)},this._clickListener=a=>{const u=ad(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const C=_[b];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(u)||C.overlayElement.contains(f))break;const A=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>A.next(a)):A.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q),l.LFG(Lr),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_N=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||kM()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),kM()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q),l.LFG(Lr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Mz{constructor(e,t,i,r,a,u,f,_,b,C=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=b,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new Nt.x,this._attachments=new Nt.x,this._detachments=new Nt.x,this._locationChanges=xn.w0.EMPTY,this._backdropClickHandler=A=>this._backdropClick.next(A),this._backdropTransitionendHandler=A=>{this._disposeBackdrop(A.target)},this._keydownEvents=new Nt.x,this._outsidePointerEvents=new Nt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ci(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ir(this._config.width),e.height=ir(this._config.height),e.minWidth=ir(this._config.minWidth),e.minHeight=ir(this._config.minHeight),e.maxWidth=ir(this._config.maxWidth),e.maxHeight=ir(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=ix(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(yr((0,Ma.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const yN="cdk-overlay-connected-position-bounding-box",Rz=/([A-Za-z%]+)$/;class Oz{get positions(){return this._preferredPositions}constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Nt.x,this._resizeSubscription=xn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(yN),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),b=this._getOverlayPoint(_,t,f),C=this._getOverlayFit(b,t,i,f);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(C,b,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<C.visibleArea)&&(u={overlayFit:C,overlayPoint:b,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const b of a){const C=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);C>_&&(_=C,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=bN(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(f+=b);let k=0-f,V=f+a.height-i.height,G=this._subtractOverflows(a.width,0-u,u+a.width-i.width),K=this._subtractOverflows(a.height,k,V),oe=G*K;return{visibleArea:oe,isCompletelyWithinViewport:a.width*a.height===oe,fitsInViewportVertically:K===a.height,fitsInViewportHorizontally:G==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=vN(this._overlayRef.getConfig().minHeight),f=vN(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=r)&&(e.fitsInViewportHorizontally||null!=f&&f<=a)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=bN(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),b=Math.max(a.left-i.left-e.x,0);let C=0,A=0;return C=r.width<=a.width?b||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,A=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:C,y:A},{x:e.x+C,y:e.y+A}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Sz(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,C,A,k;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const V=Math.min(i.bottom-e.y+i.top,e.y),G=this._lastBoundingBoxSize.height;a=2*V,u=e.y-V,a>G&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-G/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)k=i.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)A=e.x,C=i.right-e.x;else{const V=Math.min(i.right-e.x+i.left,e.x),G=this._lastBoundingBoxSize.width;C=2*V,A=e.x-V,C>G&&!this._isInitialRender&&!this._growAfterOpen&&(A=e.x-G/2)}return{top:u,left:A,bottom:f,right:k,width:C,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=ir(i.height),r.top=ir(i.top),r.bottom=ir(i.bottom),r.width=ir(i.width),r.left=ir(i.left),r.right=ir(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=ir(a)),u&&(r.maxWidth=ir(u))}this._lastBoundingBoxSize=i,rm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){rm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();rm(i,this._getExactOverlayY(t,e,C)),rm(i,this._getExactOverlayX(t,e,C))}else i.position="static";let f="",_=this._getOffset(t,"x"),b=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),b&&(f+=`translateY(${b}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=ir(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=ir(u.maxWidth):a&&(i.maxWidth="")),rm(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=ir(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=ir(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mN(e,i),isOriginOutsideView:XM(e,i),isOverlayClipped:mN(t,i),isOverlayOutsideView:XM(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ix(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function rm(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function vN(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Rz);return t&&"px"!==t?null:parseFloat(e)}return n||null}function bN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const wN="cdk-global-overlay-wrapper";class kz{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(wN),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),C=this._xPosition,A=this._xOffset,k="rtl"===this._overlayRef.getConfig().direction;let V="",G="",K="";_?K="flex-start":"center"===C?(K="center",k?G=A:V=A):k?"left"===C||"end"===C?(K="flex-end",V=A):("right"===C||"start"===C)&&(K="flex-start",G=A):"left"===C||"start"===C?(K="flex-start",V=A):("right"===C||"end"===C)&&(K="flex-end",G=A),e.position=this._cssPosition,e.marginLeft=_?"0":V,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":G,t.justifyContent=K,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(wN),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Fz=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new kz}flexibleConnectedTo(t){return new Oz(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(py),l.LFG(Q),l.LFG(Lr),l.LFG(_N))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pz=0,my=(()=>{class n{constructor(t,i,r,a,u,f,_,b,C,A,k,V){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=b,this._directionality=C,this._location=A,this._outsideClickDispatcher=k,this._animationsModuleType=V}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new JM(t);return u.direction=u.direction||this._directionality.value,new Mz(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Pz++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new wz(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Iz),l.LFG(_N),l.LFG(l._Vd),l.LFG(Fz),l.LFG(Tz),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(Q),l.LFG(cd),l.LFG(Fe),l.LFG(Az),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nz=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],EN=new l.OlP("cdk-connected-overlay-scroll-strategy");let eR=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),CN=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=mi(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=mi(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=mi(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=mi(t)}get push(){return this._push}set push(t){this._push=mi(t)}constructor(t,i,r,a,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=xn.w0.EMPTY,this._attachSubscription=xn.w0.EMPTY,this._detachSubscription=xn.w0.EMPTY,this._positionSubscription=xn.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new QM(i,r),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Nz);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!zh(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new JM({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof eR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Hd(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(my),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(EN),l.Y36(cd,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[l.TTD]}),n})();const Vz={provide:EN,deps:[my],useFactory:function Lz(n){return()=>n.scrollStrategies.reposition()}};let DN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[my,Vz],imports:[U0,Ez,YM,YM]}),n})();class Bz{}function tR(n){return n&&"function"==typeof n.connect&&!(n instanceof Ql)}class xN{applyChanges(e,t,i,r,a){e.forEachOperation((u,f,_)=>{let b,C;if(null==u.previousIndex){const A=i(u,f,_);b=t.createEmbeddedView(A.templateRef,A.context,A.index),C=1}else null==_?(t.remove(f),C=3):(b=t.get(f),t.move(b,_),C=2);a&&a({context:b?.context,operation:C,record:u})})}detach(){}}class Uz{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Nt.x,t&&t.length&&(e?t.forEach(a=>this._markSelected(a)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(a=>this._markSelected(a)),t.filter(a=>!i.has(a)).forEach(a=>this._unmarkSelected(a));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}const W0=new l.OlP("_ViewRepeater"),Hz=["trigger"],jz=["panel"];function zz(n,e){if(1&n&&(l.TgZ(0,"span",10),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.placeholder)}}function $z(n,e){if(1&n&&(l.TgZ(0,"span",14),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.triggerValue)}}function Gz(n,e){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function qz(n,e){if(1&n&&(l.TgZ(0,"span",11),l.YNc(1,$z,2,1,"span",12),l.YNc(2,Gz,1,0,"ng-content",13),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngSwitch",!!t.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function Wz(n,e){if(1&n){const t=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"div",15,16),l.NdJ("@transformPanel.done",function(r){l.CHM(t);const a=l.oxw();return l.KtG(a._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){l.CHM(t);const a=l.oxw();return l.KtG(a._handleKeydown(r))}),l.Hsn(2,1),l.qZA()}if(2&n){const t=l.oxw();l.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),l.Q6J("ngClass",t.panelClass)("@transformPanel","showing"),l.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Zz=[[["mat-select-trigger"]],"*"],Yz=["mat-select-trigger","*"],Kz={transformPanelWrap:fx("transformPanelWrap",[fy("* => void",Qj("@transformPanel",[Kj()],{optional:!0}))]),transformPanel:fx("transformPanel",[zM("void",xl({opacity:0,transform:"scale(1, 0.8)"})),fy("void => showing",hy("120ms cubic-bezier(0, 0, 0.2, 1)",xl({opacity:1,transform:"scale(1, 1)"}))),fy("* => void",hy("100ms linear",xl({opacity:0})))])};let SN=0;const TN=new l.OlP("mat-select-scroll-strategy"),Xz=new l.OlP("MAT_SELECT_CONFIG"),Jz={provide:TN,deps:[my],useFactory:function Qz(n){return()=>n.scrollStrategies.reposition()}},e$=new l.OlP("MatSelectTrigger");class t${constructor(e,t){this.source=e,this.value=t}}const n$=uP(WH(cP(dP(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Nt.x}}))));let i$=(()=>{class n extends n${get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(sv.required)??!1}set required(t){this._required=mi(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=mi(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=mi(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=B0(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,i,r,a,u,f,_,b,C,A,k,V,G,K){super(u,a,_,b,A),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=f,this._parentFormField=C,this._liveAnnouncer=G,this._defaultOptions=K,this._panelOpen=!1,this._compareWith=(oe,ze)=>oe===ze,this._uid="mat-select-"+SN++,this._triggerAriaLabelledBy=null,this._destroy=new Nt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+SN++,this._panelDoneAnimatingStream=new Nt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Hn(()=>{const oe=this.options;return oe?oe.changes.pipe(fa(oe),qn(()=>(0,Ma.T)(...oe.map(ze=>ze.onSelectionChange)))):this._ngZone.onStable.pipe(Ci(1),qn(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(Wn(oe=>oe),(0,rt.U)(()=>{})),this._closedStream=this.openedChange.pipe(Wn(oe=>!oe),(0,rt.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=K?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=K.typeaheadDebounceInterval),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(k)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Uz(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(os(),yr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(yr(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(fa(null),yr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,a=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&a&&!zh(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(t);const _=this.selected;_&&f!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,a=40===r||38===r,u=i.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||zh(t))if(!u&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const f=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(f?_.select():_.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(t),this._multiple&&a&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ci(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new yH(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Ma.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(yr(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ma.T)(...this.options.map(i=>i._stateChanges)).pipe(yr(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(py),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(hP),l.Y36(l.SBq),l.Y36(cd,8),l.Y36(Ia,8),l.Y36(Bu,8),l.Y36(mx,8),l.Y36(rs,10),l.$8M("tabindex"),l.Y36(TN),l.Y36(RH),l.Y36(Xz,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&(l.Gf(Hz,5),l.Gf(jz,5),l.Gf(CN,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.trigger=r.first),l.iGM(r=l.CRH())&&(i.panel=r.first),l.iGM(r=l.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),r$=(()=>{class n extends i${constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(yr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,a=function CP(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),a=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[a]&&a++;return a}return 0}(t,this.options,this.optionGroups),u=i._getHostElement();r.scrollTop=0===t&&1===a?0:function DP(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(u.offsetTop,u.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new t$(this,t)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof eR?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=mi(t),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,e$,5),l.Suo(r,EP,5),l.Suo(r,bP,5)),2&t){let a;l.iGM(a=l.CRH())&&(i.customTrigger=a.first),l.iGM(a=l.CRH())&&(i.options=a),l.iGM(a=l.CRH())&&(i.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(a){return i._handleKeydown(a)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(l.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),l.ekj("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[l._Bn([{provide:qM,useExisting:n},{provide:vP,useExisting:n}]),l.qOj],ngContentSelectors:Yz,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(l.F$t(Zz),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return i.toggle()}),l.TgZ(3,"div",2),l.YNc(4,zz,2,1,"span",3),l.YNc(5,qz,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5)(7,"div",6),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA()()()(),l.YNc(10,Wz,3,9,"ng-template",9),l.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=l.MAs(1);l.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",i.empty),l.uIk("id",i._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(5),l.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[Je,Go,_o,js,CN,eR],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Kz.transformPanel]},changeDetection:0}),n})(),o$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Jz],imports:[bs,DN,ax,ji,bx,gx,ax,ji]}),n})();function s$(n,e){if(1&n&&(l.TgZ(0,"mat-option",13),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.Oqu(t.viewValue)}}function a$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.addClass(0))}),l.TgZ(1,"mat-icon"),l._uU(2,"add"),l.qZA()()}}function l$(n,e){if(1&n&&(l.TgZ(0,"mat-option",13),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.Oqu(t.viewValue)}}function c$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.addClass(1))}),l.TgZ(1,"mat-icon"),l._uU(2,"add"),l.qZA()()}}function u$(n,e){if(1&n&&(l.TgZ(0,"div")(1,"mat-form-field",7)(2,"mat-label"),l._uU(3,"\u6642\u9593\u3092\u9078\u629e"),l.qZA(),l.TgZ(4,"mat-select"),l.YNc(5,l$,2,2,"mat-option",8),l.qZA()(),l.TgZ(6,"mat-form-field")(7,"mat-label"),l._uU(8,"\u8b1b\u7fa9\u540d"),l.qZA(),l._UZ(9,"input",9),l.TgZ(10,"mat-icon",4),l._uU(11,"class"),l.qZA()(),l.YNc(12,c$,3,0,"button",10),l.qZA()),2&n){const t=l.oxw();l.xp6(5),l.Q6J("ngForOf",t.options),l.xp6(7),l.Q6J("ngIf",1!=t.showForms[1])}}function d$(n,e){if(1&n&&(l.TgZ(0,"mat-option",13),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.Oqu(t.viewValue)}}function h$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.addClass(2))}),l.TgZ(1,"mat-icon"),l._uU(2,"add"),l.qZA()()}}function f$(n,e){if(1&n&&(l.TgZ(0,"div")(1,"mat-form-field",7)(2,"mat-label"),l._uU(3,"\u6642\u9593\u3092\u9078\u629e"),l.qZA(),l.TgZ(4,"mat-select"),l.YNc(5,d$,2,2,"mat-option",8),l.qZA()(),l.TgZ(6,"mat-form-field")(7,"mat-label"),l._uU(8,"\u8b1b\u7fa9\u540d"),l.qZA(),l._UZ(9,"input",9),l.TgZ(10,"mat-icon",4),l._uU(11,"class"),l.qZA()(),l.YNc(12,h$,3,0,"button",10),l.qZA()),2&n){const t=l.oxw();l.xp6(5),l.Q6J("ngForOf",t.options),l.xp6(7),l.Q6J("ngIf",1!=t.showForms[2])}}function p$(n,e){if(1&n&&(l.TgZ(0,"mat-option",13),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.Oqu(t.viewValue)}}function m$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.addClass(3))}),l.TgZ(1,"mat-icon"),l._uU(2,"add"),l.qZA()()}}function g$(n,e){if(1&n&&(l.TgZ(0,"div")(1,"mat-form-field",7)(2,"mat-label"),l._uU(3,"\u6642\u9593\u3092\u9078\u629e"),l.qZA(),l.TgZ(4,"mat-select"),l.YNc(5,p$,2,2,"mat-option",8),l.qZA()(),l.TgZ(6,"mat-form-field")(7,"mat-label"),l._uU(8,"\u8b1b\u7fa9\u540d"),l.qZA(),l._UZ(9,"input",9),l.TgZ(10,"mat-icon",4),l._uU(11,"class"),l.qZA()(),l.YNc(12,m$,3,0,"button",10),l.qZA()),2&n){const t=l.oxw();l.xp6(5),l.Q6J("ngForOf",t.options),l.xp6(7),l.Q6J("ngIf",1!=t.showForms[3])}}function _$(n,e){if(1&n&&(l.TgZ(0,"mat-option",13),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.Oqu(t.viewValue)}}function y$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.addClass(4))}),l.TgZ(1,"mat-icon"),l._uU(2,"add"),l.qZA()()}}function v$(n,e){if(1&n&&(l.TgZ(0,"div")(1,"mat-form-field",7)(2,"mat-label"),l._uU(3,"\u6642\u9593\u3092\u9078\u629e"),l.qZA(),l.TgZ(4,"mat-select"),l.YNc(5,_$,2,2,"mat-option",8),l.qZA()(),l.TgZ(6,"mat-form-field")(7,"mat-label"),l._uU(8,"\u8b1b\u7fa9\u540d"),l.qZA(),l._UZ(9,"input",9),l.TgZ(10,"mat-icon",4),l._uU(11,"class"),l.qZA()(),l.YNc(12,y$,3,0,"button",10),l.qZA()),2&n){const t=l.oxw();l.xp6(5),l.Q6J("ngForOf",t.options),l.xp6(7),l.Q6J("ngIf",1!=t.showForms[4])}}function b$(n,e){if(1&n&&(l.TgZ(0,"mat-option",13),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.Oqu(t.viewValue)}}function w$(n,e){if(1&n&&(l.TgZ(0,"div")(1,"mat-form-field",7)(2,"mat-label"),l._uU(3,"\u6642\u9593\u3092\u9078\u629e"),l.qZA(),l.TgZ(4,"mat-select"),l.YNc(5,b$,2,2,"mat-option",8),l.qZA()(),l.TgZ(6,"mat-form-field")(7,"mat-label"),l._uU(8,"\u8b1b\u7fa9\u540d"),l.qZA(),l._UZ(9,"input",9),l.TgZ(10,"mat-icon",4),l._uU(11,"class"),l.qZA()()()),2&n){const t=l.oxw();l.xp6(5),l.Q6J("ngForOf",t.options)}}let E$=(()=>{class n{constructor(t){this.firestore=t,this.showForms=[!1,!1,!1,!1,!1],this.options=[{value:"period1",viewValue:"1\u9650"},{value:"period2",viewValue:"2\u9650"},{value:"period3",viewValue:"3\u9650"},{value:"period4",viewValue:"4\u9650"},{value:"period5",viewValue:"5\u9650"},{value:"period6",viewValue:"6\u9650"}],this.formGroup=new ah({className:new Fs(""),period1:new Fs(""),period2:new Fs(""),lunch:new Fs(""),period3:new Fs(""),period4:new Fs(""),period5:new Fs(""),period6:new Fs("")}),this.firestore.collection("classroomData").doc("Ad6m6d7kxwRjgEUSztjE").valueChanges().subscribe(i=>{console.log(i),this.firebaseData=i})}addClass(t){this.showForms[t]=!0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(UF))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-regist"]],decls:39,vars:8,consts:[[2,"text-align","center","padding-top","10px"],[1,"form"],[2,"font-size","20px","padding-bottom","10px"],["matInput","","placeholder","101\u6559\u5ba4"],["matSuffix",""],[2,"font-size","20px","padding-top","20px"],[2,"color","dimgray","padding-bottom","10px"],["appearance","fill",2,"padding-right","20px"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u5165\u9580"],["mat-icon-button","",3,"click",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","color","accent",1,"submit"],[3,"value"],["mat-icon-button","",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"h1",0),l._uU(1,"\u6559\u5ba4\u65b0\u898f\u767b\u9332"),l.qZA(),l.TgZ(2,"div",1)(3,"div",2),l._uU(4,"1\uff0e\u6559\u5ba4\u540d\u3092\u767b\u9332"),l.qZA(),l.TgZ(5,"mat-form-field")(6,"mat-label"),l._uU(7,"\u6559\u5ba4\u540d"),l.qZA(),l._UZ(8,"input",3),l.TgZ(9,"mat-icon",4),l._uU(10,"meeting_room"),l.qZA()(),l._UZ(11,"br"),l.TgZ(12,"div",5),l._uU(13,"2\uff0e\u8b1b\u7fa9\u3092\u767b\u9332"),l.qZA(),l.TgZ(14,"div",6),l._uU(15,"\u8b1b\u7fa9\u304c\u306a\u3044\u5834\u5408\u306f\u767b\u9332\u4e0d\u8981\u3067\u3059"),l.qZA(),l.TgZ(16,"div")(17,"mat-form-field",7)(18,"mat-label"),l._uU(19,"\u6642\u9593\u3092\u9078\u629e"),l.qZA(),l.TgZ(20,"mat-select"),l.YNc(21,s$,2,2,"mat-option",8),l.qZA()(),l.TgZ(22,"mat-form-field")(23,"mat-label"),l._uU(24,"\u8b1b\u7fa9\u540d"),l.qZA(),l._UZ(25,"input",9),l.TgZ(26,"mat-icon",4),l._uU(27,"class"),l.qZA()(),l.YNc(28,a$,3,0,"button",10),l.qZA(),l.YNc(29,u$,13,2,"div",11),l.YNc(30,f$,13,2,"div",11),l.YNc(31,g$,13,2,"div",11),l.YNc(32,v$,13,2,"div",11),l.YNc(33,w$,12,1,"div",11),l._UZ(34,"br"),l.TgZ(35,"button",12),l._uU(36,"\u767b\u9332"),l.qZA(),l.TgZ(37,"div"),l._uU(38),l.qZA()()),2&t&&(l.xp6(21),l.Q6J("ngForOf",i.options),l.xp6(7),l.Q6J("ngIf",1!=i.showForms[0]),l.xp6(1),l.Q6J("ngIf",i.showForms[0]),l.xp6(1),l.Q6J("ngIf",i.showForms[1]),l.xp6(1),l.Q6J("ngIf",i.showForms[2]),l.xp6(1),l.Q6J("ngIf",i.showForms[3]),l.xp6(1),l.Q6J("ngIf",i.showForms[4]),l.xp6(5),l.Oqu(i.firebaseData.roomName))},dependencies:[Bn,go,jP,Gj,$P,F3,GM,T3,H3,EP,r$],styles:[".form[_ngcontent-%COMP%]{padding-left:30px}.submit[_ngcontent-%COMP%]{font-size:20px;padding:20px 32px}"]}),n})();const D$=[[["caption"]],[["colgroup"],["col"]]],x$=["caption","colgroup, col"];function nR(n){return class extends n{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=mi(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const gy=new l.OlP("CDK_TABLE");let _y=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),yy=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),wx=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class A${}const M$=nR(A$);let dd=(()=>{class n extends M${get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=mi(t),this._hasStickyChanged=i!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,_y,5),l.Suo(r,yy,5),l.Suo(r,wx,5)),2&t){let a;l.iGM(a=l.CRH())&&(i.cell=a.first),l.iGM(a=l.CRH())&&(i.headerCell=a.first),l.iGM(a=l.CRH())&&(i.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class iR{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let rR=(()=>{class n extends iR{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(dd),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),AN=(()=>{class n extends iR{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(dd),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],features:[l.qOj]}),n})(),oR=(()=>{class n extends iR{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(dd),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class MN{constructor(){this.tasks=[],this.endTasks=[]}}const sR=new l.OlP("_COALESCED_STYLE_SCHEDULER");let RN=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Nt.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new MN,this._getScheduleObservable().pipe(yr(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new MN;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Kt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ci(1))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),aR=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Z0?t.headerCell.template:this instanceof Y0?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class R$ extends aR{}const O$=nR(R$);let Z0=(()=>{class n extends O${constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(gy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class k$ extends aR{}const F$=nR(k$);let Y0=(()=>{class n extends F${constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(gy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),Ex=(()=>{class n extends aR{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(gy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),hd=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),lR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[hd],encapsulation:2}),n})(),cR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[hd],encapsulation:2}),n})(),uR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[hd],encapsulation:2}),n})(),Cx=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const ON=["top","bottom","left","right"];class P${constructor(e,t,i,r,a=!0,u=!0,f){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=a,this._needsPositionStickyOnElement=u,this._positionListener=f,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let a=0;a<r.children.length;a++)i.push(r.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(k=>k)&&!i.some(k=>k))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=e[0],u=a.children.length,f=this._getCellWidths(a,r),_=this._getStickyStartColumnPositions(f,t),b=this._getStickyEndColumnPositions(f,i),C=t.lastIndexOf(!0),A=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const k="rtl"===this.direction,V=k?"right":"left",G=k?"left":"right";for(const K of e)for(let oe=0;oe<u;oe++){const ze=K.children[oe];t[oe]&&this._addStickyStyle(ze,V,_[oe],oe===C),i[oe]&&this._addStickyStyle(ze,G,b[oe],oe===A)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===C?[]:f.slice(0,C+1).map((K,oe)=>t[oe]?K:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===A?[]:f.slice(A).map((K,oe)=>i[oe+A]?K:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,a="bottom"===i?t.slice().reverse():t,u=[],f=[],_=[];for(let C=0,A=0;C<r.length;C++){if(!a[C])continue;u[C]=A;const k=r[C];_[C]=this._isNativeHtmlTable?Array.from(k.children):[k];const V=k.getBoundingClientRect().height;A+=V,f[C]=V}const b=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let C=0;C<r.length;C++){if(!a[C])continue;const A=u[C],k=C===b;for(const V of _[C])this._addStickyStyle(V,i,A,k)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:f,offsets:u,elements:_}):this._positionListener?.stickyFooterRowsUpdated({sizes:f,offsets:u,elements:_})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);ON.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of ON)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let a=0;a<r.length;a++)i.push(r[a].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let a=0;a<e.length;a++)t[a]&&(i[a]=r,r+=e[a]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let a=e.length;a>0;a--)t[a]&&(i[a]=r,r+=e[a]);return i}}const dR=new l.OlP("CDK_SPL");let Dx=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),xx=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),Ix=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Sx=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Tx=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=mi(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=mi(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,r,a,u,f,_,b,C,A,k,V){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=_,this._viewRepeater=b,this._coalescedStyleScheduler=C,this._viewportRuler=A,this._stickyPositioningListener=k,this._ngZone=V,this._onDestroy=new Nt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new $n({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=f,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(yr(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),tR(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,a,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Ci(1),yr(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const a=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,a,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const a=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((a,u)=>{this._addStickyColumnStyles([a],this._headerRowDefs[u])}),this._rowDefs.forEach(a=>{const u=[];for(let f=0;f<i.length;f++)this._renderRows[f].rowDef===a&&u.push(i[f]);this._addStickyColumnStyles(u,a)}),r.forEach((a,u)=>{this._addStickyColumnStyles([a],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let a=this._data[r];const u=this._getRenderRowsForData(a,r,i.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let f=0;f<u.length;f++){let _=u[f];const b=this._cachedRenderRowsMap.get(_.data);b.has(_.rowDef)?b.get(_.rowDef).push(_):b.set(_.rowDef,[_]),t.push(_)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(u=>{const f=r&&r.has(u)?r.get(u):[];if(f.length){const _=f.shift();return _.dataIndex=i,_}return{data:t,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Ax(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Ax(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Ax(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Ax(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(u,f)=>u||!!f.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(t,!1);return a&&this._forceRenderFooterRows(),i||r||a}_switchDataSource(t){this._data=[],tR(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;tR(this.dataSource)?t=this.dataSource.connect(this):function C$(n){return!!n&&(n instanceof Mn.y||(0,Yi.m)(n.lift)&&(0,Yi.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=We(this.dataSource)),this._renderChangeSubscription=t.pipe(yr(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(f=>this._columnDefsByName.get(f)),a=r.map(f=>f.sticky),u=r.map(f=>f.stickyEnd);this._stickyStyler.updateStickyColumns(t,a,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const a=t.viewContainer.get(r);i.push(a.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(a=>!a.when||a.when(i,t));else{let a=this._rowDefs.find(u=>u.when&&u.when(i,t))||this._defaultRowDef;a&&r.push(a)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,a={}){const u=t.viewContainer.createEmbeddedView(i.template,a,r);return this._renderCellTemplateForItem(i,a),u}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))hd.mostRecentCellOutlet&&hd.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const u=t.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const a=this._document.createElement(r.tag);a.setAttribute("role","rowgroup");for(const u of r.outlets)a.appendChild(u.elementRef.nativeElement);t.appendChild(a)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new P$(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:We()).pipe(yr(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const a=r.createEmbeddedView(t.templateRef),u=a.rootNodes[0];1===a.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(cd,8),l.Y36(Q),l.Y36(Lr),l.Y36(W0),l.Y36(sR),l.Y36(py),l.Y36(dR,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,Cx,5),l.Suo(r,dd,5),l.Suo(r,Ex,5),l.Suo(r,Z0,5),l.Suo(r,Y0,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._noDataRow=a.first),l.iGM(a=l.CRH())&&(i._contentColumnDefs=a),l.iGM(a=l.CRH())&&(i._contentRowDefs=a),l.iGM(a=l.CRH())&&(i._contentHeaderRowDefs=a),l.iGM(a=l.CRH())&&(i._contentFooterRowDefs=a)}},viewQuery:function(t,i){if(1&t&&(l.Gf(Dx,7),l.Gf(xx,7),l.Gf(Ix,7),l.Gf(Sx,7)),2&t){let r;l.iGM(r=l.CRH())&&(i._rowOutlet=r.first),l.iGM(r=l.CRH())&&(i._headerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._footerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:gy,useExisting:n},{provide:W0,useClass:xN},{provide:sR,useClass:RN},{provide:dR,useValue:null}])],ngContentSelectors:x$,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(l.F$t(D$),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Dx,xx,Ix,Sx],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function Ax(n,e){return n.concat(Array.from(e))}let L$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[YM]}),n})();const V$=[[["caption"]],[["colgroup"],["col"]]],B$=["caption","colgroup, col"];let FN=(()=>{class n extends Tx{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:Tx,useExisting:n},{provide:gy,useExisting:n},{provide:sR,useClass:RN},{provide:W0,useClass:xN},{provide:dR,useValue:null}]),l.qOj],ngContentSelectors:B$,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(l.F$t(V$),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Dx,xx,Ix,Sx],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),hR=(()=>{class n extends _y{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:_y,useExisting:n}]),l.qOj]}),n})(),fR=(()=>{class n extends yy{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:yy,useExisting:n}]),l.qOj]}),n})(),PN=(()=>{class n extends wx{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matFooterCellDef",""]],features:[l._Bn([{provide:wx,useExisting:n}]),l.qOj]}),n})(),pR=(()=>{class n extends dd{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:dd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),mR=(()=>{class n extends rR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[l.qOj]}),n})(),NN=(()=>{class n extends AN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:[1,"mat-mdc-footer-cell","mdc-data-table__cell"],features:[l.qOj]}),n})(),gR=(()=>{class n extends oR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[l.qOj]}),n})(),LN=(()=>{class n extends Z0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:Z0,useExisting:n}]),l.qOj]}),n})(),VN=(()=>{class n extends Y0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matFooterRowDef",""]],inputs:{columns:["matFooterRowDef","columns"],sticky:["matFooterRowDefSticky","sticky"]},features:[l._Bn([{provide:Y0,useExisting:n}]),l.qOj]}),n})(),BN=(()=>{class n extends Ex{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:Ex,useExisting:n}]),l.qOj]}),n})(),UN=(()=>{class n extends lR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:lR,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[hd],encapsulation:2}),n})(),HN=(()=>{class n extends cR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-mdc-footer-row","mdc-data-table__row"],exportAs:["matFooterRow"],features:[l._Bn([{provide:cR,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[hd],encapsulation:2}),n})(),jN=(()=>{class n extends uR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[l._Bn([{provide:uR,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[hd],encapsulation:2}),n})(),G$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ji,L$,ji]}),n})();class W$ extends Bz{get data(){return this._data.value}set data(e){e=Array.isArray(e)?e:[],this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}constructor(e=[]){super(),this._renderData=new $n([]),this._filter=new $n(""),this._internalPageChanges=new Nt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,i)=>{const r=t[i];if(KF(r)){const a=Number(r);return a<9007199254740991?a:r}return r},this.sortData=(t,i)=>{const r=i.active,a=i.direction;return r&&""!=a?t.sort((u,f)=>{let _=this.sortingDataAccessor(u,r),b=this.sortingDataAccessor(f,r);const C=typeof _,A=typeof b;C!==A&&("number"===C&&(_+=""),"number"===A&&(b+=""));let k=0;return null!=_&&null!=b?_>b?k=1:_<b&&(k=-1):null!=_?k=1:null!=b&&(k=-1),k*("asc"==a?1:-1)}):t},this.filterPredicate=(t,i)=>{const r=Object.keys(t).reduce((u,f)=>u+t[f]+"\u25ec","").toLowerCase(),a=i.trim().toLowerCase();return-1!=r.indexOf(a)},this._data=new $n(e),this._updateChangeSubscription()}_updateChangeSubscription(){const e=this._sort?(0,Ma.T)(this._sort.sortChange,this._sort.initialized):We(null),t=this._paginator?(0,Ma.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):We(null),r=Ie([this._data,this._filter]).pipe((0,rt.U)(([f])=>this._filterData(f))),a=Ie([r,e]).pipe((0,rt.U)(([f])=>this._orderData(f))),u=Ie([a,t]).pipe((0,rt.U)(([f])=>this._pageData(f)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=u.subscribe(f=>this._renderData.next(f))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=e,t.pageIndex>0)){const i=Math.ceil(t.length/t.pageSize)-1||0,r=Math.min(t.pageIndex,i);r!==t.pageIndex&&(t.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Z$ extends W${}const Y$=new l.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),Q$=ox(class{constructor(n){this._elementRef=n}},"primary");let X$=(()=>{class n extends Q${constructor(t,i,r,a,u){super(t),this._ngZone=i,this._changeDetectorRef=r,this._animationMode=a,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new l.vpe,this._mode="determinate",this._transitionendHandler=f=>{0===this.animationEnd.observers.length||!f.target||!f.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===a,u&&(u.color&&(this.color=this.defaultColor=u.color),this.mode=u.mode||this.mode)}get value(){return this._value}set value(t){this._value=zN(B0(t)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=zN(B0(t)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.QbO,8),l.Y36(Y$,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(t,i){2&t&&(l.uIk("aria-valuenow",i._isIndeterminate()?null:i.value)("mode",i.mode),l.ekj("_mat-animation-noopable",i._isNoopAnimation)("mdc-linear-progress--animation-ready",!i._isNoopAnimation)("mdc-linear-progress--indeterminate",i._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[l.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"div",1)(2,"div",2),l.qZA(),l.TgZ(3,"div",3),l._UZ(4,"span",4),l.qZA(),l.TgZ(5,"div",5),l._UZ(6,"span",4),l.qZA()),2&t&&(l.xp6(1),l.Udp("flex-basis",i._getBufferBarFlexBasis()),l.xp6(2),l.Udp("transform",i._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half, 83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full, 200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter, 37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half, 84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full, 160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg, -83.67142%))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg, -200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg, -37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg, -84.386165%))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg, -160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color, #6200ee)}.mdc-linear-progress__buffer-dots{background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E\")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-track-height, 4px)}.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height, 4px)}.mat-mdc-progress-bar{display:block}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),n})();function zN(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let J$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ji]}),n})();function e6(n,e){1&n&&(l.TgZ(0,"th",21),l._uU(1,"\u6559\u5ba4\u540d"),l.qZA())}function t6(n,e){if(1&n&&(l.TgZ(0,"td",22),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t.roomName)}}function n6(n,e){1&n&&l._UZ(0,"td",23)}function i6(n,e){1&n&&(l.TgZ(0,"th",21),l._uU(1,"1\u9650\u76ee"),l.qZA())}const qh=function(n){return{highlight:n}};function r6(n,e){if(1&n&&(l.TgZ(0,"td",24),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,1===i.currentColumn)),l.xp6(1),l.Oqu(t.period1)}}function o6(n,e){if(1&n&&(l.TgZ(0,"td",25),l._UZ(1,"mat-progress-bar",26)(2,"mat-progress-bar",26)(3,"mat-progress-bar",26)(4,"mat-progress-bar",26)(5,"mat-progress-bar",26)(6,"mat-progress-bar",26)(7,"mat-progress-bar",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("value",t.getProgress()),l.xp6(1),l.Q6J("value",t.getProgress()),l.xp6(1),l.Q6J("value",t.getProgress()),l.xp6(1),l.Q6J("value",t.getProgress()),l.xp6(1),l.Q6J("value",t.getProgress()),l.xp6(1),l.Q6J("value",t.getProgress()),l.xp6(1),l.Q6J("value",t.getProgress())}}function s6(n,e){1&n&&(l.TgZ(0,"th",21),l._uU(1,"2\u9650\u76ee"),l.qZA())}function a6(n,e){if(1&n&&(l.TgZ(0,"td",24),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,2===i.currentColumn)),l.xp6(1),l.Oqu(t.period2)}}function l6(n,e){1&n&&(l.TgZ(0,"th",21),l._uU(1,"\u663c\u4f11\u307f"),l.qZA())}function c6(n,e){if(1&n&&(l.TgZ(0,"td",24),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,3===i.currentColumn)),l.xp6(1),l.Oqu(t.lunch)}}function u6(n,e){1&n&&(l.TgZ(0,"th",21),l._uU(1,"3\u9650\u76ee"),l.qZA())}function d6(n,e){if(1&n&&(l.TgZ(0,"td",24),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,4===i.currentColumn)),l.xp6(1),l.Oqu(t.period3)}}function h6(n,e){1&n&&(l.TgZ(0,"th",21),l._uU(1,"4\u9650\u76ee"),l.qZA())}function f6(n,e){if(1&n&&(l.TgZ(0,"td",24),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,5===i.currentColumn)),l.xp6(1),l.Oqu(t.period4)}}function p6(n,e){1&n&&(l.TgZ(0,"th",21),l._uU(1,"5\u9650\u76ee"),l.qZA())}function m6(n,e){if(1&n&&(l.TgZ(0,"td",24),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,6===i.currentColumn)),l.xp6(1),l.Oqu(t.period5)}}function g6(n,e){1&n&&(l.TgZ(0,"th",21),l._uU(1,"6\u9650\u76ee"),l.qZA())}function _6(n,e){if(1&n&&(l.TgZ(0,"td",24),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,7===i.currentColumn)),l.xp6(1),l.Oqu(t.period6)}}function y6(n,e){1&n&&(l.TgZ(0,"th",21),l._uU(1,"\u653e\u8ab2\u5f8c"),l.qZA())}function v6(n,e){if(1&n&&(l.TgZ(0,"td",24),l._uU(1),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,8===i.currentColumn)),l.xp6(1),l.Oqu(t.afterSchool)}}function b6(n,e){1&n&&l._UZ(0,"tr",27)}function w6(n,e){1&n&&l._UZ(0,"tr",28)}function E6(n,e){1&n&&l._UZ(0,"tr",29)}const C6=function(){return["roomName","period1"]},D6=[{path:"",component:(()=>{class n{ngOnInit(){}ngAfterContentInit(){setInterval(()=>{this.getPeriod(),this.currentTime=new Date},this.highlightDuraration)}ngAfterViewInit(){}constructor(){this.currentColumn=1,this.highlightDuraration=1e3,this.nowPeriod="",this.currentTime=new Date,this.classRoomInfo=F(2656),this.displayedColumns=["roomName","period1","period2","lunch","period3","period4","period5","period6","afterSchool"],this.startHour=8,this.startMinute=45,this.endHour=18,this.endMinute=15,this.dataSource=new Z$(this.classRoomInfo)}getProgress(){const t=new Date,i=new Date;i.setHours(this.startHour,this.startMinute,0,0);const r=new Date;if(r.setHours(this.endHour,this.endMinute,0,0),t<i)return 0;if(t>r)return 100;{const a=(r.getTime()-i.getTime())/6e4;return(t.getTime()-i.getTime())/6e4/a*100}}getPeriod(){let t=100*this.currentTime.getHours()+this.currentTime.getMinutes();t<845?(this.nowPeriod="\u671d",this.currentColumn=0):t<1015?(this.nowPeriod="1\u9650",this.currentColumn=1):t<1200?(this.nowPeriod="2\u9650",this.currentColumn=2):t<1300?(this.nowPeriod="\u663c\u4f11\u307f",this.currentColumn=3):t<1430?(this.nowPeriod="3\u9650",this.currentColumn=4):t<1615?(this.nowPeriod="4\u9650",this.currentColumn=5):t<1800?(this.nowPeriod="5\u9650",this.currentColumn=6):t<1945?(this.nowPeriod="6\u9650",this.currentColumn=7):(this.nowPeriod="\u6642\u9593\u5916",this.currentColumn=8)}updateCurrentColumn(){this.currentColumn=this.currentColumn<9?this.currentColumn+1:1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-signage"]],decls:42,vars:10,consts:[[1,"table"],["mat-table","",3,"dataSource"],["matColumnDef","roomName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","period1"],["mat-cell","",3,"ngClass",4,"matCellDef"],["mat-footer-cell","","colspan","7","class","footer",4,"matFooterCellDef"],["matColumnDef","period2"],["matColumnDef","lunch"],["matColumnDef","period3"],["matColumnDef","period4"],["matColumnDef","period5"],["matColumnDef","period6"],["matColumnDef","afterSchool"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[1,"timeInfo"],[2,"display","inline"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-cell","",3,"ngClass"],["mat-footer-cell","","colspan","7",1,"footer"],[1,"progressBar",3,"value"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"table",1),l.ynx(2,2),l.YNc(3,e6,2,0,"th",3),l.YNc(4,t6,2,1,"td",4),l.YNc(5,n6,1,0,"td",5),l.BQk(),l.ynx(6,6),l.YNc(7,i6,2,0,"th",3),l.YNc(8,r6,2,4,"td",7),l.YNc(9,o6,8,7,"td",8),l.BQk(),l.ynx(10,9),l.YNc(11,s6,2,0,"th",3),l.YNc(12,a6,2,4,"td",7),l.BQk(),l.ynx(13,10),l.YNc(14,l6,2,0,"th",3),l.YNc(15,c6,2,4,"td",7),l.BQk(),l.ynx(16,11),l.YNc(17,u6,2,0,"th",3),l.YNc(18,d6,2,4,"td",7),l.BQk(),l.ynx(19,12),l.YNc(20,h6,2,0,"th",3),l.YNc(21,f6,2,4,"td",7),l.BQk(),l.ynx(22,13),l.YNc(23,p6,2,0,"th",3),l.YNc(24,m6,2,4,"td",7),l.BQk(),l.ynx(25,14),l.YNc(26,g6,2,0,"th",3),l.YNc(27,_6,2,4,"td",7),l.BQk(),l.ynx(28,15),l.YNc(29,y6,2,0,"th",3),l.YNc(30,v6,2,4,"td",7),l.BQk(),l.YNc(31,b6,1,0,"tr",16),l.YNc(32,w6,1,0,"tr",17),l.YNc(33,E6,1,0,"tr",18),l.qZA(),l.TgZ(34,"div",19),l._uU(35,"\u73fe\u5728\u6642\u523b\u306f "),l.TgZ(36,"h1",20),l._uU(37),l.ALo(38,"date"),l.qZA(),l._uU(39," \u3067\u3059\u3002"),l.qZA(),l.TgZ(40,"div",19),l._uU(41),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("dataSource",i.dataSource),l.xp6(30),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns),l.xp6(1),l.Q6J("matFooterRowDef",l.DdM(9,C6)),l.xp6(4),l.Oqu(l.xi3(38,6,i.currentTime,"HH:mm:ss")),l.xp6(4),l.hij("\u73fe\u5728\u306f ",i.nowPeriod,""))},dependencies:[Je,FN,fR,LN,pR,hR,BN,PN,VN,mR,gR,NN,UN,jN,HN,X$,_s],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}.footer[_ngcontent-%COMP%]{padding:0}.timeInfo[_ngcontent-%COMP%]{text-align:center;font-size:large}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #ddd;white-space:normal;overflow:hidden;text-overflow:ellipsis;overflow-wrap:break-word;border-right:1px solid;border-color:#a9a9a9}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.mat-cell[_ngcontent-%COMP%]{text-align:center}.highlight[_ngcontent-%COMP%]{background-color:#bbdefb}@media (max-width: 768px){td[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word}}"]}),n})()},{path:"regist",component:E$}];let x6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Nw.forRoot(D6),Nw]}),n})();const I6=["*",[["mat-toolbar-row"]]],S6=["*","mat-toolbar-row"],T6=ox(class{constructor(n){this._elementRef=n}});let A6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),M6=(()=>{class n extends T6{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Lr),l.Y36(Q))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,A6,5),2&t){let a;l.iGM(a=l.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:S6,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(I6),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),R6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ji,ji]}),n})(),O6=(()=>{class n{constructor(){this.title="meio-classroom-info"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[["color","primary"],["routerLink","/",1,"toolbar"],[1,"spacer"],["mat-icon-button","","routerLink","/regist"]],template:function(t,i){1&t&&(l.TgZ(0,"mat-toolbar",0)(1,"a",1),l._uU(2,"PC\u6559\u5ba4\u6848\u5185"),l.qZA(),l._UZ(3,"span",2),l.TgZ(4,"button",3)(5,"mat-icon"),l._uU(6,"settings"),l.qZA()()(),l._UZ(7,"router-outlet"))},dependencies:[uc,og,M6,jP,$P],styles:[".toolbar[_ngcontent-%COMP%]{text-decoration:none;color:#f5f5f5}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();function $N(n){return new l.vHH(3e3,!1)}function fG(){return typeof window<"u"&&typeof window.document<"u"}function _R(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Wh(n){switch(n.length){case 0:return new G0;case 1:return n[0];default:return new ZP(n)}}function GN(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,b=null;if(i.forEach(C=>{const A=C.get("offset"),k=A==_,V=k&&b||new Map;C.forEach((G,K)=>{let oe=K,ze=G;if("offset"!==K)switch(oe=e.normalizePropertyName(oe,u),ze){case $M:ze=r.get(K);break;case ud:ze=a.get(K);break;default:ze=e.normalizeStyleValue(K,oe,ze,u)}V.set(oe,ze)}),k||f.push(V),b=V,_=A}),u.length)throw function tG(n){return new l.vHH(3502,!1)}();return f}function yR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&vR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&vR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&vR(t,"destroy",n)))}}function vR(n,e,t){const a=bR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function bR(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function Vs(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function qN(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let wR=(n,e)=>!1,WN=(n,e,t)=>[],ZN=null;function ER(n){const e=n.parentNode||n.host;return e===ZN?null:e}(_R()||typeof Element<"u")&&(fG()?(ZN=(()=>document.documentElement)(),wR=(n,e)=>{for(;e;){if(e===n)return!0;e=ER(e)}return!1}):wR=(n,e)=>n.contains(e),WN=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let om=null,YN=!1;const KN=wR,QN=WN;let XN=(()=>{class n{validateStyleProperty(t){return function mG(n){om||(om=function gG(){return typeof document<"u"?document.body:null}()||{},YN=!!om.style&&"WebkitAppearance"in om.style);let e=!0;return om.style&&!function pG(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in om.style,!e&&YN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in om.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return KN(t,i)}getParentElement(t){return ER(t)}query(t,i,r){return QN(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new G0(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),CR=(()=>{class n{}return n.NOOP=new XN,n})();const _G=1e3,DR="ng-enter",Mx="ng-leave",Rx="ng-trigger",Ox=".ng-trigger",eL="ng-animating",xR=".ng-animating";function fd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:IR(parseFloat(e[1]),e[2])}function IR(n,e){return"s"===e?n*_G:n}function kx(n,e,t){return n.hasOwnProperty("duration")?n:function vG(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push($N()),{duration:0,delay:0,easing:""};r=IR(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=IR(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function k6(){return new l.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function F6(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,$N())}return{duration:r,delay:a,easing:u}}(n,e,t)}function K0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function tL(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Zh(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function iL(n,e,t){return t?e+":"+t+";":""}function rL(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=iL(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=iL(0,CG(t),n.style[t]));n.setAttribute("style",e)}function Fc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=TR(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),_R()&&rL(n))}function sm(n,e){n.style&&(e.forEach((t,i)=>{const r=TR(i);n.style[r]=""}),_R()&&rL(n))}function Q0(n){return Array.isArray(n)?1==n.length?n[0]:qP(n):n}const SR=new RegExp("{{\\s*(.+?)\\s*}}","g");function oL(n){let e=[];if("string"==typeof n){let t;for(;t=SR.exec(n);)e.push(t[1]);SR.lastIndex=0}return e}function X0(n,e,t){const i=n.toString(),r=i.replace(SR,(a,u)=>{let f=e[u];return null==f&&(t.push(function N6(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function Fx(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const EG=/-+([a-z0-9])/g;function TR(n){return n.replace(EG,(...e)=>e[1].toUpperCase())}function CG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function L6(n){return new l.vHH(3004,!1)}()}}function sL(n,e){return window.getComputedStyle(n)[e]}const Lx="*";function AG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function MG(n,e,t){if(":"==n[0]){const _=function RG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Q6(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function K6(n){return new l.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(aL(r,u));"<"==a[0]&&!(r==Lx&&u==Lx)&&e.push(aL(u,r))}(i,t,e)):t.push(n),t}const Vx=new Set(["true","1"]),Bx=new Set(["false","0"]);function aL(n,e){const t=Vx.has(n)||Bx.has(n),i=Vx.has(e)||Bx.has(e);return(r,a)=>{let u=n==Lx||n==r,f=e==Lx||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?Vx.has(n):Bx.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?Vx.has(e):Bx.has(e)),u&&f}}const OG=new RegExp("s*:selfs*,?","g");function AR(n,e,t,i){return new kG(n).build(e,t,i)}class kG{constructor(e){this._driver=e}build(e,t,i){const r=new NG(t);return this._resetContextStyleTimingState(r),Bs(this,Q0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function B6(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(C=>{_.name=C,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function U6(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{oL(_).forEach(b=>{u.hasOwnProperty(b)||a.add(b)})})}),a.size&&(Fx(a.values()),t.errors.push(function H6(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Bs(this,Q0(e.animation),t);return{type:1,matchers:AG(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:am(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Bs(this,i,t)),options:am(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=Bs(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:am(e.options)}}visitAnimate(e,t){const i=function VG(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return MR(kx(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=MR(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=kx(t,e);return MR(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:xl({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=xl(b)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===ud?i.push(f):t.errors.push(new l.vHH(3002,!1)):i.push(tL(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),C=b.get(_);let A=!0;C&&(a!=r&&a>=C.startTime&&r<=C.endTime&&(t.errors.push(function z6(n,e,t,i,r){return new l.vHH(3010,!1)}()),A=!1),a=C.startTime),A&&b.set(_,{startTime:a,endTime:r}),t.options&&function wG(n,e,t){const i=e.params||{},r=oL(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function P6(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function $6(){return new l.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,b=0;const C=e.steps.map(ze=>{const mt=this._makeStyleAst(ze,t);let ht=null!=mt.offset?mt.offset:function LG(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(mt.styles),Ct=0;return null!=ht&&(a++,Ct=mt.offset=ht),_=_||Ct<0||Ct>1,f=f||Ct<b,b=Ct,u.push(Ct),mt});_&&t.errors.push(function G6(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function q6(){return new l.vHH(3200,!1)}());const A=e.steps.length;let k=0;a>0&&a<A?t.errors.push(function W6(){return new l.vHH(3202,!1)}()):0==a&&(k=1/(A-1));const V=A-1,G=t.currentTime,K=t.currentAnimateTimings,oe=K.duration;return C.forEach((ze,mt)=>{const ht=k>0?mt==V?1:k*mt:u[mt],Ct=ht*oe;t.currentTime=G+K.delay+Ct,K.duration=Ct,this._validateStyleAst(ze,t),ze.offset=ht,i.styles.push(ze)}),i}visitReference(e,t){return{type:8,animation:Bs(this,Q0(e.animation),t),options:am(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:am(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:am(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function FG(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(OG,"")),n=n.replace(/@\*/g,Ox).replace(/@\w+/g,t=>Ox+"-"+t.slice(1)).replace(/:animating/g,xR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Vs(t.collectedStyles,t.currentQuerySelector,new Map);const f=Bs(this,Q0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:am(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Z6(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:kx(e.timings,t.errors,!0);return{type:12,animation:Bs(this,Q0(e.animation),t),timings:i,options:null}}}class NG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function am(n){return n?(n=K0(n)).params&&(n.params=function PG(n){return n?K0(n):null}(n.params)):n={},n}function MR(n,e,t){return{duration:n,delay:e,easing:t}}function RR(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class Ux{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const HG=new RegExp(":enter","g"),zG=new RegExp(":leave","g");function OR(n,e,t,i,r,a=new Map,u=new Map,f,_,b=[]){return(new $G).buildKeyframes(n,e,t,i,r,a,u,f,_,b)}class $G{buildKeyframes(e,t,i,r,a,u,f,_,b,C=[]){b=b||new Ux;const A=new kR(e,t,b,r,a,C,[]);A.options=_;const k=_.delay?fd(_.delay):0;A.currentTimeline.delayNextStep(k),A.currentTimeline.setStyles([u],null,A.errors,_),Bs(this,i,A);const V=A.timelines.filter(G=>G.containsAnimation());if(V.length&&f.size){let G;for(let K=V.length-1;K>=0;K--){const oe=V[K];if(oe.element===t){G=oe;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([f],null,A.errors,_)}return V.length?V.map(G=>G.buildKeyframes()):[RR(t,[],[],[],0,k,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const u="number"==typeof a?a:fd(X0(a,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?fd(i.duration):null,f=null!=i.delay?fd(i.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Bs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Hx);const u=fd(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Bs(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?fd(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Bs(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return kx(t.params?X0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?fd(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Hx);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,C)=>{t.currentQueryIndex=C;const A=t.createSubContext(e.options,b);a&&A.delayNextStep(a),b===t.element&&(_=A.currentTimeline),Bs(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const C=t.currentTimeline;_&&C.delayNextStep(_);const A=C.currentTime;Bs(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-A+(r.startTime-i.currentTimeline.startTime)}}const Hx={};class kR{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Hx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new jx(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=fd(i.duration)),null!=i.delay&&(r.delay=fd(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=X0(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new kR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Hx,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new GG(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(HG,"."+this._enterClassName)).replace(zG,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&u.push(function Y6(n){return new l.vHH(3014,!1)}()),f}}class jx{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new jx(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ud),this._currentKeyframe.set(t,ud);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function qG(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,ud)}else Zh(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const b=X0(_,a,i);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??ud),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=Zh(f,new Map,this._backFill);b.forEach((C,A)=>{C===$M?e.add(A):C===ud&&t.add(A)}),i||b.set("offset",_/this.duration),r.push(b)});const a=e.size?Fx(e.values()):[],u=t.size?Fx(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return RR(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class GG extends jx{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=Zh(e[0]);_.set("offset",0),a.push(_);const b=Zh(e[0]);b.set("offset",uL(f)),a.push(b);const C=e.length-1;for(let A=1;A<=C;A++){let k=Zh(e[A]);const V=k.get("offset");k.set("offset",uL((t+V*i)/u)),a.push(k)}i=u,t=0,r="",e=a}return RR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function uL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class FR{}const WG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ZG extends FR{normalizePropertyName(e,t){return TR(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(WG.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function V6(n,e){return new l.vHH(3005,!1)}())}return u+a}}function dL(n,e,t,i,r,a,u,f,_,b,C,A,k){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:C,totalTime:A,errors:k}}const PR={};class hL{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function YG(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,b,C){const A=[],k=this.ast.options&&this.ast.options.params||PR,G=this.buildStyles(i,f&&f.params||PR,A),K=_&&_.params||PR,oe=this.buildStyles(r,K,A),ze=new Set,mt=new Map,ht=new Map,Ct="void"===r,Gt={params:KG(K,k),delay:this.ast.options?.delay},Zt=C?[]:OR(e,t,this.ast.animation,a,u,G,oe,Gt,b,A);let wn=0;if(Zt.forEach(pd=>{wn=Math.max(pd.duration+pd.delay,wn)}),A.length)return dL(t,this._triggerName,i,r,Ct,G,oe,[],[],mt,ht,wn,A);Zt.forEach(pd=>{const md=pd.element,AL=Vs(mt,md,new Set);pd.preStyleProps.forEach(lm=>AL.add(lm));const ew=Vs(ht,md,new Set);pd.postStyleProps.forEach(lm=>ew.add(lm)),md!==t&&ze.add(md)});const Vr=Fx(ze.values());return dL(t,this._triggerName,i,r,Ct,G,oe,Zt,Vr,mt,ht,wn)}}function KG(n,e){const t=K0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class QG{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=K0(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=X0(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(f,u)})}),i}}class JG{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new QG(r.style,r.options&&r.options.params||{},i))}),fL(this.states,"true","1"),fL(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new hL(e,r,this.states))}),this.fallbackTransition=function e4(n,e,t){return new hL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function fL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const t4=new Ux;class n4{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],a=AR(this._driver,t,i,r);if(i.length)throw function nG(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=GN(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=OR(this._driver,t,a,DR,Mx,new Map,new Map,i,t4,r),u.forEach(C=>{const A=Vs(f,C.element,new Map);C.postStyleProps.forEach(k=>A.set(k,null))})):(r.push(function iG(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function rG(n){return new l.vHH(3504,!1)}();f.forEach((C,A)=>{C.forEach((k,V)=>{C.set(V,this._driver.computeStyle(A,V,ud))})});const b=Wh(u.map(C=>{const A=f.get(C.element);return this._buildPlayer(C,new Map,A)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function oG(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=bR(t,"","","");return yR(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const pL="ng-animate-queued",NR="ng-animate-disabled",a4=[],mL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},l4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ra="__ng_removed";class LR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function h4(n){return n??null}(i?e.value:e),i){const a=K0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const J0="void",VR=new LR(J0);class c4{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Oa(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function sG(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function aG(n){return new l.vHH(3303,!1)}();if(!function f4(n){return"start"==n||"done"==n}(i))throw function lG(n,e){return new l.vHH(3400,!1)}();const a=Vs(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=Vs(this._engine.statesByElement,e,new Map);return f.has(t)||(Oa(e,Rx),Oa(e,Rx+"-"+t),f.set(t,VR)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function cG(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new BR(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Oa(e,Rx),Oa(e,Rx+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const b=new LR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(t,b),_||(_=VR),b.value!==J0&&_.value===b.value){if(!function g4(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const K=[],oe=a.matchStyles(_.value,_.params,K),ze=a.matchStyles(b.value,b.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{sm(e,oe),Fc(e,ze)})}return}const k=Vs(this._engine.playersByElement,e,[]);k.forEach(K=>{K.namespaceId==this.id&&K.triggerName==t&&K.queued&&K.destroy()});let V=a.matchTransition(_.value,b.value,e,b.params),G=!1;if(!V){if(!r)return;V=a.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:_,toState:b,player:u,isFallbackTransition:G}),G||(Oa(e,pL),u.onStart(()=>{vy(e,pL)})),u.onDone(()=>{let K=this.players.indexOf(u);K>=0&&this.players.splice(K,1);const oe=this._engine.playersByElement.get(e);if(oe){let ze=oe.indexOf(u);ze>=0&&oe.splice(ze,1)}}),this.players.push(u),k.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Ox,!0);i.forEach(r=>{if(r[Ra])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,b)=>{if(u.set(b,_.value),this._triggers.has(b)){const C=this.trigger(e,b,J0,r);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Wh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,b=i.get(u)||VR,C=new LR(J0),A=new BR(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:C,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ra];(!a||a===mL)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Oa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=bR(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,yR(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class u4{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new c4(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(zx(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!zx(t))return;const a=t[Ra];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Oa(e,NR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vy(e,NR))}removeNode(e,t,i,r){if(zx(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Ra]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return zx(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Ox,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,xR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Wh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ra];if(t&&t.setForRemoval){if(e[Ra]=mL,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(NR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Oa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Wh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function uG(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new Ux,r=[],a=new Map,u=[],f=new Map,_=new Map,b=new Map,C=new Set;this.disabledNodes.forEach(bt=>{C.add(bt);const kt=this.driver.query(bt,".ng-animate-queued",!0);for(let Ut=0;Ut<kt.length;Ut++)C.add(kt[Ut])});const A=this.bodyNode,k=Array.from(this.statesByElement.keys()),V=yL(k,this.collectedEnterElements),G=new Map;let K=0;V.forEach((bt,kt)=>{const Ut=DR+K++;G.set(kt,Ut),bt.forEach(gn=>Oa(gn,Ut))});const oe=[],ze=new Set,mt=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const kt=this.collectedLeaveElements[bt],Ut=kt[Ra];Ut&&Ut.setForRemoval&&(oe.push(kt),ze.add(kt),Ut.hasAnimation?this.driver.query(kt,".ng-star-inserted",!0).forEach(gn=>ze.add(gn)):mt.add(kt))}const ht=new Map,Ct=yL(k,Array.from(ze));Ct.forEach((bt,kt)=>{const Ut=Mx+K++;ht.set(kt,Ut),bt.forEach(gn=>Oa(gn,Ut))}),e.push(()=>{V.forEach((bt,kt)=>{const Ut=G.get(kt);bt.forEach(gn=>vy(gn,Ut))}),Ct.forEach((bt,kt)=>{const Ut=ht.get(kt);bt.forEach(gn=>vy(gn,Ut))}),oe.forEach(bt=>{this.processLeaveNode(bt)})});const Gt=[],Zt=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(t).forEach(Ut=>{const gn=Ut.player,Br=Ut.element;if(Gt.push(gn),this.collectedEnterElements.length){const po=Br[Ra];if(po&&po.setForMove){if(po.previousTriggersValues&&po.previousTriggersValues.has(Ut.triggerName)){const cm=po.previousTriggersValues.get(Ut.triggerName),ka=this.statesByElement.get(Ut.element);if(ka&&ka.has(Ut.triggerName)){const qx=ka.get(Ut.triggerName);qx.value=cm,ka.set(Ut.triggerName,qx)}}return void gn.destroy()}}const Pc=!A||!this.driver.containsElement(A,Br),Us=ht.get(Br),Yh=G.get(Br),Ei=this._buildInstruction(Ut,i,Yh,Us,Pc);if(Ei.errors&&Ei.errors.length)return void Zt.push(Ei);if(Pc)return gn.onStart(()=>sm(Br,Ei.fromStyles)),gn.onDestroy(()=>Fc(Br,Ei.toStyles)),void r.push(gn);if(Ut.isFallbackTransition)return gn.onStart(()=>sm(Br,Ei.fromStyles)),gn.onDestroy(()=>Fc(Br,Ei.toStyles)),void r.push(gn);const OL=[];Ei.timelines.forEach(po=>{po.stretchStartingKeyframe=!0,this.disabledNodes.has(po.element)||OL.push(po)}),Ei.timelines=OL,i.append(Br,Ei.timelines),u.push({instruction:Ei,player:gn,element:Br}),Ei.queriedElements.forEach(po=>Vs(f,po,[]).push(gn)),Ei.preStyleProps.forEach((po,cm)=>{if(po.size){let ka=_.get(cm);ka||_.set(cm,ka=new Set),po.forEach((qx,jR)=>ka.add(jR))}}),Ei.postStyleProps.forEach((po,cm)=>{let ka=b.get(cm);ka||b.set(cm,ka=new Set),po.forEach((qx,jR)=>ka.add(jR))})});if(Zt.length){const bt=[];Zt.forEach(kt=>{bt.push(function dG(n,e){return new l.vHH(3505,!1)}())}),Gt.forEach(kt=>kt.destroy()),this.reportError(bt)}const wn=new Map,Vr=new Map;u.forEach(bt=>{const kt=bt.element;i.has(kt)&&(Vr.set(kt,kt),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,wn))}),r.forEach(bt=>{const kt=bt.element;this._getPreviousPlayers(kt,!1,bt.namespaceId,bt.triggerName,null).forEach(gn=>{Vs(wn,kt,[]).push(gn),gn.destroy()})});const pd=oe.filter(bt=>bL(bt,_,b)),md=new Map;_L(md,this.driver,mt,b,ud).forEach(bt=>{bL(bt,_,b)&&pd.push(bt)});const ew=new Map;V.forEach((bt,kt)=>{_L(ew,this.driver,new Set(bt),_,$M)}),pd.forEach(bt=>{const kt=md.get(bt),Ut=ew.get(bt);md.set(bt,new Map([...Array.from(kt?.entries()??[]),...Array.from(Ut?.entries()??[])]))});const lm=[],ML=[],RL={};u.forEach(bt=>{const{element:kt,player:Ut,instruction:gn}=bt;if(i.has(kt)){if(C.has(kt))return Ut.onDestroy(()=>Fc(kt,gn.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(gn.totalTime),void r.push(Ut);let Br=RL;if(Vr.size>1){let Us=kt;const Yh=[];for(;Us=Us.parentNode;){const Ei=Vr.get(Us);if(Ei){Br=Ei;break}Yh.push(Us)}Yh.forEach(Ei=>Vr.set(Ei,Br))}const Pc=this._buildAnimation(Ut.namespaceId,gn,wn,a,ew,md);if(Ut.setRealPlayer(Pc),Br===RL)lm.push(Ut);else{const Us=this.playersByElement.get(Br);Us&&Us.length&&(Ut.parentPlayer=Wh(Us)),r.push(Ut)}}else sm(kt,gn.fromStyles),Ut.onDestroy(()=>Fc(kt,gn.toStyles)),ML.push(Ut),C.has(kt)&&r.push(Ut)}),ML.forEach(bt=>{const kt=a.get(bt.element);if(kt&&kt.length){const Ut=Wh(kt);bt.setRealPlayer(Ut)}}),r.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<oe.length;bt++){const kt=oe[bt],Ut=kt[Ra];if(vy(kt,Mx),Ut&&Ut.hasAnimation)continue;let gn=[];if(f.size){let Pc=f.get(kt);Pc&&Pc.length&&gn.push(...Pc);let Us=this.driver.query(kt,xR,!0);for(let Yh=0;Yh<Us.length;Yh++){let Ei=f.get(Us[Yh]);Ei&&Ei.length&&gn.push(...Ei)}}const Br=gn.filter(Pc=>!Pc.destroyed);Br.length?p4(this,kt,Br):this.processLeaveNode(kt)}return oe.length=0,lm.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const kt=this.players.indexOf(bt);this.players.splice(kt,1)}),bt.play()}),lm}elementContainsData(e,t){let i=!1;const r=t[Ra];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==J0;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,C=b!==a,A=Vs(i,b,[]);this._getPreviousPlayers(b,C,u,f,t.toState).forEach(V=>{const G=V.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),V.destroy(),A.push(V)})}sm(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,b=[],C=new Set,A=new Set,k=t.timelines.map(G=>{const K=G.element;C.add(K);const oe=K[Ra];if(oe&&oe.removedBeforeQueried)return new G0(G.duration,G.delay);const ze=K!==_,mt=function m4(n){const e=[];return vL(n,e),e}((i.get(K)||a4).map(wn=>wn.getRealPlayer())).filter(wn=>!!wn.element&&wn.element===K),ht=a.get(K),Ct=u.get(K),Gt=GN(0,this._normalizer,0,G.keyframes,ht,Ct),Zt=this._buildPlayer(G,Gt,mt);if(G.subTimeline&&r&&A.add(K),ze){const wn=new BR(e,f,K);wn.setRealPlayer(Zt),b.push(wn)}return Zt});b.forEach(G=>{Vs(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function d4(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,G.element,G))}),C.forEach(G=>Oa(G,eL));const V=Wh(k);return V.onDestroy(()=>{C.forEach(G=>vy(G,eL)),Fc(_,t.toStyles)}),A.forEach(G=>{Vs(r,G,[]).push(V)}),V}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new G0(e.duration,e.delay)}}class BR{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new G0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>yR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Vs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function zx(n){return n&&1===n.nodeType}function gL(n,e){const t=n.style.display;return n.style.display=e??"none",t}function _L(n,e,t,i,r){const a=[];t.forEach(_=>a.push(gL(_)));const u=[];i.forEach((_,b)=>{const C=new Map;_.forEach(A=>{const k=e.computeStyle(b,A,r);C.set(A,k),(!k||0==k.length)&&(b[Ra]=l4,u.push(b))}),n.set(b,C)});let f=0;return t.forEach(_=>gL(_,a[f++])),u}function yL(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=1,r=new Set(e),a=new Map;function u(f){if(!f)return i;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:r.has(b)?i:u(b),a.set(f,_),_}return e.forEach(f=>{const _=u(f);_!==i&&t.get(_).push(f)}),t}function Oa(n,e){n.classList?.add(e)}function vy(n,e){n.classList?.remove(e)}function p4(n,e,t){Wh(t).onDone(()=>n.processLeaveNode(e))}function vL(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof ZP?vL(i.players,e):e.push(i)}}function bL(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class $x{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new u4(e,t,i),this._timelineEngine=new n4(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],b=[],C=AR(this._driver,a,_,b);if(_.length)throw function eG(n,e){return new l.vHH(3404,!1)}();f=function XG(n,e,t){return new JG(n,e,t)}(r,C,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=qN(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=qN(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let y4=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Fc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fc(this._element,this._initialStyles),this._endStyles&&(Fc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(sm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sm(this._element,this._endStyles),this._endStyles=null),Fc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function UR(n){let e=null;return n.forEach((t,i)=>{(function v4(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class wL{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:sL(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class b4{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return KN(e,t)}getParentElement(e){return ER(e)}query(e,t,i){return QN(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b=new Map,C=u.filter(V=>V instanceof wL);(function DG(n,e){return 0===n||0===e})(i,r)&&C.forEach(V=>{V.currentSnapshot.forEach((G,K)=>b.set(K,G))});let A=function bG(n){return n.length?n[0]instanceof Map?n:n.map(e=>tL(e)):[]}(t).map(V=>Zh(V));A=function xG(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,sL(n,f)))}}return e}(e,A,b);const k=function _4(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=UR(e[0]),e.length>1&&(i=UR(e[e.length-1]))):e instanceof Map&&(t=UR(e)),t||i?new y4(n,t,i):null}(e,A);return new wL(e,A,_,k)}}let w4=(()=>{class n extends GP{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?qP(t):t;return EL(this._renderer,null,i,"register",[r]),new E4(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class E4 extends Zj{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new C4(this._id,e,t||{},this._renderer)}}class C4{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return EL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function EL(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const CL="@.disabled";let D4=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(a);return C||(C=new DL("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,C)),C}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=C=>{Array.isArray(C)?C.forEach(_):this.engine.registerTrigger(u,f,t,C.name,C)};return i.data.animation.forEach(_),new x4(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG($x),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class DL{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==CL?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class x4 extends DL{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==CL?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function I4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function S4(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let T4=(()=>{class n extends $x{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q),l.LFG(CR),l.LFG(FR),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const xL=[{provide:GP,useClass:w4},{provide:FR,useFactory:function A4(){return new ZG}},{provide:$x,useClass:T4},{provide:l.FYo,useFactory:function M4(n,e,t){return new D4(n,e,t)},deps:[Co,$x,l.R0b]}],HR=[{provide:CR,useFactory:()=>new b4},{provide:l.QbO,useValue:"BrowserAnimations"},...xL],IL=[{provide:CR,useClass:XN},{provide:l.QbO,useValue:"NoopAnimations"},...xL];let R4=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?IL:HR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:HR,imports:[xo]}),n})();const V4={provide:new l.OlP("mat-autocomplete-scroll-strategy"),deps:[my],useFactory:function L4(n){return()=>n.scrollStrategies.reposition()}};let H4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[V4],imports:[DN,ax,ji,bs,bx,ax,ji]}),n})();const j4_firebase={apiKey:"AIzaSyDIrPTYo0MnM44ThQfgTsJjI5GuB2S-MXU",authDomain:"meio-classroom-info.firebaseapp.com",databaseURL:"https://meio-classroom-info-default-rtdb.firebaseio.com",projectId:"meio-classroom-info",storageBucket:"meio-classroom-info.appspot.com",messagingSenderId:"830823781548",appId:"1:830823781548:web:2fef1fb7f06b56d481fb09",measurementId:"G-04GEY0NQN1"};let z4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[O6]}),n.\u0275inj=l.cJS({imports:[xo,x6,R4,R6,G$,J$,Pj,Wj,gx,j3,H4,o$,wi.hO.initializeApp(j4_firebase),YU,HU]}),n})();sa().bootstrapModule(z4).catch(n=>console.error(n))},9751:(ft,be,F)=>{F.d(be,{y:()=>ue});var l=F(930),X=F(727),P=F(8822),ne=F(9635),ie=F(2416),Q=F(576),fe=F(2806);let ue=(()=>{class Y{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const $e=new Y;return $e.source=this,$e.operator=Ce,$e}subscribe(Ce,$e,ut){const he=function $(Y){return Y&&Y instanceof l.Lv||function j(Y){return Y&&(0,Q.m)(Y.next)&&(0,Q.m)(Y.error)&&(0,Q.m)(Y.complete)}(Y)&&(0,X.Nn)(Y)}(Ce)?Ce:new l.Hp(Ce,$e,ut);return(0,fe.x)(()=>{const{operator:De,source:xe}=this;he.add(De?De.call(he,xe):xe?this._subscribe(he):this._trySubscribe(he))}),he}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch($e){Ce.error($e)}}forEach(Ce,$e){return new($e=ce($e))((ut,he)=>{const De=new l.Hp({next:xe=>{try{Ce(xe)}catch(Fe){he(Fe),De.unsubscribe()}},error:he,complete:ut});this.subscribe(De)})}_subscribe(Ce){var $e;return null===($e=this.source)||void 0===$e?void 0:$e.subscribe(Ce)}[P.L](){return this}pipe(...Ce){return(0,ne.U)(Ce)(this)}toPromise(Ce){return new(Ce=ce(Ce))(($e,ut)=>{let he;this.subscribe(De=>he=De,De=>ut(De),()=>$e(he))})}}return Y.create=Ue=>new Y(Ue),Y})();function ce(Y){var Ue;return null!==(Ue=Y??ie.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(ft,be,F)=>{F.d(be,{x:()=>fe});var l=F(9751),X=F(727);const ne=(0,F(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=F(8737),Q=F(2806);let fe=(()=>{class ce extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Y=new ue(this,this);return Y.operator=$,Y}_throwIfClosed(){if(this.closed)throw new ne}next($){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next($)}})}error($){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Y}=this;for(;Y.length;)Y.shift().error($)}})}complete(){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Y,isStopped:Ue,observers:Ce}=this;return Y||Ue?X.Lc:(this.currentObservers=null,Ce.push($),new X.w0(()=>{this.currentObservers=null,(0,ie.P)(Ce,$)}))}_checkFinalizedStatuses($){const{hasError:Y,thrownError:Ue,isStopped:Ce}=this;Y?$.error(Ue):Ce&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return ce.create=(j,$)=>new ue(j,$),ce})();class ue extends fe{constructor(j,$){super(),this.destination=j,this.source=$}next(j){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Y||Y.call($,j)}error(j){var $,Y;null===(Y=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Y||Y.call($,j)}complete(){var j,$;null===($=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===$||$.call(j)}_subscribe(j){var $,Y;return null!==(Y=null===($=this.source)||void 0===$?void 0:$.subscribe(j))&&void 0!==Y?Y:X.Lc}}},930:(ft,be,F)=>{F.d(be,{Hp:()=>ut,Lv:()=>Y});var l=F(576),X=F(727),P=F(2416),ne=F(7849),ie=F(5032);const Q=ce("C",void 0,void 0);function ce(Ee,ve,Ae){return{kind:Ee,value:ve,error:Ae}}var j=F(3410),$=F(2806);class Y extends X.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,X.Nn)(ve)&&ve.add(this)):this.destination=Fe}static create(ve,Ae,Le){return new ut(ve,Ae,Le)}next(ve){this.isStopped?xe(function ue(Ee){return ce("N",Ee,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?xe(function fe(Ee){return ce("E",void 0,Ee)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?xe(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ce(Ee,ve){return Ue.call(Ee,ve)}class $e{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(ve)}catch(Le){he(Le)}}error(ve){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(ve)}catch(Le){he(Le)}else he(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ae){he(Ae)}}}class ut extends Y{constructor(ve,Ae,Le){let ke;if(super(),(0,l.m)(ve)||!ve)ke={next:ve??void 0,error:Ae??void 0,complete:Le??void 0};else{let U;this&&P.v.useDeprecatedNextContext?(U=Object.create(ve),U.unsubscribe=()=>this.unsubscribe(),ke={next:ve.next&&Ce(ve.next,U),error:ve.error&&Ce(ve.error,U),complete:ve.complete&&Ce(ve.complete,U)}):ke=ve}this.destination=new $e(ke)}}function he(Ee){P.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ee):(0,ne.h)(Ee)}function xe(Ee,ve){const{onStoppedNotification:Ae}=P.v;Ae&&j.z.setTimeout(()=>Ae(Ee,ve))}const Fe={closed:!0,next:ie.Z,error:function De(Ee){throw Ee},complete:ie.Z}},727:(ft,be,F)=>{F.d(be,{Lc:()=>Q,w0:()=>ie,Nn:()=>fe});var l=F(576);const P=(0,F(3888).d)(ce=>function($){ce(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Y,Ue)=>`${Ue+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ne=F(8737);class ie{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ce of $)Ce.remove(this);else $.remove(this);const{initialTeardown:Y}=this;if((0,l.m)(Y))try{Y()}catch(Ce){j=Ce instanceof P?Ce.errors:[Ce]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ce of Ue)try{ue(Ce)}catch($e){j=j??[],$e instanceof P?j=[...j,...$e.errors]:j.push($e)}}if(j)throw new P(j)}}add(j){var $;if(j&&j!==this)if(this.closed)ue(j);else{if(j instanceof ie){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(j)}}_hasParent(j){const{_parentage:$}=this;return $===j||Array.isArray($)&&$.includes(j)}_addParent(j){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(j),$):$?[$,j]:j}_removeParent(j){const{_parentage:$}=this;$===j?this._parentage=null:Array.isArray($)&&(0,ne.P)($,j)}remove(j){const{_finalizers:$}=this;$&&(0,ne.P)($,j),j instanceof ie&&j._removeParent(this)}}ie.EMPTY=(()=>{const ce=new ie;return ce.closed=!0,ce})();const Q=ie.EMPTY;function fe(ce){return ce instanceof ie||ce&&"closed"in ce&&(0,l.m)(ce.remove)&&(0,l.m)(ce.add)&&(0,l.m)(ce.unsubscribe)}function ue(ce){(0,l.m)(ce)?ce():ce.unsubscribe()}},2416:(ft,be,F)=>{F.d(be,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,be,F)=>{F.d(be,{E:()=>X});const X=new(F(9751).y)(ie=>ie.complete())},8996:(ft,be,F)=>{F.d(be,{D:()=>ve});var l=F(8421),X=F(5363),P=F(9468),Q=F(9751),ue=F(2202),ce=F(576),j=F(9672);function Y(Ae,Le){if(!Ae)throw new Error("Iterable cannot be null");return new Q.y(ke=>{(0,j.f)(ke,Le,()=>{const U=Ae[Symbol.asyncIterator]();(0,j.f)(ke,Le,()=>{U.next().then(ge=>{ge.done?ke.complete():ke.next(ge.value)})},0,!0)})})}var Ue=F(3670),Ce=F(8239),$e=F(1144),ut=F(6495),he=F(2206),De=F(4532),xe=F(3260);function ve(Ae,Le){return Le?function Ee(Ae,Le){if(null!=Ae){if((0,Ue.c)(Ae))return function ne(Ae,Le){return(0,l.Xf)(Ae).pipe((0,P.R)(Le),(0,X.Q)(Le))}(Ae,Le);if((0,$e.z)(Ae))return function fe(Ae,Le){return new Q.y(ke=>{let U=0;return Le.schedule(function(){U===Ae.length?ke.complete():(ke.next(Ae[U++]),ke.closed||this.schedule())})})}(Ae,Le);if((0,Ce.t)(Ae))return function ie(Ae,Le){return(0,l.Xf)(Ae).pipe((0,P.R)(Le),(0,X.Q)(Le))}(Ae,Le);if((0,he.D)(Ae))return Y(Ae,Le);if((0,ut.T)(Ae))return function $(Ae,Le){return new Q.y(ke=>{let U;return(0,j.f)(ke,Le,()=>{U=Ae[ue.h](),(0,j.f)(ke,Le,()=>{let ge,Ve;try{({value:ge,done:Ve}=U.next())}catch(qe){return void ke.error(qe)}Ve?ke.complete():ke.next(ge)},0,!0)}),()=>(0,ce.m)(U?.return)&&U.return()})}(Ae,Le);if((0,xe.L)(Ae))return function Fe(Ae,Le){return Y((0,xe.Q)(Ae),Le)}(Ae,Le)}throw(0,De.z)(Ae)}(Ae,Le):(0,l.Xf)(Ae)}},8421:(ft,be,F)=>{F.d(be,{Xf:()=>Ue});var l=F(655),X=F(1144),P=F(8239),ne=F(9751),ie=F(3670),Q=F(2206),fe=F(4532),ue=F(6495),ce=F(3260),j=F(576),$=F(7849),Y=F(8822);function Ue(Ee){if(Ee instanceof ne.y)return Ee;if(null!=Ee){if((0,ie.c)(Ee))return function Ce(Ee){return new ne.y(ve=>{const Ae=Ee[Y.L]();if((0,j.m)(Ae.subscribe))return Ae.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,X.z)(Ee))return function $e(Ee){return new ne.y(ve=>{for(let Ae=0;Ae<Ee.length&&!ve.closed;Ae++)ve.next(Ee[Ae]);ve.complete()})}(Ee);if((0,P.t)(Ee))return function ut(Ee){return new ne.y(ve=>{Ee.then(Ae=>{ve.closed||(ve.next(Ae),ve.complete())},Ae=>ve.error(Ae)).then(null,$.h)})}(Ee);if((0,Q.D)(Ee))return De(Ee);if((0,ue.T)(Ee))return function he(Ee){return new ne.y(ve=>{for(const Ae of Ee)if(ve.next(Ae),ve.closed)return;ve.complete()})}(Ee);if((0,ce.L)(Ee))return function xe(Ee){return De((0,ce.Q)(Ee))}(Ee)}throw(0,fe.z)(Ee)}function De(Ee){return new ne.y(ve=>{(function Fe(Ee,ve){var Ae,Le,ke,U;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,l.KL)(Ee);!(Le=yield Ae.next()).done;)if(ve.next(Le.value),ve.closed)return}catch(ge){ke={error:ge}}finally{try{Le&&!Le.done&&(U=Ae.return)&&(yield U.call(Ae))}finally{if(ke)throw ke.error}}ve.complete()})})(Ee,ve).catch(Ae=>ve.error(Ae))})}},6451:(ft,be,F)=>{F.d(be,{T:()=>Q});var l=F(8189),X=F(8421),P=F(515),ne=F(3269),ie=F(8996);function Q(...fe){const ue=(0,ne.yG)(fe),ce=(0,ne._6)(fe,1/0),j=fe;return j.length?1===j.length?(0,X.Xf)(j[0]):(0,l.J)(ce)((0,ie.D)(j,ue)):P.E}},5403:(ft,be,F)=>{F.d(be,{x:()=>X});var l=F(930);function X(ne,ie,Q,fe,ue){return new P(ne,ie,Q,fe,ue)}class P extends l.Lv{constructor(ie,Q,fe,ue,ce,j){super(ie),this.onFinalize=ce,this.shouldUnsubscribe=j,this._next=Q?function($){try{Q($)}catch(Y){ie.error(Y)}}:super._next,this._error=ue?function($){try{ue($)}catch(Y){ie.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch($){ie.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Q}=this;super.unsubscribe(),!Q&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(ft,be,F)=>{F.d(be,{U:()=>P});var l=F(4482),X=F(5403);function P(ne,ie){return(0,l.e)((Q,fe)=>{let ue=0;Q.subscribe((0,X.x)(fe,ce=>{fe.next(ne.call(ie,ce,ue++))}))})}},8189:(ft,be,F)=>{F.d(be,{J:()=>P});var l=F(5577),X=F(4671);function P(ne=1/0){return(0,l.z)(X.y,ne)}},5577:(ft,be,F)=>{F.d(be,{z:()=>ue});var l=F(4004),X=F(8421),P=F(4482),ne=F(9672),ie=F(5403),fe=F(576);function ue(ce,j,$=1/0){return(0,fe.m)(j)?ue((Y,Ue)=>(0,l.U)((Ce,$e)=>j(Y,Ce,Ue,$e))((0,X.Xf)(ce(Y,Ue))),$):("number"==typeof j&&($=j),(0,P.e)((Y,Ue)=>function Q(ce,j,$,Y,Ue,Ce,$e,ut){const he=[];let De=0,xe=0,Fe=!1;const Ee=()=>{Fe&&!he.length&&!De&&j.complete()},ve=Le=>De<Y?Ae(Le):he.push(Le),Ae=Le=>{Ce&&j.next(Le),De++;let ke=!1;(0,X.Xf)($(Le,xe++)).subscribe((0,ie.x)(j,U=>{Ue?.(U),Ce?ve(U):j.next(U)},()=>{ke=!0},void 0,()=>{if(ke)try{for(De--;he.length&&De<Y;){const U=he.shift();$e?(0,ne.f)(j,$e,()=>Ae(U)):Ae(U)}Ee()}catch(U){j.error(U)}}))};return ce.subscribe((0,ie.x)(j,ve,()=>{Fe=!0,Ee()})),()=>{ut?.()}}(Y,Ue,ce,$)))}},5363:(ft,be,F)=>{F.d(be,{Q:()=>ne});var l=F(9672),X=F(4482),P=F(5403);function ne(ie,Q=0){return(0,X.e)((fe,ue)=>{fe.subscribe((0,P.x)(ue,ce=>(0,l.f)(ue,ie,()=>ue.next(ce),Q),()=>(0,l.f)(ue,ie,()=>ue.complete(),Q),ce=>(0,l.f)(ue,ie,()=>ue.error(ce),Q)))})}},3099:(ft,be,F)=>{F.d(be,{B:()=>ie});var l=F(8421),X=F(7579),P=F(930),ne=F(4482);function ie(fe={}){const{connector:ue=(()=>new X.x),resetOnError:ce=!0,resetOnComplete:j=!0,resetOnRefCountZero:$=!0}=fe;return Y=>{let Ue,Ce,$e,ut=0,he=!1,De=!1;const xe=()=>{Ce?.unsubscribe(),Ce=void 0},Fe=()=>{xe(),Ue=$e=void 0,he=De=!1},Ee=()=>{const ve=Ue;Fe(),ve?.unsubscribe()};return(0,ne.e)((ve,Ae)=>{ut++,!De&&!he&&xe();const Le=$e=$e??ue();Ae.add(()=>{ut--,0===ut&&!De&&!he&&(Ce=Q(Ee,$))}),Le.subscribe(Ae),!Ue&&ut>0&&(Ue=new P.Hp({next:ke=>Le.next(ke),error:ke=>{De=!0,xe(),Ce=Q(Fe,ce,ke),Le.error(ke)},complete:()=>{he=!0,xe(),Ce=Q(Fe,j),Le.complete()}}),(0,l.Xf)(ve).subscribe(Ue))})(Y)}}function Q(fe,ue,...ce){if(!0===ue)return void fe();if(!1===ue)return;const j=new P.Hp({next:()=>{j.unsubscribe(),fe()}});return(0,l.Xf)(ue(...ce)).subscribe(j)}},9468:(ft,be,F)=>{F.d(be,{R:()=>X});var l=F(4482);function X(P,ne=0){return(0,l.e)((ie,Q)=>{Q.add(P.schedule(()=>ie.subscribe(Q),ne))})}},8505:(ft,be,F)=>{F.d(be,{b:()=>ie});var l=F(576),X=F(4482),P=F(5403),ne=F(4671);function ie(Q,fe,ue){const ce=(0,l.m)(Q)||fe||ue?{next:Q,error:fe,complete:ue}:Q;return ce?(0,X.e)((j,$)=>{var Y;null===(Y=ce.subscribe)||void 0===Y||Y.call(ce);let Ue=!0;j.subscribe((0,P.x)($,Ce=>{var $e;null===($e=ce.next)||void 0===$e||$e.call(ce,Ce),$.next(Ce)},()=>{var Ce;Ue=!1,null===(Ce=ce.complete)||void 0===Ce||Ce.call(ce),$.complete()},Ce=>{var $e;Ue=!1,null===($e=ce.error)||void 0===$e||$e.call(ce,Ce),$.error(Ce)},()=>{var Ce,$e;Ue&&(null===(Ce=ce.unsubscribe)||void 0===Ce||Ce.call(ce)),null===($e=ce.finalize)||void 0===$e||$e.call(ce)}))}):ne.y}},4408:(ft,be,F)=>{F.d(be,{o:()=>ie});var l=F(727);class X extends l.w0{constructor(fe,ue){super()}schedule(fe,ue=0){return this}}const P={setInterval(Q,fe,...ue){const{delegate:ce}=P;return ce?.setInterval?ce.setInterval(Q,fe,...ue):setInterval(Q,fe,...ue)},clearInterval(Q){const{delegate:fe}=P;return(fe?.clearInterval||clearInterval)(Q)},delegate:void 0};var ne=F(8737);class ie extends X{constructor(fe,ue){super(fe,ue),this.scheduler=fe,this.work=ue,this.pending=!1}schedule(fe,ue=0){var ce;if(this.closed)return this;this.state=fe;const j=this.id,$=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId($,j,ue)),this.pending=!0,this.delay=ue,this.id=null!==(ce=this.id)&&void 0!==ce?ce:this.requestAsyncId($,this.id,ue),this}requestAsyncId(fe,ue,ce=0){return P.setInterval(fe.flush.bind(fe,this),ce)}recycleAsyncId(fe,ue,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return ue;null!=ue&&P.clearInterval(ue)}execute(fe,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(fe,ue);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ue){let j,ce=!1;try{this.work(fe)}catch($){ce=!0,j=$||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ue}=this,{actions:ce}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(ce,this),null!=fe&&(this.id=this.recycleAsyncId(ue,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,be,F)=>{F.d(be,{v:()=>P});var l=F(6063);class X{constructor(ie,Q=X.now){this.schedulerActionCtor=ie,this.now=Q}schedule(ie,Q=0,fe){return new this.schedulerActionCtor(this,ie).schedule(fe,Q)}}X.now=l.l.now;class P extends X{constructor(ie,Q=X.now){super(ie,Q),this.actions=[],this._active=!1}flush(ie){const{actions:Q}=this;if(this._active)return void Q.push(ie);let fe;this._active=!0;do{if(fe=ie.execute(ie.state,ie.delay))break}while(ie=Q.shift());if(this._active=!1,fe){for(;ie=Q.shift();)ie.unsubscribe();throw fe}}}},4986:(ft,be,F)=>{F.d(be,{P:()=>ne,z:()=>P});var l=F(4408);const P=new(F(7565).v)(l.o),ne=P},6063:(ft,be,F)=>{F.d(be,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ft,be,F)=>{F.d(be,{z:()=>l});const l={setTimeout(X,P,...ne){const{delegate:ie}=l;return ie?.setTimeout?ie.setTimeout(X,P,...ne):setTimeout(X,P,...ne)},clearTimeout(X){const{delegate:P}=l;return(P?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(ft,be,F)=>{F.d(be,{h:()=>X});const X=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,be,F)=>{F.d(be,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ft,be,F)=>{F.d(be,{_6:()=>Q,jO:()=>ne,yG:()=>ie});var l=F(576),X=F(3532);function P(fe){return fe[fe.length-1]}function ne(fe){return(0,l.m)(P(fe))?fe.pop():void 0}function ie(fe){return(0,X.K)(P(fe))?fe.pop():void 0}function Q(fe,ue){return"number"==typeof P(fe)?fe.pop():ue}},8737:(ft,be,F)=>{function l(X,P){if(X){const ne=X.indexOf(P);0<=ne&&X.splice(ne,1)}}F.d(be,{P:()=>l})},3888:(ft,be,F)=>{function l(X){const ne=X(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}F.d(be,{d:()=>l})},2806:(ft,be,F)=>{F.d(be,{O:()=>ne,x:()=>P});var l=F(2416);let X=null;function P(ie){if(l.v.useDeprecatedSynchronousErrorHandling){const Q=!X;if(Q&&(X={errorThrown:!1,error:null}),ie(),Q){const{errorThrown:fe,error:ue}=X;if(X=null,fe)throw ue}}else ie()}function ne(ie){l.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ie)}},9672:(ft,be,F)=>{function l(X,P,ne,ie=0,Q=!1){const fe=P.schedule(function(){ne(),Q?X.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(X.add(fe),!Q)return fe}F.d(be,{f:()=>l})},4671:(ft,be,F)=>{function l(X){return X}F.d(be,{y:()=>l})},1144:(ft,be,F)=>{F.d(be,{z:()=>l});const l=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(ft,be,F)=>{F.d(be,{D:()=>X});var l=F(576);function X(P){return Symbol.asyncIterator&&(0,l.m)(P?.[Symbol.asyncIterator])}},576:(ft,be,F)=>{function l(X){return"function"==typeof X}F.d(be,{m:()=>l})},3670:(ft,be,F)=>{F.d(be,{c:()=>P});var l=F(8822),X=F(576);function P(ne){return(0,X.m)(ne[l.L])}},6495:(ft,be,F)=>{F.d(be,{T:()=>P});var l=F(2202),X=F(576);function P(ne){return(0,X.m)(ne?.[l.h])}},8239:(ft,be,F)=>{F.d(be,{t:()=>X});var l=F(576);function X(P){return(0,l.m)(P?.then)}},3260:(ft,be,F)=>{F.d(be,{L:()=>ne,Q:()=>P});var l=F(655),X=F(576);function P(ie){return(0,l.FC)(this,arguments,function*(){const fe=ie.getReader();try{for(;;){const{value:ue,done:ce}=yield(0,l.qq)(fe.read());if(ce)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ue)}}finally{fe.releaseLock()}})}function ne(ie){return(0,X.m)(ie?.getReader)}},3532:(ft,be,F)=>{F.d(be,{K:()=>X});var l=F(576);function X(P){return P&&(0,l.m)(P.schedule)}},4482:(ft,be,F)=>{F.d(be,{A:()=>X,e:()=>P});var l=F(576);function X(ne){return(0,l.m)(ne?.lift)}function P(ne){return ie=>{if(X(ie))return ie.lift(function(Q){try{return ne(Q,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ft,be,F)=>{function l(){}F.d(be,{Z:()=>l})},9635:(ft,be,F)=>{F.d(be,{U:()=>P,z:()=>X});var l=F(4671);function X(...ne){return P(ne)}function P(ne){return 0===ne.length?l.y:1===ne.length?ne[0]:function(Q){return ne.reduce((fe,ue)=>ue(fe),Q)}}},7849:(ft,be,F)=>{F.d(be,{h:()=>P});var l=F(2416),X=F(3410);function P(ne){X.z.setTimeout(()=>{const{onUnhandledError:ie}=l.v;if(!ie)throw ne;ie(ne)})}},4532:(ft,be,F)=>{function l(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(be,{z:()=>l})},655:(ft,be,F)=>{function ne(se,de){var ye={};for(var Me in se)Object.prototype.hasOwnProperty.call(se,Me)&&de.indexOf(Me)<0&&(ye[Me]=se[Me]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(Me=Object.getOwnPropertySymbols(se);Pe<Me.length;Pe++)de.indexOf(Me[Pe])<0&&Object.prototype.propertyIsEnumerable.call(se,Me[Pe])&&(ye[Me[Pe]]=se[Me[Pe]])}return ye}function Y(se,de,ye,Me){return new(ye||(ye=Promise))(function(He,Xe){function Ke(on){try{xt(Me.next(on))}catch(tt){Xe(tt)}}function cn(on){try{xt(Me.throw(on))}catch(tt){Xe(tt)}}function xt(on){on.done?He(on.value):function Pe(He){return He instanceof ye?He:new ye(function(Xe){Xe(He)})}(on.value).then(Ke,cn)}xt((Me=Me.apply(se,de||[])).next())})}function Ee(se){return this instanceof Ee?(this.v=se,this):new Ee(se)}function ve(se,de,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Me=ye.apply(se,de||[]),He=[];return Pe={},Xe("next"),Xe("throw"),Xe("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function Xe(At){Me[At]&&(Pe[At]=function(Kn){return new Promise(function(_n,In){He.push([At,Kn,_n,In])>1||Ke(At,Kn)})})}function Ke(At,Kn){try{!function cn(At){At.value instanceof Ee?Promise.resolve(At.value.v).then(xt,on):tt(He[0][2],At)}(Me[At](Kn))}catch(_n){tt(He[0][3],_n)}}function xt(At){Ke("next",At)}function on(At){Ke("throw",At)}function tt(At,Kn){At(Kn),He.shift(),He.length&&Ke(He[0][0],He[0][1])}}function Le(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,de=se[Symbol.asyncIterator];return de?de.call(se):(se=function ut(se){var de="function"==typeof Symbol&&Symbol.iterator,ye=de&&se[de],Me=0;if(ye)return ye.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Me>=se.length&&(se=void 0),{value:se&&se[Me++],done:!se}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),ye={},Me("next"),Me("throw"),Me("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function Me(He){ye[He]=se[He]&&function(Xe){return new Promise(function(Ke,cn){!function Pe(He,Xe,Ke,cn){Promise.resolve(cn).then(function(xt){He({value:xt,done:Ke})},Xe)}(Ke,cn,(Xe=se[He](Xe)).done,Xe.value)})}}}F.d(be,{FC:()=>ve,KL:()=>Le,_T:()=>ne,mG:()=>Y,qq:()=>Ee})},4650:(ft,be,F)=>{F.d(be,{$8M:()=>Zl,$WT:()=>$o,$Z:()=>Lw,AFp:()=>zC,ALo:()=>wC,AaK:()=>ue,BQk:()=>Sg,CHM:()=>Bl,CRH:()=>st,CZH:()=>M_,CqO:()=>hE,D6c:()=>Up,DdM:()=>mC,EJc:()=>$S,EiD:()=>Zx,EpF:()=>Fv,F$t:()=>_E,F4k:()=>Nv,FYo:()=>yw,FiY:()=>io,Gf:()=>Ls,GfV:()=>vw,GkF:()=>Tg,Gpc:()=>$,Gre:()=>Yv,Hsn:()=>Bv,Ikx:()=>eb,JOm:()=>Ar,JVY:()=>zm,JZr:()=>ut,KtG:()=>nf,L6k:()=>y,LAX:()=>m,LFG:()=>je,Lbi:()=>US,Lck:()=>xS,MAs:()=>Av,MMx:()=>vp,NdJ:()=>Bu,O4$:()=>Eo,OlP:()=>vn,Oqu:()=>Wv,P3R:()=>Py,PXZ:()=>QC,Q6J:()=>Mv,QGY:()=>Pv,QbO:()=>HS,Qsj:()=>oI,R0b:()=>as,RDi:()=>Ry,Rgc:()=>Dh,SBq:()=>cl,Sil:()=>tr,Suo:()=>b_,TTD:()=>ws,TgZ:()=>Ig,Udp:()=>TE,VKq:()=>Cb,W1O:()=>Ii,X6Q:()=>bn,XFs:()=>vt,Xpm:()=>Il,Xts:()=>dc,Y36:()=>rh,YKP:()=>cC,YNc:()=>cE,Yjl:()=>Vc,Yz7:()=>tt,Z0I:()=>In,ZZ4:()=>V_,_Bn:()=>yb,_UZ:()=>kv,_Vd:()=>fc,_c5:()=>Ta,_uU:()=>Og,aQg:()=>r0,c2e:()=>jS,cJS:()=>Kn,cg1:()=>zg,dDg:()=>Tc,dqk:()=>Lt,eBb:()=>p,eFA:()=>JC,eJc:()=>Pb,ekj:()=>AE,eoX:()=>Op,f3M:()=>ot,g9A:()=>GC,h0i:()=>Ns,hGG:()=>aD,hij:()=>kg,iGM:()=>hi,ifc:()=>ee,ip1:()=>jC,jDz:()=>bb,kL8:()=>op,kcU:()=>sf,lG2:()=>Lc,lqb:()=>Ru,lri:()=>YC,mCW:()=>et,n5z:()=>kd,n_E:()=>Cp,oAB:()=>Tl,oxw:()=>mE,pB0:()=>w,q3G:()=>bi,q4F:()=>$y,qLn:()=>Vf,qOj:()=>bg,qZA:()=>Ov,qzn:()=>Mo,rWj:()=>bl,sBO:()=>Qb,s_b:()=>xp,soG:()=>Ap,tBr:()=>ha,tb:()=>O_,tp0:()=>x,uIk:()=>Zf,vHH:()=>he,vpe:()=>kr,wAp:()=>St,xi3:()=>Sb,xp6:()=>Tw,ynx:()=>Kf,z2F:()=>El,z3N:()=>Li,zSh:()=>By,zs3:()=>nh});var l=F(7579),X=F(727),P=F(9751),ne=F(6451),ie=F(3099);function Q(o){for(let s in o)if(o[s]===Q)return s;throw Error("Could not find renamed property on target object.")}function fe(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function ue(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ue).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function ce(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const j=Q({__forward_ref__:Q});function $(o){return o.__forward_ref__=$,o.toString=function(){return ue(this())},o}function Y(o){return Ue(o)?o():o}function Ue(o){return"function"==typeof o&&o.hasOwnProperty(j)&&o.__forward_ref__===$}function Ce(o){return o&&!!o.\u0275providers}const ut="https://g.co/ng/security#xss";class he extends Error{constructor(s,c){super(De(s,c)),this.code=s}}function De(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}function xe(o){return"string"==typeof o?o:null==o?"":String(o)}function Le(o,s){throw new he(-201,!1)}function Xe(o,s){null==o&&function Ke(o,s,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${s} <=Actual]`))}(s,o,null,"!=")}function tt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Kn(o){return{providers:o.providers||[],imports:o.imports||[]}}function _n(o){return Rn(o,rr)||Rn(o,Sn)}function In(o){return null!==_n(o)}function Rn(o,s){return o.hasOwnProperty(s)?o[s]:null}function br(o){return o&&(o.hasOwnProperty(jo)||o.hasOwnProperty(or))?o[jo]:null}const rr=Q({\u0275prov:Q}),jo=Q({\u0275inj:Q}),Sn=Q({ngInjectableDef:Q}),or=Q({ngInjectorDef:Q});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let zo;function On(o){const s=zo;return zo=o,s}function Ti(o,s,c){const d=_n(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&vt.Optional?null:void 0!==s?s:void Le(ue(o))}const Lt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),En={},Qn="__NG_DI_FLAG__",zi="ngTempTokenPath",Ai="ngTokenPath",Fa=/\n/gm,hn="\u0275",mo="__source";let tn;function $i(o){const s=tn;return tn=o,s}function Yr(o,s=vt.Default){if(void 0===tn)throw new he(-203,!1);return null===tn?Ti(o,void 0,s):tn.get(o,s&vt.Optional?null:void 0,s)}function je(o,s=vt.Default){return(function Ur(){return zo}()||Yr)(Y(o),s)}function ot(o,s=vt.Default){return je(o,Tt(s))}function Tt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Pt(o){const s=[];for(let c=0;c<o.length;c++){const d=Y(o[c]);if(Array.isArray(d)){if(0===d.length)throw new he(900,!1);let h,g=vt.Default;for(let v=0;v<d.length;v++){const E=d[v],D=Mi(E);"number"==typeof D?-1===D?h=E.token:g|=D:h=E}s.push(je(h,g))}else s.push(je(d))}return s}function zt(o,s){return o[Qn]=s,o.prototype[Qn]=s,o}function Mi(o){return o[Qn]}function W(o){return{toString:o}.toString()}var me=(()=>((me=me||{})[me.OnPush=0]="OnPush",me[me.Default=1]="Default",me))(),ee=(()=>{return(o=ee||(ee={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ee;var o})();const nt={},Ze=[],mn=Q({\u0275cmp:Q}),kn=Q({\u0275dir:Q}),Ln=Q({\u0275pipe:Q}),ri=Q({\u0275mod:Q}),Vt=Q({\u0275fac:Q}),Gi=Q({__NG_ELEMENT_ID__:Q});let Kr=0;function Il(o){return W(()=>{const s=Ri(o),c={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===me.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||ee.Emulated,id:"c"+Kr++,styles:o.styles||Ze,_:null,schemas:o.schemas||null,tView:null};Al(c);const d=o.dependencies;return c.directiveDefs=ps(d,!1),c.pipeDefs=ps(d,!0),c})}function Nc(o){return nn(o)||Xn(o)}function Sl(o){return null!==o}function Tl(o){return W(()=>({type:o.type,bootstrap:o.bootstrap||Ze,declarations:o.declarations||Ze,imports:o.imports||Ze,exports:o.exports||Ze,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Vn(o,s){if(null==o)return nt;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,s&&(s[h]=g)}return c}function Lc(o){return W(()=>{const s=Ri(o);return Al(s),s})}function Vc(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function nn(o){return o[mn]||null}function Xn(o){return o[kn]||null}function gi(o){return o[Ln]||null}function $o(o){const s=nn(o)||Xn(o)||gi(o);return null!==s&&s.standalone}function oi(o,s){const c=o[ri]||null;if(!c&&!0===s)throw new Error(`Type ${ue(o)} does not have '\u0275mod' property.`);return c}function Ri(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||Ze,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vn(o.inputs,s),outputs:Vn(o.outputs)}}function Al(o){o.features?.forEach(s=>s(o))}function ps(o,s){if(!o)return null;const c=s?gi:Nc;return()=>("function"==typeof o?o():o).map(d=>c(d)).filter(Sl)}const wr=0,Je=1,Bt=2,yn=3,sr=4,Qr=5,Bn=6,ms=7,Tn=8,go=9,Pa=10,qt=11,Hs=12,Go=13,_o=14,js=15,_i=16,zs=17,qo=18,qi=19,Wi=20,Bc=21,Jt=22,Uc=1,Ml=2,gs=7,Er=8,$s=9,yi=10;function ar(o){return Array.isArray(o)&&"object"==typeof o[Uc]}function lr(o){return Array.isArray(o)&&!0===o[Uc]}function vo(o){return 0!=(4&o.flags)}function Rl(o){return o.componentOffset>-1}function _s(o){return 1==(1&o.flags)}function Oi(o){return!!o.template}function gd(o){return 0!=(256&o[Bt])}function cr(o,s){return o.hasOwnProperty(Vt)?o[Vt]:null}class vd{constructor(s,c,d){this.previousValue=s,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ws(){return La}function La(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ws),qs}function qs(){const o=$c(this),s=o?.current;if(s){const c=o.previous;if(c===nt)o.previous=s;else for(let d in s)c[d]=s[d];o.current=null,this.ngOnChanges(s)}}function Ws(o,s,c,d){const h=this.declaredInputs[c],g=$c(o)||function Fl(o,s){return o[Va]=s}(o,{previous:nt,current:null}),v=g.current||(g.current={}),E=g.previous,D=E[h];v[h]=new vd(D&&D.currentValue,s,E===nt),o[d]=s}ws.ngInherit=!0;const Va="__ngSimpleChanges__";function $c(o){return o[Va]||null}const an=function(o,s,c){},Pl="svg";function Fn(o){for(;Array.isArray(o);)o=o[wr];return o}function Jr(o,s){return Fn(s[o])}function ki(o,s){return Fn(s[o.index])}function Gc(o,s){return o.data[s]}function eo(o,s){return o[s]}function si(o,s){const c=s[o];return ar(c)?c:c[wr]}function Zs(o){return 64==(64&o[Bt])}function wo(o,s){return null==s?null:o[s]}function Ys(o){o[qo]=0}function Wc(o,s){o[Qr]+=s;let c=o,d=o[yn];for(;null!==d&&(1===s&&1===c[Qr]||-1===s&&0===c[Qr]);)d[Qr]+=s,c=d,d=d[yn]}const Rt={lFrame:by(null),bindingsEnabled:!0};function Vl(){return Rt.bindingsEnabled}function Te(){return Rt.lFrame.lView}function rn(){return Rt.lFrame.tView}function Bl(o){return Rt.lFrame.contextLView=o,o[Tn]}function nf(o){return Rt.lFrame.contextLView=null,o}function ai(){let o=Zc();for(;null!==o&&64===o.type;)o=o.parent;return o}function Zc(){return Rt.lFrame.currentTNode}function ur(o,s){const c=Rt.lFrame;c.currentTNode=o,c.isParent=s}function Cd(){return Rt.lFrame.isParent}function Qs(){Rt.lFrame.isParent=!1}function Un(){const o=Rt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function $a(){return Rt.lFrame.bindingIndex++}function Dr(o){const s=Rt.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}function Id(o,s){const c=Rt.lFrame;c.bindingIndex=c.bindingRootIndex=o,jl(s)}function jl(o){Rt.lFrame.currentDirectiveIndex=o}function Qc(){return Rt.lFrame.currentQueryIndex}function zl(o){Rt.lFrame.currentQueryIndex=o}function pm(o){const s=o[Je];return 2===s.type?s.declTNode:1===s.type?o[Bn]:null}function Xc(o,s,c){if(c&vt.SkipSelf){let h=s,g=o;for(;!(h=h.parent,null!==h||c&vt.Host||(h=pm(g),null===h||(g=g[js],10&h.type))););if(null===h)return!1;s=h,o=g}const d=Rt.lFrame=mm();return d.currentTNode=s,d.lView=o,!0}function Sd(o){const s=mm(),c=o[Je];Rt.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function mm(){const o=Rt.lFrame,s=null===o?null:o.child;return null===s?by(o):s}function by(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Jc(){const o=Rt.lFrame;return Rt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const gm=Jc;function rf(){const o=Jc();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Zi(){return Rt.lFrame.selectedIndex}function Ga(o){Rt.lFrame.selectedIndex=o}function Cn(){const o=Rt.lFrame;return Gc(o.tView,o.selectedIndex)}function Eo(){Rt.lFrame.currentNamespace=Pl}function sf(){!function hr(){Rt.lFrame.currentNamespace=null}()}function eu(o,s){for(let c=s.directiveStart,d=s.directiveEnd;c<d;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:R}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-c,v),E&&((o.contentHooks||(o.contentHooks=[])).push(c,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,E)),D&&(o.viewHooks||(o.viewHooks=[])).push(-c,D),T&&((o.viewHooks||(o.viewHooks=[])).push(c,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,T)),null!=R&&(o.destroyHooks||(o.destroyHooks=[])).push(c,R)}}function tu(o,s,c){Zo(o,s,3,c)}function Xs(o,s,c,d){(3&o[Bt])===c&&Zo(o,s,c,d)}function Cs(o,s){let c=o[Bt];(3&c)===s&&(c&=2047,c+=1,o[Bt]=c)}function Zo(o,s,c,d){const g=d??-1,v=s.length-1;let E=0;for(let D=void 0!==d?65535&o[qo]:0;D<v;D++)if("number"==typeof s[D+1]){if(E=s[D],null!=d&&E>=d)break}else s[D]<0&&(o[qo]+=65536),(E<g||-1==g)&&($l(o,c,s,D),o[qo]=(4294901760&o[qo])+D+2),D++}function $l(o,s,c,d){const h=c[d]<0,g=c[d+1],E=o[h?-c[d]:c[d]];if(h){if(o[Bt]>>11<o[qo]>>16&&(3&o[Bt])===s){o[Bt]+=2048,an(4,E,g);try{g.call(E)}finally{an(5,E,g)}}}else{an(4,E,g);try{g.call(E)}finally{an(5,E,g)}}}const xr=-1;class qa{constructor(s,c,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function to(o,s,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],v=c[d++],E=c[d++];o.setAttribute(s,v,E,g)}else{const g=h,v=c[++d];Dn(g)?o.setProperty(s,g,v):o.setAttribute(s,g,v),d++}}return d}function Js(o){return 3===o||4===o||6===o}function Dn(o){return 64===o.charCodeAt(0)}function Yo(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?c=h:0===c||Ds(o,c,h,null,-1===c||2===c?s[++d]:null)}}return o}function Ds(o,s,c,d,h){let g=0,v=o.length;if(-1===s)v=-1;else for(;g<o.length;){const E=o[g++];if("number"==typeof E){if(E===s){v=-1;break}if(E>s){v=g-1;break}}}for(;g<o.length;){const E=o[g];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(o[g+1]=h));if(d===o[g+1])return void(o[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(o.splice(v,0,s),g=v+1),o.splice(g++,0,c),null!==d&&o.splice(g++,0,d),null!==h&&o.splice(g++,0,h)}function ru(o){return o!==xr}function ea(o){return 32767&o}function ta(o,s){let c=function lf(o){return o>>16}(o),d=s;for(;c>0;)d=d[js],c--;return d}let Wa=!0;function na(o){const s=Wa;return Wa=o,s}const ia=255,xs=5;let Co=0;const Sr={};function ra(o,s){const c=Gl(o,s);if(-1!==c)return c;const d=s[Je];d.firstCreatePass&&(o.injectorIndex=s.length,Ko(d.data,o),Ko(s,null),Ko(d.blueprint,null));const h=Qo(o,s),g=o.injectorIndex;if(ru(h)){const v=ea(h),E=ta(h,s),D=E[Je].data;for(let T=0;T<8;T++)s[g+T]=E[v+T]|D[v+T]}return s[g+8]=h,g}function Ko(o,s){o.push(0,0,0,0,0,0,0,0,s)}function Gl(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Qo(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=s;for(;null!==h;){if(d=Pd(h),null===d)return xr;if(c++,h=h[js],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return xr}function oa(o,s,c){!function Za(o,s,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Gi)&&(d=c[Gi]),null==d&&(d=c[Gi]=Co++);const h=d&ia;s.data[o+(h>>xs)]|=1<<h}(o,s,c)}function Ya(o,s,c){if(c&vt.Optional||void 0!==o)return o;Le()}function uf(o,s,c,d){if(c&vt.Optional&&void 0===d&&(d=null),!(c&(vt.Self|vt.Host))){const h=o[go],g=On(void 0);try{return h?h.get(s,d,c&vt.Optional):Ti(s,d,c&vt.Optional)}finally{On(g)}}return Ya(d,0,c)}function Do(o,s,c,d=vt.Default,h){if(null!==o){if(1024&s[Bt]){const v=function Fd(o,s,c,d,h){let g=o,v=s;for(;null!==g&&null!==v&&1024&v[Bt]&&!(256&v[Bt]);){const E=Rd(g,v,c,d|vt.Self,Sr);if(E!==Sr)return E;let D=g.parent;if(!D){const T=v[Bc];if(T){const R=T.get(c,Sr,d);if(R!==Sr)return R}D=Pd(v),v=v[js]}g=D}return h}(o,s,c,d,Sr);if(v!==Sr)return v}const g=Rd(o,s,c,d,Sr);if(g!==Sr)return g}return uf(s,c,d,h)}function Rd(o,s,c,d,h){const g=function Ss(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Gi)?o[Gi]:void 0;return"number"==typeof s?s>=0?s&ia:su:s}(c);if("function"==typeof g){if(!Xc(s,o,d))return d&vt.Host?Ya(h,0,d):uf(s,c,d,h);try{const v=g(d);if(null!=v||d&vt.Optional)return v;Le()}finally{gm()}}else if("number"==typeof g){let v=null,E=Gl(o,s),D=xr,T=d&vt.Host?s[_i][Bn]:null;for((-1===E||d&vt.SkipSelf)&&(D=-1===E?Qo(o,s):s[E+8],D!==xr&&Wl(d,!1)?(v=s[Je],E=ea(D),s=ta(D,s)):E=-1);-1!==E;){const R=s[Je];if(Od(g,E,R.data)){const N=Hr(E,s,c,v,d,T);if(N!==Sr)return N}D=s[E+8],D!==xr&&Wl(d,s[Je].data[E+8]===T)&&Od(g,E,s)?(v=R,E=ea(D),s=ta(D,s)):E=-1}}return h}function Hr(o,s,c,d,h,g){const v=s[Je],E=v.data[o+8],R=ql(E,v,c,null==d?Rl(E)&&Wa:d!=v&&0!=(3&E.type),h&vt.Host&&g===E);return null!==R?Is(s,v,R,E):Sr}function ql(o,s,c,d,h){const g=o.providerIndexes,v=s.data,E=1048575&g,D=o.directiveStart,R=g>>20,z=h?E+R:o.directiveEnd;for(let J=d?E:E+R;J<z;J++){const pe=v[J];if(J<D&&c===pe||J>=D&&pe.type===c)return J}if(h){const J=v[D];if(J&&Oi(J)&&J.type===c)return D}return null}function Is(o,s,c,d){let h=o[c];const g=s.data;if(function Ad(o){return o instanceof qa}(h)){const v=h;v.resolving&&function Ee(o,s){const c=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new he(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Fe(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():xe(o)}(g[c]));const E=na(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?On(v.injectImpl):null;Xc(o,d,vt.Default);try{h=o[c]=v.factory(void 0,g,o,d),s.firstCreatePass&&c>=d.directiveStart&&function vm(o,s,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(d){const v=La(s);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],s)}finally{null!==D&&On(D),na(E),v.resolving=!1,gm()}}return h}function Od(o,s,c){return!!(c[s+(o>>xs)]&1<<o)}function Wl(o,s){return!(o&vt.Self||o&vt.Host&&s)}class Fi{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,d){return Do(this._tNode,this._lView,s,Tt(d),c)}}function su(){return new Fi(ai(),Te())}function kd(o){return W(()=>{const s=o.prototype.constructor,c=s[Vt]||sa(s),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const g=h[Vt]||sa(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function sa(o){return Ue(o)?()=>{const s=sa(Y(o));return s&&s()}:cr(o)}function Pd(o){const s=o[Je],c=s.type;return 2===c?s.declTNode:1===c?o[Bn]:null}function Zl(o){return function cf(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(Js(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===s)return c[h+1];h+=2}}}return null}(ai(),o)}const Ts="__parameters__";function aa(o,s,c){return W(()=>{const d=function Nd(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(s);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(D,T,R){const N=D.hasOwnProperty(Ts)?D[Ts]:Object.defineProperty(D,Ts,{value:[]})[Ts];for(;N.length<=R;)N.push(null);return(N[R]=N[R]||[]).push(v),D}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class vn{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=tt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Jo(o,s){o.forEach(c=>Array.isArray(c)?Jo(c,s):s(c))}function au(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function Xa(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function es(o,s){const c=[];for(let d=0;d<o;d++)c.push(s);return c}function Kt(o,s,c){let d=We(o,s);return d>=0?o[1|d]=c:(d=~d,function yf(o,s,c,d){let h=o.length;if(h==s)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=c,o[s+1]=d}}(o,d,s,c)),d}function no(o,s){const c=We(o,s);if(c>=0)return o[1|c]}function We(o,s){return function $n(o,s,c){let d=0,h=o.length>>c;for(;h!==d;){const g=d+(h-d>>1),v=o[g<<c];if(s===v)return g<<c;v>s?h=g:d=g+1}return~(h<<c)}(o,s,1)}const ha=zt(aa("Inject",o=>({token:o})),-1),io=zt(aa("Optional"),8),x=zt(aa("SkipSelf"),4);var Ar=(()=>((Ar=Ar||{})[Ar.Important=1]="Important",Ar[Ar.DashCase=2]="DashCase",Ar))();const ro=new Map;let Tm=0;const zd="__ngContext__";function fr(o,s){ar(s)?(o[zd]=s[Wi],function jd(o){ro.set(o[Wi],o)}(s)):o[zd]=s}let nl;function $d(o,s){return nl(o,s)}function ya(o){const s=o[yn];return lr(s)?s[yn]:s}function nc(o){return qd(o[Go])}function fu(o){return qd(o[sr])}function qd(o){for(;null!==o&&!lr(o);)o=o[sr];return o}function As(o,s,c,d,h){if(null!=d){let g,v=!1;lr(d)?g=d:ar(d)&&(v=!0,d=d[wr]);const E=Fn(d);0===o&&null!==c?null==h?km(s,c,E):va(s,c,E,h||null,!0):1===o&&null!==c?va(s,c,E,h||null,!0):2===o?function ol(o,s,c){const d=vu(o,s);d&&function sc(o,s,c,d){o.removeChild(s,c,d)}(o,d,s,c)}(s,E,v):3===o&&s.destroyNode(E),null!=g&&function ns(o,s,c,d,h){const g=c[gs];g!==Fn(c)&&As(s,o,d,g,h);for(let E=yi;E<c.length;E++){const D=c[E];sl(D[Je],D,o,s,d,g)}}(s,o,g,c,h)}}function pu(o,s,c){return o.createElement(s,c)}function Zd(o,s){const c=o[$s],d=c.indexOf(s),h=s[yn];512&s[Bt]&&(s[Bt]&=-513,Wc(h,-1)),c.splice(d,1)}function mu(o,s){if(o.length<=yi)return;const c=yi+s,d=o[c];if(d){const h=d[zs];null!==h&&h!==o&&Zd(h,d),s>0&&(o[c-1][sr]=d[sr]);const g=Xa(o,yi+s);!function xy(o,s){sl(o,s,s[qt],2,null,null),s[wr]=null,s[Bn]=null}(d[Je],d);const v=g[qi];null!==v&&v.detachView(g[Je]),d[yn]=null,d[sr]=null,d[Bt]&=-65}return d}function gu(o,s){if(!(128&s[Bt])){const c=s[qt];c.destroyNode&&sl(o,s,c,3,null,null),function Sy(o){let s=o[Go];if(!s)return _u(o[Je],o);for(;s;){let c=null;if(ar(s))c=s[Go];else{const d=s[yi];d&&(c=d)}if(!c){for(;s&&!s[sr]&&s!==o;)ar(s)&&_u(s[Je],s),s=s[yn];null===s&&(s=o),ar(s)&&_u(s[Je],s),c=s&&s[sr]}s=c}}(s)}}function _u(o,s){if(!(128&s[Bt])){s[Bt]&=-65,s[Bt]|=128,function Sf(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=s[c[d]];if(!(h instanceof qa)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],D=g[v+1];an(4,E,D);try{D.call(E)}finally{an(5,E,D)}}else{an(4,h,g);try{g.call(h)}finally{an(5,h,g)}}}}}(o,s),function Ms(o,s){const c=o.cleanup,d=s[ms];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+3];v>=0?d[h=v]():d[h=-v].unsubscribe(),g+=2}else{const v=d[h=c[g+1]];c[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();s[ms]=null}}(o,s),1===s[Je].type&&s[qt].destroy();const c=s[zs];if(null!==c&&lr(s[yn])){c!==s[yn]&&Zd(c,s);const d=s[qi];null!==d&&d.detachView(o)}!function vi(o){ro.delete(o[Wi])}(s)}}function Ay(o,s,c){return function rc(o,s,c){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return c[wr];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=o.data[d.directiveStart+h];if(g===ee.None||g===ee.Emulated)return null}return ki(d,c)}}(o,s.parent,c)}function va(o,s,c,d,h){o.insertBefore(s,c,d,h)}function km(o,s,c){o.appendChild(s,c)}function oc(o,s,c,d,h){null!==d?va(o,s,c,d,h):km(o,s,c)}function vu(o,s){return o.parentNode(s)}function Tf(o,s,c){return Pm(o,s,c)}let Yd,wa,Mf,Cu,Pm=function To(o,s,c){return 40&o.type?ki(o,c):null};function Kd(o,s,c,d){const h=Ay(o,d,s),g=s[qt],E=Tf(d.parent||s[Bn],d,s);if(null!=h)if(Array.isArray(c))for(let D=0;D<c.length;D++)oc(g,h,c[D],E,!1);else oc(g,h,c,E,!1);void 0!==Yd&&Yd(g,d,s,c,h)}function ac(o,s){if(null!==s){const c=s.type;if(3&c)return ki(s,o);if(4&c)return Qd(-1,o[s.index]);if(8&c){const d=s.child;if(null!==d)return ac(o,d);{const h=o[s.index];return lr(h)?Qd(-1,h):Fn(h)}}if(32&c)return $d(s,o)()||Fn(o[s.index]);{const d=rl(o,s);return null!==d?Array.isArray(d)?d[0]:ac(ya(o[_i]),d):ac(o,s.next)}}return null}function rl(o,s){return null!==s?o[_i][Bn].projection[s.projection]:null}function Qd(o,s){const c=yi+o+1;if(c<s.length){const d=s[c],h=d[Je].firstChild;if(null!==h)return ac(d,h)}return s[gs]}function bu(o,s,c,d,h,g,v){for(;null!=c;){const E=d[c.index],D=c.type;if(v&&0===s&&(E&&fr(Fn(E),d),c.flags|=2),32!=(32&c.flags))if(8&D)bu(o,s,c.child,d,h,g,!1),As(s,o,h,E,g);else if(32&D){const T=$d(c,d);let R;for(;R=T();)As(s,o,h,R,g);As(s,o,h,E,g)}else 16&D?ba(o,s,d,c,h,g):As(s,o,h,E,g);c=v?c.projectionNext:c.next}}function sl(o,s,c,d,h,g){bu(c,d,o.firstChild,s,h,g,!1)}function ba(o,s,c,d,h,g){const v=c[_i],D=v[Bn].projection[d.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)As(s,o,h,D[T],g);else bu(o,s,D,v[yn],h,g,!0)}function lc(o,s,c){""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c)}function wu(o,s,c){const{mergedAttrs:d,classes:h,styles:g}=c;null!==d&&to(o,s,d),null!==h&&lc(o,s,h),null!==g&&function Ao(o,s,c){o.setAttribute(s,"style",c)}(o,s,g)}function cc(o){return function Eu(){if(void 0===wa&&(wa=null,Lt.trustedTypes))try{wa=Lt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return wa}()?.createHTML(o)||o}function Ry(o){Mf=o}function Um(o){return function Ki(){if(void 0===Cu&&(Cu=null,Lt.trustedTypes))try{Cu=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Cu}()?.createScriptURL(o)||o}class mr{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}class xu extends mr{getTypeName(){return"HTML"}}class Hm extends mr{getTypeName(){return"Style"}}class Rf extends mr{getTypeName(){return"Script"}}class Of extends mr{getTypeName(){return"URL"}}class Iu extends mr{getTypeName(){return"ResourceURL"}}function Li(o){return o instanceof mr?o.changingThisBreaksApplicationSecurity:o}function Mo(o,s){const c=function jm(o){return o instanceof mr&&o.getTypeName()||null}(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see ${ut})`)}return c===s}function zm(o){return new xu(o)}function y(o){return new Hm(o)}function p(o){return new Rf(o)}function m(o){return new Of(o)}function w(o){return new Iu(o)}class O{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(cc(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch{return null}}}class Z{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const c=this.inertDocument.createElement("template");return c.innerHTML=cc(s),c}}const Be=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function et(o){return(o=String(o)).match(Be)?o:"unsafe:"+o}function _t(o){const s={};for(const c of o.split(","))s[c]=!0;return s}function dt(...o){const s={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(s[d]=!0);return s}const ui=_t("area,br,col,hr,img,wbr"),oo=_t("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ll=_t("rp,rt"),Su=dt(ui,dt(oo,_t("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dt(ll,_t("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dt(ll,oo)),Tu=_t("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uc=dt(Tu,_t("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_t("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qm=_t("script,style,template");class Oy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(s){const c=s.nodeName.toLowerCase();if(!Su.hasOwnProperty(c))return this.sanitizedSomething=!0,!qm.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=s.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!uc.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=g.value;Tu[E]&&(D=et(D)),this.buf.push(" ",v,'="',Wx(D),'"')}return this.buf.push(">"),!0}endElement(s){const c=s.nodeName.toLowerCase();Su.hasOwnProperty(c)&&!ui.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(Wx(s))}checkClobberedElement(s,c){if(c&&(s.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return c}}const Mu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wm=/([^\#-~ |!])/g;function Wx(o){return o.replace(/&/g,"&amp;").replace(Mu,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Wm,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ky;function Zx(o,s){let c=null;try{ky=ky||function S(o){const s=new Z(o);return function le(){try{return!!(new window.DOMParser).parseFromString(cc(""),"text/html")}catch{return!1}}()?new O(s):s}(o);let d=s?String(s):"";c=ky.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=c.innerHTML,c=ky.getInertBodyElement(d)}while(d!==g);return cc((new Oy).sanitizeChildren(iw(c)||c))}finally{if(c){const d=iw(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function iw(o){return"content"in o&&function Fy(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var bi=(()=>((bi=bi||{})[bi.NONE=0]="NONE",bi[bi.HTML=1]="HTML",bi[bi.STYLE=2]="STYLE",bi[bi.SCRIPT=3]="SCRIPT",bi[bi.URL=4]="URL",bi[bi.RESOURCE_URL=5]="RESOURCE_URL",bi))();function Zm(o){const s=Pf();return s?s.sanitize(bi.URL,o)||"":Mo(o,"URL")?Li(o):et(xe(o))}function Ro(o){const s=Pf();if(s)return Um(s.sanitize(bi.RESOURCE_URL,o)||"");if(Mo(o,"ResourceURL"))return Um(Li(o));throw new he(904,!1)}function Py(o,s,c){return function Xx(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?Ro:Zm}(s,c)(o)}function Pf(){const o=Te();return o&&o[Hs]}const dc=new vn("ENVIRONMENT_INITIALIZER"),eh=new vn("INJECTOR",-1),ow=new vn("INJECTOR_DEF_TYPES");class sw{get(s,c=En){if(c===En){const d=new Error(`NullInjectorError: No provider for ${ue(s)}!`);throw d.name="NullInjectorError",d}return c}}function Nf(...o){return{\u0275providers:aw(0,o),\u0275fromNgModule:!0}}function aw(o,...s){const c=[],d=new Set;let h;return Jo(s,g=>{const v=g;Ly(v,c,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&lw(h,c),c}function lw(o,s){for(let c=0;c<o.length;c++){const{providers:h}=o[c];Vy(h,g=>{s.push(g)})}}function Ly(o,s,c,d){if(!(o=Y(o)))return!1;let h=null,g=br(o);const v=!g&&nn(o);if(g||v){if(v&&!v.standalone)return!1;h=o}else{const D=o.ngModule;if(g=br(D),!g)return!1;h=D}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of D)Ly(T,s,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let T;d.add(h);try{Jo(g.imports,R=>{Ly(R,s,c,d)&&(T||(T=[]),T.push(R))})}finally{}void 0!==T&&lw(T,s)}if(!E){const T=cr(h)||(()=>new h);s.push({provide:h,useFactory:T,deps:Ze},{provide:ow,useValue:h,multi:!0},{provide:dc,useValue:()=>je(h),multi:!0})}const D=g.providers;null==D||E||Vy(D,R=>{s.push(R)})}}return h!==o&&void 0!==o.providers}function Vy(o,s){for(let c of o)Ce(c)&&(c=c.\u0275providers),Array.isArray(c)?Vy(c,s):s(c)}const Jx=Q({provide:String,useValue:Q});function cw(o){return null!==o&&"object"==typeof o&&Jx in o}function Ea(o){return"function"==typeof o}const By=new vn("Set Injector scope."),Qm={},eI={};let Uy;function Xm(){return void 0===Uy&&(Uy=new sw),Uy}class Ru{}class dw extends Ru{get destroyed(){return this._destroyed}constructor(s,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zy(s,v=>this.processProvider(v)),this.records.set(eh,hc(void 0,this)),h.has("environment")&&this.records.set(Ru,hc(void 0,this));const g=this.records.get(By);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(ow.multi,Ze,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const c=$i(this),d=On(void 0);try{return s()}finally{$i(c),On(d)}}get(s,c=En,d=vt.Default){this.assertNotDestroyed(),d=Tt(d);const h=$i(this),g=On(void 0);try{if(!(d&vt.SkipSelf)){let E=this.records.get(s);if(void 0===E){const D=function Jm(o){return"function"==typeof o||"object"==typeof o&&o instanceof vn}(s)&&_n(s);E=D&&this.injectableDefInScope(D)?hc(Hy(s),Qm):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(d&vt.Self?Xm():this.parent).get(s,c=d&vt.Optional&&c===En?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[zi]=v[zi]||[]).unshift(ue(s)),h)throw v;return function H(o,s,c,d){const h=o[zi];throw s[mo]&&h.unshift(s[mo]),o.message=function B(o,s,c,d=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==hn?o.slice(2):o;let h=ue(s);if(Array.isArray(s))h=s.map(ue).join(" -> ");else if("object"==typeof s){let g=[];for(let v in s)if(s.hasOwnProperty(v)){let E=s[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):ue(E)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(Fa,"\n  ")}`}("\n"+o.message,h,c,d),o[Ai]=h,o[zi]=null,o}(v,s,"R3InjectorError",this.source)}throw v}finally{On(g),$i(h)}}resolveInjectorInitializers(){const s=$i(this),c=On(void 0);try{const d=this.get(dc.multi,Ze,vt.Self);for(const h of d)h()}finally{$i(s),On(c)}}toString(){const s=[],c=this.records;for(const d of c.keys())s.push(ue(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(s){let c=Ea(s=Y(s))?s:Y(s&&s.provide);const d=function hw(o){return cw(o)?hc(void 0,o.useValue):hc(fw(o),Qm)}(s);if(Ea(s)||!0!==s.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=hc(void 0,Qm,!0),h.factory=()=>Pt(h.multi),this.records.set(c,h)),c=s,h.multi.push(s)}this.records.set(c,d)}hydrate(s,c){return c.value===Qm&&(c.value=eI,c.value=c.factory()),"object"==typeof c.value&&c.value&&function jy(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(s){if(!s.providedIn)return!1;const c=Y(s.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Hy(o){const s=_n(o),c=null!==s?s.factory:cr(o);if(null!==c)return c;if(o instanceof vn)throw new he(204,!1);if(o instanceof Function)return function tI(o){const s=o.length;if(s>0)throw es(s,"?"),new he(204,!1);const c=function vr(o){const s=o&&(o[rr]||o[Sn]);return s?(function ds(o){if(o.hasOwnProperty("name"))return o.name;(""+o).match(/^function\s*([^\s(]+)/)}(o),s):null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new he(204,!1)}function fw(o,s,c){let d;if(Ea(o)){const h=Y(o);return cr(h)||Hy(h)}if(cw(o))d=()=>Y(o.useValue);else if(function Km(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Pt(o.deps||[]));else if(function uw(o){return!(!o||!o.useExisting)}(o))d=()=>je(Y(o.useExisting));else{const h=Y(o&&(o.useClass||o.provide));if(!function pw(o){return!!o.deps}(o))return cr(h)||Hy(h);d=()=>new h(...Pt(o.deps))}return d}function hc(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function zy(o,s){for(const c of o)Array.isArray(c)?zy(c,s):c&&Ce(c)?zy(c.\u0275providers,s):s(c)}class nI{}class mw{}class gw{resolveComponentFactory(s){throw function iI(o){const s=Error(`No component factory found for ${ue(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let fc=(()=>{class o{}return o.NULL=new gw,o})();function eg(){return Ou(ai(),Te())}function Ou(o,s){return new cl(ki(o,s))}let cl=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=eg,o})();function _w(o){return o instanceof cl?o.nativeElement:o}class yw{}let oI=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function sI(){const o=Te(),c=si(ai().index,o);return(ar(c)?c:o)[qt]}(),o})(),aI=(()=>{class o{}return o.\u0275prov=tt({token:o,providedIn:"root",factory:()=>null}),o})();class vw{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const $y=new vw("15.2.4"),Gy={},qy="ngOriginalError";function Wy(o){return o[qy]}class Vf{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s);this._console.error("ERROR",s),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(s){let c=s&&Wy(s);for(;c&&Wy(c);)c=Wy(c);return c||null}}function Ca(o){return o instanceof Function?o():o}function Zy(o,s,c){let d=o.length;for(;;){const h=o.indexOf(s,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=s.length;if(h+g===d||o.charCodeAt(h+g)<=32)return h}c=h+1}}const tg="ng-template";function Dw(o,s,c){let d=0,h=!0;for(;d<o.length;){let g=o[d++];if("string"==typeof g&&h){const v=o[d++];if(c&&"class"===g&&-1!==Zy(v.toLowerCase(),s,0))return!0}else{if(1===g){for(;d<o.length&&"string"==typeof(g=o[d++]);)if(g.toLowerCase()===s)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function Fu(o){return 4===o.type&&o.value!==tg}function Yy(o,s,c){return s===(4!==o.type||c?o.value:tg)}function pI(o,s,c){let d=4;const h=o.attrs||[],g=function Iw(o){for(let s=0;s<o.length;s++)if(Js(o[s]))return s;return o.length}(h);let v=!1;for(let E=0;E<s.length;E++){const D=s[E];if("number"!=typeof D){if(!v)if(4&d){if(d=2|1&d,""!==D&&!Yy(o,D,c)||""===D&&1===s.length){if(is(d))return!1;v=!0}}else{const T=8&d?D:s[++E];if(8&d&&null!==o.attrs){if(!Dw(o.attrs,T,c)){if(is(d))return!1;v=!0}continue}const N=ng(8&d?"class":D,h,Fu(o),c);if(-1===N){if(is(d))return!1;v=!0;continue}if(""!==T){let z;z=N>g?"":h[N+1].toLowerCase();const J=8&d?z:null;if(J&&-1!==Zy(J,T,0)||2&d&&T!==z){if(is(d))return!1;v=!0}}}}else{if(!v&&!is(d)&&!is(D))return!1;if(v&&is(D))continue;v=!1,d=D|1&d}}return is(d)||v}function is(o){return 0==(1&o)}function ng(o,s,c,d){if(null===s)return-1;let h=0;if(d||!c){let g=!1;for(;h<s.length;){const v=s[h];if(v===o)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function mI(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===s)return c;c++}return-1}(s,o)}function Bf(o,s,c=!1){for(let d=0;d<s.length;d++)if(pI(o,s[d],c))return!0;return!1}function gI(o,s){e:for(let c=0;c<s.length;c++){const d=s[c];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Sw(o,s){return o?":not("+s.trim()+")":s}function _I(o){let s=o[0],c=1,d=2,h="",g=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const E=o[++c];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!is(v)&&(s+=Sw(g,h),h=""),d=v,g=g||!is(d);c++}return""!==h&&(s+=Sw(g,h)),s}const Wt={};function Tw(o){rg(rn(),Te(),Zi()+o,!1)}function rg(o,s,c,d){if(!d)if(3==(3&s[Bt])){const g=o.preOrderCheckHooks;null!==g&&tu(s,g,c)}else{const g=o.preOrderHooks;null!==g&&Xs(s,g,0,c)}Ga(c)}function Ky(o,s=null,c=null,d){const h=EI(o,s,c,d);return h.resolveInjectorInitializers(),h}function EI(o,s=null,c=null,d,h=new Set){const g=[c||Ze,Nf(o)];return d=d||("object"==typeof o?void 0:ue(o)),new dw(g,s||Xm(),d||null,h)}let nh=(()=>{class o{static create(c,d){if(Array.isArray(c))return Ky({name:""},d,c,"");{const h=c.name??"";return Ky({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=En,o.NULL=new sw,o.\u0275prov=tt({token:o,providedIn:"any",factory:()=>je(eh)}),o.__NG_ELEMENT_ID__=-1,o})();function rh(o,s=vt.Default){const c=Te();return null===c?je(o,s):Do(ai(),c,Y(o),s)}function Lw(){throw new Error("invalid")}function Vw(o,s){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const g=c[d+1];if(-1!==g){const v=o.data[g];zl(c[d]),v.contentQueries(2,s[g],g)}}}function ev(o,s,c,d,h,g,v,E,D,T,R){const N=s.blueprint.slice();return N[wr]=h,N[Bt]=76|d,(null!==R||o&&1024&o[Bt])&&(N[Bt]|=1024),Ys(N),N[yn]=N[js]=o,N[Tn]=c,N[Pa]=v||o&&o[Pa],N[qt]=E||o&&o[qt],N[Hs]=D||o&&o[Hs]||null,N[go]=T||o&&o[go]||null,N[Bn]=g,N[Wi]=function Am(){return Tm++}(),N[Bc]=R,N[_i]=2==s.type?o[_i]:N,N}function Pu(o,s,c,d,h){let g=o.data[s];if(null===g)g=function lg(o,s,c,d,h){const g=Zc(),v=Cd(),D=o.data[s]=function mc(o,s,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,s,d,h);return null===o.firstChild&&(o.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D,D.prev=g)),D}(o,s,c,d,h),function Hl(){return Rt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const v=function Ks(){const o=Rt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ur(g,!0),g}function Rs(o,s,c,d){if(0===c)return-1;const h=s.length;for(let g=0;g<c;g++)s.push(d),o.blueprint.push(d),o.data.push(null);return h}function Fo(o,s,c){Sd(s);try{const d=o.viewQuery;null!==d&&oh(1,d,c);const h=o.template;null!==h&&tv(o,s,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Vw(o,s),o.staticViewQueries&&oh(2,o.viewQuery,c);const g=o.components;null!==g&&function RI(o,s){for(let c=0;c<s.length;c++)Jw(o,s[c])}(s,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{s[Bt]&=-5,rf()}}function cg(o,s,c,d){const h=s[Bt];if(128!=(128&h)){Sd(s);try{Ys(s),function za(o){return Rt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&tv(o,s,c,2,d);const v=3==(3&h);if(v){const T=o.preOrderCheckHooks;null!==T&&tu(s,T,null)}else{const T=o.preOrderHooks;null!==T&&Xs(s,T,0,null),Cs(s,0)}if(function Xw(o){for(let s=nc(o);null!==s;s=fu(s)){if(!s[Ml])continue;const c=s[$s];for(let d=0;d<c.length;d++){const h=c[d];512&h[Bt]||Wc(h[yn],1),h[Bt]|=512}}}(s),function Qw(o){for(let s=nc(o);null!==s;s=fu(s))for(let c=yi;c<s.length;c++){const d=s[c],h=d[Je];Zs(d)&&cg(h,d,h.template,d[Tn])}}(s),null!==o.contentQueries&&Vw(o,s),v){const T=o.contentCheckHooks;null!==T&&tu(s,T)}else{const T=o.contentHooks;null!==T&&Xs(s,T,1),Cs(s,1)}!function MI(o,s){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)Ga(~h);else{const g=h,v=c[++d],E=c[++d];Id(v,g),E(2,s[g])}}}finally{Ga(-1)}}(o,s);const E=o.components;null!==E&&function Bw(o,s){for(let c=0;c<s.length;c++)zr(o,s[c])}(s,E);const D=o.viewQuery;if(null!==D&&oh(2,D,d),v){const T=o.viewCheckHooks;null!==T&&tu(s,T)}else{const T=o.viewHooks;null!==T&&Xs(s,T,2),Cs(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[Bt]&=-41,512&s[Bt]&&(s[Bt]&=-513,Wc(s[yn],-1))}finally{rf()}}}function tv(o,s,c,d,h){const g=Zi(),v=2&d;try{Ga(-1),v&&s.length>Jt&&rg(o,s,Jt,!1),an(v?2:0,h),c(d,h)}finally{Ga(g),an(v?3:1,h)}}function nv(o,s,c){if(vo(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function iv(o,s,c){Vl()&&(function qw(o,s,c,d){const h=c.directiveStart,g=c.directiveEnd;Rl(c)&&function Kw(o,s,c){const d=ki(s,o),h=ug(c),g=o[Pa],v=pv(o,ev(o,h,null,c.onPush?32:16,d,s,g,g.createRenderer(d,c),null,null,null));o[s.index]=v}(s,c,o.data[h+c.componentOffset]),o.firstCreatePass||ra(c,s),fr(d,s);const v=c.initialInputs;for(let E=h;E<g;E++){const D=o.data[E],T=Is(s,o,E,c);fr(T,s),null!==v&&hv(0,E-h,T,D,0,v),Oi(D)&&(si(c.index,s)[Tn]=Is(s,o,E,c))}}(o,s,c,ki(c,s)),64==(64&c.flags)&&cv(o,s,c))}function rv(o,s,c=ki){const d=s.localNames;if(null!==d){let h=s.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?c(s,o):o[v];o[h++]=E}}}function ug(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=ov(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function ov(o,s,c,d,h,g,v,E,D,T){const R=Jt+d,N=R+h,z=function pc(o,s){const c=[];for(let d=0;d<s;d++)c.push(d<o?null:Wt);return c}(R,N),J="function"==typeof T?T():T;return z[Je]={type:o,blueprint:z,template:c,queries:null,viewQuery:E,declTNode:s,data:z.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:J,incompleteFirstPass:!1}}function gr(o,s,c,d){const h=_g(s);null===c?h.push(d):(h.push(c),o.firstCreatePass&&tE(o).push(d,h.length-1))}function Hw(o,s,c,d){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const g=o[h];null===d?sv(c,s,h,g):d.hasOwnProperty(h)&&sv(c,s,d[h],g)}return c}function sv(o,s,c,d){o.hasOwnProperty(c)?o[c].push(s,d):o[c]=[s,d]}function so(o,s,c,d,h,g,v,E){const D=ki(s,c);let R,T=s.inputs;!E&&null!=T&&(R=T[d])?(nE(o,c,R,d,h),Rl(s)&&av(c,s.index)):3&s.type&&(d=function zw(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=v?v(h,s.value||"",d):h,g.setProperty(D,d,h))}function av(o,s){const c=si(s,o);16&c[Bt]||(c[Bt]|=32)}function dg(o,s,c,d){if(Vl()){const h=null===d?null:{"":-1},g=function kI(o,s){const c=o.directiveRegistry;let d=null,h=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];if(Bf(s,v.selectors,!1))if(d||(d=[]),Oi(v))if(null!==v.findHostDirectiveDefs){const E=[];h=h||new Map,v.findHostDirectiveDefs(v,E,h),d.unshift(...E,v),fg(o,s,E.length)}else d.unshift(v),fg(o,s,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(o,c);let v,E;null===g?v=E=null:[v,E]=g,null!==v&&lv(o,s,c,v,h,E),h&&function Zw(o,s,c){if(s){const d=o.localNames=[];for(let h=0;h<s.length;h+=2){const g=c[s[h+1]];if(null==g)throw new he(-301,!1);d.push(s[h],g)}}}(c,d,h)}c.mergedAttrs=Yo(c.mergedAttrs,c.attrs)}function lv(o,s,c,d,h,g){for(let T=0;T<d.length;T++)oa(ra(c,s),o,d[T].type);!function Yw(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}(c,o.data.length,d.length);for(let T=0;T<d.length;T++){const R=d[T];R.providersResolver&&R.providersResolver(R)}let v=!1,E=!1,D=Rs(o,s,d.length,null);for(let T=0;T<d.length;T++){const R=d[T];c.mergedAttrs=Yo(c.mergedAttrs,R.hostAttrs),dv(o,c,s,D,R),uv(D,R,h),null!==R.contentQueries&&(c.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(c.flags|=64);const N=R.type.prototype;!v&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),v=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),E=!0),D++}!function jw(o,s,c){const h=s.directiveEnd,g=o.data,v=s.attrs,E=[];let D=null,T=null;for(let R=s.directiveStart;R<h;R++){const N=g[R],z=c?c.get(N):null,pe=z?z.outputs:null;D=Hw(N.inputs,R,D,z?z.inputs:null),T=Hw(N.outputs,R,T,pe);const Ne=null===D||null===v||Fu(s)?null:mg(D,R,v);E.push(Ne)}null!==D&&(D.hasOwnProperty("class")&&(s.flags|=8),D.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=D,s.outputs=T}(o,c,g)}function cv(o,s,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,v=function Kc(){return Rt.lFrame.currentDirectiveIndex}();try{Ga(g);for(let E=d;E<h;E++){const D=o.data[E],T=s[E];jl(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Ww(D,T)}}finally{Ga(-1),jl(v)}}function Ww(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function fg(o,s,c){s.componentOffset=c,(o.components||(o.components=[])).push(s.index)}function uv(o,s,c){if(c){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)c[s.exportAs[d]]=o;Oi(s)&&(c[""]=o)}}function dv(o,s,c,d,h){o.data[d]=h;const g=h.factory||(h.factory=cr(h.type)),v=new qa(g,Oi(h),rh);o.blueprint[d]=v,c[d]=v,function hg(o,s,c,d,h){const g=h.hostBindings;if(g){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const E=~s.index;(function Gw(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(v)!=E&&v.push(E),v.push(c,d,g)}}(o,s,d,Rs(o,c,h.hostVars,Wt),h)}function Os(o,s,c,d,h,g){const v=ki(o,s);!function pg(o,s,c,d,h,g,v){if(null==g)o.removeAttribute(s,h,c);else{const E=null==v?xe(g):v(g,d||"",h);o.setAttribute(s,h,E,c)}}(s[qt],v,g,o.value,c,d,h)}function hv(o,s,c,d,h,g){const v=g[s];if(null!==v){const E=d.setInput;for(let D=0;D<v.length;){const T=v[D++],R=v[D++],N=v[D++];null!==E?d.setInput(c,N,T,R):c[R]=N}}}function mg(o,s,c){let d=null,h=0;for(;h<c.length;){const g=c[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===d&&(d=[]);const v=o[g];for(let E=0;E<v.length;E+=2)if(v[E]===s){d.push(g,v[E+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function fv(o,s,c,d){return[o,!0,!1,s,null,0,d,c,null,null]}function zr(o,s){const c=si(s,o);if(Zs(c)){const d=c[Je];48&c[Bt]?cg(d,c,d.template,c[Tn]):c[Qr]>0&&rs(c)}}function rs(o){for(let d=nc(o);null!==d;d=fu(d))for(let h=yi;h<d.length;h++){const g=d[h];if(Zs(g))if(512&g[Bt]){const v=g[Je];cg(v,g,v.template,g[Tn])}else g[Qr]>0&&rs(g)}const c=o[Je].components;if(null!==c)for(let d=0;d<c.length;d++){const h=si(c[d],o);Zs(h)&&h[Qr]>0&&rs(h)}}function Jw(o,s){const c=si(s,o),d=c[Je];(function nO(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])})(d,c),Fo(d,c,c[Tn])}function pv(o,s){return o[Go]?o[_o][sr]=s:o[Go]=s,o[_o]=s,s}function mv(o){for(;o;){o[Bt]|=32;const s=ya(o);if(gd(o)&&!s)return o;o=s}return null}function gg(o,s,c,d=!0){const h=s[Pa];h.begin&&h.begin();try{cg(o,s,o.template,c)}catch(v){throw d&&PI(s,v),v}finally{h.end&&h.end()}}function oh(o,s,c){zl(0),s(o,c)}function _g(o){return o[ms]||(o[ms]=[])}function tE(o){return o.cleanup||(o.cleanup=[])}function PI(o,s){const c=o[go],d=c?c.get(Vf,null):null;d&&d.handleError(s)}function nE(o,s,c,d,h){for(let g=0;g<c.length;){const v=c[g++],E=c[g++],D=s[v],T=o.data[v];null!==T.setInput?T.setInput(D,h,d,E):D[E]=h}}function gv(o,s,c){let d=c?o.styles:null,h=c?o.classes:null,g=0;if(null!==s)for(let v=0;v<s.length;v++){const E=s[v];"number"==typeof E?g=E:1==g?h=ce(h,E):2==g&&(d=ce(d,E+": "+s[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}function _v(o,s,c,d,h=!1){for(;null!==c;){const g=s[c.index];if(null!==g&&d.push(Fn(g)),lr(g))for(let E=yi;E<g.length;E++){const D=g[E],T=D[Je].firstChild;null!==T&&_v(D[Je],D,T,d)}const v=c.type;if(8&v)_v(o,s,c.child,d);else if(32&v){const E=$d(c,s);let D;for(;D=E();)d.push(D)}else if(16&v){const E=rl(s,c);if(Array.isArray(E))d.push(...E);else{const D=ya(s[_i]);_v(D[Je],D,E,d,!0)}}c=h?c.projectionNext:c.next}return d}class yg{get rootNodes(){const s=this._lView,c=s[Je];return _v(c,s,c.firstChild,[])}constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(s){this._lView[Tn]=s}get destroyed(){return 128==(128&this._lView[Bt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[yn];if(lr(s)){const c=s[Er],d=c?c.indexOf(this):-1;d>-1&&(mu(s,d),Xa(c,d))}this._attachedToViewContainer=!1}gu(this._lView[Je],this._lView)}onDestroy(s){gr(this._lView[Je],this._lView,null,s)}markForCheck(){mv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Bt]&=-65}reattach(){this._lView[Bt]|=64}detectChanges(){gg(this._lView[Je],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Iy(o,s){sl(o,s,s[qt],2,null,null)}(this._lView[Je],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=s}}class NI extends yg{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;gg(s[Je],s,s[Tn],!1)}checkNoChanges(){}get context(){return null}}class yv extends fc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=nn(s);return new Nu(c,this.ngModule)}}function iE(o){const s=[];for(let c in o)o.hasOwnProperty(c)&&s.push({propName:o[c],templateName:c});return s}class VI{constructor(s,c){this.injector=s,this.parentInjector=c}get(s,c,d){d=Tt(d);const h=this.injector.get(s,Gy,d);return h!==Gy||c===Gy?h:this.parentInjector.get(s,c,d)}}class Nu extends mw{get inputs(){return iE(this.componentDef.inputs)}get outputs(){return iE(this.componentDef.outputs)}constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=function yI(o){return o.map(_I).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}create(s,c,d,h){let g=(h=h||this.ngModule)instanceof Ru?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new VI(s,g):s,E=v.get(yw,null);if(null===E)throw new he(407,!1);const D=v.get(aI,null),T=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",N=d?function Uw(o,s,c){return o.selectRootElement(s,c===ee.ShadowDom)}(T,d,this.componentDef.encapsulation):pu(T,R,function LI(o){const s=o.toLowerCase();return"svg"===s?Pl:"math"===s?"math":null}(R)),z=this.componentDef.onPush?288:272,J=ov(0,null,null,1,0,null,null,null,null,null),pe=ev(null,J,null,z,null,null,E,T,D,v,null);let Ne,Qe;Sd(pe);try{const at=this.componentDef;let Ot,Re=null;at.findHostDirectiveDefs?(Ot=[],Re=new Map,at.findHostDirectiveDefs(at,Ot,Re),Ot.push(at)):Ot=[at];const Ft=function sh(o,s){const c=o[Je],d=Jt;return o[d]=s,Pu(c,d,2,"#host",null)}(pe,N),fn=function Gf(o,s,c,d,h,g,v,E){const D=h[Je];!function bv(o,s,c,d){for(const h of o)s.mergedAttrs=Yo(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(gv(s,s.mergedAttrs,!0),null!==c&&wu(d,c,s))}(d,o,s,v);const T=g.createRenderer(s,c),R=ev(h,ug(c),null,c.onPush?32:16,h[o.index],o,g,T,E||null,null,null);return D.firstCreatePass&&fg(D,o,d.length-1),pv(h,R),h[o.index]=R}(Ft,N,at,Ot,pe,E,T);Qe=Gc(J,Jt),N&&function wv(o,s,c,d){if(d)to(o,c,["ng-version",$y.full]);else{const{attrs:h,classes:g}=function ig(o){const s=[],c=[];let d=1,h=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===h?""!==g&&s.push(g,o[++d]):8===h&&c.push(g);else{if(!is(h))break;h=g}d++}return{attrs:s,classes:c}}(s.selectors[0]);h&&to(o,c,h),g&&g.length>0&&lc(o,c,g.join(" "))}}(T,at,N,d),void 0!==c&&function UI(o,s,c){const d=o.projection=[];for(let h=0;h<s.length;h++){const g=c[h];d.push(null!=g?Array.from(g):null)}}(Qe,this.ngContentSelectors,c),Ne=function BI(o,s,c,d,h,g){const v=ai(),E=h[Je],D=ki(v,h);lv(E,h,v,c,null,d);for(let R=0;R<c.length;R++)fr(Is(h,E,v.directiveStart+R,v),h);cv(E,h,v),D&&fr(D,h);const T=Is(h,E,v.directiveStart+v.componentOffset,v);if(o[Tn]=h[Tn]=T,null!==g)for(const R of g)R(T,s);return nv(E,v,o),T}(fn,at,Ot,Re,pe,[vg]),Fo(J,pe,null)}finally{rf()}return new $f(this.componentType,Ne,Ou(Qe,pe),pe,Qe)}}class $f extends nI{constructor(s,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new NI(h),this.componentType=s}setInput(s,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[s])){const g=this._rootLView;nE(g[Je],g,h,s,c),av(g,this._tNode.index)}}get injector(){return new Fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function vg(){const o=ai();eu(Te()[Je],o)}function bg(o){let s=function Ev(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;s;){let h;if(Oi(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new he(903,!1);h=s.\u0275dir}if(h){if(c){d.push(h);const v=o;v.inputs=ah(o.inputs),v.declaredInputs=ah(o.declaredInputs),v.outputs=ah(o.outputs);const E=h.hostBindings;E&&HI(o,E);const D=h.viewQuery,T=h.contentQueries;if(D&&rO(o,D),T&&oO(o,T),fe(o.inputs,h.inputs),fe(o.declaredInputs,h.declaredInputs),fe(o.outputs,h.outputs),Oi(h)&&h.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(o),E===bg&&(c=!1)}}s=Object.getPrototypeOf(s)}!function rE(o){let s=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=s+=h.hostVars,h.hostAttrs=Yo(h.hostAttrs,c=Yo(c,h.hostAttrs))}}(d)}function ah(o){return o===nt?{}:o===Ze?[]:o}function rO(o,s){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{s(d,h),c(d,h)}:s}function oO(o,s){const c=o.contentQueries;o.contentQueries=c?(d,h,g)=>{s(d,h,g),c(d,h,g)}:s}function HI(o,s){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{s(d,h),c(d,h)}:s}function Dg(o){return!!xv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function xv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Da(o,s,c){return o[s]=c}function Mr(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function Zf(o,s,c,d){const h=Te();return Mr(h,$a(),s)&&(rn(),Os(Cn(),h,o,s,c,d)),Zf}function Lu(o,s,c,d){return Mr(o,$a(),c)?s+xe(c)+d:Wt}function cE(o,s,c,d,h,g,v,E){const D=Te(),T=rn(),R=o+Jt,N=T.firstCreatePass?function lE(o,s,c,d,h,g,v,E,D){const T=s.consts,R=Pu(s,o,4,v||null,wo(T,E));dg(s,c,R,wo(T,D)),eu(s,R);const N=R.tView=ov(2,R,d,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,R),N.queries=s.queries.embeddedTView(R)),R}(R,T,D,s,c,d,h,g,v):T.data[R];ur(N,!1);const z=D[qt].createComment("");Kd(T,D,z,N),fr(z,D),pv(D,D[R]=fv(z,D,z,N)),_s(N)&&iv(T,D,N),null!=v&&rv(D,N,E)}function Av(o){return eo(function Dd(){return Rt.lFrame.contextLView}(),Jt+o)}function Mv(o,s,c){const d=Te();return Mr(d,$a(),s)&&so(rn(),Cn(),d,o,s,d[qt],c,!1),Mv}function Rv(o,s,c,d,h){const v=h?"class":"style";nE(o,c,s.inputs[v],v,d)}function Ig(o,s,c,d){const h=Te(),g=rn(),v=Jt+o,E=h[qt],D=g.firstCreatePass?function dE(o,s,c,d,h,g){const v=s.consts,D=Pu(s,o,2,d,wo(v,h));return dg(s,c,D,wo(v,g)),null!==D.attrs&&gv(D,D.attrs,!1),null!==D.mergedAttrs&&gv(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(v,g,h,s,c,d):g.data[v],T=h[v]=pu(E,s,function ym(){return Rt.lFrame.currentNamespace}()),R=_s(D);return ur(D,!0),wu(E,T,D),32!=(32&D.flags)&&Kd(g,h,T,D),0===function Ed(){return Rt.lFrame.elementDepthCount}()&&fr(T,h),function ja(){Rt.lFrame.elementDepthCount++}(),R&&(iv(g,h,D),nv(g,D,h)),null!==d&&rv(h,D),Ig}function Ov(){let o=ai();Cd()?Qs():(o=o.parent,ur(o,!1));const s=o;!function ef(){Rt.lFrame.elementDepthCount--}();const c=rn();return c.firstCreatePass&&(eu(c,o),vo(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function wm(o){return 0!=(8&o.flags)}(s)&&Rv(c,s,Te(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ir(o){return 0!=(16&o.flags)}(s)&&Rv(c,s,Te(),s.stylesWithoutHost,!1),Ov}function kv(o,s,c,d){return Ig(o,s,c,d),Ov(),kv}function Kf(o,s,c){const d=Te(),h=rn(),g=o+Jt,v=h.firstCreatePass?function YI(o,s,c,d,h){const g=s.consts,v=wo(g,d),E=Pu(s,o,8,"ng-container",v);return null!==v&&gv(E,v,!0),dg(s,c,E,wo(g,h)),null!==s.queries&&s.queries.elementStart(s,E),E}(g,h,d,s,c):h.data[g];ur(v,!0);const E=d[g]=d[qt].createComment("");return Kd(h,d,E,v),fr(E,d),_s(v)&&(iv(h,d,v),nv(h,v,d)),null!=c&&rv(d,v),Kf}function Sg(){let o=ai();const s=rn();return Cd()?Qs():(o=o.parent,ur(o,!1)),s.firstCreatePass&&(eu(s,o),vo(o)&&s.queries.elementEnd(o)),Sg}function Tg(o,s,c){return Kf(o,s,c),Sg(),Tg}function Fv(){return Te()}function Pv(o){return!!o&&"function"==typeof o.then}function Nv(o){return!!o&&"function"==typeof o.subscribe}const hE=Nv;function Bu(o,s,c,d){const h=Te(),g=rn(),v=ai();return function pE(o,s,c,d,h,g,v){const E=_s(d),T=o.firstCreatePass&&tE(o),R=s[Tn],N=_g(s);let z=!0;if(3&d.type||v){const Ne=ki(d,s),Qe=v?v(Ne):Ne,at=N.length,Ot=v?Ft=>v(Fn(Ft[d.index])):d.index;let Re=null;if(!v&&E&&(Re=function Lv(o,s,c,d){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===c&&h[g+1]===d){const E=s[ms],D=h[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(o,s,h,d.index)),null!==Re)(Re.__ngLastListenerFn__||Re).__ngNextListenerFn__=g,Re.__ngLastListenerFn__=g,z=!1;else{g=Vv(d,s,R,g,!1);const Ft=c.listen(Qe,h,g);N.push(g,Ft),T&&T.push(h,Ot,at,at+1)}}else g=Vv(d,s,R,g,!1);const J=d.outputs;let pe;if(z&&null!==J&&(pe=J[h])){const Ne=pe.length;if(Ne)for(let Qe=0;Qe<Ne;Qe+=2){const fn=s[pe[Qe]][pe[Qe+1]].subscribe(g),pi=N.length;N.push(g,fn),T&&T.push(h,d.index,pi,-(pi+1))}}}(g,h,h[qt],v,o,s,d),Bu}function Ag(o,s,c,d){try{return an(6,s,c),!1!==c(d)}catch(h){return PI(o,h),!1}finally{an(7,s,c)}}function Vv(o,s,c,d,h){return function g(v){if(v===Function)return d;mv(o.componentOffset>-1?si(o.index,s):s);let D=Ag(s,c,d,v),T=g.__ngNextListenerFn__;for(;T;)D=Ag(s,c,T,v)&&D,T=T.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function mE(o=1){return function Td(o){return(Rt.lFrame.contextLView=function _m(o,s){for(;o>0;)s=s[js],o--;return s}(o,Rt.lFrame.contextLView))[Tn]}(o)}function gE(o,s){let c=null;const d=function xw(o){const s=o.attrs;if(null!=s){const c=s.indexOf(5);if(!(1&c))return s[c+1]}return null}(o);for(let h=0;h<s.length;h++){const g=s[h];if("*"!==g){if(null===d?Bf(o,g,!0):gI(d,g))return h}else c=h}return c}function _E(o){const s=Te()[_i][Bn];if(!s.projection){const d=s.projection=es(o?o.length:1,null),h=d.slice();let g=s.child;for(;null!==g;){const v=o?gE(g,o):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function Bv(o,s=0,c){const d=Te(),h=rn(),g=Pu(h,Jt+o,16,null,c||null);null===g.projection&&(g.projection=s),Qs(),32!=(32&g.flags)&&function Nm(o,s,c){ba(s[qt],0,s,c,Ay(o,c,s),Tf(c.parent||s[Bn],c,s))}(h,d,g)}function Xf(o,s){return o<<17|s<<2}function ao(o){return o>>17&32767}function jv(o){return 2|o}function yc(o){return(131068&o)>>2}function zv(o,s){return-131069&o|s<<2}function Jf(o){return 1|o}function $v(o,s,c,d,h){const g=o[c+1],v=null===s;let E=d?ao(g):yc(g),D=!1;for(;0!==E&&(!1===D||v);){const R=o[E+1];tS(o[E],s)&&(D=!0,o[E+1]=d?Jf(R):jv(R)),E=d?ao(R):yc(R)}D&&(o[c+1]=d?jv(g):Jf(g))}function tS(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&We(o,s)>=0}const xi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xE(o){return o.substring(xi.key,xi.keyEnd)}function nS(o,s){const c=xi.textEnd;return c===s?-1:(s=xi.keyEnd=function dO(o,s,c){for(;s<c&&o.charCodeAt(s)>32;)s++;return s}(o,xi.key=s,c),ep(o,s,c))}function ep(o,s,c){for(;s<c&&o.charCodeAt(s)<=32;)s++;return s}function TE(o,s,c){return Ps(o,s,c,!1),TE}function AE(o,s){return Ps(o,s,null,!0),AE}function os(o,s){for(let c=function cO(o){return function SE(o){xi.key=0,xi.keyEnd=0,xi.value=0,xi.valueEnd=0,xi.textEnd=o.length}(o),nS(o,ep(o,0,xi.textEnd))}(s);c>=0;c=nS(s,c))Kt(o,xE(s),!0)}function Ps(o,s,c,d){const h=Te(),g=rn(),v=Dr(2);g.firstUpdatePass&&ME(g,o,v,d),s!==Wt&&Mr(h,v,s)&&jt(g,g.data[Zi()],h,h[qt],o,h[v+1]=function ip(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=ue(Li(o)))),o}(s,c),d,v)}function sS(o,s){return s>=o.expandoStartIndex}function ME(o,s,c,d){const h=o.data;if(null===h[c+1]){const g=h[Zi()],v=sS(o,c);RE(g,d)&&null===s&&!v&&(s=!1),s=function _e(o,s,c,d){const h=function Es(o){const s=Rt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let g=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(c=tp(c=un(null,o,s,c,d),s.attrs,d),g=null);else{const v=s.directiveStylingLast;if(-1===v||o[v]!==h)if(c=un(h,o,s,c,d),null===g){let D=function Uu(o,s,c){const d=c?s.classBindings:s.styleBindings;if(0!==yc(d))return o[ao(d)]}(o,s,d);void 0!==D&&Array.isArray(D)&&(D=un(null,o,s,D[1],d),D=tp(D,s.attrs,d),function Rg(o,s,c,d){o[ao(c?s.classBindings:s.styleBindings)]=d}(o,s,d,D))}else g=function vc(o,s,c){let d;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)d=tp(d,o[g].hostAttrs,c);return tp(d,s.attrs,c)}(o,s,d)}return void 0!==g&&(d?s.residualClasses=g:s.residualStyles=g),c}(h,g,s,d),function DE(o,s,c,d,h,g){let v=g?s.classBindings:s.styleBindings,E=ao(v),D=yc(v);o[d]=c;let R,T=!1;if(Array.isArray(c)?(R=c[1],(null===R||We(c,R)>0)&&(T=!0)):R=c,h)if(0!==D){const z=ao(o[E+1]);o[d+1]=Xf(z,E),0!==z&&(o[z+1]=zv(o[z+1],d)),o[E+1]=function CE(o,s){return 131071&o|s<<17}(o[E+1],d)}else o[d+1]=Xf(E,0),0!==E&&(o[E+1]=zv(o[E+1],d)),E=d;else o[d+1]=Xf(D,0),0===E?E=d:o[D+1]=zv(o[D+1],d),D=d;T&&(o[d+1]=jv(o[d+1])),$v(o,R,d,!0),$v(o,R,d,!1),function eS(o,s,c,d,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof s&&We(g,s)>=0&&(c[d+1]=Jf(c[d+1]))}(s,R,o,d,g),v=Xf(E,D),g?s.classBindings=v:s.styleBindings=v}(h,g,s,c,v,d)}}function un(o,s,c,d,h){let g=null;const v=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<v&&(g=s[E],d=tp(d,g.hostAttrs,h),g!==o);)E++;return null!==o&&(c.directiveStylingLast=E),d}function tp(o,s,c){const d=c?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const v=s[g];"number"==typeof v?h=v:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Kt(o,v,!!c||s[++g]))}return void 0===o?null:o}function jt(o,s,c,d,h,g,v,E){if(!(3&s.type))return;const D=o.data,T=D[E+1],R=function XI(o){return 1==(1&o)}(T)?np(D,s,c,h,yc(T),v):void 0;Hu(R)||(Hu(g)||function QI(o){return 2==(2&o)}(T)&&(g=np(D,null,c,h,E,v)),function pr(o,s,c,d,h){if(s)h?o.addClass(c,d):o.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Ar.DashCase;null==h?o.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Ar.Important),o.setStyle(c,d,h,g))}}(d,v,Jr(Zi(),c),h,g))}function np(o,s,c,d,h,g){const v=null===s;let E;for(;h>0;){const D=o[h],T=Array.isArray(D),R=T?D[1]:D,N=null===R;let z=c[h+1];z===Wt&&(z=N?Ze:void 0);let J=N?no(z,d):R===d?z:void 0;if(T&&!Hu(J)&&(J=no(D,d)),Hu(J)&&(E=J,v))return E;const pe=o[h+1];h=v?ao(pe):yc(pe)}if(null!==s){let D=g?s.residualClasses:s.residualStyles;null!=D&&(E=no(D,d))}return E}function Hu(o){return void 0!==o}function RE(o,s){return 0!=(o.flags&(s?8:16))}function Og(o,s=""){const c=Te(),d=rn(),h=o+Jt,g=d.firstCreatePass?Pu(d,h,1,s,null):d.data[h],v=c[h]=function ic(o,s){return o.createText(s)}(c[qt],s);Kd(d,c,v,g),ur(g,!1)}function Wv(o){return kg("",o,""),Wv}function kg(o,s,c){const d=Te(),h=Lu(d,o,s,c);return h!==Wt&&function gc(o,s,c){const d=Jr(s,o);!function If(o,s,c){o.setValue(s,c)}(o[qt],d,c)}(d,Zi(),h),kg}function Yv(o,s,c){!function wi(o,s,c,d){const h=rn(),g=Dr(2);h.firstUpdatePass&&ME(h,null,g,d);const v=Te();if(c!==Wt&&Mr(v,g,c)){const E=h.data[Zi()];if(RE(E,d)&&!sS(h,g)){let D=d?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(c=ce(D,c||"")),Rv(h,E,v,c,d)}else!function qv(o,s,c,d,h,g,v,E){h===Wt&&(h=Ze);let D=0,T=0,R=0<h.length?h[0]:null,N=0<g.length?g[0]:null;for(;null!==R||null!==N;){const z=D<h.length?h[D+1]:void 0,J=T<g.length?g[T+1]:void 0;let Ne,pe=null;R===N?(D+=2,T+=2,z!==J&&(pe=N,Ne=J)):null===N||null!==R&&R<N?(D+=2,pe=R):(T+=2,pe=N,Ne=J),null!==pe&&jt(o,s,c,d,pe,Ne,v,E),R=D<h.length?h[D]:null,N=T<g.length?g[T]:null}}(h,E,v,v[qt],v[g+1],v[g+1]=function hl(o,s,c){if(null==c||""===c)return Ze;const d=[],h=Li(c);if(Array.isArray(h))for(let g=0;g<h.length;g++)o(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&o(d,g,h[g]);else"string"==typeof h&&s(d,h);return d}(o,s,c),d,g)}}(Kt,os,Lu(Te(),o,s,c),!0)}function eb(o,s,c){const d=Te();return Mr(d,$a(),s)&&so(rn(),Cn(),d,o,s,d[qt],c,!0),eb}const ju=void 0;var jg=["en",[["a","p"],["AM","PM"],ju],[["AM","PM"],ju,ju],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ju,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ju,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ju,"{1} 'at' {0}",ju],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dS(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let bc={};function zg(o){const s=function tb(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=$g(s);if(c)return c;const d=s.split("-")[0];if(c=$g(d),c)return c;if("en"===d)return jg;throw new he(701,!1)}function op(o){return zg(o)[St.PluralCase]}function $g(o){return o in bc||(bc[o]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[o]),bc[o]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const mh="en-US";let Gg=mh;function mb(o,s,c,d,h){if(o=Y(o),Array.isArray(o))for(let g=0;g<o.length;g++)mb(o[g],s,c,d,h);else{const g=rn(),v=Te();let E=Ea(o)?o:Y(o.provide),D=fw(o);const T=ai(),R=1048575&T.providerIndexes,N=T.directiveStart,z=T.providerIndexes>>20;if(Ea(o)||!o.multi){const J=new qa(D,h,rh),pe=_b(E,s,h?R:R+z,N);-1===pe?(oa(ra(T,v),g,E),gb(g,o,s.length),s.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(J),v.push(J)):(c[pe]=J,v[pe]=J)}else{const J=_b(E,s,R+z,N),pe=_b(E,s,R,R+z),Qe=pe>=0&&c[pe];if(h&&!Qe||!h&&!(J>=0&&c[J])){oa(ra(T,v),g,E);const at=function lC(o,s,c,d,h){const g=new qa(o,c,rh);return g.multi=[],g.index=s,g.componentProviders=0,aC(g,h,d&&!c),g}(h?wc:yp,c.length,h,d,D);!h&&Qe&&(c[pe].providerFactory=at),gb(g,o,s.length,0),s.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(at),v.push(at)}else gb(g,o,J>-1?J:pe,aC(c[h?pe:J],D,!h&&d));!h&&d&&Qe&&c[pe].componentProviders++}}}function gb(o,s,c,d){const h=Ea(s),g=function th(o){return!!o.useClass}(s);if(h||g){const D=(g?Y(s.useClass):s).prototype.ngOnDestroy;if(D){const T=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const R=T.indexOf(c);-1===R?T.push(c,[d,D]):T[R+1].push(d,D)}else T.push(c,D)}}}function aC(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function _b(o,s,c,d){for(let h=c;h<d;h++)if(s[h]===o)return h;return-1}function yp(o,s,c,d){return o_(this.multi,[])}function wc(o,s,c,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Is(c,c[Je],this.providerFactory.index,d);g=E.slice(0,v),o_(h,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],o_(h,g);return g}function o_(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function yb(o,s=[]){return c=>{c.providersResolver=(d,h)=>function sC(o,s,c){const d=rn();if(d.firstCreatePass){const h=Oi(o);mb(c,d.data,d.blueprint,h,!0),mb(s,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,s)}}class Ns{}class cC{}function xS(o,s){return new uC(o,s??null)}class uC extends Ns{constructor(s,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yv(this);const d=oi(s);this._bootstrapComponents=Ca(d.bootstrap),this._r3Injector=EI(s,c,[{provide:Ns,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],ue(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class s_ extends cC{constructor(s){super(),this.moduleType=s}create(s){return new uC(this.moduleType,s)}}class dC extends Ns{constructor(s,c,d){super(),this.componentFactoryResolver=new yv(this),this.instance=null;const h=new dw([...s,{provide:Ns,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],c||Xm(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function vp(o,s,c=null){return new dC(o,s,c).injector}let vb=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=aw(0,c.type),h=d.length>0?vp([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=tt({token:o,providedIn:"environment",factory:()=>new o(je(Ru))}),o})();function bb(o){o.getStandaloneInjector=s=>s.get(vb).getOrCreateStandaloneInjector(o)}function mC(o,s,c){const d=Un()+o,h=Te();return h[d]===Wt?Da(h,d,c?s.call(c):s()):function xg(o,s){return o[s]}(h,d)}function Cb(o,s,c,d){return function xb(o,s,c,d,h,g){const v=s+c;return Mr(o,v,h)?Da(o,v+1,g?d.call(g,h):d(h)):gl(o,v+1)}(Te(),Un(),o,s,c,d)}function gl(o,s){const c=o[s];return c===Wt?void 0:c}function f_(o,s,c,d,h,g,v){const E=s+c;return function dl(o,s,c,d){const h=Mr(o,s,c);return Mr(o,s+1,d)||h}(o,E,h,g)?Da(o,E+2,v?d.call(v,h,g):d(h,g)):gl(o,E+2)}function wC(o,s){const c=rn();let d;const h=o+Jt;c.firstCreatePass?(d=function EC(o,s){if(s)for(let c=s.length-1;c>=0;c--){const d=s[c];if(o===d.name)return d}}(s,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const g=d.factory||(d.factory=cr(d.type)),v=On(rh);try{const E=na(!1),D=g();return na(E),function uE(o,s,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),s[c]=d}(c,Te(),h,D),D}finally{On(v)}}function Sb(o,s,c,d){const h=o+Jt,g=Te(),v=eo(g,h);return function Ec(o,s){return o[Je].data[s].pure}(g,h)?f_(g,Un(),s,v.transform,c,d,v):v.transform(c,d)}function m_(o){return s=>{setTimeout(o,void 0,s)}}const kr=class xC extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,d){let h=s,g=c||(()=>null),v=d;if(s&&"object"==typeof s){const D=s;h=D.next?.bind(D),g=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(g=m_(g),h&&(h=m_(h)),v&&(v=m_(v)));const E=super.subscribe({next:h,error:g,complete:v});return s instanceof X.w0&&s.add(E),E}};function IC(){return this._results[Symbol.iterator]()}class Cp{get changes(){return this._changes||(this._changes=new kr)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Cp.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=IC)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const d=this;d.dirty=!1;const h=function Pi(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function ca(o,s,c){if(o.length!==s.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],g=s[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Dh=(()=>{class o{}return o.__NG_ELEMENT_ID__=Po,o})();const SC=Dh,g_=class extends SC{constructor(s,c,d){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(s,c){const d=this._declarationTContainer.tView,h=ev(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,null,c||null);h[zs]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[qi];return null!==v&&(h[qi]=v.createEmbeddedView(d)),Fo(d,h,s),new yg(h)}};function Po(){return Dp(ai(),Te())}function Dp(o,s){return 4&o.type?new g_(s,o,Ou(o,s)):null}let xp=(()=>{class o{}return o.__NG_ELEMENT_ID__=xh,o})();function xh(){return AC(ai(),Te())}const RS=xp,TC=class extends RS{constructor(s,c,d){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=d}get element(){return Ou(this._hostTNode,this._hostLView)}get injector(){return new Fi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Qo(this._hostTNode,this._hostLView);if(ru(s)){const c=ta(s,this._hostLView),d=ea(s);return new Fi(c[Je].data[d+8],c)}return new Fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=__(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-yi}createEmbeddedView(s,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=s.createEmbeddedView(c||{},g);return this.insert(v,h),v}createComponent(s,c,d,h,g){const v=s&&!function Io(o){return"function"==typeof o}(s);let E;if(v)E=c;else{const N=c||{};E=N.index,d=N.injector,h=N.projectableNodes,g=N.environmentInjector||N.ngModuleRef}const D=v?s:new Nu(nn(s)),T=d||this.parentInjector;if(!g&&null==D.ngModule){const z=(v?T:this.parentInjector).get(Ru,null);z&&(g=z)}const R=D.create(T,h,void 0,g);return this.insert(R.hostView,E),R}insert(s,c){const d=s._lView,h=d[Je];if(function Ha(o){return lr(o[yn])}(d)){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const N=d[yn],z=new TC(N,N[Bn],N[yn]);z.detach(z.indexOf(s))}}const g=this._adjustIndex(c),v=this._lContainer;!function Ty(o,s,c,d){const h=yi+d,g=c.length;d>0&&(c[h-1][sr]=s),d<g-yi?(s[sr]=c[h],au(c,yi+d,s)):(c.push(s),s[sr]=null),s[yn]=c;const v=s[zs];null!==v&&c!==v&&function Om(o,s){const c=o[$s];s[_i]!==s[yn][yn][_i]&&(o[Ml]=!0),null===c?o[$s]=[s]:c.push(s)}(v,s);const E=s[qi];null!==E&&E.insertView(o),s[Bt]|=64}(h,d,v,g);const E=Qd(g,v),D=d[qt],T=vu(D,v[gs]);return null!==T&&function Wd(o,s,c,d,h,g){d[wr]=h,d[Bn]=s,sl(o,d,c,1,h,g)}(h,v[Bn],D,d,T,E),s.attachToViewContainerRef(),au(Mb(v),g,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=__(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),d=mu(this._lContainer,c);d&&(Xa(Mb(this._lContainer),c),gu(d[Je],d))}detach(s){const c=this._adjustIndex(s,-1),d=mu(this._lContainer,c);return d&&null!=Xa(Mb(this._lContainer),c)?new yg(d):null}_adjustIndex(s,c=0){return s??this.length+c}};function __(o){return o[Er]}function Mb(o){return o[Er]||(o[Er]=[])}function AC(o,s){let c;const d=s[o.index];if(lr(d))c=d;else{let h;if(8&o.type)h=Fn(d);else{const g=s[qt];h=g.createComment("");const v=ki(o,s);va(g,vu(g,v),h,function Fm(o,s){return o.nextSibling(s)}(g,v),!1)}s[o.index]=c=fv(d,s,h,o),pv(s,c)}return new TC(c,o,s)}class y_{constructor(s){this.queryList=s,this.matches=null}clone(){return new y_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const d=null!==s.contentQueries?s.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Rb(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==Se(s,c).matches&&this.queries[c].setDirty()}}class Ip{constructor(s,c,d=null){this.predicate=s,this.flags=c,this.read=d}}class Ob{constructor(s=[]){this.queries=s}elementStart(s,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(s,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Ob(c):null}template(s,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class v_{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new v_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(s,c,er(c,g)),this.matchTNodeWithReadOption(s,c,ql(c,s,g,!1,!1))}else d===Dh?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,ql(c,s,d,!1,!1))}matchTNodeWithReadOption(s,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===cl||h===xp||h===Dh&&4&c.type)this.addMatch(c.index,-2);else{const g=ql(c,s,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function er(o,s){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===s)return c[d+1];return null}function Cc(o,s,c,d){return-1===c?function Ih(o,s){return 11&o.type?Ou(o,s):4&o.type?Dp(o,s):null}(s,o):-2===c?function kb(o,s,c){return c===cl?Ou(s,o):c===Dh?Dp(s,o):c===xp?AC(s,o):void 0}(o,s,d):Is(o,o[Je],c,s)}function MC(o,s,c,d){const h=s[qi].queries[d];if(null===h.matches){const g=o.data,v=c.matches,E=[];for(let D=0;D<v.length;D+=2){const T=v[D];E.push(T<0?null:Cc(s,g[T],v[D+1],c.metadata.read))}h.matches=E}return h.matches}function Oe(o,s,c,d){const h=o.queries.getByIndex(c),g=h.matches;if(null!==g){const v=MC(o,s,h,c);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)d.push(v[E/2]);else{const T=g[E+1],R=s[-D];for(let N=yi;N<R.length;N++){const z=R[N];z[zs]===z[yn]&&Oe(z[Je],z,T,d)}if(null!==R[$s]){const N=R[$s];for(let z=0;z<N.length;z++){const J=N[z];Oe(J[Je],J,T,d)}}}}}return d}function hi(o){const s=Te(),c=rn(),d=Qc();zl(d+1);const h=Se(c,d);if(o.dirty&&function qc(o){return 4==(4&o[Bt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?Oe(c,s,d,[]):MC(c,s,h,d);o.reset(g,_w),o.notifyOnChanges()}return!0}return!1}function Ls(o,s,c){const d=rn();d.firstCreatePass&&(Ye(d,new Ip(o,s,c),-1),2==(2&s)&&(d.staticViewQueries=!0)),RC(d,Te(),s)}function b_(o,s,c,d){const h=rn();if(h.firstCreatePass){const g=ai();Ye(h,new Ip(s,c,d),g.index),function ae(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}RC(h,Te(),c)}function st(){return function wt(o,s){return o[qi].queries[s].queryList}(Te(),Qc())}function RC(o,s,c){const d=new Cp(4==(4&c));gr(o,s,d,d.destroy),null===s[qi]&&(s[qi]=new Rb),s[qi].queries.push(new y_(d))}function Ye(o,s,c){null===o.queries&&(o.queries=new Ob),o.queries.track(new v_(s,c))}function Se(o,s){return o.queries.getByIndex(s)}function Ii(o,s){return Dp(o,s)}function Pb(o){return!!oi(o)}function A_(...o){}const jC=new vn("Application Initializer");let M_=(()=>{class o{constructor(c){this.appInits=c,this.resolve=A_,this.reject=A_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Pv(g))c.push(g);else if(hE(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(je(jC,8))},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const zC=new vn("AppId",{providedIn:"root",factory:function $C(){return`${Ub()}${Ub()}${Ub()}`}});function Ub(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const GC=new vn("Platform Initializer"),US=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HS=new vn("AnimationModuleType");let jS=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Ap=new vn("LocaleId",{providedIn:"root",factory:()=>ot(Ap,vt.Optional|vt.SkipSelf)||function zS(){return typeof $localize<"u"&&$localize.locale||mh}()}),$S=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Hb{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}let tr=(()=>{class o{compileModuleSync(c){return new s_(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Ca(oi(c).declarations).reduce((v,E)=>{const D=nn(E);return D&&v.push(new Nu(D)),v},[]);return new Hb(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ZC=(()=>Promise.resolve(0))();function Ic(o){typeof Zone>"u"?ZC.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class as{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kr(!1),this.onMicrotaskEmpty=new kr(!1),this.onStable=new kr(!1),this.onError=new kr(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function uo(){let o=Lt.requestAnimationFrame,s=Lt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function fi(o){const s=()=>{!function Sc(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Lt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,vl(o),o.isCheckStableRunning=!0,jb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),vl(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,v,E)=>{try{return R_(o),c.invokeTask(h,g,v,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&s(),zb(o)}},onInvoke:(c,d,h,g,v,E,D)=>{try{return R_(o),c.invoke(h,g,v,E,D)}finally{o.shouldCoalesceRunChangeDetection&&s(),zb(o)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,vl(o),jb(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!as.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(as.isInAngularZone())throw new he(909,!1)}run(s,c,d){return this._inner.run(s,c,d)}runTask(s,c,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,s,Bi,A_,A_);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(s,c,d){return this._inner.runGuarded(s,c,d)}runOutsideAngular(s){return this._outer.run(s)}}const Bi={};function jb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function vl(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function R_(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function zb(o){o._nesting--,jb(o)}class Rp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kr,this.onMicrotaskEmpty=new kr,this.onStable=new kr,this.onError=new kr}run(s,c,d){return s.apply(c,d)}runGuarded(s,c,d){return s.apply(c,d)}runOutsideAngular(s){return s()}runTask(s,c,d,h){return s.apply(c,d)}}const YC=new vn(""),bl=new vn("");let ls,Tc=(()=>{class o{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ls||(function Ju(o){ls=o}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{as.assertNotInAngularZone(),Ic(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ic(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(je(as),je(Op),je(bl))},o.\u0275prov=tt({token:o,factory:o.\u0275fac}),o})(),Op=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return ls?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Vo=!1;let $r=null;const $b=new vn("AllowMultipleToken"),Ac=new vn("PlatformDestroyListeners"),O_=new vn("appBootstrapListener");class QC{constructor(s,c){this.name=s,this.token=c}}function JC(o,s,c=[]){const d=`Platform: ${s}`,h=new vn(d);return(g=[])=>{let v=Si();if(!v||v.injector.get($b,!1)){const E=[...c,...g,{provide:h,useValue:!0}];o?o(E):function XC(o){if($r&&!$r.get($b,!1))throw new he(400,!1);$r=o;const s=o.get(qb);(function Mh(o){const s=o.get(GC,null);s&&s.forEach(c=>c())})(o)}(function Gb(o=[],s){return nh.create({name:s,providers:[{provide:By,useValue:"platform"},{provide:Ac,useValue:new Set([()=>$r=null])},...o]})}(E,d))}return function ZS(o){const s=Si();if(!s)throw new he(401,!1);return s}()}}function Si(){return $r?.get(qb)??null}let qb=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function wl(o,s){let c;return c="noop"===o?new Rp:("zone.js"===o?void 0:o)||new as(s),c}(d?.ngZone,function Nn(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:as,useValue:h}];return h.run(()=>{const v=nh.create({providers:g,parent:this.injector,name:c.moduleType.name}),E=c.create(v),D=E.injector.get(Vf,null);if(!D)throw new he(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:R=>{D.handleError(R)}});E.onDestroy(()=>{F_(this._modules,E),T.unsubscribe()})}),function Wb(o,s,c){try{const d=c();return Pv(d)?d.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>o.handleError(d)),d}}(D,h,()=>{const T=E.injector.get(M_);return T.runInitializers(),T.donePromise.then(()=>(function qg(o){Xe(o,"Expected localeId to be defined"),"string"==typeof o&&(Gg=o.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Ap,mh)||mh),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,d=[]){const h=Zb({},d);return function ed(o,s,c){const d=new s_(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(El);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new he(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Ac,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(je(nh))},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Zb(o,s){return Array.isArray(s)?s.reduce(Zb,o):{...o,...s}}let El=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new P.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new P.y(E=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{as.assertNotInAngularZone(),Ic(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{as.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{D.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ne.T)(g,v.pipe((0,ie.B)()))}bootstrap(c,d){const h=c instanceof mw;if(!this._injector.get(M_).done){!h&&$o(c);throw new he(405,Vo)}let v;v=h?c:this._injector.get(fc).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const E=function kp(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Ns),T=v.create(nh.NULL,[],d||v.selector,E),R=T.location.nativeElement,N=T.injector.get(YC,null);return N?.registerApplication(R),T.onDestroy(()=>{this.detachView(T.hostView),F_(this.components,T),N?.unregisterApplication(R)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;F_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(O_,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>F_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new he(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(je(as),je(Ru),je(Vf))},o.\u0275prov=tt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function F_(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}function bn(){return!1}let Qb=(()=>{class o{}return o.__NG_ELEMENT_ID__=nD,o})();function nD(o){return function iD(o,s,c){if(Rl(o)&&!c){const d=si(o.index,s);return new yg(d,d)}return 47&o.type?new yg(s[_i],s):null}(ai(),Te(),16==(16&o))}class Lp{constructor(){}supports(s){return Dg(s)}create(s){return new nd(s)}}const Xb=(o,s)=>s;class nd{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Xb}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<Oh(d,h,g)?c:d,E=Oh(v,h,g),D=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{g||(g=[]);const T=E-h,R=D-h;if(T!=R){for(let z=0;z<T;z++){const J=z<g.length?g[z]:g[z]=0,pe=J+z;R<=pe&&pe<T&&(g[z]=J+1)}g[v.previousIndex]=R-T}}E!==D&&s(v,E,D)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!Dg(s))throw new he(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,v,c=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)g=s[E],v=this._trackByFn(E,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,E)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,E),d=!0),c=c._next}else h=0,function oE(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Symbol.iterator]();let d;for(;!(d=c.next()).done;)s(d.value)}}(s,E=>{v=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,E,v,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,d,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,g,h)):s=this._addAfter(new Gr(c,d),g,h),s}_verifyReinsertion(s,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,c,d),this._addToMoves(s,d),s}_moveAfter(s,c,d){return this._unlink(s),this._insertAfter(s,c,d),this._addToMoves(s,d),s}_addAfter(s,c,d){return this._insertAfter(s,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,d){const h=null===c?this._itHead:c._next;return s._next=h,s._prev=c,null===h?this._itTail=s:h._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new Vp),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,d=s._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vp),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Gr{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const c=s._prevDup,d=s._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Vp{constructor(){this.map=new Map}put(s){const c=s.trackById;let d=this.map.get(c);d||(d=new Jb,this.map.set(c,d)),d.add(s)}get(s,c){const h=this.map.get(s);return h?h.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Oh(o,s,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+s+h}class e0{constructor(){}supports(s){return s instanceof Map||xv(s)}create(){return new t0}}class t0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||xv(s)))throw new he(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const d=s._prev;return c._next=s,c._prev=d,s._prev=c,d&&(d._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,c);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new Bp(s);return this._records.set(s,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(d=>c(s[d],d))}}class Bp{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function n0(){return new V_([new Lp])}let V_=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||n0()),deps:[[o,new x,new io]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new he(901,!1)}}return o.\u0275prov=tt({token:o,providedIn:"root",factory:n0}),o})();function Dl(){return new r0([new e0])}let r0=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Dl()),deps:[[o,new x,new io]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new he(901,!1)}}return o.\u0275prov=tt({token:o,providedIn:"root",factory:Dl}),o})();const Ta=JC(null,"core",[]);let aD=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(je(El))},o.\u0275mod=Tl({type:o}),o.\u0275inj=Kn({}),o})();function Up(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(ft,be,F)=>{F.d(be,{Z:()=>$e});var l=F(2090),X=F(4859),P=F(9681),ne=F(1877);class ie{constructor(he,De){this._delegate=he,this.firebase=De,(0,P._addComponent)(he,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(he,De=P._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(he);return!Fe.isInitialized()&&"EXPLICIT"===(null===(xe=Fe.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:De})}_removeServiceInstance(he,De=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(De)}_addComponent(he){(0,P._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,P._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ce(){const ut=function ue(ut){const he={},De={__esModule:!0,initializeApp:function Ee(ke,U={}){const ge=P.initializeApp(ke,U);if((0,l.r3)(he,ge.name))return he[ge.name];const Ve=new ut(ge,De);return he[ge.name]=Ve,Ve},app:Fe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ae(ke){const U=ke.name,ge=U.replace("-compat","");if(P._registerComponent(ke)&&"PUBLIC"===ke.type){const Ve=(qe=Fe())=>{if("function"!=typeof qe[ge])throw fe.create("invalid-app-argument",{appName:U});return qe[ge]()};void 0!==ke.serviceProps&&(0,l.ZB)(Ve,ke.serviceProps),De[ge]=Ve,ut.prototype[ge]=function(...qe){return this._getService.bind(this,U).apply(this,ke.multipleInstances?qe:[])}}return"PUBLIC"===ke.type?De[ge]:null},removeApp:function xe(ke){delete he[ke]},useAsService:function Le(ke,U){return"serverAuth"===U?null:U},modularAPIs:P}};function Fe(ke){if(!(0,l.r3)(he,ke=ke||P._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:ke});return he[ke]}return De.default=De,Object.defineProperty(De,"apps",{get:function ve(){return Object.keys(he).map(ke=>he[ke])}}),Fe.App=ut,De}(ie);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function he(De){(0,l.ZB)(ut,De)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ut}(),$=new ne.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=j;!function Ce(ut){(0,P.registerVersion)("@firebase/app-compat","0.2.7",ut)}()},9681:(ft,be,F)=>{F.r(be),F.d(be,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>vr,_DEFAULT_ENTRY_NAME:()=>Pe,_addComponent:()=>cn,_addOrOverwriteComponent:()=>xt,_apps:()=>Xe,_clearComponents:()=>Kn,_components:()=>Ke,_getProvider:()=>tt,_registerComponent:()=>on,_removeServiceInstance:()=>At,deleteApp:()=>jo,getApp:()=>br,getApps:()=>rr,initializeApp:()=>ds,onLog:()=>vt,registerVersion:()=>or,setLogLevel:()=>zo});var l=F(5861),X=F(4859),P=F(1877),ne=F(2090),ie=F(8766);class Q{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function fe(je){return"VERSION"===je.getComponent()?.type}(ot)){const Tt=ot.getImmediate();return`${Tt.library}/${Tt.version}`}return null}).filter(ot=>ot).join(" ")}}const ue="@firebase/app",j=new P.Yd("@firebase/app"),Pe="[DEFAULT]",He={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Ke=new Map;function cn(je,we){try{je.container.addComponent(we)}catch(ot){j.debug(`Component ${we.name} failed to register with FirebaseApp ${je.name}`,ot)}}function xt(je,we){je.container.addOrOverwriteComponent(we)}function on(je){const we=je.name;if(Ke.has(we))return j.debug(`There were multiple attempts to register component ${we}.`),!1;Ke.set(we,je);for(const ot of Xe.values())cn(ot,je);return!0}function tt(je,we){const ot=je.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),je.container.getProvider(we)}function At(je,we,ot=Pe){tt(je,we).clearInstance(ot)}function Kn(){Ke.clear()}const In=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rn{constructor(we,ot,Tt){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=Tt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}const vr="9.19.1";function ds(je,we={}){let ot=je;"object"!=typeof we&&(we={name:we});const Tt=Object.assign({name:Pe,automaticDataCollectionEnabled:!1},we),Pt=Tt.name;if("string"!=typeof Pt||!Pt)throw In.create("bad-app-name",{appName:String(Pt)});if(ot||(ot=(0,ne.aH)()),!ot)throw In.create("no-options");const zt=Xe.get(Pt);if(zt){if((0,ne.vZ)(ot,zt.options)&&(0,ne.vZ)(Tt,zt.config))return zt;throw In.create("duplicate-app",{appName:Pt})}const Mi=new X.H0(Pt);for(const B of Ke.values())Mi.addComponent(B);const H=new Rn(ot,Tt,Mi);return Xe.set(Pt,H),H}function br(je=Pe){const we=Xe.get(je);if(!we&&je===Pe)return ds();if(!we)throw In.create("no-app",{appName:je});return we}function rr(){return Array.from(Xe.values())}function jo(je){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(je){const we=je.name;Xe.has(we)&&(Xe.delete(we),yield Promise.all(je.container.getProviders().map(ot=>ot.delete())),je.isDeleted=!0)})).apply(this,arguments)}function or(je,we,ot){var Tt;let Pt=null!==(Tt=He[je])&&void 0!==Tt?Tt:je;ot&&(Pt+=`-${ot}`);const zt=Pt.match(/\s|\//),Mi=we.match(/\s|\//);if(zt||Mi){const H=[`Unable to register library "${Pt}" with version "${we}":`];return zt&&H.push(`library name "${Pt}" contains illegal characters (whitespace or "/")`),zt&&Mi&&H.push("and"),Mi&&H.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void j.warn(H.join(" "))}on(new X.wA(`${Pt}-version`,()=>({library:Pt,version:we}),"VERSION"))}function vt(je,we){if(null!==je&&"function"!=typeof je)throw In.create("invalid-log-argument");(0,P.Am)(je,we)}function zo(je){(0,P.Ub)(je)}const Ur="firebase-heartbeat-database",On=1,Ti="firebase-heartbeat-store";let hs=null;function Lt(){return hs||(hs=(0,ie.X3)(Ur,On,{upgrade:(je,we)=>{0===we&&je.createObjectStore(Ti)}}).catch(je=>{throw In.create("idb-open",{originalErrorMessage:je.message})})),hs}function Mt(){return(Mt=(0,l.Z)(function*(je){try{return(yield Lt()).transaction(Ti).objectStore(Ti).get(Qn(je))}catch(we){if(we instanceof ne.ZR)j.warn(we.message);else{const ot=In.create("idb-get",{originalErrorMessage:we?.message});j.warn(ot.message)}}})).apply(this,arguments)}function fs(je,we){return En.apply(this,arguments)}function En(){return(En=(0,l.Z)(function*(je,we){try{const Tt=(yield Lt()).transaction(Ti,"readwrite");return yield Tt.objectStore(Ti).put(we,Qn(je)),Tt.done}catch(ot){if(ot instanceof ne.ZR)j.warn(ot.message);else{const Tt=In.create("idb-set",{originalErrorMessage:ot?.message});j.warn(Tt.message)}}})).apply(this,arguments)}function Qn(je){return`${je.name}!${je.options.appId}`}class Fa{constructor(we){this.container=we,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new tn(ot),this._heartbeatsCachePromise=this._storage.read().then(Tt=>(this._heartbeatsCache=Tt,Tt))}triggerHeartbeat(){var we=this;return(0,l.Z)(function*(){const Tt=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=hn();if(null===we._heartbeatsCache&&(we._heartbeatsCache=yield we._heartbeatsCachePromise),we._heartbeatsCache.lastSentHeartbeatDate!==Pt&&!we._heartbeatsCache.heartbeats.some(zt=>zt.date===Pt))return we._heartbeatsCache.heartbeats.push({date:Pt,agent:Tt}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(zt=>{const Mi=new Date(zt.date).valueOf();return Date.now()-Mi<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,l.Z)(function*(){if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null===we._heartbeatsCache||0===we._heartbeatsCache.heartbeats.length)return"";const ot=hn(),{heartbeatsToSend:Tt,unsentEntries:Pt}=function mo(je,we=1024){const ot=[];let Tt=je.slice();for(const Pt of je){const zt=ot.find(Mi=>Mi.agent===Pt.agent);if(zt){if(zt.dates.push(Pt.date),$i(ot)>we){zt.dates.pop();break}}else if(ot.push({agent:Pt.agent,dates:[Pt.date]}),$i(ot)>we){ot.pop();break}Tt=Tt.slice(1)}return{heartbeatsToSend:ot,unsentEntries:Tt}}(we._heartbeatsCache.heartbeats),zt=(0,ne.L)(JSON.stringify({version:2,heartbeats:Tt}));return we._heartbeatsCache.lastSentHeartbeatDate=ot,Pt.length>0?(we._heartbeatsCache.heartbeats=Pt,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),zt})()}}function hn(){return(new Date).toISOString().substring(0,10)}class tn{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,l.Z)(function*(){return(yield we._canUseIndexedDBPromise)&&(yield function Et(je){return Mt.apply(this,arguments)}(we.app))||{heartbeats:[]}})()}overwrite(we){var ot=this;return(0,l.Z)(function*(){var Tt;if(yield ot._canUseIndexedDBPromise){const zt=yield ot.read();return fs(ot.app,{lastSentHeartbeatDate:null!==(Tt=we.lastSentHeartbeatDate)&&void 0!==Tt?Tt:zt.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var ot=this;return(0,l.Z)(function*(){var Tt;if(yield ot._canUseIndexedDBPromise){const zt=yield ot.read();return fs(ot.app,{lastSentHeartbeatDate:null!==(Tt=we.lastSentHeartbeatDate)&&void 0!==Tt?Tt:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...we.heartbeats]})}})()}}function $i(je){return(0,ne.L)(JSON.stringify({version:2,heartbeats:je})).length}!function Yr(je){on(new X.wA("platform-logger",we=>new Q(we),"PRIVATE")),on(new X.wA("heartbeat",we=>new Fa(we),"PRIVATE")),or(ue,"0.9.7",je),or(ue,"0.9.7","esm2017"),or("fire-js","")}("")},4859:(ft,be,F)=>{F.d(be,{H0:()=>ue,wA:()=>P});var l=F(5861),X=F(2090);class P{constructor(j,$,Y){this.name=j,this.instanceFactory=$,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ne="[DEFAULT]";class ie{constructor(j,$){this.name=j,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const $=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has($)){const Y=new X.BH;if(this.instancesDeferred.set($,Y),this.isInitialized($)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:$});Ue&&Y.resolve(Ue)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(j){var $;const Y=this.normalizeInstanceIdentifier(j?.identifier),Ue=null!==($=j?.optional)&&void 0!==$&&$;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(Ce){if(Ue)return null;throw Ce}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function fe(ce){return"EAGER"===ce.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[$,Y]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier($);try{const Ce=this.getOrInitializeService({instanceIdentifier:Ue});Y.resolve(Ce)}catch{}}}}clearInstance(j=ne){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,l.Z)(function*(){const $=Array.from(j.instances.values());yield Promise.all([...$.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...$.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ne){return this.instances.has(j)}getOptions(j=ne){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:$={}}=j,Y=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Y,options:$});for(const[Ce,$e]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(Ce)&&$e.resolve(Ue);return Ue}onInit(j,$){var Y;const Ue=this.normalizeInstanceIdentifier($),Ce=null!==(Y=this.onInitCallbacks.get(Ue))&&void 0!==Y?Y:new Set;Ce.add(j),this.onInitCallbacks.set(Ue,Ce);const $e=this.instances.get(Ue);return $e&&j($e,Ue),()=>{Ce.delete(j)}}invokeOnInitCallbacks(j,$){const Y=this.onInitCallbacks.get($);if(Y)for(const Ue of Y)try{Ue(j,$)}catch{}}getOrInitializeService({instanceIdentifier:j,options:$={}}){let Y=this.instances.get(j);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=j,ce===ne?void 0:ce),options:$}),this.instances.set(j,Y),this.instancesOptions.set(j,$),this.invokeOnInitCallbacks(Y,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Y)}catch{}var ce;return Y||null}normalizeInstanceIdentifier(j=ne){return this.component?this.component.multipleInstances?j:ne:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const $=this.getProvider(j.name);if($.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);$.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const $=new ie(j,this);return this.providers.set(j,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,be,F)=>{F.d(be,{Am:()=>ce,Ub:()=>ue,Yd:()=>fe,in:()=>X});const l=[];var X=(()=>{return(j=X||(X={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",X;var j})();const P={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ne=X.INFO,ie={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},Q=(j,$,...Y)=>{if($<j.logLevel)return;const Ue=(new Date).toISOString(),Ce=ie[$];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ce](`[${Ue}]  ${j.name}:`,...Y)};class fe{constructor($){this.name=$,this._logLevel=ne,this._logHandler=Q,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in X))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?P[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...$),this._logHandler(this,X.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...$),this._logHandler(this,X.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,X.INFO,...$),this._logHandler(this,X.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,X.WARN,...$),this._logHandler(this,X.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...$),this._logHandler(this,X.ERROR,...$)}}function ue(j){l.forEach($=>{$.setLogLevel(j)})}function ce(j,$){for(const Y of l){let Ue=null;$&&$.level&&(Ue=P[$.level]),Y.userLogHandler=null===j?null:(Ce,$e,...ut)=>{const he=ut.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch{return null}}).filter(De=>De).join(" ");$e>=(Ue??Ce.logLevel)&&j({level:X[$e].toLowerCase(),message:he,args:ut,type:Ce.name})}}}},259:(ft,be,F)=>{F.d(be,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=F(9681);(0,l.registerVersion)("firebase","9.19.1","app")},9260:(ft,be,F)=>{F.d(be,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.19.1","app-compat")},9800:(ft,be,F)=>{F.r(be);var l=F(5861),X=F(3942),P=F(2090),ne=F(9681),ie=F(1877),Q=F(655),fe=F(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Y_EMAIL_SIGNIN="EMAIL_SIGNIN",Y_PASSWORD_RESET="PASSWORD_RESET",Y_RECOVER_EMAIL="RECOVER_EMAIL",Y_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Y_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Y_VERIFY_EMAIL="VERIFY_EMAIL";const $e=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ut=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new ie.Yd("@firebase/auth");function Fe(y,...p){xe.logLevel<=ie.in.ERROR&&xe.error(`Auth (${ne.SDK_VERSION}): ${y}`,...p)}function Ee(y,...p){throw ke(y,...p)}function ve(y,...p){return ke(y,...p)}function Ae(y,p,m){const w=Object.assign(Object.assign({},ut()),{[p]:m});return new P.LL("auth","Firebase",w).create(p,{appName:y.name})}function Le(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ee(y,"argument-error"),Ae(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ke(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return he.create(y,...p)}function U(y,p,...m){if(!y)throw ke(p,...m)}function ge(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Fe(p),new Error(p)}function Ve(y,p){y||ge(p)}const qe=new Map;function gt(y){Ve(y instanceof Function,"Expected a class definition");let p=qe.get(y);return p?(Ve(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,qe.set(y,p),p)}function de(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ye(){return"http:"===Me()||"https:"===Me()}function Me(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Xe{constructor(p,m){this.shortDelay=p,this.longDelay=m,Ve(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ye()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ke(y,p){Ve(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class cn{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},on=new Xe(3e4,6e4);function tt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function At(y,p,m,w){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(y,p,m,w,S={}){return _n(y,S,(0,l.Z)(function*(){let O={},Z={};w&&("GET"===p?Z=w:O={body:JSON.stringify(w)});const le=(0,P.xO)(Object.assign({key:y.config.apiKey},Z)).slice(1),Be=yield y._getAdditionalHeaders();return Be["Content-Type"]="application/json",y.languageCode&&(Be["X-Firebase-Locale"]=y.languageCode),cn.fetch()(ds(y,y.config.apiHost,m,le),Object.assign({method:p,headers:Be,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function _n(y,p,m){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},xt),p);try{const S=new br(y),O=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const Z=yield O.json();if("needConfirmation"in Z)throw rr(y,"account-exists-with-different-credential",Z);if(O.ok&&!("errorMessage"in Z))return Z;{const le=O.ok?Z.errorMessage:Z.error.message,[Be,et]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw rr(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Be)throw rr(y,"email-already-in-use",Z);if("USER_DISABLED"===Be)throw rr(y,"user-disabled",Z);const _t=w[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw Ae(y,_t,et);Ee(y,_t)}}catch(S){if(S instanceof P.ZR)throw S;Ee(y,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Rn(y,p,m,w){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(y,p,m,w,S={}){const O=yield At(y,p,m,w,S);return"mfaPendingCredential"in O&&Ee(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function ds(y,p,m,w){const S=`${p}${m}?${w}`;return y.config.emulator?Ke(y.config,S):`${y.config.apiScheme}://${S}`}class br{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ve(this.auth,"network-request-failed")),on.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rr(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const S=ve(y,p,w);return S.customData._tokenResponse=m,S}function Sn(){return(Sn=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function On(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Lt(){return(Lt=(0,l.Z)(function*(y,p=!1){const m=(0,P.m9)(y),w=yield m.getIdToken(p),S=Mt(w);U(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const O="object"==typeof S.firebase?S.firebase:void 0,Z=O?.sign_in_provider;return{claims:S,token:w,authTime:On(Et(S.auth_time)),issuedAtTime:On(Et(S.iat)),expirationTime:On(Et(S.exp)),signInProvider:Z||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Et(y){return 1e3*Number(y)}function Mt(y){const[p,m,w]=y.split(".");if(void 0===p||void 0===m||void 0===w)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,P.tV)(m);return S?JSON.parse(S):(Fe("Failed to decode base64 JWT payload"),null)}catch(S){return Fe("Caught error parsing JWT payload as JSON",S?.toString()),null}}function En(y,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof P.ZR&&function zi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class Ai{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Fa{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=On(this.lastLoginAt),this.creationTime=On(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hn(y){return mo.apply(this,arguments)}function mo(){return mo=(0,l.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),S=yield En(y,function zo(y,p){return Ur.apply(this,arguments)}(m,{idToken:w}));U(S?.users.length,m,"internal-error");const O=S.users[0];y._notifyReloadListener(O);const Z=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function je(y){return y.map(p=>{var{providerId:m}=p,w=(0,Q._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(O.providerUserInfo):[],le=function Yr(y,p){return[...y.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}(y.providerData,Z),_t=!!y.isAnonymous&&!(y.email&&O.passwordHash||le?.length),dt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:le,metadata:new Fa(O.createdAt,O.lastLoginAt),isAnonymous:_t};Object.assign(y,dt)}),mo.apply(this,arguments)}function $i(){return($i=(0,l.Z)(function*(y){const p=(0,P.m9)(y);yield hn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ot(){return(ot=(0,l.Z)(function*(y,p){const m=yield _n(y,{},(0,l.Z)(function*(){const w=(0,P.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:O}=y.config,Z=ds(y,S,"/v1/token",`key=${O}`),le=yield y._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",cn.fetch()(Z,{method:"POST",headers:le,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){U(p.idToken,"internal-error"),U(typeof p.idToken<"u","internal-error"),U(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function fs(y){const p=Mt(y);return U(p,"internal-error"),U(typeof p.exp<"u","internal-error"),U(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,l.Z)(function*(){return U(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:O,expiresIn:Z}=yield function we(y,p){return ot.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(S,O,Number(Z))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:S,expirationTime:O}=m,Z=new Tt;return w&&(U("string"==typeof w,"internal-error",{appName:p}),Z.refreshToken=w),S&&(U("string"==typeof S,"internal-error",{appName:p}),Z.accessToken=S),O&&(U("number"==typeof O,"internal-error",{appName:p}),Z.expirationTime=O),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Tt,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Pt(y,p){U("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class zt{constructor(p){var{uid:m,auth:w,stsTokenManager:S}=p,O=(0,Q._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Fa(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const w=yield En(m,m.stsTokenManager.getToken(m.auth,p));return U(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function hs(y){return Lt.apply(this,arguments)}(this,p)}reload(){return function tn(y){return $i.apply(this,arguments)}(this)}_assign(p){this!==p&&(U(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new zt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,l.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield hn(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield En(p,function jo(y,p){return Sn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,S,O,Z,le,Be,et,_t;const dt=null!==(w=m.displayName)&&void 0!==w?w:void 0,ui=null!==(S=m.email)&&void 0!==S?S:void 0,oo=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,ll=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,$m=null!==(le=m.tenantId)&&void 0!==le?le:void 0,kf=null!==(Be=m._redirectEventId)&&void 0!==Be?Be:void 0,Gm=null!==(et=m.createdAt)&&void 0!==et?et:void 0,Su=null!==(_t=m.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:Tu,emailVerified:Au,isAnonymous:Jd,providerData:uc,stsTokenManager:qm}=m;U(Tu&&qm,p,"internal-error");const Oy=Tt.fromJSON(this.name,qm);U("string"==typeof Tu,p,"internal-error"),Pt(dt,p.name),Pt(ui,p.name),U("boolean"==typeof Au,p,"internal-error"),U("boolean"==typeof Jd,p,"internal-error"),Pt(oo,p.name),Pt(ll,p.name),Pt($m,p.name),Pt(kf,p.name),Pt(Gm,p.name),Pt(Su,p.name);const Mu=new zt({uid:Tu,auth:p,email:ui,emailVerified:Au,displayName:dt,isAnonymous:Jd,photoURL:ll,phoneNumber:oo,tenantId:$m,stsTokenManager:Oy,createdAt:Gm,lastLoginAt:Su});return uc&&Array.isArray(uc)&&(Mu.providerData=uc.map(Wm=>Object.assign({},Wm))),kf&&(Mu._redirectEventId=kf),Mu}static _fromIdTokenResponse(p,m,w=!1){return(0,l.Z)(function*(){const S=new Tt;S.updateFromServerResponse(m);const O=new zt({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield hn(O),O})()}}const H=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var S=this;return(0,l.Z)(function*(){S.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const S=w.storage[m];return void 0===S?null:S})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function B(y,p,m){return`firebase:${y}:${p}:${m}`}class W{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:S,name:O}=this.auth;this.fullUserKey=B(this.userKey,S.apiKey,O),this.fullPersistenceKey=B("persistence",S.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?zt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new W(gt(H),p,w);const S=(yield Promise.all(m.map(function(){var et=(0,l.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return et.apply(this,arguments)}}()))).filter(et=>et);let O=S[0]||gt(H);const Z=B(w,p.config.apiKey,p.name);let le=null;for(const et of m)try{const _t=yield et._get(Z);if(_t){const dt=zt._fromJSON(p,_t);et!==O&&(le=dt),O=et;break}}catch{}const Be=S.filter(et=>et._shouldAllowMigration);return O._shouldAllowMigration&&Be.length?(O=Be[0],le&&(yield O._set(Z,le.toJSON())),yield Promise.all(m.map(function(){var et=(0,l.Z)(function*(_t){if(_t!==O)try{yield _t._remove(Z)}catch{}});return function(_t){return et.apply(this,arguments)}}())),new W(O,p,w)):new W(O,p,w)})()}}function me(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(mn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ee(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ln(p))return"Blackberry";if(ri(p))return"Webos";if(nt(p))return"Safari";if((p.includes("chrome/")||Ze(p))&&!p.includes("edge/"))return"Chrome";if(kn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function ee(y=(0,P.z$)()){return/firefox\//i.test(y)}function nt(y=(0,P.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ze(y=(0,P.z$)()){return/crios\//i.test(y)}function mn(y=(0,P.z$)()){return/iemobile/i.test(y)}function kn(y=(0,P.z$)()){return/android/i.test(y)}function Ln(y=(0,P.z$)()){return/blackberry/i.test(y)}function ri(y=(0,P.z$)()){return/webos/i.test(y)}function Vt(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Kh(y=(0,P.z$)()){return Vt(y)||kn(y)||ri(y)||Ln(y)||/windows phone/i.test(y)||mn(y)}function Sl(y,p=[]){let m;switch(y){case"Browser":m=me((0,P.z$)());break;case"Worker":m=`${me((0,P.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ne.SDK_VERSION}/${w}`}class Tl{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=O=>new Promise((Z,le)=>{try{Z(p(O))}catch(Be){le(Be)}});w.onAbort=m,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===p)return;const w=[];try{for(const S of m.queue)yield S(p),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const O of w)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Qh{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lc(this),this.idTokenSubscription=new Lc(this),this.beforeStateQueue=new Tl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=gt(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,O;if(!w._deleted&&(w.persistenceManager=yield W.create(w,p),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var w;const S=yield m.assertedPersistence.getCurrentUser();let O=S,Z=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const le=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Be=O?._redirectEventId,et=yield m.tryRedirectSignIn(p);(!le||le===Be)&&et?.user&&(O=et.user,Z=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(Z)try{yield m.beforeStateQueue.runMiddleware(O)}catch(le){O=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(le))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return U(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){try{yield hn(p)}catch(w){if("auth/network-request-failed"!==w?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function He(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const w=p?(0,P.m9)(p):null;return w&&U(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&U(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(gt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new P.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,l.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&gt(p)||m._popupRedirectResolver;U(w,m,"argument-error"),m.redirectPersistenceManager=yield W.create(m,[gt(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var w,S;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,S){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return U(Z,this,"internal-error"),Z.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,w,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Sl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(w["X-Firebase-Client"]=S),w})()}}function Vn(y){return(0,P.m9)(y)}class Lc{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nn(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function gi(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class oi{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ge("not implemented")}_getIdTokenResponse(p){return ge("not implemented")}_linkToIdToken(p,m){return ge("not implemented")}_getReauthenticationResolver(p){return ge("not implemented")}}function Ri(y,p){return Al.apply(this,arguments)}function Al(){return(Al=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:resetPassword",tt(y,p))})).apply(this,arguments)}function ps(y,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",tt(y,p))})).apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithPassword",tt(y,p))})).apply(this,arguments)}function Qr(y,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:sendOobCode",tt(y,p))})).apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(y,p){return Qr(y,p)})).apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(y,p){return Qr(y,p)})).apply(this,arguments)}function Hs(){return(Hs=(0,l.Z)(function*(y,p){return Qr(y,p)})).apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(y,p){return Qr(y,p)})).apply(this,arguments)}function _i(){return(_i=(0,l.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithEmailLink",tt(y,p))})).apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithEmailLink",tt(y,p))})).apply(this,arguments)}class qi extends oi{constructor(p,m,w,S=null){super("password",w),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new qi(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new qi(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function yn(y,p){return sr.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function js(y,p){return _i.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ee(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return ps(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function zs(y,p){return qo.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Ee(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Wi(y,p){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,l.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithIdp",tt(y,p))})).apply(this,arguments)}class yo extends oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new yo(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ee("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=m,O=(0,Q._T)(m,["providerId","signInMethod"]);if(!w||!S)return null;const Z=new yo(w,S);return Z.idToken=O.idToken||void 0,Z.accessToken=O.accessToken||void 0,Z.secret=O.secret,Z.nonce=O.nonce,Z.pendingToken=O.pendingToken||null,Z}_getIdTokenResponse(p){return Wi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Wi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Wi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,P.xO)(m)}return p}}function Ml(){return(Ml=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:sendVerificationCode",tt(y,p))})).apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithPhoneNumber",tt(y,p))})).apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(y,p){const m=yield Rn(y,"POST","/v1/accounts:signInWithPhoneNumber",tt(y,p));if(m.temporaryProof)throw rr(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const um={USER_NOT_FOUND:"user-not-found"};function lr(){return(lr=(0,l.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithPhoneNumber",tt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),um)})).apply(this,arguments)}class vo extends oi{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new vo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new vo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function gs(y,p){return Er.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function $s(y,p){return yi.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ar(y,p){return lr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:O}=p;return w||m||S||O?new vo({verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:O}):null}}class Oi{constructor(p){var m,w,S,O,Z,le;const Be=(0,P.zd)((0,P.pd)(p)),et=null!==(m=Be.apiKey)&&void 0!==m?m:null,_t=null!==(w=Be.oobCode)&&void 0!==w?w:null,dt=function Rl(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Be.mode)&&void 0!==S?S:null);U(et&&_t&&dt,"argument-error"),this.apiKey=et,this.operation=dt,this.code=_t,this.continueUrl=null!==(O=Be.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Z=Be.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(le=Be.tenantId)&&void 0!==le?le:null}static parseLink(p){const m=function _s(y){const p=(0,P.zd)((0,P.pd)(y)).link,m=p?(0,P.zd)((0,P.pd)(p)).deep_link_id:null,w=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(w?(0,P.zd)((0,P.pd)(w)).link:null)||w||m||p||y}(p);try{return new Oi(m)}catch{return null}}}let _d=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return qi._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const S=Oi.parseLink(w);return U(S,"argument-error"),qi._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class bo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ys extends bo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Na extends ys{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return U("providerId"in m&&"signInMethod"in m,"argument-error"),yo._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return U(p.idToken||p.accessToken,"argument-error"),yo._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Na.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Na.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:O,nonce:Z,providerId:le}=p;if(!w&&!S&&!m&&!O||!le)return null;try{return new Na(le)._credential({idToken:m,accessToken:w,nonce:Z,pendingToken:O})}catch{return null}}}let Hc=(()=>{class y extends ys{constructor(){super("facebook.com")}static credential(m){return yo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Xh=(()=>{class y extends ys{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return yo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:S}=m;if(!w&&!S)return null;try{return y.credential(w,S)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Jh=(()=>{class y extends ys{constructor(){super("github.com")}static credential(m){return yo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Gs extends oi{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Wi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Wi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Wi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:O}=m;return w&&S&&O&&w===S?new Gs(w,O):null}static _create(p,m){return new Gs(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xr extends bo{constructor(p){U(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Xr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Xr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Gs.fromJSON(p);return U(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Gs._create(w,m)}catch{return null}}}let hm=(()=>{class y extends ys{constructor(){super("twitter.com")}static credential(m,w){return yo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=m;if(!w||!S)return null;try{return y.credential(w,S)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function bs(y,p){return jc.apply(this,arguments)}function jc(){return(jc=(0,l.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signUp",tt(y,p))})).apply(this,arguments)}class Cr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,S=!1){return(0,l.Z)(function*(){const O=yield zt._fromIdTokenResponse(p,w,S),Z=zc(w);return new Cr({user:O,providerId:Z,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=zc(w);return new Cr({user:p,providerId:S,_tokenResponse:w,operationType:m})})()}}function zc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function yd(){return(yd=(0,l.Z)(function*(y){var p;const m=Vn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Cr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield bs(m,{returnSecureToken:!0}),S=yield Cr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class kl extends P.ZR{constructor(p,m,w,S){var O;super(m.code,m.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,kl.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,S){return new kl(p,m,w,S)}}function fm(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?kl._fromErrorAndOperation(y,O,p,w):O})}function cr(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ws(){return ws=(0,l.Z)(function*(y,p){const m=(0,P.m9)(y);yield Ws(!0,m,p);const{providerUserInfo:w}=yield function or(y,p){return vt.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=cr(w||[]);return m.providerData=m.providerData.filter(O=>S.has(O.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),ws.apply(this,arguments)}function La(y,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,l.Z)(function*(y,p,m=!1){const w=yield En(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Cr._forOperation(y,"link",w)})).apply(this,arguments)}function Ws(y,p,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(y,p,m){yield hn(p);const S=!1===y?"provider-already-linked":"no-such-provider";U(cr(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function $c(y,p){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,l.Z)(function*(y,p,m=!1){const{auth:w}=y,S="reauthenticate";try{const O=yield En(y,fm(w,S,p,y),m);U(O.idToken,w,"internal-error");const Z=Mt(O.idToken);U(Z,w,"internal-error");const{sub:le}=Z;return U(y.uid===le,w,"user-mismatch"),Cr._forOperation(y,S,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ee(w,"user-mismatch"),O}})).apply(this,arguments)}function Wo(y,p){return bd.apply(this,arguments)}function bd(){return(bd=(0,l.Z)(function*(y,p,m=!1){const w="signIn",S=yield fm(y,w,p),O=yield Cr._fromIdTokenResponse(y,w,S);return m||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function an(y,p){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(y,p){return Wo(Vn(y),p)})).apply(this,arguments)}function Ba(y,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(y,p){const m=(0,P.m9)(y);return yield Ws(!1,m,p.providerId),La(m,p)})).apply(this,arguments)}function Nl(y,p){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,l.Z)(function*(y,p){return $c((0,P.m9)(y),p)})).apply(this,arguments)}function Ua(){return(Ua=(0,l.Z)(function*(y,p){return Rn(y,"POST","/v1/accounts:signInWithCustomToken",tt(y,p))})).apply(this,arguments)}function eo(){return eo=(0,l.Z)(function*(y,p){const m=Vn(y),w=yield function ki(y,p){return Ua.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),S=yield Cr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(S.user),S}),eo.apply(this,arguments)}class si{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?qc._fromServerResponse(p,m):"totpInfo"in m?Zs._fromServerResponse(p,m):Ee(p,"internal-error")}}class qc extends si{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new qc(m)}}class Zs extends si{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Zs(m)}}function Ha(y,p,m){var w;U((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),U(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(U(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(U(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Ys(){return Ys=(0,l.Z)(function*(y,p,m){const w=(0,P.m9)(y),S={requestType:"PASSWORD_RESET",email:p};m&&Ha(w,S,m),yield function go(y,p){return Pa.apply(this,arguments)}(w,S)}),Ys.apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(y,p,m){yield Ri((0,P.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Ll(){return Ll=(0,l.Z)(function*(y,p){yield function Je(y,p){return Bt.apply(this,arguments)}((0,P.m9)(y),{oobCode:p})}),Ll.apply(this,arguments)}function Ed(y,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(y,p){const m=(0,P.m9)(y),w=yield Ri(m,{oobCode:p}),S=w.requestType;switch(U(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(w.mfaInfo,m,"internal-error");default:U(w.email,m,"internal-error")}let O=null;return w.mfaInfo&&(O=si._fromServerResponse(Vn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:S}})).apply(this,arguments)}function Vl(){return(Vl=(0,l.Z)(function*(y,p){const{data:m}=yield Ed((0,P.m9)(y),p);return m.email})).apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(y,p,m){const w=Vn(y),S=yield bs(w,{returnSecureToken:!0,email:p,password:m}),O=yield Cr._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function Bl(){return Bl=(0,l.Z)(function*(y,p,m){const w=(0,P.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};U(m.handleCodeInApp,w,"argument-error"),m&&Ha(w,S,m),yield function qt(y,p){return Hs.apply(this,arguments)}(w,S)}),Bl.apply(this,arguments)}function Zc(){return(Zc=(0,l.Z)(function*(y,p,m){const w=(0,P.m9)(y),S=_d.credentialWithLink(p,m||de());return U(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),an(w,S)})).apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:createAuthUri",tt(y,p))})).apply(this,arguments)}function Qs(){return Qs=(0,l.Z)(function*(y,p){const w={identifier:p,continueUri:ye()?de():"http://localhost"},{signinMethods:S}=yield function Ks(y,p){return ur.apply(this,arguments)}((0,P.m9)(y),w);return S||[]}),Qs.apply(this,arguments)}function Ul(){return Ul=(0,l.Z)(function*(y,p){const m=(0,P.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Ha(m.auth,S,p);const{email:O}=yield function ms(y,p){return Tn.apply(this,arguments)}(m.auth,S);O!==y.email&&(yield y.reload())}),Ul.apply(this,arguments)}function Un(){return Un=(0,l.Z)(function*(y,p,m){const w=(0,P.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Ha(w.auth,O,m);const{email:Z}=yield function Go(y,p){return _o.apply(this,arguments)}(w.auth,O);Z!==y.email&&(yield y.reload())}),Un.apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dr(){return Dr=(0,l.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,P.m9)(y),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Z=yield En(w,function dr(y,p){return za.apply(this,arguments)}(w.auth,O));w.displayName=Z.displayName||null,w.photoURL=Z.photoUrl||null;const le=w.providerData.find(({providerId:Be})=>"password"===Be);le&&(le.displayName=w.displayName,le.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Z)}),Dr.apply(this,arguments)}function Id(y,p,m){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,l.Z)(function*(y,p,m){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const Z=yield En(y,ps(w,O));yield y._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class Es{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Qc extends Es{constructor(p,m,w,S){super(p,m,w),this.username=S}}class zl extends Es{constructor(p,m){super(p,"facebook.com",m)}}class pm extends Qc{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Xc extends Es{constructor(p,m){super(p,"google.com",m)}}class Sd extends Qc{constructor(p,m,w){super(p,"twitter.com",m,w)}}function mm(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function jl(y){var p,m;if(!y)return null;const{providerId:w}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const Z=null===(m=null===(p=Mt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new Es(O,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!w)return null;switch(w){case"facebook.com":return new zl(O,S);case"github.com":return new pm(O,S);case"google.com":return new Xc(O,S);case"twitter.com":return new Sd(O,S,y.screenName||null);case"custom":case"anonymous":return new Es(O,null);default:return new Es(O,w,S)}}(m)}class Eo{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new Eo("enroll",p,m)}static _fromMfaPendingCredential(p){return new Eo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Eo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Eo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Jn{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Vn(p),S=m.customData._serverResponse,O=(S.mfaInfo||[]).map(le=>si._fromServerResponse(w,le));U(S.mfaPendingCredential,w,"internal-error");const Z=Eo._fromMfaPendingCredential(S.mfaPendingCredential);return new Jn(Z,O,function(){var le=(0,l.Z)(function*(Be){const et=yield Be._process(w,Z);delete S.mfaInfo,delete S.mfaPendingCredential;const _t=Object.assign(Object.assign({},S),{idToken:et.idToken,refreshToken:et.refreshToken});switch(m.operationType){case"signIn":const dt=yield Cr._fromIdTokenResponse(w,m.operationType,_t);return yield w._updateCurrentUser(dt.user),dt;case"reauthenticate":return U(m.user,w,"internal-error"),Cr._forOperation(m.user,m.operationType,_t);default:Ee(w,"internal-error")}});return function(Be){return le.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}class Xs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>si._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Xs(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Eo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,l.Z)(function*(){const S=p,O=yield w.getSession(),Z=yield En(w.user,S._process(w.user.auth,O,m));return yield w.user._updateTokensIfNecessary(Z),w.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield m.user.getIdToken();try{const O=yield En(m.user,function tu(y,p){return At(y,"POST","/v2/accounts/mfaEnrollment:withdraw",tt(y,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Z})=>Z!==w),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const Cs=new WeakMap,$l="__sak";class xr{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem($l,"1"),this.storage.removeItem($l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const nu=(()=>{class y extends xr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qa(){const y=(0,P.z$)();return nt(y)||Vt(y)}()&&function Nc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Kh(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),O=this.localCache[w];S!==O&&m(w,O,S)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((le,Be,et)=>{this.notifyListeners(le,et)});const S=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(S);if(m.newValue!==le)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!w)return}const O=()=>{const le=this.storage.getItem(S);!w&&this.localCache[S]===le||this.notifyListeners(S,le)},Z=this.storage.getItem(S);!function Il(){return(0,P.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var S=()=>super._set,O=this;return(0,l.Z)(function*(){yield S().call(O,m,w),O.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,S=this;return(0,l.Z)(function*(){const O=yield w().call(S,m);return S.localCache[m]=JSON.stringify(O),O})()}_remove(m){var w=()=>super._remove,S=this;return(0,l.Z)(function*(){yield w().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),Ir=(()=>{class y extends xr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let af=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(O=>O.isListeningto(m));if(w)return w;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const S=m,{eventId:O,eventType:Z,data:le}=S.data,Be=w.handlersMap[Z];if(!Be?.size)return;S.ports[0].postMessage({status:"ack",eventId:O,eventType:Z});const et=Array.from(Be).map(function(){var dt=(0,l.Z)(function*(ui){return ui(S.origin,le)});return function(ui){return dt.apply(this,arguments)}}()),_t=yield function iu(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(et);S.ports[0].postMessage({status:"done",eventId:O,eventType:Z,response:_t})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function to(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class Js{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var S=this;return(0,l.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Z,le;return new Promise((Be,et)=>{const _t=to("",20);O.port1.start();const dt=setTimeout(()=>{et(new Error("unsupported_event"))},w);le={messageChannel:O,onMessage(ui){const oo=ui;if(oo.data.eventId===_t)switch(oo.data.status){case"ack":clearTimeout(dt),Z=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Be(oo.data.response);break;default:clearTimeout(dt),clearTimeout(Z),et(new Error("invalid_response"))}}},S.handlers.add(le),O.port1.addEventListener("message",le.onMessage),S.target.postMessage({eventType:p,eventId:_t,data:m},[O.port2])}).finally(()=>{le&&S.removeMessageHandler(le)})})()}}function Dn(){return window}function Ds(){return typeof Dn().WorkerGlobalScope<"u"&&"function"==typeof Dn().importScripts}function ea(){return(ea=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Wa="firebaseLocalStorageDb",na=1,ou="firebaseLocalStorage",ia="fbase_key";class xs{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Co(y,p){return y.transaction([ou],p?"readwrite":"readonly").objectStore(ou)}function Za(){const y=indexedDB.open(Wa,na);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(ou,{keyPath:ia})}catch(S){m(S)}}),y.addEventListener("success",(0,l.Z)(function*(){const w=y.result;w.objectStoreNames.contains(ou)?p(w):(w.close(),yield function Sr(){const y=indexedDB.deleteDatabase(Wa);return new xs(y).toPromise()}(),p(yield Za()))}))})}function ra(y,p,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(y,p,m){const w=Co(y,!0).put({[ia]:p,value:m});return new xs(w).toPromise()})).apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(y,p){const m=Co(y,!1).get(p),w=yield new xs(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function oa(y,p){const m=Co(y,!0).delete(p);return new xs(m).toPromise()}const Do=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield Za()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const O=yield w._openDb();return yield m(O)}catch(O){if(S++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return Ds()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=af._getInstance(function ta(){return Ds()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(S,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(S,O){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(S,O){return["keyChanged"]});return function(S,O){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,S;if(m.activeServiceWorker=yield function ru(){return ea.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Js(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);O&&null!==(w=O[0])&&void 0!==w&&w.fulfilled&&null!==(S=O[0])&&void 0!==S&&S.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function lf(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Za();return yield ra(m,$l,"1"),yield oa(m,$l),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(O=>ra(O,m,w)),S.localCache[m]=w,S.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const S=yield w._withRetries(O=>function Gl(y,p){return Qo.apply(this,arguments)}(O,m));return w.localCache[m]=S,S})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(S=>oa(S,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(Z=>{const le=Co(Z,!1).getAll();return new xs(le).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const S=[],O=new Set;for(const{fbase_key:Z,value:le}of w)O.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(le)&&(m.notifyListeners(Z,le),S.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!O.has(Z)&&(m.notifyListeners(Z,null),S.push(Z));return S})()}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ss(){return(Ss=(0,l.Z)(function*(y){return(yield At(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wl(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=S=>{const O=ve("internal-error");O.customData=S,m(O)},w.type="text/javascript",w.charset="UTF-8",function Od(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Fi(y){return`__${y}${Math.floor(1e6*Math.random())}`}const sa=1e12;class Fd{constructor(p){this.auth=p,this.counter=sa,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Pd(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||sa;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||sa))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(p||sa))||void 0===w||w.execute(),""})()}}class Pd{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;U(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zl(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xo=Fi("rcb"),Ts=new Xe(3e4,6e4);class Em{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Dn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return U(function Nd(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Dn().grecaptcha):new Promise((w,S)=>{const O=Dn().setTimeout(()=>{S(ve(p,"network-request-failed"))},Ts.get());Dn()[xo]=()=>{Dn().clearTimeout(O),delete Dn()[xo];const le=Dn().grecaptcha;if(!le)return void S(ve(p,"internal-error"));const Be=le.render;le.render=(et,_t)=>{const dt=Be(et,_t);return this.counter++,dt},this.hostLanguage=m,w(le)},Wl(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:xo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),S(ve(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Dn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class aa{load(p){return(0,l.Z)(function*(){return new Fd(p)})()}clearedOneInstance(){}}const df="recaptcha",Xo={theme:"light",type:"image"};class vn{constructor(p,m=Object.assign({},Xo),w){this.parameters=m,this.type=df,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vn(w),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;U(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new aa:new Em,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(O=>{const Z=le=>{le&&(p.tokenChangeListeners.delete(Z),O(le))};p.tokenChangeListeners.add(Z),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Dn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){U(ye()&&!Ds(),p.auth,"internal-error"),yield function hf(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Is(y){return Ss.apply(this,arguments)}(p.auth);U(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qa{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=vo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function pf(){return(pf=(0,l.Z)(function*(y,p,m){const w=Vn(y),S=yield gf(w,p,(0,P.m9)(m));return new Qa(S,O=>an(w,O))})).apply(this,arguments)}function mf(){return(mf=(0,l.Z)(function*(y,p,m){const w=(0,P.m9)(y);yield Ws(!1,w,"phone");const S=yield gf(w.auth,p,(0,P.m9)(m));return new Qa(S,O=>Ba(w,O))})).apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(y,p,m){const w=(0,P.m9)(y),S=yield gf(w.auth,p,(0,P.m9)(m));return new Qa(S,O=>Nl(w,O))})).apply(this,arguments)}function gf(y,p,m){return _f.apply(this,arguments)}function _f(){return _f=(0,l.Z)(function*(y,p,m){var w;const S=yield m.verify();try{let O;if(U("string"==typeof S,y,"argument-error"),U(m.type===df,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const Z=O.session;if("phoneNumber"in O)return U("enroll"===Z.type,y,"internal-error"),(yield function hr(y,p){return At(y,"POST","/v2/accounts/mfaEnrollment:start",tt(y,p))}(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{U("signin"===Z.type,y,"internal-error");const le=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return U(le,y,"missing-multi-factor-info"),(yield function Rd(y,p){return At(y,"POST","/v2/accounts/mfaSignIn:start",tt(y,p))}(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield function Uc(y,p){return Ml.apply(this,arguments)}(y,{phoneNumber:O.phoneNumber,recaptchaToken:S});return Z}}finally{m._reset()}}),_f.apply(this,arguments)}function Yl(){return(Yl=(0,l.Z)(function*(y,p){yield La((0,P.m9)(y),p)})).apply(this,arguments)}let Io=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Vn(m)}verifyPhoneNumber(m,w){return gf(this.auth,m,(0,P.m9)(w))}static credential(m,w){return vo._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:S}=m;return w&&S?vo._fromTokenResponse(w,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ca(y,p){return p?gt(p):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Pi extends oi{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Wi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Wi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Wi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Jo(y){return Wo(y.auth,new Pi(y),y.bypassAuthState)}function au(y){const{auth:p,user:m}=y;return U(m,p,"internal-error"),$c(m,new Pi(y),y.bypassAuthState)}function Xa(y){return es.apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(y){const{auth:p,user:m}=y;return U(m,p,"internal-error"),La(m,new Pi(y),y.bypassAuthState)})).apply(this,arguments)}class ua{constructor(p,m,w,S,O=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:O,tenantId:Z,error:le,type:Be}=p;if(le)return void m.reject(le);const et={auth:m.auth,requestUri:w,sessionId:S,tenantId:Z||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Be)(et))}catch(_t){m.reject(_t)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Jo;case"linkViaPopup":case"linkViaRedirect":return Xa;case"reauthViaPopup":case"reauthViaRedirect":return au;default:Ee(this.auth,"internal-error")}}resolve(p){Ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ld=new Xe(2e3,1e4);function Dm(){return(Dm=(0,l.Z)(function*(y,p,m){const w=Vn(y);Le(y,p,bo);const S=ca(w,m);return new $n(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(y,p,m){const w=(0,P.m9)(y);Le(w.auth,p,bo);const S=ca(w.auth,m);return new $n(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function Nt(){return(Nt=(0,l.Z)(function*(y,p,m){const w=(0,P.m9)(y);Le(w.auth,p,bo);const S=ca(w.auth,m);return new $n(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let $n=(()=>{class y extends ua{constructor(m,w,S,O,Z){super(m,w,O,Z),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return U(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){Ve(1===m.filter.length,"Popup operations only handle one event");const w=to();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ld.get())};m()}}return y.currentPopupAction=null,y})();const vf="pendingRedirect",ts=new Map;class Mn extends ua{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=ts.get(m.auth._key());if(!w){try{const O=(yield function bf(y,p){return So.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(O)}catch(S){w=()=>Promise.reject(S)}ts.set(m.auth._key(),w)}return m.bypassAuthState||ts.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function So(){return(So=(0,l.Z)(function*(y,p){const m=rt(p),w=io(y);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(m));return yield w._remove(m),S})).apply(this,arguments)}function Vd(y,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,l.Z)(function*(y,p){return io(y)._set(rt(p),"true")})).apply(this,arguments)}function ha(y,p){ts.set(y._key(),p)}function io(y){return gt(y._redirectPersistence)}function rt(y){return B(vf,y.config.apiKey,y.name)}function x(y,p,m){return function I(y,p,m){return M.apply(this,arguments)}(y,p,m)}function M(){return(M=(0,l.Z)(function*(y,p,m){const w=Vn(y);Le(y,p,bo),yield w._initializationPromise;const S=ca(w,m);return yield Vd(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function L(y,p,m){return function q(y,p,m){return te.apply(this,arguments)}(y,p,m)}function te(){return(te=(0,l.Z)(function*(y,p,m){const w=(0,P.m9)(y);Le(w.auth,p,bo),yield w.auth._initializationPromise;const S=ca(w.auth,m);yield Vd(S,w.auth);const O=yield Hn(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function Ie(y,p,m){return function lt(y,p,m){return ct.apply(this,arguments)}(y,p,m)}function ct(){return(ct=(0,l.Z)(function*(y,p,m){const w=(0,P.m9)(y);Le(w.auth,p,bo),yield w.auth._initializationPromise;const S=ca(w.auth,m);yield Ws(!1,w,p.providerId),yield Vd(S,w.auth);const O=yield Hn(w);return S._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function Yt(){return(Yt=(0,l.Z)(function*(y,p){return yield Vn(y)._initializationPromise,It(y,p,!1)})).apply(this,arguments)}function It(y,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,l.Z)(function*(y,p,m=!1){const w=Vn(y),S=ca(w,p),Z=yield new Mn(w,S,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield w._persistUserIfCurrent(Z.user),yield w._setRedirectUser(null,p)),Z})).apply(this,arguments)}function Hn(y){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(y){const p=to(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class jr{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function jn(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xn(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!xn(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gn(p))}saveEventToCache(p){this.cachedEventUids.add(Gn(p)),this.lastProcessedEventTime=Date.now()}}function Gn(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function xn({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Bd(y){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,l.Z)(function*(y,p={}){return At(y,"GET","/v1/projects",p)})).apply(this,arguments)}const qn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ci=/^https?/;function Wn(){return(Wn=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Bd(y);for(const m of p)try{if(Ni(m))return}catch{}Ee(y,"unauthorized-domain")})).apply(this,arguments)}function Ni(y){const p=de(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===w}if(!Ci.test(m))return!1;if(qn.test(y))return w===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Xl=new Xe(3e4,6e4);function xm(){const y=Dn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Tr=null;const ci=new Xe(5e3,15e3),pa="__/auth/iframe",nw="emulator/auth/iframe",Ud={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ef(y){const p=y.config;U(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Ke(p,nw):`https://${y.config.authDomain}/${pa}`,w={apiKey:p.apiKey,appName:y.name,v:ne.SDK_VERSION},S=wf.get(y.config.apiHost);S&&(w.eid=S);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${m}?${(0,P.xO)(w).slice(1)}`}function lu(){return lu=(0,l.Z)(function*(y){const p=yield function el(y){return Tr=Tr||function tw(y){return new Promise((p,m)=>{var w,S,O;function Z(){xm(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{xm(),m(ve(y,"network-request-failed"))},timeout:Xl.get()})}if(null!==(S=null===(w=Dn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Dn().gapi)||void 0===O||!O.load){const le=Fi("iframefcb");return Dn()[le]=()=>{gapi.load?Z():m(ve(y,"network-request-failed"))},Wl(`https://apis.google.com/js/api.js?onload=${le}`).catch(Be=>m(Be))}Z()}}).catch(p=>{throw Tr=null,p})}(y),Tr}(y),m=Dn().gapi;return U(m,y,"internal-error"),p.open({where:document.body,url:Ef(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ud,dontclear:!0},w=>new Promise(function(){var S=(0,l.Z)(function*(O,Z){yield w.restyle({setHideOnLeave:!1});const le=ve(y,"network-request-failed"),Be=Dn().setTimeout(()=>{Z(le)},ci.get());function et(){Dn().clearTimeout(Be),O(w)}w.ping(et).then(et,()=>{Z(le)})});return function(O,Z){return S.apply(this,arguments)}}()))}),lu.apply(this,arguments)}const cu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ht=500,Ar=600,Ey="_blank",Jl="http://localhost";class Im{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Tm="__/auth/handler",Am="emulator/auth/handler";function jd(y,p,m,w,S,O){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:ne.SDK_VERSION,eventId:S};if(p instanceof bo){p.setDefaultLanguage(y.languageCode),Z.providerId=p.providerId||"",(0,P.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Be,et]of Object.entries(O||{}))Z[Be]=et}if(p instanceof ys){const Be=p.getScopes().filter(et=>""!==et);Be.length>0&&(Z.scopes=Be.join(","))}y.tenantId&&(Z.tid=y.tenantId);const le=Z;for(const Be of Object.keys(le))void 0===le[Be]&&delete le[Be];return`${function Cy({config:y}){return y.emulator?Ke(y,Am):`https://${y.authDomain}/${Tm}`}(y)}?${(0,P.xO)(le).slice(1)}`}const vi="webStorageSupport",Di=class ma{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ir,this._completeRedirectFn=It,this._overrideRedirectResult=ha}_openPopup(p,m,w,S){var O=this;return(0,l.Z)(function*(){var Z;Ve(null===(Z=O.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const le=jd(p,m,w,de(),S);return function Sm(y,p,m,w=Ht,S=Ar){const O=Math.max((window.screen.availHeight-S)/2,0).toString(),Z=Math.max((window.screen.availWidth-w)/2,0).toString();let le="";const Be=Object.assign(Object.assign({},cu),{width:w.toString(),height:S.toString(),top:O,left:Z}),et=(0,P.z$)().toLowerCase();m&&(le=Ze(et)?Ey:m),ee(et)&&(p=p||Jl,Be.scrollbars="yes");const _t=Object.entries(Be).reduce((ui,[oo,ll])=>`${ui}${oo}=${ll},`,"");if(function Kr(y=(0,P.z$)()){var p;return Vt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(et)&&"_self"!==le)return function ro(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",le),new Im(null);const dt=window.open(p||"",le,_t);U(dt,y,"popup-blocked");try{dt.focus()}catch{}return new Im(dt)}(p,le,to())})()}_openRedirect(p,m,w,S){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(p),function Yo(y){Dn().location.href=y}(jd(p,m,w,de(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:O}=this.eventManagers[m];return S?Promise.resolve(S):(Ve(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const w=yield function Hd(y){return lu.apply(this,arguments)}(p),S=new jr(p);return w.register("authEvent",O=>(U(O?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(vi,{type:vi},S=>{var O;const Z=null===(O=S?.[0])||void 0===O?void 0:O[vi];void 0!==Z&&m(!!Z),Ee(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function fa(y){return Wn.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Kh()||nt()||Vt()}};class Cf{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return ge("unexpected MultiFactorSessionType")}}}class uu extends Cf{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new uu(p)}_finalizeEnroll(p,m,w){return function ym(y,p){return At(y,"POST","/v2/accounts/mfaEnrollment:finalize",tt(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Hr(y,p){return At(y,"POST","/v2/accounts/mfaSignIn:finalize",tt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let zd=(()=>{class y{constructor(){}static assertion(m){return uu._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var xf="@firebase/auth";class _a{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function il(){return window}(0,P.Pz)("authIdTokenMaxAge"),function du(y){(0,ne._registerComponent)(new fe.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:O,authDomain:Z}=w.options;return((le,Be)=>{U(O&&!O.includes(":"),"invalid-api-key",{appName:le.name}),U(!Z?.includes(":"),"argument-error",{appName:le.name});const et={apiKey:O,authDomain:Z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sl(y)},_t=new Qh(le,Be,et);return function se(y,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(gt);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(_t,m),_t})(w,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ne._registerComponent)(new fe.wA("auth-internal",p=>{const m=Vn(p.getProvider("auth").getImmediate());return new _a(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)(xf,"0.22.0",function Qt(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ne.registerVersion)(xf,"0.22.0","esm2017")}("Browser");const ya=2e3;function Gd(){return Gd=(0,l.Z)(function*(y,p,m){var w;const{BuildInfo:S}=il();Ve(p.sessionId,"AuthEvent did not contain a session ID");const O=yield function Dy(y){return pu.apply(this,arguments)}(p.sessionId),Z={};return Vt()?Z.ibi=S.packageName:kn()?Z.apn=S.packageName:Ee(y,"operation-not-supported-in-this-environment"),S.displayName&&(Z.appDisplayName=S.displayName),Z.sessionId=O,jd(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,Z)}),Gd.apply(this,arguments)}function fu(){return(fu=(0,l.Z)(function*(y){const{BuildInfo:p}=il(),m={};Vt()?m.iosBundleId=p.packageName:kn()?m.androidPackageName=p.packageName:Ee(y,"operation-not-supported-in-this-environment"),yield Bd(y,m)})).apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(y,p,m){const{cordova:w}=il();let S=()=>{};try{yield new Promise((O,Z)=>{let le=null;function Be(){var dt;O();const ui=null===(dt=w.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof ui&&ui(),"function"==typeof m?.close&&m.close()}function et(){le||(le=window.setTimeout(()=>{Z(ve(y,"redirect-cancelled-by-user"))},ya))}function _t(){"visible"===document?.visibilityState&&et()}p.addPassiveListener(Be),document.addEventListener("resume",et,!1),kn()&&document.addEventListener("visibilitychange",_t,!1),S=()=>{p.removePassiveListener(Be),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",_t,!1),le&&window.clearTimeout(le)}})}finally{S()}})).apply(this,arguments)}function pu(){return(pu=(0,l.Z)(function*(y){const p=function xy(y){if(Ve(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Wd=20;class Iy extends jr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function Om(y){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,l.Z)(function*(y){const p=yield _u()._get(Ms(y));return p&&(yield _u()._remove(Ms(y))),p})).apply(this,arguments)}function gu(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<Wd;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function _u(){return gt(nu)}function Ms(y){return B("authEvent",y.config.apiKey,y.name)}function rc(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,P.zd)(m.join("?"))}const oc=class km{constructor(){this._redirectPersistence=Ir,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=It,this._overrideRedirectResult=ha}_initialize(p){var m=this;return(0,l.Z)(function*(){const w=p._key();let S=m.eventManagers.get(w);return S||(S=new Iy(p),m.eventManagers.set(w,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){Ee(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,S){var O=this;return(0,l.Z)(function*(){!function If(y){var p,m,w,S,O,Z,le,Be,et,_t;const dt=il();U("function"==typeof(null===(p=dt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(m=dt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(O=null===(S=null===(w=dt?.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Be=null===(le=null===(Z=dt?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===le?void 0:le.browsertab)||void 0===Be?void 0:Be.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(_t=null===(et=dt?.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===_t?void 0:_t.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Z=yield O._initialize(p);yield Z.initialized(),Z.resetRedirect(),function da(){ts.clear()}(),yield O._originValidation(p);const le=function Sy(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:gu(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(p,w,S);yield function Ty(y,p){return _u()._set(Ms(y),p)}(p,le);const Be=yield function hu(y,p,m){return Gd.apply(this,arguments)}(p,le,m),et=yield function qd(y){const{cordova:p}=il();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let S=null;w?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function Gi(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Be);return function As(y,p,m){return ic.apply(this,arguments)}(p,Z,et)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function nc(y){return fu.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:S,BuildInfo:O}=il(),Z=setTimeout((0,l.Z)(function*(){yield Om(p),m.onEvent(sc())}),500),le=function(){var _t=(0,l.Z)(function*(dt){clearTimeout(Z);const ui=yield Om(p);let oo=null;ui&&dt?.url&&(oo=function mu(y,p){var m,w;const S=function Ay(y){const p=rc(y),m=p.link?decodeURIComponent(p.link):void 0,w=rc(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return rc(S).link||S||w||m||y}(p);if(S.includes("/__/auth/callback")){const O=rc(S),Z=O.firebaseError?function Sf(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,le=null===(w=null===(m=Z?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Be=le?ve(le):null;return Be?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(ui,dt.url)),m.onEvent(oo||sc())});return function(ui){return _t.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,le);const Be=S,et=`${O.packageName.toLowerCase()}://`;il().handleOpenURL=function(){var _t=(0,l.Z)(function*(dt){if(dt.toLowerCase().startsWith(et)&&le({url:dt}),"function"==typeof Be)try{Be(dt)}catch(ui){console.error(ui)}});return function(dt){return _t.apply(this,arguments)}}()}};function sc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}const Tf=1e3;function To(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Yd(y=(0,P.z$)()){return!("file:"!==To()&&"ionic:"!==To()&&"capacitor:"!==To()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qd(){try{const y=self.localStorage,p=to();if(y)return y.setItem(p,"1"),y.removeItem(p),!function rl(y=(0,P.z$)()){return function Kd(){return(0,P.w1)()&&11===document?.documentMode}()||function ac(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch{return ol()&&(0,P.hl)()}return!1}function ol(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function bu(){return(function Pm(){return"http:"===To()||"https:"===To()}()||(0,P.ru)()||Yd())&&!function Af(){return(0,P.b$)()||(0,P.UG)()}()&&Qd()&&!ol()}function sl(){return Yd()&&typeof document<"u"}function ba(){return(ba=(0,l.Z)(function*(){return!!sl()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},Tf);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const pr={LOCAL:"local",NONE:"none",SESSION:"session"},Ao=U,lc="persistence";function wa(y){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,l.Z)(function*(y){yield y._initializationPromise;const p=Lm(),m=B(lc,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function Lm(){var y;try{return(null===(y=function ns(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const My=U;class al{constructor(){this.browserResolver=gt(Di),this.cordovaResolver=gt(oc),this.underlyingResolver=null,this._redirectPersistence=Ir,this._completeRedirectFn=It,this._overrideRedirectResult=ha}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,S){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,m,w,S)})()}_openRedirect(p,m,w,S){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,m,w,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return sl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return My(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Nm(){return ba.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Vm(y){return y.unwrap()}function Ry(y){return Cu(y)}function Cu(y){const{_tokenResponse:p}=y instanceof P.ZR?y.customData:y;if(!p)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Io.credentialFromResult(y);const m=p.providerId;if(!m||m===ce.PASSWORD)return null;let w;switch(m){case ce.GOOGLE:w=Xh;break;case ce.FACEBOOK:w=Hc;break;case ce.GITHUB:w=Jh;break;case ce.TWITTER:w=hm;break;default:const{oauthIdToken:S,oauthAccessToken:O,oauthTokenSecret:Z,pendingToken:le,nonce:Be}=p;return O||Z||S||le?le?m.startsWith("saml.")?Gs._create(m,le):yo._fromParams({providerId:m,signInMethod:m,pendingToken:le,idToken:S,accessToken:O}):new Na(m).credential({idToken:S,accessToken:O,rawNonce:Be}):null}return y instanceof P.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Ki(y,p){return p.catch(m=>{throw m instanceof P.ZR&&function Bm(y,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Um(y,function sf(y,p){var m;const w=(0,P.m9)(y),S=p;return U(p.customData.operationType,w,"argument-error"),U(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Jn._fromError(w,S)}(y,p));else if(w){const S=Cu(p),O=p;S&&(O.credential=S,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:Ry(m),additionalUserInfo:mm(m),user:mr.getOrCreate(S)}})}function Du(y,p){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,l.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Ki(y,m.confirm(w))}})).apply(this,arguments)}class Um{constructor(p,m){this.resolver=m,this.auth=function Mf(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ki(Vm(this.auth),this.resolver.resolveSignIn(p))}}class mr{constructor(p){this._delegate=p,this.multiFactor=function Zo(y){const p=(0,P.m9)(y);return Cs.has(p)||Cs.set(p,Xs._fromUser(p)),Cs.get(p)}(p)}static getOrCreate(p){return mr.USER_MAP.has(p)||mr.USER_MAP.set(p,new mr(p)),mr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return Ki(m.auth,Ba(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,l.Z)(function*(){return Du(w.auth,function wy(y,p,m){return mf.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return Ki(m.auth,function We(y,p,m){return Nt.apply(this,arguments)}(m._delegate,p,al))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield wa(Vn(m.auth)),Ie(m._delegate,p,al)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return Ki(m.auth,Nl(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Du(this.auth,function Cm(y,p,m){return la.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Ki(this.auth,function Kt(y,p,m){return no.apply(this,arguments)}(this._delegate,p,al))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield wa(Vn(m.auth)),L(m._delegate,p,al)})()}sendEmailVerification(p){return function Dd(y,p){return Ul.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function vd(y,p){return ws.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Hl(y,p){return Id((0,P.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function xd(y,p){return Id((0,P.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function li(y,p){return Yl.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function $a(y,p){return Dr.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Yc(y,p,m){return Un.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mr.USER_MAP=new WeakMap;const xu=U;let Hm=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;xu(S,"invalid-api-key",{appName:m.name}),xu(S,"invalid-api-key",{appName:m.name});const O=typeof window<"u"?al:void 0;this._delegate=w.initialize({options:{persistence:Of(S,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap($e),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?mr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Vc(y,p,m){const w=Vn(y);U(w._canInitEmulator,w,"emulator-config-failed"),U(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!m?.disableWarnings,O=nn(p),{host:Z,port:le}=function Xn(y){const p=nn(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const O=S[1];return{host:O,port:gi(w.substr(O.length+1))}}{const[O,Z]=w.split(":");return{host:O,port:gi(Z)}}}(p);w.config.emulator={url:`${O}//${Z}${null===le?"":`:${le}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Z,port:le,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function $o(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function wd(y,p){return Ll.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ed(this._delegate,m)}confirmPasswordReset(m,w){return function Wc(y,p,m){return Rt.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var S=this;return(0,l.Z)(function*(){return Ki(S._delegate,function tf(y,p,m){return An.apply(this,arguments)}(S._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Cd(y,p){return Qs.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function nf(y,p){return"EMAIL_SIGNIN"===Oi.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){xu(bu(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function pt(y,p){return Yt.apply(this,arguments)}(m._delegate,al);return w?Ki(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function yu(y,p){Vn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,S){const{next:O,error:Z,complete:le}=Rf(m,w,S);return this._delegate.onAuthStateChanged(O,Z,le)}onIdTokenChanged(m,w,S){const{next:O,error:Z,complete:le}=Rf(m,w,S);return this._delegate.onIdTokenChanged(O,Z,le)}sendSignInLinkToEmail(m,w){return function rn(y,p,m){return Bl.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function wo(y,p,m){return Ys.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,l.Z)(function*(){let S;switch(function wu(y,p){Ao(Object.values(pr).includes(p),y,"invalid-persistence-type"),(0,P.b$)()?Ao(p!==pr.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?Ao(p===pr.NONE,y,"unsupported-persistence-type"):ol()?Ao(p===pr.NONE||p===pr.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):Ao(p===pr.NONE||Qd(),y,"unsupported-persistence-type")}(w._delegate,m),m){case pr.SESSION:S=Ir;break;case pr.LOCAL:S=(yield gt(Do)._isAvailable())?Do:nu;break;case pr.NONE:S=H;break;default:return Ee("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ki(this._delegate,function Ol(y){return yd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ki(this._delegate,an(this._delegate,m))}signInWithCustomToken(m){return Ki(this._delegate,function Gc(y,p){return eo.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Ki(this._delegate,function Te(y,p,m){return an((0,P.m9)(y),_d.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Ki(this._delegate,function ai(y,p,m){return Zc.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Du(this._delegate,function ff(y,p,m){return pf.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,l.Z)(function*(){return xu(bu(),w._delegate,"operation-not-supported-in-this-environment"),Ki(w._delegate,function yf(y,p,m){return Dm.apply(this,arguments)}(w._delegate,m,al))})()}signInWithRedirect(m){var w=this;return(0,l.Z)(function*(){return xu(bu(),w._delegate,"operation-not-supported-in-this-environment"),yield wa(w._delegate),x(w._delegate,m,al)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function ef(y,p){return Vl.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=pr,y})();function Rf(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const S=w;return{next:Z=>S(Z&&mr.getOrCreate(Z)),error:p,complete:m}}function Of(y,p){const m=function cc(y,p){const m=Lm();if(!m)return[];const w=B(lc,y,p);switch(m.getItem(w)){case pr.NONE:return[H];case pr.LOCAL:return[Do,Ir];case pr.SESSION:return[Ir];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(Do)&&m.push(Do),typeof window<"u")for(const w of[nu,Ir])m.includes(w)||m.push(w);return m.includes(H)||m.push(H),m}class Iu{constructor(){this.providerId="phone",this._delegate=new Io(Vm(X.Z.auth()))}static credential(p,m){return Io.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Iu.PHONE_SIGN_IN_METHOD=Io.PHONE_SIGN_IN_METHOD,Iu.PROVIDER_ID=Io.PROVIDER_ID;const Li=U;class Mo{constructor(p,m,w=X.Z.app()){var S;Li(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new vn(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function zm(y){y.INTERNAL.registerComponent(new fe.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Hm(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Y_EMAIL_SIGNIN,PASSWORD_RESET:Y_PASSWORD_RESET,RECOVER_EMAIL:Y_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Y_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Y_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Y_VERIFY_EMAIL}},EmailAuthProvider:_d,FacebookAuthProvider:Hc,GithubAuthProvider:Jh,GoogleAuthProvider:Xh,OAuthProvider:Na,SAMLAuthProvider:Xr,PhoneAuthProvider:Iu,PhoneMultiFactorGenerator:zd,RecaptchaVerifier:Mo,TwitterAuthProvider:hm,Auth:Hm,AuthCredential:oi,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.7")}(X.Z)},8766:(ft,be,F)=>{F.d(be,{Lj:()=>Ee,X3:()=>Fe});var l=F(5861);const X=(U,ge)=>ge.some(Ve=>U instanceof Ve);let P,ne;const fe=new WeakMap,ue=new WeakMap,ce=new WeakMap,j=new WeakMap,$=new WeakMap;let Ce={get(U,ge,Ve){if(U instanceof IDBTransaction){if("done"===ge)return ue.get(U);if("objectStoreNames"===ge)return U.objectStoreNames||ce.get(U);if("store"===ge)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return De(U[ge])},set:(U,ge,Ve)=>(U[ge]=Ve,!0),has:(U,ge)=>U instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in U};function he(U){return"function"==typeof U?function ut(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...ge){return U.apply(xe(this),ge),De(fe.get(this))}:function(...ge){return De(U.apply(xe(this),ge))}:function(ge,...Ve){const qe=U.call(xe(this),ge,...Ve);return ce.set(qe,ge.sort?ge.sort():[ge]),De(qe)}}(U):(U instanceof IDBTransaction&&function Ue(U){if(ue.has(U))return;const ge=new Promise((Ve,qe)=>{const gt=()=>{U.removeEventListener("complete",it),U.removeEventListener("error",se),U.removeEventListener("abort",se)},it=()=>{Ve(),gt()},se=()=>{qe(U.error||new DOMException("AbortError","AbortError")),gt()};U.addEventListener("complete",it),U.addEventListener("error",se),U.addEventListener("abort",se)});ue.set(U,ge)}(U),X(U,function ie(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Ce):U)}function De(U){if(U instanceof IDBRequest)return function Y(U){const ge=new Promise((Ve,qe)=>{const gt=()=>{U.removeEventListener("success",it),U.removeEventListener("error",se)},it=()=>{Ve(De(U.result)),gt()},se=()=>{qe(U.error),gt()};U.addEventListener("success",it),U.addEventListener("error",se)});return ge.then(Ve=>{Ve instanceof IDBCursor&&fe.set(Ve,U)}).catch(()=>{}),$.set(ge,U),ge}(U);if(j.has(U))return j.get(U);const ge=he(U);return ge!==U&&(j.set(U,ge),$.set(ge,U)),ge}const xe=U=>$.get(U);function Fe(U,ge,{blocked:Ve,upgrade:qe,blocking:gt,terminated:it}={}){const se=indexedDB.open(U,ge),de=De(se);return qe&&se.addEventListener("upgradeneeded",ye=>{qe(De(se.result),ye.oldVersion,ye.newVersion,De(se.transaction))}),Ve&&se.addEventListener("blocked",()=>Ve()),de.then(ye=>{it&&ye.addEventListener("close",()=>it()),gt&&ye.addEventListener("versionchange",()=>gt())}).catch(()=>{}),de}function Ee(U,{blocked:ge}={}){const Ve=indexedDB.deleteDatabase(U);return ge&&Ve.addEventListener("blocked",()=>ge()),De(Ve).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Le=new Map;function ke(U,ge){if(!(U instanceof IDBDatabase)||ge in U||"string"!=typeof ge)return;if(Le.get(ge))return Le.get(ge);const Ve=ge.replace(/FromIndex$/,""),qe=ge!==Ve,gt=Ae.includes(Ve);if(!(Ve in(qe?IDBIndex:IDBObjectStore).prototype)||!gt&&!ve.includes(Ve))return;const it=function(){var se=(0,l.Z)(function*(de,...ye){const Me=this.transaction(de,gt?"readwrite":"readonly");let Pe=Me.store;return qe&&(Pe=Pe.index(ye.shift())),(yield Promise.all([Pe[Ve](...ye),gt&&Me.done]))[0]});return function(ye){return se.apply(this,arguments)}}();return Le.set(ge,it),it}!function $e(U){Ce=U(Ce)}(U=>({...U,get:(ge,Ve,qe)=>ke(ge,Ve)||U.get(ge,Ve,qe),has:(ge,Ve)=>!!ke(ge,Ve)||U.has(ge,Ve)}))},5861:(ft,be,F)=>{function l(P,ne,ie,Q,fe,ue,ce){try{var j=P[ue](ce),$=j.value}catch(Y){return void ie(Y)}j.done?ne($):Promise.resolve($).then(Q,fe)}function X(P){return function(){var ne=this,ie=arguments;return new Promise(function(Q,fe){var ue=P.apply(ne,ie);function ce($){l(ue,Q,fe,ce,j,"next",$)}function j($){l(ue,Q,fe,ce,j,"throw",$)}ce(void 0)})}}F.d(be,{Z:()=>X})},2656:ft=>{ft.exports=JSON.parse('[{"roomName":"102\u6559\u5ba4","period1":"\u30aa\u30fc\u30d7\u30f3","period2":"\u30aa\u30fc\u30d7\u30f3","lunch":"\u30aa\u30fc\u30d7\u30f3","period3":"\u30aa\u30fc\u30d7\u30f3","period4":"\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u8ad6[\u5929\u9858]","period5":"\u30aa\u30fc\u30d7\u30f3","period6":"\u30aa\u30fc\u30d7\u30f3","afterSchool":"\u30aa\u30fc\u30d7\u30f3"},{"roomName":"104\u6559\u5ba4","period1":"\u30aa\u30fc\u30d7\u30f3","period2":"\u30aa\u30fc\u30d7\u30f3","lunch":"\u30aa\u30fc\u30d7\u30f3","period3":"\u30aa\u30fc\u30d7\u30f3","period4":"\u30aa\u30fc\u30d7\u30f3","period5":"\u30aa\u30fc\u30d7\u30f3","period6":"\u30aa\u30fc\u30d7\u30f3","afterSchool":"\u30aa\u30fc\u30d7\u30f3"},{"roomName":"106\u6559\u5ba4","period1":"\u30aa\u30fc\u30d7\u30f3","period2":"\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u6982\u8ad6","lunch":"\u30aa\u30fc\u30d7\u30f3","period3":"\u30a6\u30a7\u30d6\u30c7\u30b6\u30a4\u30f3[\u4f50\u4e45\u672c]","period4":"\u30aa\u30fc\u30d7\u30f3","period5":"\u533b\u7642\u7d71\u8a08\u5b66[\u6728\u6751]","period6":"\u30aa\u30fc\u30d7\u30f3","afterSchool":"\u30aa\u30fc\u30d7\u30f3"},{"roomName":"MM\u6559\u5ba4","period1":"\u30aa\u30fc\u30d7\u30f3","period2":"\u30aa\u30fc\u30d7\u30f3","lunch":"\u30aa\u30fc\u30d7\u30f3","period3":"\u30aa\u30fc\u30d7\u30f3","period4":"\u30aa\u30fc\u30d7\u30f3","period5":"\u30aa\u30fc\u30d7\u30f3","period6":"\u30aa\u30fc\u30d7\u30f3","afterSchool":"\u30aa\u30fc\u30d7\u30f3"},{"roomName":"204\u6559\u5ba4","period1":"\u30aa\u30fc\u30d7\u30f3","period2":"\u4e2d\u30fb\u4e0a\u7d1a\u65e5\u672c\u8a9e\u4f5c\u6587[\u5f53\u9298]","lunch":"\u30aa\u30fc\u30d7\u30f3","period3":"\u4e2d\u30fb\u4e0a\u7d1a\u65e5\u672c\u8a9e\u4f5c\u6587[\u5f53\u9298]","period4":"\u30aa\u30fc\u30d7\u30f3","period5":"\u30aa\u30fc\u30d7\u30f3","period6":"\u30aa\u30fc\u30d7\u30f3","afterSchool":"\u30aa\u30fc\u30d7\u30f3"}]')}},ft=>{ft(ft.s=9554)}]);