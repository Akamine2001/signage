"use strict";(self.webpackChunkmeio_classroom_info=self.webpackChunkmeio_classroom_info||[]).push([[179],{2011:(_t,Ee,P)=>{P.d(Ee,{Dh:()=>he,GT:()=>J,cc:()=>De,hO:()=>ze,on:()=>z,pX:()=>oe,xv:()=>de});var l=P(4650),ee=P(9260),N=P(2122);_t=P.hmd(_t);const re=["ngOnDestroy"],oe=(Se,Ie,Le,xe={})=>new Proxy(Se,{get:(we,Me)=>Le.runOutsideAngular(()=>{var Ue;if(Se[Me])return!(null===(Ue=xe?.spy)||void 0===Ue)&&Ue.get&&xe.spy.get(Me,Se[Me]),Se[Me];if(re.indexOf(Me)>-1)return()=>{};const Pe=Ie.toPromise().then(H=>{const ve=H&&H[Me];return"function"==typeof ve?ve.bind(H):ve&&ve.then?ve.then(He=>Le.run(()=>He)):Le.run(()=>ve)});return new Proxy(()=>{},{get:(H,ve)=>Pe[ve],apply:(H,ve,He)=>Pe.then(Ze=>{var yt;const ot=Ze&&Ze(...He);return!(null===(yt=xe?.spy)||void 0===yt)&&yt.apply&&xe.spy.apply(Me,He,ot),ot})})})}),J=(Se,Ie)=>{Ie.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(xe=>{Object.defineProperty(Se.prototype,xe,Object.getOwnPropertyDescriptor(Le.prototype||Le,xe))})})};class me{constructor(Ie){return Ie}}const he=new l.OlP("angularfire2.app.options"),de=new l.OlP("angularfire2.app.name");function z(Se,Ie,Le){const we="object"==typeof Le&&Le||{};we.name=we.name||"string"==typeof Le&&Le||"[DEFAULT]";const Ue=ee.Z.apps.filter(Pe=>Pe&&Pe.name===we.name)[0]||Ie.runOutsideAngular(()=>ee.Z.initializeApp(Se,we));try{JSON.stringify(Se)!==JSON.stringify(Ue.options)&&q("error",`${Ue.name} Firebase App already initialized with different options${_t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(Ue)}const q=(Se,...Ie)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Se](...Ie)},Q={provide:me,useFactory:z,deps:[he,l.R0b,[new l.FiY,de]]};let ze=(()=>{class Se{constructor(Le){ee.Z.registerVersion("angularfire",N.q4.full,"core"),ee.Z.registerVersion("angularfire",N.q4.full,"app-compat"),ee.Z.registerVersion("angular",l.q4F.full,Le.toString())}static initializeApp(Le,xe){return{ngModule:Se,providers:[{provide:he,useValue:Le},{provide:de,useValue:xe}]}}}return Se.\u0275fac=function(Le){return new(Le||Se)(l.LFG(l.Lbi))},Se.\u0275mod=l.oAB({type:Se}),Se.\u0275inj=l.cJS({providers:[Q]}),Se})();function De(Se,Ie,Le,xe,we){const[,Me,Ue]=globalThis.\u0275AngularfireInstanceCache.find(Pe=>Pe[0]===Se)||[];if(Me)return function qe(Se,Ie){try{return Se.toString()===Ie.toString()}catch{return Se===Ie}}(we,Ue)||(pe("error",`${Ie} was already initialized on the ${Le} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:we,was:Ue})),Me;{const Pe=xe();return globalThis.\u0275AngularfireInstanceCache.push([Se,Pe,we]),Pe}}const dt=!!_t.hot,pe=(Se,...Ie)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Se](...Ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(_t,Ee,P)=>{P.d(Ee,{q4:()=>da,iC:()=>fa,HU:()=>is,vb:()=>Ke,JM:()=>ro});var l=P(4650),ee=P(259),N=P(5861),re=P(9681),oe=P(2090),J=P(4859),me=P(1877),he=P(8766);const de="@firebase/installations",z="0.6.4",q=1e4,Q=`w:${z}`,ze="FIS_v2",De="https://firebaseinstallations.googleapis.com/v1",qe=36e5,Ie=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(D){return D instanceof oe.ZR&&D.code.includes("request-failed")}function xe({projectId:D}){return`${De}/projects/${D}/installations`}function we(D){return{token:D.token,requestStatus:2,expiresIn:Ze(D.expiresIn),creationTime:Date.now()}}function Me(D,S){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,N.Z)(function*(D,S){const V=(yield S.json()).error;return Ie.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Pe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ve(D){return He.apply(this,arguments)}function He(){return(He=(0,N.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function Ze(D){return Number(D.replace("s","000"))}function ae(){return(ae=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:R}){const V=xe(D),W=Pe(D),ie=S.getImmediate({optional:!0});if(ie){const gt=yield ie.getHeartbeatsHeader();gt&&W.append("x-firebase-client",gt)}const ct={method:"POST",headers:W,body:JSON.stringify({fid:R,authVersion:ze,appId:D.appId,sdkVersion:Q})},ut=yield ve(()=>fetch(V,ct));if(ut.ok){const gt=yield ut.json();return{fid:gt.fid||R,registrationStatus:2,refreshToken:gt.refreshToken,authToken:we(gt.authToken)}}throw yield Me("Create Installation",ut)})).apply(this,arguments)}function fe(D){return new Promise(S=>{setTimeout(S,D)})}const Re=/^[cdef][\w-]{21}$/,Ve="";function $e(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function et(D){return function be(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Re.test(R)?R:Ve}catch{return Ve}}function Xe(D){return`${D.appName}!${D.appId}`}const dn=new Map;function It(D,S){const R=Xe(D);Rt(R,S),function Yn(D,S){const R=function Tn(){return!vn&&"BroadcastChannel"in self&&(vn=new BroadcastChannel("[Firebase] FID Change"),vn.onmessage=D=>{Rt(D.data.key,D.data.fid)}),vn}();R&&R.postMessage({key:D,fid:S}),function On(){0===dn.size&&vn&&(vn.close(),vn=null)}()}(R,S)}function Rt(D,S){const R=dn.get(D);if(R)for(const V of R)V(S)}let vn=null;const Er="firebase-installations-database",ds=1,Cr="firebase-installations-store";let ar=null;function zo(){return ar||(ar=(0,he.X3)(Er,ds,{upgrade:(D,S)=>{0===S&&D.createObjectStore(Cr)}})),ar}function An(D,S){return lr.apply(this,arguments)}function lr(){return(lr=(0,N.Z)(function*(D,S){const R=Xe(D),W=(yield zo()).transaction(Cr,"readwrite"),ie=W.objectStore(Cr),ke=yield ie.get(R);return yield ie.put(S,R),yield W.done,(!ke||ke.fid!==S.fid)&&It(D,S.fid),S})).apply(this,arguments)}function wt(D){return $o.apply(this,arguments)}function $o(){return($o=(0,N.Z)(function*(D){const S=Xe(D),V=(yield zo()).transaction(Cr,"readwrite");yield V.objectStore(Cr).delete(S),yield V.done})).apply(this,arguments)}function $r(D,S){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,N.Z)(function*(D,S){const R=Xe(D),W=(yield zo()).transaction(Cr,"readwrite"),ie=W.objectStore(Cr),ke=yield ie.get(R),ct=S(ke);return void 0===ct?yield ie.delete(R):yield ie.put(ct,R),yield W.done,ct&&(!ke||ke.fid!==ct.fid)&&It(D,ct.fid),ct})).apply(this,arguments)}function Ai(D){return hs.apply(this,arguments)}function hs(){return hs=(0,N.Z)(function*(D){let S;const R=yield $r(D.appConfig,V=>{const W=function Vt(D){return Mi(D||{fid:$e(),registrationStatus:0})}(V),ie=function Dt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Ie.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function kt(D,S){return fs.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:xn(D)}:{installationEntry:S}}(D,W);return S=ie.registrationPromise,ie.installationEntry});return R.fid===Ve?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}}),hs.apply(this,arguments)}function fs(){return fs=(0,N.Z)(function*(D,S){try{const R=yield function ot(D,S){return ae.apply(this,arguments)}(D,S);return An(D.appConfig,R)}catch(R){throw Le(R)&&409===R.customData.serverCode?yield wt(D.appConfig):yield An(D.appConfig,{fid:S.fid,registrationStatus:0}),R}}),fs.apply(this,arguments)}function xn(D){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,N.Z)(function*(D){let S=yield $i(D.appConfig);for(;1===S.registrationStatus;)yield fe(100),S=yield $i(D.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:V}=yield Ai(D);return V||R}return S})).apply(this,arguments)}function $i(D){return $r(D,S=>{if(!S)throw Ie.create("installation-not-found");return Mi(S)})}function Mi(D){return function Oa(D){return 1===D.registrationStatus&&D.registrationTime+q<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function vo(){return(vo=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:S},R){const V=function rn(D,{fid:S}){return`${xe(D)}/${S}/authTokens:generate`}(D,R),W=function H(D,{refreshToken:S}){const R=Pe(D);return R.append("Authorization",function yt(D){return`${ze} ${D}`}(S)),R}(D,R),ie=S.getImmediate({optional:!0});if(ie){const gt=yield ie.getHeartbeatsHeader();gt&&W.append("x-firebase-client",gt)}const ct={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Q,appId:D.appId}})},ut=yield ve(()=>fetch(V,ct));if(ut.ok)return we(yield ut.json());throw yield Me("Generate Auth Token",ut)})).apply(this,arguments)}function Gi(D){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,N.Z)(function*(D,S=!1){let R;const V=yield $r(D.appConfig,ie=>{if(!$t(ie))throw Ie.create("not-registered");const ke=ie.authToken;if(!S&&function Ri(D){return 2===D.requestStatus&&!function j(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+qe}(D)}(ke))return ie;if(1===ke.requestStatus)return R=function Ge(D,S){return Ce.apply(this,arguments)}(D,S),ie;{if(!navigator.onLine)throw Ie.create("app-offline");const ct=function U(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}(ie);return R=function Mt(D,S){return Lt.apply(this,arguments)}(D,ct),ct}});return R?yield R:V.authToken}),Xr.apply(this,arguments)}function Ce(){return(Ce=(0,N.Z)(function*(D,S){let R=yield st(D.appConfig);for(;1===R.authToken.requestStatus;)yield fe(100),R=yield st(D.appConfig);const V=R.authToken;return 0===V.requestStatus?Gi(D,S):V})).apply(this,arguments)}function st(D){return $r(D,S=>{if(!$t(S))throw Ie.create("not-registered");return function Y(D){return 1===D.requestStatus&&D.requestTime+q<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Lt(){return Lt=(0,N.Z)(function*(D,S){try{const R=yield function pn(D,S){return vo.apply(this,arguments)}(D,S),V=Object.assign(Object.assign({},S),{authToken:R});return yield An(D.appConfig,V),R}catch(R){if(!Le(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield An(D.appConfig,V)}else yield wt(D.appConfig);throw R}}),Lt.apply(this,arguments)}function $t(D){return void 0!==D&&2===D.registrationStatus}function ne(){return(ne=(0,N.Z)(function*(D){const S=D,{installationEntry:R,registrationPromise:V}=yield Ai(S);return V?V.catch(console.error):Gi(S).catch(console.error),R.fid})).apply(this,arguments)}function Ye(){return Ye=(0,N.Z)(function*(D,S=!1){const R=D;return yield function _n(D){return Pn.apply(this,arguments)}(R),(yield Gi(R,S)).token}),Ye.apply(this,arguments)}function Pn(){return(Pn=(0,N.Z)(function*(D){const{registrationPromise:S}=yield Ai(D);S&&(yield S)})).apply(this,arguments)}function Al(D){return Ie.create("missing-app-config-values",{valueName:D})}const Ml="installations",Un=D=>{const S=D.getProvider("app").getImmediate(),R=function Bc(D){if(!D||!D.options)throw Al("App Configuration");if(!D.name)throw Al("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!D.options[R])throw Al(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,re._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Uc=D=>{const S=D.getProvider("app").getImmediate(),R=(0,re._getProvider)(S,Ml).getImmediate();return{getId:()=>function _e(D){return ne.apply(this,arguments)}(R),getToken:W=>function rt(D){return Ye.apply(this,arguments)}(R,W)}};(function Hc(){(0,re._registerComponent)(new J.wA(Ml,Un,"PUBLIC")),(0,re._registerComponent)(new J.wA("installations-internal",Uc,"PRIVATE"))})(),(0,re.registerVersion)(de,z),(0,re.registerVersion)(de,z,"esm2017");const on="@firebase/remote-config",ki=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gs{constructor(S,R,V,W){this.client=S,this.storage=R,this.storageCache=V,this.logger=W}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-R,W=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${W}.`),W}fetch(S){var R=this;return(0,N.Z)(function*(){const[V,W]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(W&&R.isCachedDataFresh(S.cacheMaxAgeMillis,V))return W;S.eTag=W&&W.eTag;const ie=yield R.client.fetch(S),ke=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&ke.push(R.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(ke),ie})()}}function Wo(D=navigator){return D.languages&&D.languages[0]||D.language}class Wi{constructor(S,R,V,W,ie,ke){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=V,this.projectId=W,this.apiKey=ie,this.appId=ke}fetch(S){var R=this;return(0,N.Z)(function*(){const[V,W]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},ut={sdk_version:R.sdkVersion,app_instance_id:V,app_instance_id_token:W,app_id:R.appId,language_code:Wo()},gt={method:"POST",headers:ct,body:JSON.stringify(ut)},Kt=fetch(ke,gt),Tt=new Promise((qn,Jn)=>{S.signal.addEventListener(()=>{const jn=new Error("The operation was aborted.");jn.name="AbortError",Jn(jn)})});let Ln;try{yield Promise.race([Kt,Tt]),Ln=yield Kt}catch(qn){let Jn="fetch-client-network";throw"AbortError"===qn?.name&&(Jn="fetch-timeout"),ki.create(Jn,{originalErrorMessage:qn?.message})}let Gn=Ln.status;const el=Ln.headers.get("ETag")||void 0;let Ki,qr;if(200===Ln.status){let qn;try{qn=yield Ln.json()}catch(Jn){throw ki.create("fetch-client-parse",{originalErrorMessage:Jn?.message})}Ki=qn.entries,qr=qn.state}if("INSTANCE_STATE_UNSPECIFIED"===qr?Gn=500:"NO_CHANGE"===qr?Gn=304:("NO_TEMPLATE"===qr||"EMPTY_CONFIG"===qr)&&(Ki={}),304!==Gn&&200!==Gn)throw ki.create("fetch-status",{httpStatus:Gn});return{status:Gn,eTag:el,config:Ki}})()}}class tn{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,N.Z)(function*(){const V=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:V}){var W=this;return(0,N.Z)(function*(){yield function Zi(D,S){return new Promise((R,V)=>{const W=Math.max(S-Date.now(),0),ie=setTimeout(R,W);D.addEventListener(()=>{clearTimeout(ie),V(ki.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const ie=yield W.client.fetch(S);return yield W.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function jc(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ie))throw ie;const ke={throttleEndTimeMillis:Date.now()+(0,oe.$s)(V),backoffCount:V+1};return yield W.storage.setThrottleMetadata(ke),W.attemptFetch(S,ke)}})()}}class Rl{constructor(S,R,V,W,ie){this.app=S,this._client=R,this._storageCache=V,this._storage=W,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _s(D,S){const R=D.target.error||void 0;return ki.create(S,{originalErrorMessage:R&&R?.message})}const Dr="app_namespace_store";class ur{constructor(S,R,V,W=function gm(){return new Promise((D,S)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=V=>{S(_s(V,"storage-open"))},R.onsuccess=V=>{D(V.target.result)},R.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Dr,{keyPath:"compositeKey"})}}catch(R){S(ki.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=S,this.appName=R,this.namespace=V,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((W,ie)=>{const ct=V.transaction([Dr],"readonly").objectStore(Dr),ut=R.createCompositeKey(S);try{const gt=ct.get(ut);gt.onerror=Kt=>{ie(_s(Kt,"storage-get"))},gt.onsuccess=Kt=>{const Tt=Kt.target.result;W(Tt?Tt.value:void 0)}}catch(gt){ie(ki.create("storage-get",{originalErrorMessage:gt?.message}))}})})()}set(S,R){var V=this;return(0,N.Z)(function*(){const W=yield V.openDbPromise;return new Promise((ie,ke)=>{const ut=W.transaction([Dr],"readwrite").objectStore(Dr),gt=V.createCompositeKey(S);try{const Kt=ut.put({compositeKey:gt,value:R});Kt.onerror=Tt=>{ke(_s(Tt,"storage-set"))},Kt.onsuccess=()=>{ie()}}catch(Kt){ke(ki.create("storage-set",{originalErrorMessage:Kt?.message}))}})})()}delete(S){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((W,ie)=>{const ct=V.transaction([Dr],"readwrite").objectStore(Dr),ut=R.createCompositeKey(S);try{const gt=ct.delete(ut);gt.onerror=Kt=>{ie(_s(Kt,"storage-delete"))},gt.onsuccess=()=>{W()}}catch(gt){ie(ki.create("storage-delete",{originalErrorMessage:gt?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class dr{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,N.Z)(function*(){const R=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),W=S.storage.getActiveConfig(),ie=yield R;ie&&(S.lastFetchStatus=ie);const ke=yield V;ke&&(S.lastSuccessfulFetchTimestampMillis=ke);const ct=yield W;ct&&(S.activeConfig=ct)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Oi(){return yd.apply(this,arguments)}function yd(){return(yd=(0,N.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Eo(){(0,re._registerComponent)(new J.wA("remote-config",function D(S,{instanceIdentifier:R}){const V=S.getProvider("app").getImmediate(),W=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ki.create("registration-window");if(!(0,oe.hl)())throw ki.create("indexed-db-unavailable");const{projectId:ie,apiKey:ke,appId:ct}=V.options;if(!ie)throw ki.create("registration-project-id");if(!ke)throw ki.create("registration-api-key");if(!ct)throw ki.create("registration-app-id");const ut=new ur(ct,V.name,R=R||"firebase"),gt=new dr(ut),Kt=new me.Yd(on);Kt.logLevel=me.in.ERROR;const Tt=new Wi(W,re.SDK_VERSION,R,ie,ke,ct),Ln=new tn(Tt,ut),Gn=new Gs(Ln,ut,gt,Kt),el=new Rl(V,Gn,gt,ut,Kt);return function ms(D){const S=(0,oe.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(el),el},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(on,"0.4.4"),(0,re.registerVersion)(on,"0.4.4","esm2017")}();const vd="/firebase-messaging-sw.js",Co="/firebase-cloud-messaging-push-scope",vs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",La="https://fcmregistrations.googleapis.com/v1",$c="google.c.a.c_id",Jh="google.c.a.c_l",ef="google.c.a.ts",_m="google.c.a.e";var bs=(()=>{return(D=bs||(bs={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",bs;var D})();function Sr(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ym(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(R),W=new Uint8Array(V.length);for(let ie=0;ie<V.length;++ie)W[ie]=V.charCodeAt(ie);return W}const xo="fcm_token_details_db",Gc=5,Ir="fcm_token_object_Store";function Ol(){return Ol=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(xo))return null;let S=null;return(yield(0,he.X3)(xo,Gc,{upgrade:(V=(0,N.Z)(function*(W,ie,ke,ct){var ut;if(ie<2||!W.objectStoreNames.contains(Ir))return;const gt=ct.objectStore(Ir),Kt=yield gt.index("fcmSenderId").get(D);if(yield gt.clear(),Kt)if(2===ie){const Tt=Kt;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;S={token:Tt.fcmToken,createTime:null!==(ut=Tt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:Sr(Tt.vapidKey)}}}else if(3===ie){const Tt=Kt;S={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:Sr(Tt.auth),p256dh:Sr(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:Sr(Tt.vapidKey)}}}else if(4===ie){const Tt=Kt;S={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:Sr(Tt.auth),p256dh:Sr(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:Sr(Tt.vapidKey)}}}}),function(ie,ke,ct,ut){return V.apply(this,arguments)})})).close(),yield(0,he.Lj)(xo),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),function bd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var V}),Ol.apply(this,arguments)}const Fl="firebase-messaging-database",vm=1,hr="firebase-messaging-store";let wd=null;function ws(){return wd||(wd=(0,he.X3)(Fl,vm,{upgrade:(D,S)=>{0===S&&D.createObjectStore(hr)}})),wd}function Va(D){return Zs.apply(this,arguments)}function Zs(){return Zs=(0,N.Z)(function*(D){const S=Zo(D),V=yield(yield ws()).transaction(hr).objectStore(hr).get(S);if(V)return V;{const W=yield function qc(D){return Ol.apply(this,arguments)}(D.appConfig.senderId);if(W)return yield Ys(D,W),W}}),Zs.apply(this,arguments)}function Ys(D,S){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,N.Z)(function*(D,S){const R=Zo(D),W=(yield ws()).transaction(hr,"readwrite");return yield W.objectStore(hr).put(S,R),yield W.done,S})).apply(this,arguments)}function Nl(){return(Nl=(0,N.Z)(function*(D){const S=Zo(D),V=(yield ws()).transaction(hr,"readwrite");yield V.objectStore(hr).delete(S),yield V.done})).apply(this,arguments)}function Zo({appConfig:D}){return D.appId}const cn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ll(D,S){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,N.Z)(function*(D,S){const R=yield Wc(D),V=ai(S),W={method:"POST",headers:R,body:JSON.stringify(V)};let ie;try{ie=yield(yield fetch(Ha(D.appConfig),W)).json()}catch(ke){throw cn.create("token-subscribe-failed",{errorInfo:ke?.toString()})}if(ie.error)throw cn.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw cn.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function Vl(){return(Vl=(0,N.Z)(function*(D,S){const R=yield Wc(D),V=ai(S.subscriptionOptions),W={method:"PATCH",headers:R,body:JSON.stringify(V)};let ie;try{ie=yield(yield fetch(`${Ha(D.appConfig)}/${S.token}`,W)).json()}catch(ke){throw cn.create("token-update-failed",{errorInfo:ke?.toString()})}if(ie.error)throw cn.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw cn.create("token-update-no-token");return ie.token})).apply(this,arguments)}function to(D,S){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,N.Z)(function*(D,S){const V={method:"DELETE",headers:yield Wc(D)};try{const ie=yield(yield fetch(`${Ha(D.appConfig)}/${S}`,V)).json();if(ie.error)throw cn.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(W){throw cn.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function Ha({projectId:D}){return`${La}/projects/${D}/registrations`}function Wc(D){return no.apply(this,arguments)}function no(){return(no=(0,N.Z)(function*({appConfig:D,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ai({p256dh:D,auth:S,endpoint:R,vapidKey:V}){const W={web:{endpoint:R,auth:S,p256dh:D}};return V!==vs&&(W.web.applicationPubKey=V),W}const Zc=6048e5;function ja(){return ja=(0,N.Z)(function*(D){const S=yield function xd(D,S){return za.apply(this,arguments)}(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:Sr(S.getKey("auth")),p256dh:Sr(S.getKey("p256dh"))},V=yield Va(D.firebaseDependencies);if(V){if(function tf(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}(V.subscriptionOptions,R))return Date.now()>=V.createTime+Zc?function Yc(D,S){return Ot.apply(this,arguments)}(D,{token:V.token,createTime:Date.now(),subscriptionOptions:R}):V.token;try{yield to(D.firebaseDependencies,V.token)}catch(W){console.warn(W)}return Cd(D.firebaseDependencies,R)}return Cd(D.firebaseDependencies,R)}),ja.apply(this,arguments)}function Qs(){return Qs=(0,N.Z)(function*(D){const S=yield Va(D.firebaseDependencies);S&&(yield to(D.firebaseDependencies,S.token),yield function Pl(D){return Nl.apply(this,arguments)}(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),Qs.apply(this,arguments)}function Ot(){return Ot=(0,N.Z)(function*(D,S){try{const R=yield function Nn(D,S){return Vl.apply(this,arguments)}(D.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield Ys(D.firebaseDependencies,V),R}catch(R){throw yield function Do(D){return Qs.apply(this,arguments)}(D),R}}),Ot.apply(this,arguments)}function Cd(D,S){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,N.Z)(function*(D,S){const V={token:yield Ll(D,S),createTime:Date.now(),subscriptionOptions:S};return yield Ys(D,V),V.token})).apply(this,arguments)}function za(){return(za=(0,N.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ym(S)})})).apply(this,arguments)}function Ul(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function nf(D,S){if(!S.notification)return;D.notification={};const R=S.notification.title;R&&(D.notification.title=R);const V=S.notification.body;V&&(D.notification.body=V);const W=S.notification.image;W&&(D.notification.image=W);const ie=S.notification.icon;ie&&(D.notification.icon=ie)}(S,D),function Rn(D,S){S.data&&(D.data=S.data)}(S,D),function Ae(D,S){var R,V,W,ie,ke;if(!(S.fcmOptions||null!==(R=S.notification)&&void 0!==R&&R.click_action))return;D.fcmOptions={};const ct=null!==(W=null===(V=S.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==W?W:null===(ie=S.notification)||void 0===ie?void 0:ie.click_action;ct&&(D.fcmOptions.link=ct);const ut=null===(ke=S.fcmOptions)||void 0===ke?void 0:ke.analytics_label;ut&&(D.fcmOptions.analyticsLabel=ut)}(S,D),S}function Hl(D,S){const R=[];for(let V=0;V<D.length;V++)R.push(D.charAt(V)),V<S.length&&R.push(S.charAt(V));return R.join("")}function li(D){return cn.create("missing-app-config-values",{valueName:D})}Hl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Kc{constructor(S,R,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function rf(D){if(!D||!D.options)throw li("App Configuration Object");if(!D.name)throw li("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const V of S)if(!R[V])throw li(V);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:W,installations:R,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Xs(D){return fr.apply(this,arguments)}function fr(){return(fr=(0,N.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(vd,{scope:Co}),D.swRegistration.update().catch(()=>{})}catch(S){throw cn.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function Js(){return(Js=(0,N.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield Xs(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function jl(){return(jl=(0,N.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=vs)})).apply(this,arguments)}function Hn(){return Hn=(0,N.Z)(function*(D,S){if(!navigator)throw cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cn.create("permission-blocked");return yield function Sd(D,S){return jl.apply(this,arguments)}(D,S?.vapidKey),yield function Dd(D,S){return Js.apply(this,arguments)}(D,S?.serviceWorkerRegistration),function Ks(D){return ja.apply(this,arguments)}(D)}),Hn.apply(this,arguments)}function $a(){return($a=(0,N.Z)(function*(D,S,R){const V=function Ga(D){switch(D){case bs.NOTIFICATION_CLICKED:return"notification_open";case bs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:R[$c],message_name:R[Jh],message_time:R[ef],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zl(){return zl=(0,N.Z)(function*(D,S){const R=S.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===bs.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ul(R)):D.onMessageHandler.next(Ul(R)));const V=R.data;(function sn(D){return"object"==typeof D&&!!D&&$c in D})(V)&&"1"===V[_m]&&(yield function pr(D,S,R){return $a.apply(this,arguments)}(D,R.messageType,V))}),zl.apply(this,arguments)}const Id="@firebase/messaging",Xc=D=>{const S=new Kc(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Tr(D,S){return zl.apply(this,arguments)}(S,R)),S},$l=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:V=>function Qc(D,S){return Hn.apply(this,arguments)}(S,V)}};function Jc(){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,N.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Es(){(0,re._registerComponent)(new J.wA("messaging",Xc,"PUBLIC")),(0,re._registerComponent)(new J.wA("messaging-internal",$l,"PRIVATE")),(0,re.registerVersion)(Id,"0.12.4"),(0,re.registerVersion)(Id,"0.12.4","esm2017")}();const Md="analytics",Cm="firebase_id",Yi="origin",qa=6e4,Dn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yo="https://www.googletagmanager.com/gtag/js",Xn=new me.Yd("@firebase/analytics"),mr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Dm(D){if(!D.startsWith(Yo)){const S=mr.create("invalid-gtag-resource",{gtagURL:D});return Xn.warn(S.message),""}return D}function Sm(D){return Promise.all(D.map(S=>S.catch(R=>R)))}function Ko(){return(Ko=(0,N.Z)(function*(D,S,R,V,W,ie){const ke=V[W];try{if(ke)yield S[ke];else{const ut=(yield Sm(R)).find(gt=>gt.measurementId===W);ut&&(yield S[ut.appId])}}catch(ct){Xn.error(ct)}D("config",W,ie)})).apply(this,arguments)}function Ar(){return(Ar=(0,N.Z)(function*(D,S,R,V,W){try{let ie=[];if(W&&W.send_to){let ke=W.send_to;Array.isArray(ke)||(ke=[ke]);const ct=yield Sm(R);for(const ut of ke){const gt=ct.find(Tt=>Tt.measurementId===ut),Kt=gt&&S[gt.appId];if(!Kt){ie=[];break}ie.push(Kt)}}0===ie.length&&(ie=Object.values(S)),yield Promise.all(ie),D("event",V,W||{})}catch(ie){Xn.error(ie)}})).apply(this,arguments)}const kd=30,Mr=new class Tm{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function ou(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function io(){return(io=(0,N.Z)(function*(D){var S;const{appId:R,apiKey:V}=D,W={method:"GET",headers:ou(V)},ie=Dn.replace("{app-id}",R),ke=yield fetch(ie,W);if(200!==ke.status&&304!==ke.status){let ct="";try{const ut=yield ke.json();null!==(S=ut.error)&&void 0!==S&&S.message&&(ct=ut.error.message)}catch{}throw mr.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:ct})}return ke.json()})).apply(this,arguments)}function Sn(){return(Sn=(0,N.Z)(function*(D,S=Mr,R){const{appId:V,apiKey:W,measurementId:ie}=D.options;if(!V)throw mr.create("no-app-id");if(!W){if(ie)return{measurementId:ie,appId:V};throw mr.create("no-api-key")}const ke=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new lf;return setTimeout((0,N.Z)(function*(){ct.abort()}),void 0!==R?R:qa),Qo({appId:V,apiKey:W,measurementId:ie},ke,ct,S)})).apply(this,arguments)}function Qo(D,S,R){return xs.apply(this,arguments)}function xs(){return xs=(0,N.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:R},V,W=Mr){var ie;const{appId:ke,measurementId:ct}=D;try{yield function su(D,S){return new Promise((R,V)=>{const W=Math.max(S-Date.now(),0),ie=setTimeout(R,W);D.addEventListener(()=>{clearTimeout(ie),V(mr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(V,S)}catch(ut){if(ct)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:ke,measurementId:ct};throw ut}try{const ut=yield function af(D){return io.apply(this,arguments)}(D);return W.deleteThrottleMetadata(ke),ut}catch(ut){const gt=ut;if(!function na(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(gt)){if(W.deleteThrottleMetadata(ke),ct)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${gt?.message}]`),{appId:ke,measurementId:ct};throw ut}const Kt=503===Number(null===(ie=gt?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,oe.$s)(R,W.intervalMillis,kd):(0,oe.$s)(R,W.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+Kt,backoffCount:R+1};return W.setThrottleMetadata(ke,Tt),Xn.debug(`Calling attemptFetch again in ${Kt} millis`),Qo(D,Tt,V,W)}}),xs.apply(this,arguments)}class lf{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let ia,Wl;function ra(){return(ra=(0,N.Z)(function*(D,S,R,V,W){if(W&&W.global)D("event",R,V);else{const ie=yield S;D("event",R,Object.assign(Object.assign({},V),{send_to:ie}))}})).apply(this,arguments)}function Ka(){return(Ka=(0,N.Z)(function*(){if(!(0,oe.hl)())return Xn.warn(mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(D){return Xn.warn(mr.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function Io(){return Io=(0,N.Z)(function*(D,S,R,V,W,ie,ke){var ct;const ut=function ta(D){return Sn.apply(this,arguments)}(D);ut.then(Gn=>{R[Gn.measurementId]=Gn.appId,D.options.measurementId&&Gn.measurementId!==D.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Gn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Gn=>Xn.error(Gn)),S.push(ut);const gt=function cf(){return Ka.apply(this,arguments)}().then(Gn=>{if(Gn)return V.getId()}),[Kt,Tt]=yield Promise.all([ut,gt]);(function Im(D){const S=window.document.getElementsByTagName("script");for(const R of Object.values(S))if(R.src&&R.src.includes(Yo)&&R.src.includes(D))return R;return null})(ie)||function iu(D,S){const R=function nu(D,S){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(D,S)),R}("firebase-js-sdk-policy",{createScriptURL:Dm}),V=document.createElement("script"),W=`${Yo}?l=${D}&id=${S}`;V.src=R?R?.createScriptURL(W):W,V.async=!0,document.head.appendChild(V)}(ie,Kt.measurementId),Wl&&(W("consent","default",Wl),function Jo(D){Wl=D}(void 0)),W("js",new Date);const Ln=null!==(ct=ke?.config)&&void 0!==ct?ct:{};return Ln[Yi]="firebase",Ln.update=!0,null!=Tt&&(Ln[Cm]=Tt),W("config",Kt.measurementId,Ln),ia&&(W("set",ia),function aa(D){ia=D}(void 0)),Kt.measurementId}),Io.apply(this,arguments)}class Od{constructor(S){this.app=S}_delete(){return delete Gr[this.app.options.appId],Promise.resolve()}}let Gr={},Zl=[];const Ss={};let Yl,Pi,Is="dataLayer",Fd="gtag",lu=!1;function Nd(D,S,R){!function la(){const D=[];if((0,oe.ru)()&&D.push("This is a browser extension environment."),(0,oe.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((V,W)=>`(${W+1}) ${V}`).join(" "),R=mr.create("invalid-analytics-context",{errorInfo:S});Xn.warn(R.message)}}();const V=D.options.appId;if(!V)throw mr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw mr.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gr[V])throw mr.create("already-exists",{id:V});if(!lu){!function ea(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(Is);const{wrappedGtag:ie,gtagCore:ke}=function Rd(D,S,R,V,W){let ie=function(...ke){window[V].push(arguments)};return window[W]&&"function"==typeof window[W]&&(ie=window[W]),window[W]=function Wa(D,S,R,V){function ie(){return ie=(0,N.Z)(function*(ke,ct,ut){try{"event"===ke?yield function ql(D,S,R,V,W){return Ar.apply(this,arguments)}(D,S,R,ct,ut):"config"===ke?yield function Cs(D,S,R,V,W,ie){return Ko.apply(this,arguments)}(D,S,R,V,ct,ut):"consent"===ke?D("consent","update",ut):D("set",ct)}catch(gt){Xn.error(gt)}}),ie.apply(this,arguments)}return function W(ke,ct,ut){return ie.apply(this,arguments)}}(ie,D,S,R),{gtagCore:ie,wrappedGtag:window[W]}}(Gr,Zl,Ss,Is,Fd);Pi=ie,Yl=ke,lu=!0}return Gr[V]=function uf(D,S,R,V,W,ie,ke){return Io.apply(this,arguments)}(D,Zl,Ss,S,Yl,Is,R),new Od(D)}function To(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,N.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const hf="@firebase/analytics";!function ff(){(0,re._registerComponent)(new J.wA(Md,(S,{options:R})=>Nd(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,re._registerComponent)(new J.wA("analytics-internal",function D(S){try{const R=S.getProvider(Md).getImmediate();return{logEvent:(V,W,ie)=>function es(D,S,R,V){D=(0,oe.m9)(D),function Za(D,S,R,V,W){return ra.apply(this,arguments)}(Pi,Gr[D.app.options.appId],S,R,V).catch(W=>Xn.error(W))}(R,V,W,ie)}}catch(R){throw mr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,re.registerVersion)(hf,"0.9.5"),(0,re.registerVersion)(hf,"0.9.5","esm2017")}();var pf=P(4408),mf=P(7565);const ua=new class Mm extends mf.v{}(class My extends pf.o{constructor(S,R){super(S,R),this.scheduler=S,this.work=R}schedule(S,R=0){return R>0?super.schedule(S,R):(this.delay=R,this.state=S,this.scheduler.flush(this),this)}execute(S,R){return R>0||this.closed?super.execute(S,R):this._execute(S,R)}requestAsyncId(S,R,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,R,V):(S.flush(this),0)}});var _f=P(4986),ci=P(8505),Ql=P(9468),Ao=P(5363);const da=new l.GfV("7.5.0"),Ni="__angularfire_symbol__analyticsIsSupportedValue",ts="__angularfire_symbol__analyticsIsSupported",cu="__angularfire_symbol__remoteConfigIsSupportedValue",Ja="__angularfire_symbol__remoteConfigIsSupported",ns="__angularfire_symbol__messagingIsSupportedValue",ha="__angularfire_symbol__messagingIsSupported";function ro(D,S,R){if(S){if(1===S.length)return S[0];const ie=S.filter(ke=>ke.app===R);if(1===ie.length)return ie[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[ts]||(globalThis[ts]=To().then(D=>globalThis[Ni]=D).catch(()=>globalThis[Ni]=!1)),globalThis[ha]||(globalThis[ha]=Jc().then(D=>globalThis[ns]=D).catch(()=>globalThis[ns]=!1)),globalThis[Ja]||(globalThis[Ja]=Oi().then(D=>globalThis[cu]=D).catch(()=>globalThis[cu]=!1));const Ke=(D,S)=>{const R=S?[S]:(0,ee.C6)(),V=[];return R.forEach(W=>{W.container.getProvider(D).instances.forEach(ke=>{V.includes(ke)||V.push(ke)})}),V};function Xt(){}class yi{constructor(S,R=ua){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,V){const W=this.zone;return this.delegate.schedule(function(ke){W.runGuarded(()=>{S.apply(this,[ke])})},R,V)}}class vf{constructor(S){this.zone=S,this.task=null}call(S,R){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xt,{},Xt,Xt)),R.pipe((0,ci.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let is=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new yi(Zone.current)),this.insideAngular=R.run(()=>new yi(Zone.current,_f.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(l.LFG(l.R0b))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function In(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function fa(D){return In(),function pa(D){return function(R){return(R=R.lift(new vf(D.ngZone))).pipe((0,Ql.R)(D.outsideAngular),(0,Ao.Q)(D.insideAngular))}}(In())(D)}},2090:(_t,Ee,P)=>{P.d(Ee,{$s:()=>Mt,BH:()=>Me,G6:()=>Re,L:()=>de,LL:()=>It,Pz:()=>we,Sg:()=>Ue,UG:()=>ve,US:()=>J,ZB:()=>Q,ZR:()=>dn,aH:()=>xe,b$:()=>yt,eu:()=>$e,hl:()=>Ve,jU:()=>He,m9:()=>Ri,ne:()=>Vt,pd:()=>Ai,r3:()=>Cr,ru:()=>Ze,tV:()=>z,uI:()=>H,vZ:()=>lr,w1:()=>ae,xO:()=>$r,xb:()=>zo,z$:()=>Pe,zI:()=>et,zd:()=>Fn});const re=function(j){const U=[];let Y=0;for(let _e=0;_e<j.length;_e++){let ne=j.charCodeAt(_e);ne<128?U[Y++]=ne:ne<2048?(U[Y++]=ne>>6|192,U[Y++]=63&ne|128):55296==(64512&ne)&&_e+1<j.length&&56320==(64512&j.charCodeAt(_e+1))?(ne=65536+((1023&ne)<<10)+(1023&j.charCodeAt(++_e)),U[Y++]=ne>>18|240,U[Y++]=ne>>12&63|128,U[Y++]=ne>>6&63|128,U[Y++]=63&ne|128):(U[Y++]=ne>>12|224,U[Y++]=ne>>6&63|128,U[Y++]=63&ne|128)}return U},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,U){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let ne=0;ne<j.length;ne+=3){const rt=j[ne],Ye=ne+1<j.length,_n=Ye?j[ne+1]:0,Pn=ne+2<j.length,Bn=Pn?j[ne+2]:0;let qi=(15&_n)<<2|Bn>>6,Jr=63&Bn;Pn||(Jr=64,Ye||(qi=64)),_e.push(Y[rt>>2],Y[(3&rt)<<4|_n>>4],Y[qi],Y[Jr])}return _e.join("")},encodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(j):this.encodeByteArray(re(j),U)},decodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(j):function(j){const U=[];let Y=0,_e=0;for(;Y<j.length;){const ne=j[Y++];if(ne<128)U[_e++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const rt=j[Y++];U[_e++]=String.fromCharCode((31&ne)<<6|63&rt)}else if(ne>239&&ne<365){const Pn=((7&ne)<<18|(63&j[Y++])<<12|(63&j[Y++])<<6|63&j[Y++])-65536;U[_e++]=String.fromCharCode(55296+(Pn>>10)),U[_e++]=String.fromCharCode(56320+(1023&Pn))}else{const rt=j[Y++],Ye=j[Y++];U[_e++]=String.fromCharCode((15&ne)<<12|(63&rt)<<6|63&Ye)}}return U.join("")}(this.decodeStringToByteArray(j,U))},decodeStringToByteArray(j,U){this.init_();const Y=U?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let ne=0;ne<j.length;){const rt=Y[j.charAt(ne++)],_n=ne<j.length?Y[j.charAt(ne)]:0;++ne;const Bn=ne<j.length?Y[j.charAt(ne)]:64;++ne;const Bt=ne<j.length?Y[j.charAt(ne)]:64;if(++ne,null==rt||null==_n||null==Bn||null==Bt)throw new me;_e.push(rt<<2|_n>>4),64!==Bn&&(_e.push(_n<<4&240|Bn>>2),64!==Bt&&_e.push(Bn<<6&192|Bt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(j){return function(j){const U=re(j);return J.encodeByteArray(U,!0)}(j).replace(/\./g,"")},z=function(j){try{return J.decodeString(j,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function Q(j,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return U}for(const Y in U)!U.hasOwnProperty(Y)||!ze(Y)||(j[Y]=Q(j[Y],U[Y]));return j}function ze(j){return"__proto__"!==j}const Se=()=>{try{return function De(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=j&&z(j[1]);return U&&JSON.parse(U)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},xe=()=>{var j;return null===(j=Se())||void 0===j?void 0:j.config},we=j=>{var U;return null===(U=Se())||void 0===U?void 0:U[`_${j}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,Y)=>{this.resolve=U,this.reject=Y})}wrapCallback(U){return(Y,_e)=>{Y?this.reject(Y):this.resolve(_e),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(Y):U(Y,_e))}}}function Ue(j,U){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=U||"demo-project",ne=j.iat||0,rt=j.sub||j.user_id;if(!rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:ne,exp:ne+3600,auth_time:ne,sub:rt,user_id:rt,firebase:{sign_in_provider:"custom",identities:{}}},j);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ye)),""].join(".")}function Pe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function H(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function ve(){var j;const U=null===(j=Se())||void 0===j?void 0:j.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function Ze(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ae(){const j=Pe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Re(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ve(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((j,U)=>{try{let Y=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(_e);ne.onsuccess=()=>{ne.result.close(),Y||self.indexedDB.deleteDatabase(_e),j(!0)},ne.onupgradeneeded=()=>{Y=!1},ne.onerror=()=>{var rt;U((null===(rt=ne.error)||void 0===rt?void 0:rt.message)||"")}}catch(Y){U(Y)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class dn extends Error{constructor(U,Y,_e){super(Y),this.code=U,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(U,Y,_e){this.service=U,this.serviceName=Y,this.errors=_e}create(U,...Y){const _e=Y[0]||{},ne=`${this.service}/${U}`,rt=this.errors[U],Ye=rt?function an(j,U){return j.replace(it,(Y,_e)=>{const ne=U[_e];return null!=ne?String(ne):`<${_e}?>`})}(rt,_e):"Error";return new dn(ne,`${this.serviceName}: ${Ye} (${ne}).`,_e)}}const it=/\{\$([^}]+)}/g;function Cr(j,U){return Object.prototype.hasOwnProperty.call(j,U)}function zo(j){for(const U in j)if(Object.prototype.hasOwnProperty.call(j,U))return!1;return!0}function lr(j,U){if(j===U)return!0;const Y=Object.keys(j),_e=Object.keys(U);for(const ne of Y){if(!_e.includes(ne))return!1;const rt=j[ne],Ye=U[ne];if(wt(rt)&&wt(Ye)){if(!lr(rt,Ye))return!1}else if(rt!==Ye)return!1}for(const ne of _e)if(!Y.includes(ne))return!1;return!0}function wt(j){return null!==j&&"object"==typeof j}function $r(j){const U=[];for(const[Y,_e]of Object.entries(j))Array.isArray(_e)?_e.forEach(ne=>{U.push(encodeURIComponent(Y)+"="+encodeURIComponent(ne))}):U.push(encodeURIComponent(Y)+"="+encodeURIComponent(_e));return U.length?"&"+U.join("&"):""}function Fn(j){const U={};return j.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[ne,rt]=_e.split("=");U[decodeURIComponent(ne)]=decodeURIComponent(rt)}}),U}function Ai(j){const U=j.indexOf("?");if(!U)return"";const Y=j.indexOf("#",U);return j.substring(U,Y>0?Y:void 0)}function Vt(j,U){const Y=new Dt(j,U);return Y.subscribe.bind(Y)}class Dt{constructor(U,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{U(this)}).catch(_e=>{this.error(_e)})}next(U){this.forEachObserver(Y=>{Y.next(U)})}error(U){this.forEachObserver(Y=>{Y.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,Y,_e){let ne;if(void 0===U&&void 0===Y&&void 0===_e)throw new Error("Missing Observer.");ne=function fs(j,U){if("object"!=typeof j||null===j)return!1;for(const Y of U)if(Y in j&&"function"==typeof j[Y])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:Y,complete:_e},void 0===ne.next&&(ne.next=xn),void 0===ne.error&&(ne.error=xn),void 0===ne.complete&&(ne.complete=xn);const rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),rt}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,U)}sendOne(U,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{Y(this.observers[U])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}const Xr=1e3,Ge=2,Ce=144e5,st=.5;function Mt(j,U=Xr,Y=Ge){const _e=U*Math.pow(Y,j),ne=Math.round(st*_e*(Math.random()-.5)*2);return Math.min(Ce,_e+ne)}function Ri(j){return j&&j._delegate?j._delegate:j}},2630:(_t,Ee,P)=>{var l=P(4650);let ee=null;function N(){return ee}class oe{}const J=new l.OlP("DocumentToken");let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function he(){return(0,l.LFG)(z)}()},providedIn:"platform"}),n})();const de=new l.OlP("Location Initialized");let z=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){q()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){q()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Q(){return new z((0,l.LFG)(J))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function ze(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let dt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Se)},providedIn:"root"}),n})();const pe=new l.OlP("appBaseHref");let Se=(()=>{class n extends dt{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ze(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+qe(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+qe(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+qe(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(me),l.LFG(pe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ie=(()=>{class n extends dt{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=ze(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+qe(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+qe(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(me),l.LFG(pe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Ue(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(De(Me(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+qe(i))}normalize(t){return n.stripTrailingSlash(function we(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Me(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=qe,n.joinWithSlash=ze,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(l.LFG(dt))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function xe(){return new Le((0,l.LFG)(dt))}()},providedIn:"root"}),n})();function Me(n){return n.replace(/\/index.html$/,"")}var He=(()=>((He=He||{})[He.Format=0]="Format",He[He.Standalone=1]="Standalone",He))(),Ze=(()=>((Ze=Ze||{})[Ze.Narrow=0]="Narrow",Ze[Ze.Abbreviated=1]="Abbreviated",Ze[Ze.Wide=2]="Wide",Ze[Ze.Short=3]="Short",Ze))(),yt=(()=>((yt=yt||{})[yt.Short=0]="Short",yt[yt.Medium=1]="Medium",yt[yt.Long=2]="Long",yt[yt.Full=3]="Full",yt))(),ot=(()=>((ot=ot||{})[ot.Decimal=0]="Decimal",ot[ot.Group=1]="Group",ot[ot.List=2]="List",ot[ot.PercentSign=3]="PercentSign",ot[ot.PlusSign=4]="PlusSign",ot[ot.MinusSign=5]="MinusSign",ot[ot.Exponential=6]="Exponential",ot[ot.SuperscriptingExponent=7]="SuperscriptingExponent",ot[ot.PerMille=8]="PerMille",ot[ot.Infinity=9]="Infinity",ot[ot.NaN=10]="NaN",ot[ot.TimeSeparator=11]="TimeSeparator",ot[ot.CurrencyDecimal=12]="CurrencyDecimal",ot[ot.CurrencyGroup=13]="CurrencyGroup",ot))();function dn(n,e){return An((0,l.cg1)(n)[l.wAp.DateFormat],e)}function It(n,e){return An((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function an(n,e){return An((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function it(n,e){const t=(0,l.cg1)(n),i=t[l.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===ot.CurrencyDecimal)return t[l.wAp.NumberSymbols][ot.Decimal];if(e===ot.CurrencyGroup)return t[l.wAp.NumberSymbols][ot.Group]}return i}function ds(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function An(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function lr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Fn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ai={},hs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Vt=(()=>((Vt=Vt||{})[Vt.Short=0]="Short",Vt[Vt.ShortGMT=1]="ShortGMT",Vt[Vt.Long=2]="Long",Vt[Vt.Extended=3]="Extended",Vt))(),Dt=(()=>((Dt=Dt||{})[Dt.FullYear=0]="FullYear",Dt[Dt.Month=1]="Month",Dt[Dt.Date=2]="Date",Dt[Dt.Hours=3]="Hours",Dt[Dt.Minutes=4]="Minutes",Dt[Dt.Seconds=5]="Seconds",Dt[Dt.FractionalSeconds=6]="FractionalSeconds",Dt[Dt.Day=7]="Day",Dt))(),kt=(()=>((kt=kt||{})[kt.DayPeriods=0]="DayPeriods",kt[kt.Days=1]="Days",kt[kt.Months=2]="Months",kt[kt.Eras=3]="Eras",kt))();function fs(n,e,t,i){let r=function ne(n){if(Ye(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,a=1,u=1]=n.split("-").map(f=>+f);return xn(r,a-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Fn))return function rt(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,f=Number(n[5]||0)-i,_=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,u,f,_,b),e}(i)}const e=new Date(n);if(!Ye(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Kn(t,e)||e;let f,u=[];for(;e;){if(f=hs.exec(e),!f){u.push(e);break}{u=u.concat(f.slice(1));const C=u.pop();if(!C)break;e=C}}let _=r.getTimezoneOffset();i&&(_=U(i,_),r=function _e(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function Y(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(U(e,r)-r))}(r,i,!0));let b="";return u.forEach(C=>{const M=function j(n){if(Ri[n])return Ri[n];let e;switch(n){case"G":case"GG":case"GGG":e=rn(kt.Eras,Ze.Abbreviated);break;case"GGGG":e=rn(kt.Eras,Ze.Wide);break;case"GGGGG":e=rn(kt.Eras,Ze.Narrow);break;case"y":e=pn(Dt.FullYear,1,0,!1,!0);break;case"yy":e=pn(Dt.FullYear,2,0,!0,!0);break;case"yyy":e=pn(Dt.FullYear,3,0,!1,!0);break;case"yyyy":e=pn(Dt.FullYear,4,0,!1,!0);break;case"Y":e=$t(1);break;case"YY":e=$t(2,!0);break;case"YYY":e=$t(3);break;case"YYYY":e=$t(4);break;case"M":case"L":e=pn(Dt.Month,1,1);break;case"MM":case"LL":e=pn(Dt.Month,2,1);break;case"MMM":e=rn(kt.Months,Ze.Abbreviated);break;case"MMMM":e=rn(kt.Months,Ze.Wide);break;case"MMMMM":e=rn(kt.Months,Ze.Narrow);break;case"LLL":e=rn(kt.Months,Ze.Abbreviated,He.Standalone);break;case"LLLL":e=rn(kt.Months,Ze.Wide,He.Standalone);break;case"LLLLL":e=rn(kt.Months,Ze.Narrow,He.Standalone);break;case"w":e=Lt(1);break;case"ww":e=Lt(2);break;case"W":e=Lt(1,!0);break;case"d":e=pn(Dt.Date,1);break;case"dd":e=pn(Dt.Date,2);break;case"c":case"cc":e=pn(Dt.Day,1);break;case"ccc":e=rn(kt.Days,Ze.Abbreviated,He.Standalone);break;case"cccc":e=rn(kt.Days,Ze.Wide,He.Standalone);break;case"ccccc":e=rn(kt.Days,Ze.Narrow,He.Standalone);break;case"cccccc":e=rn(kt.Days,Ze.Short,He.Standalone);break;case"E":case"EE":case"EEE":e=rn(kt.Days,Ze.Abbreviated);break;case"EEEE":e=rn(kt.Days,Ze.Wide);break;case"EEEEE":e=rn(kt.Days,Ze.Narrow);break;case"EEEEEE":e=rn(kt.Days,Ze.Short);break;case"a":case"aa":case"aaa":e=rn(kt.DayPeriods,Ze.Abbreviated);break;case"aaaa":e=rn(kt.DayPeriods,Ze.Wide);break;case"aaaaa":e=rn(kt.DayPeriods,Ze.Narrow);break;case"b":case"bb":case"bbb":e=rn(kt.DayPeriods,Ze.Abbreviated,He.Standalone,!0);break;case"bbbb":e=rn(kt.DayPeriods,Ze.Wide,He.Standalone,!0);break;case"bbbbb":e=rn(kt.DayPeriods,Ze.Narrow,He.Standalone,!0);break;case"B":case"BB":case"BBB":e=rn(kt.DayPeriods,Ze.Abbreviated,He.Format,!0);break;case"BBBB":e=rn(kt.DayPeriods,Ze.Wide,He.Format,!0);break;case"BBBBB":e=rn(kt.DayPeriods,Ze.Narrow,He.Format,!0);break;case"h":e=pn(Dt.Hours,1,-12);break;case"hh":e=pn(Dt.Hours,2,-12);break;case"H":e=pn(Dt.Hours,1);break;case"HH":e=pn(Dt.Hours,2);break;case"m":e=pn(Dt.Minutes,1);break;case"mm":e=pn(Dt.Minutes,2);break;case"s":e=pn(Dt.Seconds,1);break;case"ss":e=pn(Dt.Seconds,2);break;case"S":e=pn(Dt.FractionalSeconds,1);break;case"SS":e=pn(Dt.FractionalSeconds,2);break;case"SSS":e=pn(Dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Xr(Vt.Short);break;case"ZZZZZ":e=Xr(Vt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Xr(Vt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Xr(Vt.Long);break;default:return null}return Ri[n]=e,e}(C);b+=M?M(r,t,_):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function xn(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Kn(n,e){const t=function fe(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Ai[t]=Ai[t]||{},Ai[t][e])return Ai[t][e];let i="";switch(e){case"shortDate":i=dn(n,yt.Short);break;case"mediumDate":i=dn(n,yt.Medium);break;case"longDate":i=dn(n,yt.Long);break;case"fullDate":i=dn(n,yt.Full);break;case"shortTime":i=It(n,yt.Short);break;case"mediumTime":i=It(n,yt.Medium);break;case"longTime":i=It(n,yt.Long);break;case"fullTime":i=It(n,yt.Full);break;case"short":const r=Kn(n,"shortTime"),a=Kn(n,"shortDate");i=$i(an(n,yt.Short),[r,a]);break;case"medium":const u=Kn(n,"mediumTime"),f=Kn(n,"mediumDate");i=$i(an(n,yt.Medium),[u,f]);break;case"long":const _=Kn(n,"longTime"),b=Kn(n,"longDate");i=$i(an(n,yt.Long),[_,b]);break;case"full":const C=Kn(n,"fullTime"),M=Kn(n,"fullDate");i=$i(an(n,yt.Full),[C,M])}return i&&(Ai[t][e]=i),i}function $i(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Mi(n,e,t="-",i,r){let a="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,a=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),a+u}function pn(n,e,t=0,i=!1,r=!1){return function(a,u){let f=function vo(n,e){switch(n){case Dt.FullYear:return e.getFullYear();case Dt.Month:return e.getMonth();case Dt.Date:return e.getDate();case Dt.Hours:return e.getHours();case Dt.Minutes:return e.getMinutes();case Dt.Seconds:return e.getSeconds();case Dt.FractionalSeconds:return e.getMilliseconds();case Dt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||f>-t)&&(f+=t),n===Dt.Hours)0===f&&-12===t&&(f=12);else if(n===Dt.FractionalSeconds)return function Oa(n,e){return Mi(n,3).substring(0,e)}(f,e);const _=it(u,ot.MinusSign);return Mi(f,e,_,i,r)}}function rn(n,e,t=He.Format,i=!1){return function(r,a){return function Gi(n,e,t,i,r,a){switch(t){case kt.Months:return function Ve(n,e,t){const i=(0,l.cg1)(n),a=An([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],e);return An(a,t)}(e,r,i)[n.getMonth()];case kt.Days:return function Re(n,e,t){const i=(0,l.cg1)(n),a=An([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],e);return An(a,t)}(e,r,i)[n.getDay()];case kt.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(a){const b=function Cr(n){const e=(0,l.cg1)(n);return ds(e),(e[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?lr(i):[lr(i[0]),lr(i[1])])}(e),C=function ar(n,e,t){const i=(0,l.cg1)(n);ds(i);const a=An([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],e)||[];return An(a,t)||[]}(e,r,i),M=b.findIndex(F=>{if(Array.isArray(F)){const[B,G]=F,X=u>=B.hours&&f>=B.minutes,ce=u<G.hours||u===G.hours&&f<G.minutes;if(B.hours<G.hours){if(X&&ce)return!0}else if(X||ce)return!0}else if(F.hours===u&&F.minutes===f)return!0;return!1});if(-1!==M)return C[M]}return function be(n,e,t){const i=(0,l.cg1)(n),a=An([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],e);return An(a,t)}(e,r,i)[u<12?0:1];case kt.Eras:return function $e(n,e){return An((0,l.cg1)(n)[l.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,a,n,e,t,i)}}function Xr(n){return function(e,t,i){const r=-1*i,a=it(t,ot.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Vt.Short:return(r>=0?"+":"")+Mi(u,2,a)+Mi(Math.abs(r%60),2,a);case Vt.ShortGMT:return"GMT"+(r>=0?"+":"")+Mi(u,1,a);case Vt.Long:return"GMT"+(r>=0?"+":"")+Mi(u,2,a)+":"+Mi(Math.abs(r%60),2,a);case Vt.Extended:return 0===i?"Z":(r>=0?"+":"")+Mi(u,2,a)+":"+Mi(Math.abs(r%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ge=0,Ce=4;function Mt(n){return xn(n.getFullYear(),n.getMonth(),n.getDate()+(Ce-n.getDay()))}function Lt(n,e=!1){return function(t,i){let r;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+a)/7)}else{const a=Mt(t),u=function st(n){const e=xn(n,Ge,1).getDay();return xn(n,0,1+(e<=Ce?Ce:Ce+7)-e)}(a.getFullYear()),f=a.getTime()-u.getTime();r=1+Math.round(f/6048e5)}return Mi(r,n,it(i,ot.MinusSign))}}function $t(n,e=!1){return function(t,i){return Mi(Mt(t).getFullYear(),n,it(i,ot.MinusSign),e)}}const Ri={};function U(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ye(n){return n instanceof Date&&!isNaN(n.valueOf())}function Fa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}const ps=/\s+/,xr=[];let tt=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this.initialClasses=xr,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ps):xr}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ps):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(ps).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})(),bo=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Pa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Wt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Wt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Pa{constructor(){this.$implicit=null,this.ngIf=null}}function Wt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class $s{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let gs=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),qo=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new $s(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(gs,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Zi=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:a,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,a,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();function tn(n,e){return new l.vHH(2100,!1)}const Eo=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),kl=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ys=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,a){if(null==t||""===t||t!=t)return null;try{return fs(t,i??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw tn()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(Eo,24),l.Y36(kl,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Sr=(()=>{class n{transform(t,i,r){if(null==t)return null;if(!this.supports(t))throw tn();return t.slice(i,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),xo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Gc="browser",Ir="server";function Fl(n){return n===Ir}let ws=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Va((0,l.LFG)(J),window)}),n})();class Va{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ys(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Zs(this.window.history)||Zs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Zs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Pl{}class ea extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Cs extends ea{static makeCurrent(){!function re(n){ee||(ee=n)}(new Cs)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ql(){return Ko=Ko||document.querySelector("base"),Ko?Ko.getAttribute("href"):null}();return null==t?null:function Wa(n){Ar=Ar||document.createElement("a"),Ar.setAttribute("href",n);const e=Ar.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ko=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fa(document.cookie,e)}}let Ar,Ko=null;const Rd=new l.OlP("TRANSITION_ID"),kd=[{provide:l.ip1,useFactory:function Im(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=N(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Rd,J,l.zs3],multi:!0}];let Tm=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Mr=new l.OlP("EventManagerPlugins");let ou=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class af{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=N().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let io=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let a=r.get(t)??0;return a+=i,a>0?r.set(t,a):r.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ta=(()=>{class n extends io{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(a=>a.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const a=this.styleRef.get(i);a?a.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Sn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qo=/%COMP%/g,Za=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function oa(n,e){return e.flat(100).map(t=>t.replace(Qo,n))}function Ds(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let So=(()=>{class n{constructor(t,i,r,a){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new Rr(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof aa?r.applyToHost(t):r instanceof Jo&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let a=r.get(i.id);if(!a){const u=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(i.encapsulation){case l.ifc.Emulated:a=new aa(u,f,i,this.appId,_);break;case l.ifc.ShadowDom:return new Wl(u,f,t,i);default:a=new Jo(u,f,i,_)}a.onDestroy=()=>r.delete(i.id),r.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ou),l.LFG(ta),l.LFG(l.AFp),l.LFG(Za))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Rr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Sn[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Xo(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Xo(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Sn[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Sn[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ds(i)):this.eventManager.addEventListener(e,t,Ds(i))}}function Xo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Wl extends Rr{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=oa(r.id,r.styles);for(const u of a){const f=document.createElement("style");f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Jo extends Rr{constructor(e,t,i,r,a=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=oa(a,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class aa extends Jo{constructor(e,t,i,r,a){const u=r+"-"+i.id;super(e,t,i,a,u),this.contentAttr=function ra(n){return"_ngcontent-%COMP%".replace(Qo,n)}(u),this.hostAttr=function au(n){return"_nghost-%COMP%".replace(Qo,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let cf=(()=>{class n extends af{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ka=["alt","control","meta","shift"],uf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Io={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Od=(()=>{class n extends af{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),Ka.forEach(b=>{const C=i.indexOf(b);C>-1&&(i.splice(C,1),u+=b+".")}),u+=a,0!=i.length||0===a.length)return null;const _={};return _.domEventName=r,_.fullKey=u,_}static matchEventFullKeyCode(t,i){let r=uf[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ka.forEach(u=>{u!==r&&(0,Io[u])(t)&&(a+=u+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const la=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Gc},{provide:l.g9A,useValue:function Yl(){Cs.makeCurrent()},multi:!0},{provide:J,useFactory:function lu(){return(0,l.RDi)(document),document},deps:[]}]),Nd=new l.OlP(""),Ld=[{provide:l.rWj,useClass:class ru{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Kl=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Pi(){return new l.qLn},deps:[]},{provide:Mr,useClass:cf,multi:!0,deps:[J,l.R0b,l.Lbi]},{provide:Mr,useClass:Od,multi:!0,deps:[J]},{provide:So,useClass:So,deps:[ou,ta,l.AFp,Za]},{provide:l.FYo,useExisting:So},{provide:io,useExisting:ta},{provide:ta,useClass:ta,deps:[J]},{provide:ou,useClass:ou,deps:[Mr,l.R0b]},{provide:Pl,useClass:Tm,deps:[]},[]];let To=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Rd,useExisting:l.AFp},kd]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Nd,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Kl,...Ld],imports:[xo,l.hGG]}),n})(),ca=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Vd(){return new ca((0,l.LFG)(J))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ha=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(yf),i},providedIn:"root"}),n})(),yf=(()=>{class n extends ha{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Bd(n){return new yf(n.get(J))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var Qt=P(8996),ro=P(3269);function Ke(...n){const e=(0,ro.yG)(n);return(0,Qt.D)(n,e)}var Xt=P(7579);class yi extends Xt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const is=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var In=P(9751);const{isArray:bf}=Array,{getPrototypeOf:Mo,prototype:Ud,keys:Xl}=Object;function fa(n){if(1===n.length){const e=n[0];if(bf(e))return{args:e,keys:null};if(function pa(n){return n&&"object"==typeof n&&Mo(n)===Ud}(e)){const t=Xl(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var oo=P(4671),pt=P(4004);const{isArray:D}=Array;function R(n){return(0,pt.U)(e=>function S(n,e){return D(e)?n(...e):n(e)}(n,e))}function V(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var W=P(5403),ie=P(9672);function ke(...n){const e=(0,ro.yG)(n),t=(0,ro.jO)(n),{args:i,keys:r}=fa(n);if(0===i.length)return(0,Qt.D)([],e);const a=new In.y(function ct(n,e,t=oo.y){return i=>{ut(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)ut(e,()=>{const b=(0,Qt.D)(n[_],e);let C=!1;b.subscribe((0,W.x)(i,M=>{a[_]=M,C||(C=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>V(r,u):oo.y));return t?a.pipe(R(t)):a}function ut(n,e,t){n?(0,ie.f)(t,n,e):e()}var gt=P(8189);function Tt(...n){return function Kt(){return(0,gt.J)(1)}()((0,Qt.D)(n,(0,ro.yG)(n)))}var Ln=P(8421);function Gn(n){return new In.y(e=>{(0,Ln.Xf)(n()).subscribe(e)})}var el=P(9635),Ki=P(576);function qr(n,e){const t=(0,Ki.m)(n)?n:()=>n,i=r=>r.error(t());return new In.y(e?r=>e.schedule(i,0,r):i)}var qn=P(515),Jn=P(727),jn=P(4482);function Hd(){return(0,jn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,W.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Jl extends In.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,jn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Jn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,W.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Jn.w0.EMPTY)}return e}refCount(){return Hd()(this)}}function ei(n,e){return(0,jn.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,W.x)(i,_=>{r?.unsubscribe();let b=0;const C=a++;(0,Ln.Xf)(n(_,C)).subscribe(r=(0,W.x)(i,M=>i.next(e?e(_,M,C,b++):M),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function Qi(n){return n<=0?()=>qn.E:(0,jn.e)((e,t)=>{let i=0;e.subscribe((0,W.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function ec(...n){const e=(0,ro.yG)(n);return(0,jn.e)((t,i)=>{(e?Tt(n,t,e):Tt(n,t)).subscribe(i)})}function vi(n,e){return(0,jn.e)((t,i)=>{let r=0;t.subscribe((0,W.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var Li=P(5577);function tc(n){return(0,jn.e)((e,t)=>{let i=!1;e.subscribe((0,W.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function km(n=ow){return(0,jn.e)((e,t)=>{let i=!1;e.subscribe((0,W.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function ow(){return new is}function kr(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vi((r,a)=>n(r,a,i)):oo.y,Qi(1),t?tc(e):km(()=>new is))}function tl(n,e){return(0,Ki.m)(e)?(0,Li.z)(n,e,1):(0,Li.z)(n,1)}var bi=P(8505);function ma(n){return(0,jn.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,W.x)(t,void 0,void 0,u=>{a=(0,Ln.Xf)(n(u,ma(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function jd(n,e){return(0,jn.e)(function sw(n,e,t,i,r){return(a,u)=>{let f=t,_=e,b=0;a.subscribe((0,W.x)(u,C=>{const M=b++;_=f?n(_,C,M):(f=!0,C),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}(n,e,arguments.length>=2,!0))}function wf(n){return n<=0?()=>qn.E:(0,jn.e)((e,t)=>{let i=[];e.subscribe((0,W.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ef(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vi((r,a)=>n(r,a,i)):oo.y,wf(1),t?tc(e):km(()=>new is))}function du(n){return(0,jn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const jt="primary",Or=Symbol("RouteTitle");class Ry{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function nc(n){return new Ry(n)}function Om(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function so(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!Pm(n[r],e[r]))return!1;return!0}function Pm(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Nm(n){return Array.prototype.concat.apply([],n)}function zd(n){return n.length>0?n[n.length-1]:null}function wi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ga(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Qt.D)(Promise.resolve(n)):Ke(n)}const Di=!1,xf={exact:function _a(n,e,t){if(!nl(n.segments,e.segments)||!rc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!_a(n.children[i],e.children[i],t))return!1;return!0},subset:ic},hu={exact:function gr(n,e){return so(n,e)},subset:function Df(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Pm(n[t],e[t]))},ignored:()=>!0};function $d(n,e,t){return xf[t.paths](n.root,e.root,t.matrixParams)&&hu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ic(n,e,t){return Sf(n,e,e.segments,t)}function Sf(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!nl(r,t)||e.hasChildren()||!rc(r,t,i))}if(n.segments.length===t.length){if(!nl(n.segments,t)||!rc(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!ic(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(nl(n.segments,r)&&rc(n.segments,r,i)&&n.children[jt])&&Sf(n.children[jt],e,a,i)}}function rc(n,e,t){return e.every((i,r)=>hu[t](n[r].parameters,i.parameters))}class ya{constructor(e=new Jt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nc(this.queryParams)),this._queryParamMap}toString(){return rl.serialize(this)}}class Jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,wi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return va(this)}}class fu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=nc(this.parameters)),this._parameterMap}toString(){return If(this)}}function nl(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let il=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Gd},providedIn:"root"}),n})();class Gd{parse(e){const t=new Yd(e);return new ya(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${pu(e.root,!0)}`,i=function gu(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${oc(t)}=${oc(r)}`).join("&"):`${oc(t)}=${oc(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function mu(n){return encodeURI(n)}(e.fragment)}`:""}`}}const rl=new Gd;function va(n){return n.segments.map(e=>If(e)).join("/")}function pu(n,e){if(!n.hasChildren())return va(n);if(e){const t=n.children[jt]?pu(n.children[jt],!1):"",i=[];return wi(n.children,(r,a)=>{a!==jt&&i.push(`${a}:${pu(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Vm(n,e){let t=[];return wi(n.children,(i,r)=>{r===jt&&(t=t.concat(e(i,r)))}),wi(n.children,(i,r)=>{r!==jt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===jt?[pu(n.children[jt],!1)]:[`${r}:${pu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jt]?`${va(n)}/${t[0]}`:`${va(n)}/(${t.join("//")})`}}function qd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oc(n){return qd(n).replace(/%3B/gi,";")}function Wd(n){return qd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function As(n){return decodeURIComponent(n)}function sc(n){return As(n.replace(/\+/g,"%20"))}function If(n){return`${Wd(n.path)}${function Oy(n){return Object.keys(n).map(e=>`;${Wd(e)}=${Wd(n[e])}`).join("")}(n.parameters)}`}const Fy=/^[^\/()?;=#]+/;function Zd(n){const e=n.match(Fy);return e?e[0]:""}const Py=/^[^=?&#]+/,Ly=/^[^&#]+/;class Yd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[jt]=new Jt(e,t)),i}parseSegment(){const e=Zd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,Di);return this.capture(e),new fu(As(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Zd(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Zd(this.remaining);r&&(i=r,this.capture(i))}e[As(t)]=As(i)}parseQueryParam(e){const t=function Ny(n){const e=n.match(Py);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function Bm(n){const e=n.match(Ly);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=sc(t),a=sc(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Zd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,Di);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=jt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[jt]:new Jt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,Di)}}function _u(n){return n.segments.length>0?new Jt([],{[jt]:n}):n}function yu(n){const e={};for(const i of Object.keys(n.children)){const a=yu(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function vu(n){if(1===n.numberOfChildren&&n.children[jt]){const e=n.children[jt];return new Jt(n.segments.concat(e.segments),e.children)}return n}(new Jt(n.segments,e))}function Ms(n){return n instanceof ya}const Tf=!1;function Um(n,e,t,i,r){if(0===t.length)return bu(e.root,e.root,e.root,i,r);const a=function Af(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Hm(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return wi(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Hm(t,e,i)}(t);return a.toRoot()?bu(e.root,e.root,new Jt([],{}),i,r):function u(_){const b=function Kd(n,e,t,i){if(n.isAbsolute)return new Ro(e.root,!0,0);if(-1===i)return new Ro(t,t===e.root,0);return function Mf(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new l.vHH(4005,Tf&&"Invalid number of '../'");r=i.segments.length}return new Ro(i,!1,r-a)}(t,i+(lc(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),C=b.processChildren?ol(b.segmentGroup,b.index,a.commands):uc(b.segmentGroup,b.index,a.commands);return bu(e.root,b.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function lc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function cc(n){return"object"==typeof n&&null!=n&&n.outlets}function bu(n,e,t,i,r){let u,a={};i&&wi(i,(_,b)=>{a[b]=Array.isArray(_)?_.map(C=>`${C}`):`${_}`}),u=n===e?t:wu(n,e,t);const f=_u(yu(u));return new ya(f,a,r)}function wu(n,e,t){const i={};return wi(n.children,(r,a)=>{i[a]=r===e?t:wu(r,e,t)}),new Jt(n.segments,i)}class Hm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&lc(i[0]))throw new l.vHH(4003,Tf&&"Root segment cannot have matrix parameters");const r=i.find(cc);if(r&&r!==zd(i))throw new l.vHH(4004,Tf&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ro{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function uc(n,e,t){if(n||(n=new Jt([],{})),0===n.segments.length&&n.hasChildren())return ol(n,e,t);const i=function Xd(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(cc(f))break;const _=`${f}`,b=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!zm(_,b,u))return a;i+=2}else{if(!zm(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Jt(n.segments.slice(0,i.pathIndex),{});return a.children[jt]=new Jt(n.segments.slice(i.pathIndex),n.children),ol(a,0,r)}return i.match&&0===r.length?new Jt(n.segments,{}):i.match&&!n.hasChildren()?sl(n,e,t):i.match?ol(n,0,r):sl(n,e,t)}function ol(n,e,t){if(0===t.length)return new Jt(n.segments,{});{const i=function Qd(n){return cc(n[0])?n[0].outlets:{[jt]:n}}(t),r={};return!i[jt]&&n.children[jt]&&1===n.numberOfChildren&&0===n.children[jt].segments.length?ol(n.children[jt],e,t):(wi(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=uc(n.children[u],e,a))}),wi(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new Jt(n.segments,r))}}function sl(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(cc(a)){const _=Eu(a.outlets);return new Jt(i,_)}if(0===r&&lc(t[0])){i.push(new fu(n.segments[e].path,al(t[0]))),r++;continue}const u=cc(a)?a.outlets[jt]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&lc(f)?(i.push(new fu(u,al(f))),r+=2):(i.push(new fu(u,{})),r++)}return new Jt(i,{})}function Eu(n){const e={};return wi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=sl(new Jt([],{}),0,t))}),e}function al(n){const e={};return wi(n,(t,i)=>e[i]=`${t}`),e}function zm(n,e,t){return n==t.path&&so(e,t.parameters)}const wa="imperative";class rs{constructor(e,t){this.id=e,this.url=t}}class _r extends rs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ko extends rs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dc extends rs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cu extends rs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Ea extends rs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xu extends rs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hc extends rs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $m extends rs{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class By extends rs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ll extends rs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rf{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uy{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qm{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Du{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xi{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Su{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let yr=(()=>{class n{createUrlTree(t,i,r,a,u,f){return Um(t||i.root,r,a,u,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Zm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return yr.\u0275fac(e)},providedIn:"root"}),n})();class kf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Of(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Of(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Tu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Tu(e,this._root).map(t=>t.value)}}function Of(n,e){if(n===e.value)return e;for(const t of e.children){const i=Of(n,t);if(i)return i}return null}function Tu(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Tu(n,t);if(i.length)return i.unshift(e),i}return[]}class Vi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Oo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ym extends kf{constructor(e,t){super(e),this.snapshot=t,K(this,e)}toString(){return this.snapshot.toString()}}function Km(n,e){const t=function y(n,e){const u=new I([],{},{},"",{},jt,e,null,n.root,-1,{});return new O("",new Vi(u,[]))}(n,e),i=new yi([new fu("",{})]),r=new yi({}),a=new yi({}),u=new yi({}),f=new yi(""),_=new p(i,r,u,f,a,jt,e,t.root);return _.snapshot=t.root,new Ym(new Vi(_,[]),t)}class p{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,pt.U)(b=>b[Or]))??Ke(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>nc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>nc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function m(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function w(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class I{get title(){return this.data?.[Or]}constructor(e,t,i,r,a,u,f,_,b,C,M){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=C,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class O extends kf{constructor(e,t){super(t),this.url=e,K(this,t)}toString(){return ue(this._root)}}function K(n,e){e.value._routerState=n,e.children.forEach(t=>K(n,t))}function ue(n){const e=n.children.length>0?` { ${n.children.map(ue).join(", ")} } `:"";return`${n.value}${e}`}function je(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,so(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),so(e.params,t.params)||n.params.next(t.params),function Fm(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!so(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),so(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nt(n,e){const t=so(n.params,e.params)&&function Lm(n,e){return nl(n,e)&&n.every((t,i)=>so(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nt(n.parent,e.parent))}function mt(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function ui(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return mt(n,i,r);return mt(n,i)})}(n,e,t);return new Vi(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>mt(n,f)),u}}const i=function ao(n){return new p(new yi(n.url),new yi(n.params),new yi(n.queryParams),new yi(n.fragment),new yi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>mt(n,a));return new Vi(i,r)}}const cl="ngNavigationCancelingError";function Qm(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ms(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Ff(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Ff(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[cl]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Xm(n){return Au(n)&&Ms(n.url)}function Au(n){return n&&n[cl]}class Mu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ru,this.attachRef=null}}let Ru=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Mu,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eh=!1;let fc=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Ru),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,eh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,eh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,eh);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,eh);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new Jm(t,f,r.injector);if(i&&function Hy(n){return!!n.resolveComponentFactory}(i)){const b=i.resolveComponentFactory(u);this.activated=r.createComponent(b,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class Jm{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===p?this.route:e===Ru?this.childContexts:this.parent.get(e,t)}}let ku=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[fc],encapsulation:2}),n})();function eg(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function tg(n){const e=n.children&&n.children.map(tg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==jt&&(t.component=ku),t}function Fo(n){return n.outlet||jt}function lw(n,e){const t=n.filter(i=>Fo(i)===e);return t.push(...n.filter(i=>Fo(i)!==e)),t}function Pf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class aS{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),je(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Oo(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),wi(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Oo(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=Oo(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Oo(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Xi(a.value.snapshot))}),e.children.length&&this.forwardEvent(new qm(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(je(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),je(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=Pf(r.snapshot),_=f?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class $y{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gy{constructor(e,t){this.component=e,this.route=t}}function XR(n,e,t){const i=n._root;return th(i,e?e._root:null,t,[i.value])}function pc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function th(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Oo(e);return n.children.forEach(u=>{(function cw(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function uw(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!nl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!nl(n.url,e.url)||!so(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nt(n,e)||!so(n.queryParams,e.queryParams);default:return!nt(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new $y(i)):(a.data=u.data,a._resolvedData=u._resolvedData),th(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Gy(f.outlet.component,u))}else u&&Lf(e,f,r),r.canActivateChecks.push(new $y(i)),th(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),wi(a,(u,f)=>Lf(u,t.getContext(f),r)),r}function Lf(n,e,t){const i=Oo(n),r=n.value;wi(i,(a,u)=>{Lf(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Gy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Vf(n){return"function"==typeof n}function ng(n){return n instanceof is||"EmptyError"===n?.name}const Ca=Symbol("INITIAL_VALUE");function nh(){return ei(n=>ke(n.map(e=>e.pipe(Qi(1),ec(Ca)))).pipe((0,pt.U)(e=>{for(const t of e)if(!0!==t){if(t===Ca)return Ca;if(!1===t||t instanceof ya)return t}return!0}),vi(e=>e!==Ca),Qi(1)))}function gw(n){return(0,el.z)((0,bi.b)(e=>{if(Ms(e))throw Qm(0,e)}),(0,pt.U)(e=>!0===e))}const mc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yw(n,e,t,i,r){const a=Qy(n,e,t);return a.matched?function _w(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Ke(r.map(u=>{const f=pc(u,n);return ga(function lS(n){return n&&Vf(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(nh(),gw()):Ke(!0)}(i=eg(e,i),e,t).pipe((0,pt.U)(u=>!0===u?a:{...mc})):Ke(a)}function Qy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...mc}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Om)(t,n,e);if(!r)return{...mc};const a={};wi(r.posParams,(f,_)=>{a[_]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function og(n,e,t,i){if(t.length>0&&function vw(n,e,t){return t.some(i=>Bf(n,e,i)&&Fo(i)!==jt)}(n,t,i)){const a=new Jt(e,function dS(n,e,t,i){const r={};r[jt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Fo(a)!==jt){const u=new Jt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Fo(a)]=u}return r}(n,e,i,new Jt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function hS(n,e,t){return t.some(i=>Bf(n,e,i))}(n,t,i)){const a=new Jt(n.segments,function Xy(n,e,t,i,r){const a={};for(const u of i)if(Bf(n,t,u)&&!r[Fo(u)]){const f=new Jt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[Fo(u)]=f}return{...r,...a}}(n,e,t,i,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const r=new Jt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function Bf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function fS(n,e,t,i){return!!(Fo(n)===i||i!==jt&&Bf(e,t,n))&&("**"===n.path||Qy(e,n,t).matched)}function bw(n,e,t){return 0===e.length&&!n.children[t]}const gc=!1;class sg{constructor(e){this.segmentGroup=e||null}}class Fu{constructor(e){this.urlTree=e}}function ul(n){return qr(new sg(n))}function ww(n){return qr(new Fu(n))}class gS{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=og(this.urlTree.root,[],[],this.config).segmentGroup,t=new Jt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,jt).pipe((0,pt.U)(a=>this.createUrlTree(yu(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ma(a=>{if(a instanceof Fu)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof sg?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,jt).pipe((0,pt.U)(r=>this.createUrlTree(yu(r),e.queryParams,e.fragment))).pipe(ma(r=>{throw r instanceof sg?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,gc)}createUrlTree(e,t,i){const r=_u(e);return new ya(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,pt.U)(a=>new Jt([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Qt.D)(r).pipe(tl(a=>{const u=i.children[a],f=lw(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,pt.U)(_=>({segment:_,outlet:a})))}),jd((a,u)=>(a[u.outlet]=u.segment,a),{}),Ef())}expandSegment(e,t,i,r,a,u){return(0,Qt.D)(i).pipe(tl(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(ma(b=>{if(b instanceof sg)return Ke(null);throw b}))),kr(f=>!!f),ma((f,_)=>{if(ng(f))return bw(t,r,a)?Ke(new Jt([],{})):ul(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return fS(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):ul(t):ul(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ww(a):this.lineralizeSegments(i,a).pipe((0,Li.z)(u=>{const f=new Jt(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:C}=Qy(t,r,a);if(!f)return ul(t);const M=this.applyRedirectCommands(_,r.redirectTo,C);return r.redirectTo.startsWith("/")?ww(M):this.lineralizeSegments(r,M).pipe((0,Li.z)(F=>this.expandSegment(e,t,i,F.concat(b),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=eg(i,e),i.loadChildren?(i._loadedRoutes?Ke({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,pt.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new Jt(r,{})))):Ke(new Jt(r,{}))):yw(t,i,r,e).pipe(ei(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Li.z)(C=>{const M=C.injector??e,F=C.routes,{segmentGroup:B,slicedSegments:G}=og(t,f,_,F),X=new Jt(B.segments,B.children);if(0===G.length&&X.hasChildren())return this.expandChildren(M,F,X).pipe((0,pt.U)(ft=>new Jt(f,ft)));if(0===F.length&&0===G.length)return Ke(new Jt(f,{}));const ce=Fo(i)===a;return this.expandSegment(M,X,F,G,ce?jt:a,!0).pipe((0,pt.U)(ht=>new Jt(f.concat(ht.segments),ht.children)))})):ul(t)))}getChildConfig(e,t,i){return t.children?Ke({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ke({routes:t._loadedRoutes,injector:t._loadedInjector}):function uS(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Ke(!0):Ke(r.map(u=>{const f=pc(u,n);return ga(function hw(n){return n&&Vf(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(nh(),gw())}(e,t,i).pipe((0,Li.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,bi.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function pS(n){return qr(Ff(gc,3))}())):Ke({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ke(i);if(r.numberOfChildren>1||!r.children[jt])return e.redirectTo,qr(new l.vHH(4e3,gc));r=r.children[jt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new ya(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return wi(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return wi(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new Jt(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,gc);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class ev{}class nv{constructor(e,t,i,r,a,u,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.urlSerializer=f}recognize(){const e=og(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,jt).pipe((0,pt.U)(t=>{if(null===t)return null;const i=new I([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vi(i,t),a=new O(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=m(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Qt.D)(Object.keys(i.children)).pipe(tl(r=>{const a=i.children[r],u=lw(t,r);return this.processSegmentGroup(e,u,a,r)}),jd((r,a)=>r&&a?(r.push(...a),r):null),function Cf(n,e=!1){return(0,jn.e)((t,i)=>{let r=0;t.subscribe((0,W.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),tc(null),Ef(),(0,pt.U)(r=>{if(null===r)return null;const a=xw(r);return function Uf(n){n.sort((e,t)=>e.value.outlet===jt?-1:t.value.outlet===jt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,Qt.D)(t).pipe(tl(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),kr(u=>!!u),ma(u=>{if(ng(u))return bw(i,r,a)?Ke([]):Ke(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!fS(t,i,r,a))return Ke(null);let u;if("**"===t.path){const f=r.length>0?zd(r).parameters:{},_=Sw(i)+r.length;u=Ke({snapshot:new I(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Pu(t),Fo(t),t.component??t._loadedComponent??null,t,Dw(i),_,xa(t)),consumedSegments:[],remainingSegments:[]})}else u=yw(i,t,r,e).pipe((0,pt.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:C})=>{if(!f)return null;const M=Sw(i)+_.length;return{snapshot:new I(_,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Pu(t),Fo(t),t.component??t._loadedComponent??null,t,Dw(i),M,xa(t)),consumedSegments:_,remainingSegments:b}}));return u.pipe(ei(f=>{if(null===f)return Ke(null);const{snapshot:_,consumedSegments:b,remainingSegments:C}=f;e=t._injector??e;const M=t._loadedInjector??e,F=function yS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:G}=og(i,b,C,F.filter(ce=>void 0===ce.redirectTo));if(0===G.length&&B.hasChildren())return this.processChildren(M,F,B).pipe((0,pt.U)(ce=>null===ce?null:[new Vi(_,ce)]));if(0===F.length&&0===G.length)return Ke([new Vi(_,[])]);const X=Fo(t)===a;return this.processSegment(M,F,B,G,X?jt:a).pipe((0,pt.U)(ce=>null===ce?null:[new Vi(_,ce)]))}))}}function vS(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function xw(n){const e=[],t=new Set;for(const i of n){if(!vS(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=xw(i.children);e.push(new Vi(i.value,r))}return e.filter(i=>!t.has(i))}function Dw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Sw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Pu(n){return n.data||{}}function xa(n){return n.resolve||{}}function ES(n,e){return(0,Li.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ke(t);let a=0;return(0,Qt.D)(r).pipe(tl(u=>function tk(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!iv(r)&&(a[Or]=r.title),function nk(n,e,t,i){const r=function Iw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ke({});const a={};return(0,Qt.D)(r).pipe((0,Li.z)(u=>function ik(n,e,t,i){const r=Pf(e)??i,a=pc(n,r);return ga(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[u],e,t,i).pipe(kr(),(0,bi.b)(f=>{a[u]=f}))),wf(1),function uu(n){return(0,pt.U)(()=>n)}(a),ma(u=>ng(u)?qn.E:qr(u)))}(a,n,e,i).pipe((0,pt.U)(u=>(n._resolvedData=u,n.data=m(n,t).resolve,r&&iv(r)&&(n.data[Or]=r.title),null)))}(u.route,i,n,e)),(0,bi.b)(()=>a++),wf(1),(0,Li.z)(u=>a===r.length?Ke(t):qn.E))})}function iv(n){return"string"==typeof n.title||null===n.title}function ag(n){return ei(e=>{const t=n(e);return t?(0,Qt.D)(t).pipe((0,pt.U)(()=>e)):Ke(e)})}const Nu=new l.OlP("ROUTES");let rv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ke(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ga(t.loadComponent()).pipe((0,pt.U)(os),(0,bi.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),du(()=>{this.componentLoaders.delete(t)})),r=new Jl(i,()=>new Xt.x).pipe(Hd());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ke({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,pt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,b,C=!1;Array.isArray(f)?b=f:(_=f.create(t).injector,b=Nm(_.get(Nu,[],l.XFs.Self|l.XFs.Optional)));return{routes:b.map(tg),injector:_}}),du(()=>{this.childrenLoaders.delete(i)})),u=new Jl(a,()=>new Xt.x).pipe(Hd());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return ga(t()).pipe((0,pt.U)(os),(0,Li.z)(i=>i instanceof l.YKP||Array.isArray(i)?Ke(i):(0,Qt.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function os(n){return function CS(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Xt.x,this.configLoader=(0,l.f3M)(rv),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(il),this.rootContexts=(0,l.f3M)(Ru),this.navigationId=0,this.afterPreactivation=()=>Ke(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Rf(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Gm(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new yi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wa,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vi(i=>0!==i.id),(0,pt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),ei(i=>{let r=!1,a=!1;return Ke(i).pipe((0,bi.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ei(u=>{const f=t.browserUrlTree.toString(),_=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new Cu(u.id,t.serializeUrl(i.rawUrl),C,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),qn.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Aw(u.source)&&(t.browserUrlTree=u.extractedUrl),Ke(u).pipe(ei(C=>{const M=this.transitions?.getValue();return this.events.next(new _r(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),M!==this.transitions?.getValue()?qn.E:Promise.resolve(C)}),function Cw(n,e,t,i){return ei(r=>function mS(n,e,t,i,r){return new gS(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,pt.U)(a=>({...r,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,bi.b)(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},i.urlAfterRedirects=C.urlAfterRedirects}),function wS(n,e,t,i,r){return(0,Li.z)(a=>function _S(n,e,t,i,r,a,u="emptyOnly"){return new nv(n,e,t,i,r,u,a).recognize().pipe(ei(f=>null===f?function tv(n){return new In.y(e=>e.error(n))}(new ev):Ke(f)))}(n,e,t,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r).pipe((0,pt.U)(u=>({...a,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,bi.b)(C=>{if(i.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const F=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(F,C)}t.browserUrlTree=C.urlAfterRedirects}const M=new xu(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(M)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:M,source:F,restoredState:B,extras:G}=u,X=new _r(C,this.urlSerializer.serialize(M),F,B);this.events.next(X);const ce=Km(M,this.rootComponentType).snapshot;return Ke(i={...u,targetSnapshot:ce,urlAfterRedirects:M,extras:{...G,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new Cu(u.id,t.serializeUrl(i.extractedUrl),C,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),qn.E}}),(0,bi.b)(u=>{const f=new hc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,pt.U)(u=>i={...u,guards:XR(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function Zy(n,e){return(0,Li.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?Ke({...t,guardsResult:!0}):function ig(n,e,t,i){return(0,Qt.D)(n).pipe((0,Li.z)(r=>function Ky(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Ke(a.map(f=>{const _=Pf(e)??r,b=pc(f,_);return ga(function Wy(n){return n&&Vf(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,i):_.runInContext(()=>b(n,e,t,i))).pipe(kr())})).pipe(nh()):Ke(!0)}(r.component,r.route,t,e,i)),kr(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Li.z)(f=>f&&function dw(n){return"boolean"==typeof n}(f)?function cS(n,e,t,i){return(0,Qt.D)(e).pipe(tl(r=>Tt(function rg(n,e){return null!==n&&e&&e(new Uy(n)),Ke(!0)}(r.route.parent,i),function Yy(n,e){return null!==n&&e&&e(new Du(n)),Ke(!0)}(r.route,i),function mw(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function Nf(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Gn(()=>Ke(u.guards.map(_=>{const b=Pf(u.node)??t,C=pc(_,b);return ga(function JR(n){return n&&Vf(n.canActivateChild)}(C)?C.canActivateChild(i,n):b.runInContext(()=>C(i,n))).pipe(kr())})).pipe(nh())));return Ke(a).pipe(nh())}(n,r.path,t),function Ou(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ke(!0);const r=i.map(a=>Gn(()=>{const u=Pf(e)??t,f=pc(a,u);return ga(function qy(n){return n&&Vf(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(kr())}));return Ke(r).pipe(nh())}(n,r.route,t))),kr(r=>!0!==r,!0))}(i,a,n,e):Ke(f)),(0,pt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),(0,bi.b)(u=>{if(i.guardsResult=u.guardsResult,Ms(u.guardsResult))throw Qm(0,u.guardsResult);const f=new $m(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),vi(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),ag(u=>{if(u.guards.canActivateChecks.length)return Ke(u).pipe((0,bi.b)(f=>{const _=new By(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),ei(f=>{let _=!1;return Ke(f).pipe(ES(t.paramsInheritanceStrategy,this.environmentInjector),(0,bi.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,bi.b)(f=>{const _=new ll(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),ag(u=>{const f=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,bi.b)(C=>{_.component=C}),(0,pt.U)(()=>{})));for(const C of _.children)b.push(...f(C));return b};return ke(f(u.targetSnapshot.root)).pipe(tc(),Qi(1))}),ag(()=>this.afterPreactivation()),(0,pt.U)(u=>{const f=function vt(n,e,t){const i=mt(n,e._root,t?t._root:void 0);return new Ym(i,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:f}}),(0,bi.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,pt.U)(i=>(new aS(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),(0,bi.b)({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ko(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),du(()=>{r||a||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ma(u=>{if(a=!0,Au(u)){Xm(u)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new dc(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),Xm(u)){const _=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),b={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Aw(i.source)};t.scheduleNavigation(_,wa,null,b,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new Ea(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(u))}catch(_){i.reject(_)}}return qn.E}))}))}cancelNavigationTransition(t,i,r){const a=new dc(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Aw(n){return n!==wa}let Mw=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===jt);return i}getResolvedTitleForRoute(t){return t.data[Or]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(xS)},providedIn:"root"}),n})(),xS=(()=>{class n extends Mw{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ca))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(SS)},providedIn:"root"}),n})();class Rw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let SS=(()=>{class n extends Rw{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cg=new l.OlP("",{providedIn:"root",factory:()=>({})});let Zt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(kw)},providedIn:"root"}),n})(),kw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ow(n){throw n}function TS(n,e,t){return e.parse("/")}const AS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(cg,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ow,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||TS,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Zt),this.routeReuseStrategy=(0,l.f3M)(DS),this.urlCreationStrategy=(0,l.f3M)(Zm),this.titleStrategy=(0,l.f3M)(Mw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Nm((0,l.f3M)(Nu,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(Hf),this.urlSerializer=(0,l.f3M)(il),this.location=(0,l.f3M)(Le),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ya,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Km(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wa,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const a={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const _={...r};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,u,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(tg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,b=_?this.currentUrlTree.fragment:u;let C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...a};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=a||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,C,b??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ms(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,wa,null,i)}navigate(t,i={skipLocationChange:!1}){return function Pw(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...AS}:!1===i?{...Fw}:i,Ms(t))return $d(this.currentUrlTree,t,r);const a=this.parseUrl(t);return $d(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,_,b,C;return u?(f=u.resolve,_=u.reject,b=u.promise):b=new Promise((M,F)=>{f=M,_=F}),C="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(M=>Promise.reject(M))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dg=(()=>{class n{constructor(t,i,r,a,u,f){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Xt.x;const _=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof ko&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,a,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,a=this.el.nativeElement;null!==i?r.setAttribute(a,t,i):r.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(lo),l.Y36(p),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(dt))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&l.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class ov{}let kS=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(vi(t=>t instanceof ko),tl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Qt.D)(r).pipe((0,gt.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ke(null);const a=r.pipe((0,Li.z)(u=>null===u?Ke(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Qt.D)([a,u]).pipe((0,gt.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(lo),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(ov),l.LFG(rv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jf=new l.OlP("");let hg=(()=>{class n{constructor(t,i,r,a,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=a,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _r?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ko&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Su&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Su(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var Po=(()=>((Po=Po||{})[Po.COMPLETE=0]="COMPLETE",Po[Po.FAILED=1]="FAILED",Po[Po.REDIRECTING=2]="REDIRECTING",Po))();const zf=!1;function dl(n,e){return{\u0275kind:n,\u0275providers:e}}const Lw=new l.OlP("",{providedIn:"root",factory:()=>!1});function sv(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(lo),r=n.get(Gf);1===n.get(av)&&i.initialNavigation(),n.get(Bw,null,l.XFs.Optional)?.setUpPreloading(),n.get(jf,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Gf=new l.OlP(zf?"bootstrap done indicator":"",{factory:()=>new Xt.x}),av=new l.OlP(zf?"initial navigation":"",{providedIn:"root",factory:()=>1});function PS(){let n=[];return n=zf?[{provide:l.Xts,multi:!0,useFactory:()=>{const e=(0,l.f3M)(lo);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Jd(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],dl(1,n)}const Bw=new l.OlP(zf?"router preloader":"");function NS(n){return dl(0,[{provide:Bw,useExisting:kS},{provide:ov,useExisting:n}])}const rh=!1,fg=new l.OlP(rh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ck=[Le,{provide:il,useClass:Gd},lo,Ru,{provide:p,useFactory:function Nw(n){return n.routerState.root},deps:[lo]},rv,rh?{provide:Lw,useValue:!0}:[]];function lv(){return new l.PXZ("Router",lo)}let Uw=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[ck,rh&&i?.enableTracing?PS().\u0275providers:[],{provide:Nu,multi:!0,useValue:t},{provide:fg,useFactory:BS,deps:[[lo,new l.FiY,new l.tp0]]},{provide:cg,useValue:i||{}},i?.useHash?{provide:dt,useClass:Ie}:{provide:dt,useClass:Se},{provide:jf,useFactory:()=>{const n=(0,l.f3M)(ws),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(cg),i=(0,l.f3M)(Hf),r=(0,l.f3M)(il);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hg(r,i,n,e,t)}},i?.preloadingStrategy?NS(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:lv},i?.initialNavigation?jw(i):[],[{provide:zw,useFactory:sv},{provide:l.tb,multi:!0,useExisting:zw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Nu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fg,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ku]}),n})();function BS(n){if(rh&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function jw(n){return["disabled"===n.initialNavigation?dl(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(lo);return()=>{e.setUpLocationChangeListener()}}},{provide:av,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?dl(2,[{provide:av,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(de,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(lo),a=e.get(Gf);(function ok(n,e){n.events.pipe(vi(t=>t instanceof ko||t instanceof dc||t instanceof Ea||t instanceof Cu),(0,pt.U)(t=>t instanceof ko||t instanceof Cu?Po.COMPLETE:t instanceof dc&&(0===t.code||1===t.code)?Po.REDIRECTING:Po.FAILED),vi(t=>t!==Po.REDIRECTING),Qi(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(Hf).afterPreactivation=()=>(i(!0),a.closed?Ke(void 0):a),r.initialNavigation()}))}}]).\u0275providers:[]]}const zw=new l.OlP(rh?"Router Initializer":"");function Lu(...n){const e=(0,ro.jO)(n),{args:t,keys:i}=fa(n),r=new In.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,b=u;for(let C=0;C<u;C++){let M=!1;(0,Ln.Xf)(t[C]).subscribe((0,W.x)(a,F=>{M||(M=!0,b--),f[C]=F},()=>_--,void 0,()=>{(!_||!M)&&(b||a.next(i?V(i,f):f),a.complete())}))}});return e?r.pipe(R(e)):r}let pg=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Rs=(()=>{class n extends pg{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const co=new l.OlP("NgValueAccessor"),dv={provide:co,useExisting:(0,l.Gpc)(()=>qf),multi:!0},fv=new l.OlP("CompositionEventMode");let qf=(()=>{class n extends pg{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hv(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(fv,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[l._Bn([dv]),l.qOj]}),n})();const pv=!1;function _c(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function $w(n){return null!=n&&"number"==typeof n.length}const vr=new l.OlP("NgValidators"),yc=new l.OlP("NgAsyncValidators"),Gw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qw{static min(e){return function Ww(n){return e=>{if(_c(e.value)||_c(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Zw(n){return e=>{if(_c(e.value)||_c(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function uo(n){return _c(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function mv(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Yw(n){return _c(n.value)||Gw.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function HS(n){return e=>_c(e.value)||!$w(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function gg(n){return e=>$w(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function gv(n){if(!n)return _g;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(_c(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Jw(e)}static composeAsync(e){return eE(e)}}function _g(n){return null}function Kw(n){return null!=n}function Qw(n){const e=(0,l.QGY)(n)?(0,Qt.D)(n):n;if(pv&&!(0,l.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,t)}return e}function _v(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Xw(n,e){return e.map(t=>t(n))}function yg(n){return n.map(e=>function jS(n){return!n.validate}(e)?e:t=>e.validate(t))}function Jw(n){if(!n)return null;const e=n.filter(Kw);return 0==e.length?null:function(t){return _v(Xw(t,e))}}function yv(n){return null!=n?Jw(yg(n)):null}function eE(n){if(!n)return null;const e=n.filter(Kw);return 0==e.length?null:function(t){return Lu(Xw(t,e).map(Qw)).pipe((0,pt.U)(_v))}}function vv(n){return null!=n?eE(yg(n)):null}function tE(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ks(n){return n._rawValidators}function vg(n){return n._rawAsyncValidators}function bv(n){return n?Array.isArray(n)?n:[n]:[]}function bg(n,e){return Array.isArray(n)?n.includes(e):n===e}function wv(n,e){const t=bv(e);return bv(n).forEach(r=>{bg(t,r)||t.push(r)}),t}function nE(n,e){return bv(e).filter(t=>!bg(n,t))}class iE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Wr extends iE{get formDirective(){return null}get path(){return null}}class Os extends iE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rE{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let wg=(()=>{class n extends rE{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Os,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})();function Dv(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Vu=!1,Wf="VALID",Sv="INVALID",ah="PENDING",Zf="DISABLED";function Iv(n){return(Dg(n)?n.validators:n)||null}function Tv(n,e){return(Dg(e)?e.asyncValidators:n)||null}function Dg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class cE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wf}get invalid(){return this.status===Sv}get pending(){return this.status==ah}get disabled(){return this.status===Zf}get enabled(){return this.status!==Zf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(wv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nE(e,this._rawAsyncValidators))}hasValidator(e){return bg(this._rawValidators,e)}hasAsyncValidator(e){return bg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ah,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zf,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wf,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wf||this.status===ah)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zf:Wf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ah,this._hasOwnPendingAsyncValidator=!0;const t=Qw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Zf:this.errors?Sv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ah)?ah:this._anyControlsHaveStatus(Sv)?Sv:Wf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ZS(n){return Array.isArray(n)?yv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function YS(n){return Array.isArray(n)?vv(n):n||null}(this._rawAsyncValidators)}}class Yf extends cE{constructor(e,t,i){super(Iv(t),Tv(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Sg(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,Vu?function WS(n,e){return`Must supply a value for form control ${Dv(n,e)}`}(e,r):"")})})(this,!0,e),Object.keys(e).forEach(i=>{(function Av(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,Vu?function lE(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new l.vHH(1001,Vu?function qS(n,e){return`Cannot find form control ${Dv(n,e)}`}(e,t):"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const lh=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ig}),Ig="always";function ch(n,e,t=Ig){Mg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Rg(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&uE(n,e)})}(n,e),function Rv(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function QS(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&uE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function gk(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Kf(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Mv(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ag(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Mg(n,e){const t=ks(n);null!==e.validator?n.setValidators(tE(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=vg(n);null!==e.asyncValidator?n.setAsyncValidators(tE(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ag(e._rawValidators,r),Ag(e._rawAsyncValidators,r)}function Mv(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=ks(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=vg(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Ag(e._rawValidators,i),Ag(e._rawAsyncValidators,i),t}function uE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dE(n,e){Mg(n,e)}function Bu(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const hh={provide:Wr,useExisting:(0,l.Gpc)(()=>fl)},Sa=(()=>Promise.resolve())();let fl=(()=>{class n extends Wr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Yf({},yv(t),vv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Sa.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),ch(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Sa.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Sa.then(()=>{const i=this._findContainer(t.path),r=new Yf({});dE(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Sa.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Sa.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Bu(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vr,10),l.Y36(yc,10),l.Y36(lh,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([hh]),l.qOj]}),n})();function Uu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ov(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Jf=class extends cE{constructor(e=null,t,i){super(Iv(t),Tv(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ov(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Uu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Uu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ov(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Fg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Lg=new l.OlP("NgModelWithFormControlWarning"),Bv={provide:Os,useExisting:(0,l.Gpc)(()=>Vg)};let Vg=(()=>{class n extends Os{set isDisabled(t){}constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=a,this.callSetDisabledState=u,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=function bc(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===qf?t=a:function uh(n){return Object.getPrototypeOf(n.constructor)===Rs}(a)?i=a:r=a}),r||i||t||null}(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&Kf(i,this,!1),ch(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function Qf(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Kf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(vr,10),l.Y36(yc,10),l.Y36(co,10),l.Y36(Lg,8),l.Y36(lh,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([Bv]),l.qOj,l.TTD]}),n})();const _E={provide:Wr,useExisting:(0,l.Gpc)(()=>fh)};let fh=(()=>{class n extends Wr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return ch(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Kf(t.control||null,t,!1),function dh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Bu(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Kf(i||null,t),(n=>n instanceof Jf)(r)&&(ch(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);dE(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Da(n,e){return Mv(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mg(this.form,this),this._oldForm&&Mv(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vr,10),l.Y36(yc,10),l.Y36(lh,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([_E]),l.qOj,l.TTD]}),n})(),kE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Fg]}),n})(),Zv=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Lg,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:lh,useValue:t.callSetDisabledState??Ig}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kE]}),n})();var fo=P(4986),Ji=P(2122);function Yv(){return(0,jn.e)((n,e)=>{let t,i=!1;n.subscribe((0,W.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function Ps(n,e=oo.y){return n=n??Ns,(0,jn.e)((t,i)=>{let r,a=!0;t.subscribe((0,W.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function Ns(n,e){return n===e}var bt,Ci=P(2011),PE=(P(9800),P(3942)),ye=P(5861),Hu=P(9681),Hg=P(4859),Ec=P(1877),hn=P(2090),op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pl={},Kv=Kv||{},zt=op||self;function sp(){}function ju(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ap(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var jg="closure_uid_"+(1e9*Math.random()>>>0),Qv=0;function zg(n,e,t){return n.call.apply(n.bind,arguments)}function Xv(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function br(n,e,t){return(br=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zg:Xv).apply(null,arguments)}function lp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function er(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function ml(){this.s=this.s,this.o=this.o}ml.prototype.s=!1,ml.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function NE(n){Object.prototype.hasOwnProperty.call(n,jg)&&n[jg]||(n[jg]=++Qv)}(this)},ml.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Jv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function $g(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function VE(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(ju(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let u=0;u<a;u++)n[r+u]=i[u]}else n.push(i)}}function Pr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Pr.prototype.h=function(){this.defaultPrevented=!0};var mI=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",sp,e),zt.removeEventListener("test",sp,e)}catch{}return n}();function Gg(n){return/^[\s\xa0]*$/.test(n)}var BE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function eb(n,e){return n<e?-1:n>e?1:0}function qg(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function Ia(n){return-1!=qg().indexOf(n)}function tb(n){return tb[" "](n),n}tb[" "]=sp;var Wg,n,_I=Ia("Opera"),ph=Ia("Trident")||Ia("MSIE"),UE=Ia("Edge"),nb=UE||ph,HE=Ia("Gecko")&&!(-1!=qg().toLowerCase().indexOf("webkit")&&!Ia("Edge"))&&!(Ia("Trident")||Ia("MSIE"))&&!Ia("Edge"),yI=-1!=qg().toLowerCase().indexOf("webkit")&&!Ia("Edge");function jE(){var n=zt.document;return n?n.documentMode:void 0}e:{var Zg="",Yg=(n=qg(),HE?/rv:([^\);]+)(\)|;)/.exec(n):UE?/Edge\/([\d\.]+)/.exec(n):ph?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):yI?/WebKit\/(\S+)/.exec(n):_I?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Yg&&(Zg=Yg?Yg[1]:""),ph){var Kg=jE();if(null!=Kg&&Kg>parseFloat(Zg)){Wg=String(Kg);break e}}Wg=Zg}var zE={};var GE=zt.document&&ph&&(jE()||parseInt(Wg,10))||void 0;function mh(n,e){if(Pr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(HE){e:{try{tb(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:rb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&mh.X.h.call(this)}}er(mh,Pr);var rb={2:"touch",3:"pen",4:"mouse"};mh.prototype.h=function(){mh.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gh="closure_listenable_"+(1e6*Math.random()|0),zu=0;function vI(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++zu,this.ba=this.ea=!1}function Xg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Cc(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function bI(n){const e={};for(const t in n)e[t]=n[t];return e}const Jg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wI(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<Jg.length;a++)t=Jg[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function cp(n){this.src=n,this.g={},this.h=0}function e_(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Jv(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(Xg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function qE(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}cp.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=qE(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new vI(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var At="closure_lm_"+(1e6*Math.random()|0),ob={};function WE(n,e,t,i,r){if(i&&i.once)return YE(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)WE(n,e[a],t,i,r);return null}return t=sb(t),n&&n[gh]?n.N(e,t,ap(i)?!!i.capture:!!i,r):ZE(n,e,t,!1,i,r)}function ZE(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=ap(r)?!!r.capture:!!r,f=t_(n);if(f||(n[At]=f=new cp(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function _h(){const e=Ck;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)mI||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(ti(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function YE(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)YE(n,e[a],t,i,r);return null}return t=sb(t),n&&n[gh]?n.O(e,t,ap(i)?!!i.capture:!!i,r):ZE(n,e,t,!0,i,r)}function up(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)up(n,e[a],t,i,r);else i=ap(i)?!!i.capture:!!i,t=sb(t),n&&n[gh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=qE(a=n.g[e],t,i,r))&&(Xg(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=t_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=qE(e,t,i,r)),(t=-1<n?e[n]:null)&&yh(t))}function yh(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[gh])e_(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(ti(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=t_(e))?(e_(t,n),0==t.h&&(t.src=null,e[At]=null)):Xg(n)}}}function ti(n){return n in ob?ob[n]:ob[n]="on"+n}function Ck(n,e){if(n.ba)n=!0;else{e=new mh(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&yh(n),n=t.call(i,e)}return n}function t_(n){return(n=n[At])instanceof cp?n:null}var n_="__closure_events_fn_"+(1e9*Math.random()>>>0);function sb(n){return"function"==typeof n?n:(n[n_]||(n[n_]=function(e){return n.handleEvent(e)}),n[n_])}function Bi(){ml.call(this),this.i=new cp(this),this.P=this,this.I=null}function tr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Pr(e,n);else if(e instanceof Pr)e.target=e.target||n;else{var r=e;wI(e=new Pr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=dp(u,i,!0,e)&&r}if(r=dp(u=e.g=n,i,!0,e)&&r,r=dp(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=dp(u=e.g=t[a],i,!1,e)&&r}function dp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var f=u.listener,_=u.ha||u.src;u.ea&&e_(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}er(Bi,ml),Bi.prototype[gh]=!0,Bi.prototype.removeEventListener=function(n,e,t,i){up(this,n,e,t,i)},Bi.prototype.M=function(){if(Bi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Xg(t[i]);delete n.g[e],n.h--}}this.I=null},Bi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Bi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var i_=zt.JSON.stringify;function EI(){var n=lb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ab,KE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new hp,n=>n.reset());class hp{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function xI(n){zt.setTimeout(()=>{throw n},0)}function QE(n,e){ab||function r_(){var n=zt.Promise.resolve(void 0);ab=function(){n.then(XE)}}(),o_||(ab(),o_=!0),lb.add(n,e)}var o_=!1,lb=new class CI{constructor(){this.h=this.g=null}add(e,t){const i=KE.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function XE(){for(var n;n=EI();){try{n.h.call(n.g)}catch(t){xI(t)}var e=KE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}o_=!1}function s_(n,e){Bi.call(this),this.h=n||1,this.g=e||zt,this.j=br(this.lb,this),this.l=Date.now()}function $u(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Gu(n,e,t){if("function"==typeof n)t&&(n=br(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=br(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function JE(n){n.g=Gu(()=>{n.g=null,n.i&&(n.i=!1,JE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}er(s_,Bi),(bt=s_.prototype).ca=!1,bt.R=null,bt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),tr(this,"tick"),this.ca&&($u(this),this.start()))}},bt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bt.M=function(){s_.X.M.call(this),$u(this),delete this.g};class DI extends ml{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JE(this)}M(){super.M(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fp(n){ml.call(this),this.h=n,this.g={}}er(fp,ml);var cb=[];function ub(n,e,t,i){Array.isArray(t)||(t&&(cb[0]=t.toString()),t=cb);for(var r=0;r<t.length;r++){var a=WE(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function db(n){Cc(n.g,function(e,t){this.g.hasOwnProperty(t)&&yh(e)},n),n.g={}}function a_(){this.g=!0}function vh(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Dk(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return i_(t)}catch{return e}}(n,t)+(i?" "+i:"")})}fp.prototype.M=function(){fp.X.M.call(this),db(this)},fp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},a_.prototype.Aa=function(){this.g=!1},a_.prototype.info=function(){};var bh={},II=null;function pp(){return II=II||new Bi}function mp(n){Pr.call(this,bh.Pa,n)}function gp(n){const e=pp();tr(e,new mp(e))}function tC(n,e){Pr.call(this,bh.STAT_EVENT,n),this.stat=e}function Nr(n){const e=pp();tr(e,new tC(e,n))}function wh(n,e){Pr.call(this,bh.Qa,n),this.size=e}function _p(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}bh.Pa="serverreachability",er(mp,Pr),bh.STAT_EVENT="statevent",er(tC,Pr),bh.Qa="timingevent",er(wh,Pr);var l_={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},nC={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function hb(){}function iC(){}hb.prototype.h=null;var qu,Eh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function fb(){Pr.call(this,"d")}function pb(){Pr.call(this,"c")}function c_(){}function Ch(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new fp(this),this.O=oC,this.T=new s_(n=nb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new rC}function rC(){this.i=null,this.g="",this.h=!1}er(fb,Pr),er(pb,Pr),er(c_,hb),c_.prototype.g=function(){return new XMLHttpRequest},c_.prototype.i=function(){return{}},qu=new c_;var oC=45e3,mb={},yp={};function gb(n,e,t){n.K=1,n.v=p_(gl(e)),n.s=t,n.P=!0,u_(n,null)}function u_(n,e){n.F=Date.now(),vp(n),n.A=gl(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),Eb(t.i,"t",i),n.C=0,t=n.l.H,n.h=new rC,n.g=Sh(n.l,t?e:null,!n.s),0<n.N&&(n.L=new DI(br(n.La,n,n.g),n.N)),ub(n.S,n.g,"readystatechange",n.ib),e=n.H?bI(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),gp(),function eC(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var C=b[0];b=b[1];var M=C.split("_");u=2<=M.length&&"type"==M[1]?u+(C+"=")+b+"&":u+(C+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function sC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function _b(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=aC(n,t),r==yp){4==e&&(n.o=4,Nr(14),i=!1),vh(n.j,n.m,null,"[Incomplete Response]");break}if(r==mb){n.o=4,Nr(15),vh(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}vh(n.j,n.m,r,null),h_(n,r)}sC(n)&&r!=yp&&r!=mb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Nr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),kb(e),e.K=!0,Nr(11))):(vh(n.j,n.m,t,"[Invalid Chunked Response]"),Zu(n),Wu(n))}function aC(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?yp:(t=Number(e.substring(t,i)),isNaN(t)?mb:(i+=1)+t>e.length?yp:(e=e.substr(i,t),n.C=i+t,e))}function vp(n){n.V=Date.now()+n.O,lC(n,n.O)}function lC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=_p(br(n.gb,n),e)}function d_(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function Wu(n){0==n.l.G||n.I||AC(n.l,n)}function Zu(n){d_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,$u(n.T),db(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function h_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Cp(t.h,n)))if(!n.J&&Cp(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Dc(t),Dp(t)}D_(t),Nr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=_p(br(t.cb,t),6e3));if(1>=gC(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Lr(t,11)}else if((n.J||t.g==n)&&Dc(t),!Gg(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let b=r[e];if(t.T=b[0],b=b[1],2==t.G)if("c"==b[0]){t.I=b[1],t.ka=b[2];const C=b[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const M=b[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.J=i=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=i.h;a.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Cb(a,a.h),a.h=null))}if(i.D){const X=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;X&&(i.za=X,Wn(i.F,i.D,X))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=I_(i,i.H?i.ka:null,i.V),u.J){xb(i.h,u);var f=u,_=i.J;_&&f.setTimeout(_),f.B&&(d_(f),vp(f)),i.g=u}else Rb(i);0<t.i.length&&Sp(t)}else"stop"!=b[0]&&"close"!=b[0]||Lr(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Lr(t,7):C_(t):"noop"!=b[0]&&t.l&&t.l.wa(b),t.A=0)}gp()}catch{}}function cC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ju(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function MI(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ju(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function AI(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ju(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(bt=Ch.prototype).setTimeout=function(n){this.O=n},bt.ib=function(n){n=n.target;const e=this.L;e&&3==_l(n)?e.l():this.La(n)},bt.La=function(n){try{if(n==this.g)e:{const C=_l(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||nb||this.g&&(this.h.h||this.g.fa()||CC(this.g)))){this.I||4!=C||7==e||gp(),d_(this);var t=this.g.aa();this.Y=t;t:if(sC(this)){var i=CC(this.g);n="";var r=i.length,a=4==_l(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zu(this),Wu(this);var u="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function SI(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gg(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Nr(12),Zu(this),Wu(this);break e}vh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,h_(this,t)}this.P?(_b(this,C,u),nb&&this.i&&3==C&&(ub(this.S,this.T,"tick",this.hb),this.T.start())):(vh(this.j,this.m,u,null),h_(this,u)),4==C&&Zu(this),this.i&&!this.I&&(4==C?AC(this.l,this):(this.i=!1,vp(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Nr(12)):(this.o=0,Nr(13)),Zu(this),Wu(this)}}}catch{}},bt.hb=function(){if(this.g){var n=_l(this.g),e=this.g.fa();this.C<e.length&&(d_(this),_b(this,n,e),this.i&&4!=n&&vp(this))}},bt.cancel=function(){this.I=!0,Zu(this)},bt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function xk(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(gp(),Nr(17)),Zu(this),this.o=2,Wu(this)):lC(this,this.V-n)};var uC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yu(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Yu){this.h=void 0!==e?e:n.h,f_(this,n.j),this.s=n.s,this.g=n.g,bp(this,n.m),this.l=n.l,e=n.i;var t=new Ep;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),yb(this,t),this.o=n.o}else n&&(t=String(n).match(uC))?(this.h=!!e,f_(this,t[1]||"",!0),this.s=xh(t[2]||""),this.g=xh(t[3]||"",!0),bp(this,t[4]),this.l=xh(t[5]||"",!0),yb(this,t[6]||"",!0),this.o=xh(t[7]||"")):(this.h=!!e,this.i=new Ep(null,this.h))}function gl(n){return new Yu(n)}function f_(n,e,t){n.j=t?xh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function bp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function yb(n,e,t){e instanceof Ep?(n.i=e,function pC(n,e){e&&!n.j&&(xc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(m_(this,i),Eb(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=wp(e,hC)),n.i=new Ep(e,n.h))}function Wn(n,e,t){n.i.set(e,t)}function p_(n){return Wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function xh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,kI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function kI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Yu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(wp(e,dC,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(wp(e,dC,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(wp(t,"/"==t.charAt(0)?bb:vb,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",wp(t,wb)),n.join("")};var dC=/[#\/\?@]/g,vb=/[#\?:]/g,bb=/[#\?]/g,hC=/[#\?@]/g,wb=/#/g;function Ep(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xc(n){n.g||(n.g=new Map,n.h=0,n.i&&function RI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function m_(n,e){xc(n),e=Ls(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function fC(n,e){return xc(n),e=Ls(n,e),n.g.has(e)}function Eb(n,e,t){m_(n,e),0<t.length&&(n.i=null,n.g.set(Ls(n,e),$g(t)),n.h+=t.length)}function Ls(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function FI(n){this.l=n||mC,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ga&&zt.g.Ga()&&zt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(bt=Ep.prototype).add=function(n,e){xc(this),this.i=null,n=Ls(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},bt.forEach=function(n,e){xc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},bt.oa=function(){xc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},bt.W=function(n){xc(this);let e=[];if("string"==typeof n)fC(this,n)&&(e=e.concat(this.g.get(Ls(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},bt.set=function(n,e){return xc(this),this.i=null,fC(this,n=Ls(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},bt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},bt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=a;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var mC=10;function g_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gC(n){return n.h?1:n.g?n.g.size:0}function Cp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Cb(n,e){n.g?n.g.add(e):n.h=e}function xb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function __(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return $g(n.i)}function y_(){}function _C(){this.g=new y_}function yC(n,e,t){const i=t||"";try{cC(n,function(r,a){let u=r;ap(r)&&(u=i_(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function v_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function xp(n){this.l=n.ac||null,this.j=n.jb||!1}function b_(n,e){Bi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Db,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}FI.prototype.cancel=function(){if(this.i=__(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},y_.prototype.stringify=function(n){return zt.JSON.stringify(n,void 0)},y_.prototype.parse=function(n){return zt.JSON.parse(n,void 0)},er(xp,hb),xp.prototype.g=function(){return new b_(this.l,this.j)},xp.prototype.i=function(n){return function(){return n}}({}),er(b_,Bi);var Db=0;function Sb(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function w_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dh(n)}function Dh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(bt=b_.prototype).open=function(n,e){if(this.readyState!=Db)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dh(this)},bt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||zt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},bt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,w_(this)),this.readyState=Db},bt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dh(this)),this.g&&(this.readyState=3,Dh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sb(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},bt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?w_(this):Dh(this),3==this.readyState&&Sb(this)}},bt.Va=function(n){this.g&&(this.response=this.responseText=n,w_(this))},bt.Ua=function(n){this.g&&(this.response=n,w_(this))},bt.ga=function(){this.g&&w_(this)},bt.setRequestHeader=function(n,e){this.v.append(n,e)},bt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},bt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(b_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var PI=zt.JSON.parse;function di(n){Bi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=NI,this.K=this.L=!1}er(di,Bi);var NI="",LI=/^https?$/i,VI=["POST","PUT"];function Ib(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,bC(n),E_(n)}function bC(n){n.D||(n.D=!0,tr(n,"complete"),tr(n,"error"))}function wC(n){if(n.h&&typeof Kv<"u"&&(!n.C[1]||4!=_l(n)||2!=n.aa()))if(n.v&&4==_l(n))Gu(n.Ha,0,n);else if(tr(n,"readystatechange"),4==_l(n)){n.h=!1;try{const f=n.aa();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(uC)[1]||null;if(!r&&zt.self&&zt.self.location){var a=zt.self.location.protocol;r=a.substr(0,a.length-1)}i=!LI.test(r?r.toLowerCase():"")}t=i}if(t)tr(n,"complete"),tr(n,"success");else{n.m=6;try{var u=2<_l(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",bC(n)}}finally{E_(n)}}}function E_(n,e){if(n.g){EC(n);const t=n.g,i=n.C[0]?sp:null;n.g=null,n.C=null,e||tr(n,"ready");try{t.onreadystatechange=i}catch{}}}function EC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function _l(n){return n.g?n.g.readyState:0}function CC(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case NI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function xC(n){let e="";return Cc(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Tb(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=xC(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Wn(n,e,t))}function yl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ab(n){this.Ca=0,this.i=[],this.j=new a_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=yl("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=yl("baseRetryDelayMs",5e3,n),this.bb=yl("retryDelaySeedMs",1e4,n),this.$a=yl("forwardChannelMaxRetries",2,n),this.ta=yl("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new FI(n&&n.concurrentRequestLimit),this.Fa=new _C,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function C_(n){if(Mb(n),3==n.G){var e=n.U++,t=gl(n.F);Wn(t,"SID",n.I),Wn(t,"RID",e),Wn(t,"TYPE","terminate"),x_(n,t),(e=new Ch(n,n.j,e,void 0)).K=2,e.v=p_(gl(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon&&(t=zt.navigator.sendBeacon(e.v.toString(),"")),!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Sh(e.l,null),e.g.da(e.v)),e.F=Date.now(),vp(e)}MC(n)}function Dp(n){n.g&&(kb(n),n.g.cancel(),n.g=null)}function Mb(n){Dp(n),n.u&&(zt.clearTimeout(n.u),n.u=null),Dc(n),n.h.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function Sp(n){g_(n.h)||n.m||(n.m=!0,QE(n.Ja,n),n.C=0)}function SC(n,e){var t;t=e?e.m:n.U++;const i=gl(n.F);Wn(i,"SID",n.I),Wn(i,"RID",t),Wn(i,"AID",n.T),x_(n,i),n.o&&n.s&&Tb(i,n.o,n.s),t=new Ch(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=IC(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Cb(n.h,t),gb(t,i,e)}function x_(n,e){n.ia&&Cc(n.ia,function(t,i){Wn(e,i,t)}),n.l&&cC({},function(t,i){Wn(e,i,t)})}function IC(n,e,t){t=Math.min(n.i.length,t);var i=n.l?br(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let b=r[_].h;const C=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{yC(C,u,"req"+b+"_")}catch{i&&i(C)}}if(f){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function Rb(n){n.g||n.u||(n.Z=1,QE(n.Ia,n),n.A=0)}function D_(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=_p(br(n.Ia,n),S_(n,n.A)),n.A++,0))}function kb(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function TC(n){n.g=new Ch(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=gl(n.sa);Wn(e,"RID","rpc"),Wn(e,"SID",n.I),Wn(e,"CI",n.L?"0":"1"),Wn(e,"AID",n.T),Wn(e,"TYPE","xmlhttp"),x_(n,e),n.o&&n.s&&Tb(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=p_(gl(e)),t.s=null,t.P=!0,u_(t,n)}function Dc(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function AC(n,e){var t=null;if(n.g==e){Dc(n),kb(n),n.g=null;var i=2}else{if(!Cp(n.h,e))return;t=e.D,xb(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;tr(i=pp(),new wh(i,t)),Sp(n)}else Rb(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function DC(n,e){return!(gC(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=_p(br(n.Ja,n,e),S_(n,n.C)),n.C++,0)))}(n,e)||2==i&&D_(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Lr(n,5);break;case 4:Lr(n,10);break;case 3:Lr(n,6);break;default:Lr(n,2)}}function S_(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Lr(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=br(n.kb,n);t||(t=new Yu("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||f_(t,"https"),p_(t)),function vC(n,e){const t=new a_;if(zt.Image){const i=new Image;i.onload=lp(v_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=lp(v_,t,i,"TestLoadImage: error",!1,e),i.onabort=lp(v_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=lp(v_,t,i,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Nr(2);n.G=0,n.l&&n.l.va(e),MC(n),Mb(n)}function MC(n){if(n.G=0,n.la=[],n.l){const e=__(n.h);(0!=e.length||0!=n.i.length)&&(VE(n.la,e),VE(n.la,n.i),n.h.i.length=0,$g(n.i),n.i.length=0),n.l.ua()}}function I_(n,e,t){var i=t instanceof Yu?gl(t):new Yu(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),bp(i,i.m);else{var r=zt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Yu(null,void 0);i&&f_(a,i),e&&(a.g=e),r&&bp(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&Wn(i,t,e),Wn(i,"VER",n.ma),x_(n,i),i}function Sh(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new di(t&&n.Da&&!n.ra?new xp({jb:!0}):n.ra)).Ka(n.H),e}function RC(){}function T_(){if(ph&&!(10<=Number(GE)))throw Error("Environmental error: no available transport.")}function No(n,e){Bi.call(this),this.g=new Ab(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Gg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ih(this)}function Ip(n){fb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Tp(){pb.call(this),this.status=1}function Ih(n){this.g=n}(bt=di.prototype).Ka=function(n){this.L=n},bt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qu.g(),this.C=function TI(n){return n.h||(n.h=n.i())}(this.u?this.u:qu),this.g.onreadystatechange=br(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Ib(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=zt.FormData&&n instanceof zt.FormData,!(0<=Jv(VI,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{EC(this),0<this.B&&((this.K=function BI(n){return ph&&function $E(){return function gI(n){var e=zE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=BE(String(Wg)).split("."),t=BE("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=eb(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||eb(0==r[2].length,0==a[2].length)||eb(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=br(this.qa,this)):this.A=Gu(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Ib(this,a)}},bt.qa=function(){typeof Kv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tr(this,"timeout"),this.abort(8))},bt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,tr(this,"complete"),tr(this,"abort"),E_(this))},bt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),E_(this,!0)),di.X.M.call(this)},bt.Ha=function(){this.s||(this.F||this.v||this.l?wC(this):this.fb())},bt.fb=function(){wC(this)},bt.aa=function(){try{return 2<_l(this)?this.g.status:-1}catch{return-1}},bt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},bt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),PI(e)}},bt.Ea=function(){return this.m},bt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(bt=Ab.prototype).ma=8,bt.G=1,bt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Ch(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=bI(a),wI(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=IC(this,r,e),Wn(t=gl(this.F),"RID",n),Wn(t,"CVER",22),this.D&&Wn(t,"X-HTTP-Session-Id",this.D),x_(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(xC(a)))+"&"+e:this.o&&Tb(t,this.o,a)),Cb(this.h,r),this.Ya&&Wn(t,"TYPE","init"),this.O?(Wn(t,"$req",e),Wn(t,"SID","null"),r.Z=!0,gb(r,t,null)):gb(r,t,e),this.G=2}}else 3==this.G&&(n?SC(this,n):0==this.i.length||g_(this.h)||SC(this))},bt.Ia=function(){if(this.u=null,TC(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=_p(br(this.eb,this),n)}},bt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Nr(10),Dp(this),TC(this))},bt.cb=function(){null!=this.v&&(this.v=null,Dp(this),D_(this),Nr(19))},bt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Nr(2)):(this.j.info("Failed to ping google.com"),Nr(1))},(bt=RC.prototype).xa=function(){},bt.wa=function(){},bt.va=function(){},bt.ua=function(){},bt.Ra=function(){},T_.prototype.g=function(n,e){return new No(n,e)},er(No,Bi),No.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Nr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=I_(n,null,n.V),Sp(n)},No.prototype.close=function(){C_(this.g)},No.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=i_(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Sp(e)},No.prototype.M=function(){this.g.l=null,delete this.j,C_(this.g),delete this.g,No.X.M.call(this)},er(Ip,fb),er(Tp,pb),er(Ih,RC),Ih.prototype.xa=function(){tr(this.g,"a")},Ih.prototype.wa=function(n){tr(this.g,new Ip(n))},Ih.prototype.va=function(n){tr(this.g,new Tp)},Ih.prototype.ua=function(){tr(this.g,"b")},T_.prototype.createWebChannel=T_.prototype.g,No.prototype.send=No.prototype.u,No.prototype.open=No.prototype.m,No.prototype.close=No.prototype.close,l_.NO_ERROR=0,l_.TIMEOUT=8,l_.HTTP_ERROR=6,nC.COMPLETE="complete",iC.EventType=Eh,Eh.OPEN="a",Eh.CLOSE="b",Eh.ERROR="c",Eh.MESSAGE="d",Bi.prototype.listen=Bi.prototype.N,di.prototype.listenOnce=di.prototype.O,di.prototype.getLastError=di.prototype.Oa,di.prototype.getLastErrorCode=di.prototype.Ea,di.prototype.getStatus=di.prototype.aa,di.prototype.getResponseJson=di.prototype.Sa,di.prototype.getResponseText=di.prototype.fa,di.prototype.send=di.prototype.da,di.prototype.setWithCredentials=di.prototype.Ka;var UI=pl.createWebChannelTransport=function(){return new T_},kC=pl.getStatEventTarget=function(){return pp()},A_=pl.ErrorCode=l_,Ob=pl.EventType=nC,OC=pl.Event=bh,M_=pl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Fb=pl.FetchXmlHttpFactory=xp,Ap=pl.WebChannel=iC,Pb=pl.XhrIo=di;const R_="@firebase/firestore";class nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");let Th="9.19.0";const Sc=new Ec.Yd("@firebase/firestore");function Nb(){return Sc.logLevel}function Fe(n,...e){if(Sc.logLevel<=Ec.in.DEBUG){const t=e.map(k_);Sc.debug(`Firestore (${Th}): ${n}`,...t)}}function hi(n,...e){if(Sc.logLevel<=Ec.in.ERROR){const t=e.map(k_);Sc.error(`Firestore (${Th}): ${n}`,...t)}}function Vs(n,...e){if(Sc.logLevel<=Ec.in.WARN){const t=e.map(k_);Sc.warn(`Firestore (${Th}): ${n}`,...t)}}function k_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${Th}) INTERNAL ASSERTION FAILED: `+n;throw hi(e),new Error(e)}function Ct(n,e){n||at()}function Qe(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends hn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ah{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nr.UNAUTHENTICATED))}shutdown(){}}class HI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jI{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,t(b)):Promise.resolve();let u=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ii,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,ye.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ii)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct("string"==typeof i.accessToken),new Vr(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new nr(e)}}class Sk{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ik{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new Sk(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vb{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.T=t.token,new Lb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class F_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=zI(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Gt(n,e){return n<e?-1:n>e?1:0}function Ku(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function NC(n){return n+"\0"}class Zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Zn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new Zn(0,0))}static max(){return new St(new Zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qu{constructor(e,t,i){void 0===t?t=0:t>e.length&&at(),void 0===i?i=e.length-t:i>e.length-t&&at(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Qu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qu?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends Qu{construct(e,t,i){return new un(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new un(t)}static emptyPath(){return new un([])}}const LC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Qu{construct(e,t,i){return new zn(e,t,i)}static isValidIdentifier(e){return LC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Te(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Te(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Te(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new Te(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(t)}static emptyPath(){return new zn([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(un.fromString(e))}static fromName(e){return new We(un.fromString(e).popFirst(5))}static empty(){return new We(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new un(e.slice()))}}class Bb{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function P_(n){return n.fields.find(e=>2===e.kind)}function Xu(n){return n.fields.filter(e=>2!==e.kind)}Bb.UNKNOWN_ID=-1;class vl{constructor(e,t){this.fieldPath=e,this.kind=t}}class Mh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Mh(0,Lo.min())}}function N_(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=St.fromTimestamp(1e9===i?new Zn(t+1,0):new Zn(t,i));return new Lo(r,We.empty(),e)}function GI(n){return new Lo(n.readTime,n.key,-1)}class Lo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Lo(St.min(),We.empty(),-1)}static max(){return new Lo(St.max(),We.empty(),-1)}}function BC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}const UC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ic(n){return L_.apply(this,arguments)}function L_(){return L_=(0,ye.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==UC)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),L_.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(r=>r?se.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new se((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(C=>{u[b]=C,++f,f===a&&i(u)},C=>r(C))}})}static doWhile(e,t){return new se((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class V_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Ii,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Mp(e,t.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=B_(i.target.error);this.R.reject(new Mp(e,r))}}static open(e,t,i,r){try{return new V_(t,e.transaction(r,i))}catch(a){throw new Mp(t,a)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new zC(t)}}class ss{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===ss.S((0,hn.z$)())&&hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),Ju(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,hn.hl)())return!1;if(ss.C())return!0;const e=(0,hn.z$)(),t=ss.S(e),i=0<t&&t<10,r=ss.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Mp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new Te(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Te(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Mp(e,f))},a.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.M(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,ye.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const _=V_.open(a.db,e,u?"readonly":"readwrite",i),b=r(_).next(C=>(_.P(),C)).catch(C=>(_.abort(C),se.reject(C))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,C="FirebaseError"!==b.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),a.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class jC{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ju(this.L.delete())}}class Mp extends Te{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Tc(n){return"IndexedDbTransactionError"===n.name}class zC{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ju(i)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),Ju(this.store.add(e))}get(e){return Ju(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),Ju(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),Ju(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new se((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new se((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,u,f)=>f.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}X(e){const t=this.cursor({});return new se((i,r)=>{t.onerror=a=>{const u=B_(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}W(e,t){const i=[];return new se((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new jC(f),b=t(f.primaryKey,f.value,_);if(b instanceof se){const C=b.catch(M=>(_.done(),se.reject(M)));i.push(C)}_.isDone?r():null===_.K?f.continue():f.continue(_.K)}}).next(()=>se.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ju(n){return new se((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=B_(i.target.error);t(r)}})}let Ub=!1;function B_(n){const e=ss.S((0,hn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ub||(Ub=!0,setTimeout(()=>{throw i},0)),i}}return n}class $C{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Tc(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ic(i)}yield t.et(6e4)}))}}class GC{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return se.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Fe("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,a)).next(f=>(Fe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=GI(a);BC(u,i)>0&&(i=u)}),new Lo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Vo=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Rp(n){return null==n}function U_(n){return 0===n&&1/n==-1/0}function Hb(n){return"number"==typeof n&&Number.isInteger(n)&&!U_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function po(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qI(e)),e=Tk(n.get(t),e);return qI(e)}function Tk(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function qI(n){return n+"\x01\x01"}function bl(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&at(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:at()}a=u+2}return new un(i)}const WI=["userId","batchId"];function jb(n,e){return[n,po(e)]}function ZI(n,e,t){return[n,po(e),t]}const Ak={},H_=["prefixPath","collectionGroup","readTime","documentId"],Mk=["prefixPath","collectionGroup","documentId"],qC=["collectionGroup","readTime","prefixPath","documentId"],j_=["canonicalId","targetId"],WC=["targetId","path"],ZC=["path","targetId"],Rk=["collectionId","parent"],zb=["indexId","uid"],YC=["uid","sequenceNumber"],YI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kk=["indexId","uid","orderedDocumentKey"],KI=["userId","collectionPath","documentId"],QI=["userId","collectionPath","largestBatchId"],XI=["userId","collectionGroup","largestBatchId"],kp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],JI=[...kp,"documentOverlays"],eT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tT=eT,Ok=[...tT,"indexConfiguration","indexState","indexEntries"];class $b extends HC{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function ir(n,e){const t=Qe(n);return ss.O(t.at,e)}function KC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ni{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new ni(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Op(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Op(this.root,e,this.comparator,!1)}getReverseIterator(){return new Op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Op(this.root,e,this.comparator,!0)}}class Op{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Br.RED,this.left=r??Br.EMPTY,this.right=a??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Br(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Br.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Br(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new ni(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XC(this.data.getIterator())}getIteratorFrom(e){return new XC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class XC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ac(n){return n.hasNext()?n.getNext():void 0}class mo{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new mo([])}unionWith(e){let t=new nn(zn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new mo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ku(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Fk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Fk("Invalid base64 string: "+r):r}}(e);return new Ui(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Ui(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const Gb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mc(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=Gb.exec(n);if(Ct(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fi(n.seconds),nanos:fi(n.nanos)}}function fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wl(n){return"string"==typeof n?Ui.fromBase64String(n):Ui.fromUint8Array(n)}function z_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function qb(n){const e=n.mapValue.fields.__previous_value__;return z_(e)?qb(e):e}function Fp(n){const e=Mc(n.mapValue.fields.__local_write_time__.timestampValue);return new Zn(e.seconds,e.nanos)}class JC{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class El{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new El("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}const Rc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Pp={nullValue:"NULL_VALUE"};function ed(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?z_(n)?4:nT(n)?9007199254740991:10:at()}function ls(n,e){if(n===e)return!0;const t=ed(n);if(t!==ed(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fp(n).isEqual(Fp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Mc(i.timestampValue),u=Mc(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,wl(n.bytesValue).isEqual(wl(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return fi(i.geoPointValue.latitude)===fi(r.geoPointValue.latitude)&&fi(i.geoPointValue.longitude)===fi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return fi(i.integerValue)===fi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=fi(i.doubleValue),u=fi(r.doubleValue);return a===u?U_(a)===U_(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return Ku(n.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(KC(a)!==KC(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!ls(a[f],u[f])))return!1;return!0}(n,e);default:return at()}var r}function Bo(n,e){return void 0!==(n.values||[]).find(t=>ls(t,e))}function Zr(n,e){if(n===e)return 0;const t=ed(n),i=ed(e);if(t!==i)return Gt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=fi(r.integerValue||r.doubleValue),f=fi(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return Wb(n.timestampValue,e.timestampValue);case 4:return Wb(Fp(n),Fp(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=wl(r),f=wl(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=Gt(u[_],f[_]);if(0!==b)return b}return Gt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Gt(fi(r.latitude),fi(a.latitude));return 0!==u?u:Gt(fi(r.longitude),fi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=Zr(u[_],f[_]);if(b)return b}return Gt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Rc.mapValue&&a===Rc.mapValue)return 0;if(r===Rc.mapValue)return 1;if(a===Rc.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let C=0;C<f.length&&C<b.length;++C){const M=Gt(f[C],b[C]);if(0!==M)return M;const F=Zr(u[f[C]],_[b[C]]);if(0!==F)return F}return Gt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw at()}}function Wb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=Mc(n),i=Mc(e),r=Gt(t.seconds,i.seconds);return 0!==r?r:Gt(t.nanos,i.nanos)}function kc(n){return $_(n)}function $_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Mc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wl(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=$_(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${$_(i.fields[f])}`;return a+"}"}(n.mapValue):at();var e}function td(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ex(n){return!!n&&"integerValue"in n}function Np(n){return!!n&&"arrayValue"in n}function tx(n){return!!n&&"nullValue"in n}function nx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function G_(n){return!!n&&"mapValue"in n}function kh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rh(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=kh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ix(n){return"nullValue"in n?Pp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?td(El.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function iT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?td(El.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Rc:at()}function Zb(n,e){const t=Zr(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rT(n,e){const t=Zr(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!G_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kh(t)}setAll(e){let t=zn.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=kh(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());G_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];G_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Rh(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Ti(kh(this.value))}}function Yb(n){const e=[];return Rh(n.fields,(t,i)=>{const r=new zn([t]);if(G_(i)){const a=Yb(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new mo(e)}class Vn{constructor(e,t,i,r,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Vn(e,0,St.min(),St.min(),St.min(),Ti.empty(),0)}static newFoundDocument(e,t,i,r){return new Vn(e,1,t,St.min(),i,r,0)}static newNoDocument(e,t){return new Vn(e,2,t,St.min(),St.min(),Ti.empty(),0)}static newUnknownDocument(e,t){return new Vn(e,3,t,St.min(),St.min(),Ti.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(St.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cl{constructor(e,t){this.position=e,this.inclusive=t}}function Kb(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?We.comparator(We.fromName(u.referenceValue),t.key):Zr(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function Qb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ls(n.position[t],e.position[t]))return!1;return!0}class xl{constructor(e,t="asc"){this.field=e,this.dir=t}}function q_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Xb{}class ln extends Xb{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Pk(e,t,i):"array-contains"===t?new aT(e,i):"in"===t?new Vp(e,i):"not-in"===t?new lT(e,i):"array-contains-any"===t?new cT(e,i):new ln(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Nk(e,i):new Lk(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Zr(t,this.value)):null!==t&&ed(this.value)===ed(t)&&this.matchesComparison(Zr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class En extends Xb{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new En(e,t)}matches(e){return Lp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Lp(n){return"and"===n.op}function rx(n){return"or"===n.op}function ox(n){return Jb(n)&&Lp(n)}function Jb(n){for(const e of n.filters)if(e instanceof En)return!1;return!0}function e0(n){if(n instanceof ln)return n.field.canonicalString()+n.op.toString()+kc(n.value);if(ox(n))return n.filters.map(e=>e0(e)).join(",");{const e=n.filters.map(t=>e0(t)).join(",");return`${n.op}(${e})`}}function sx(n,e){return n instanceof ln?(t=n,(i=e)instanceof ln&&t.op===i.op&&t.field.isEqual(i.field)&&ls(t.value,i.value)):n instanceof En?function(t,i){return i instanceof En&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,u)=>r&&sx(a,i.filters[u]),!0)}(n,e):void at();var t,i}function ax(n,e){const t=n.filters.concat(e);return En.create(t,n.op)}function oT(n){return n instanceof ln?`${(e=n).field.canonicalString()} ${e.op} ${kc(e.value)}`:n instanceof En?function(e){return e.op.toString()+" {"+e.getFilters().map(oT).join(" ,")+"}"}(n):"Filter";var e}class Pk extends ln{constructor(e,t,i){super(e,t,i),this.key=We.fromName(i.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nk extends ln{constructor(e,t){super(e,"in",t),this.keys=sT(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Lk extends ln{constructor(e,t){super(e,"not-in",t),this.keys=sT(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sT(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>We.fromName(i.referenceValue))}class aT extends ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Np(t)&&Bo(t.arrayValue,this.value)}}class Vp extends ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bo(this.value.arrayValue,t)}}class lT extends ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bo(this.value.arrayValue,t)}}class cT extends ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Np(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Bo(this.value.arrayValue,i))}}class lx{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ft=null}}function Dl(n,e=null,t=[],i=[],r=null,a=null,u=null){return new lx(n,e,t,i,r,a,u)}function Oc(n){const e=Qe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>e0(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Rp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>kc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>kc(i)).join(",")),e.ft=t}return e.ft}function nd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!q_(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qb(n.startAt,e.startAt)&&Qb(n.endAt,e.endAt)}function Oh(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function W_(n,e){return n.filters.filter(t=>t instanceof ln&&t.field.isEqual(e))}function Z_(n,e,t){let i=Pp,r=!0;for(const a of W_(n,e)){let u=Pp,f=!0;switch(a.op){case"<":case"<=":u=ix(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=Pp}Zb({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];Zb({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function Y_(n,e,t){let i=Rc,r=!0;for(const a of W_(n,e)){let u=Rc,f=!0;switch(a.op){case">=":case">":u=iT(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Rc}rT({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];rT({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class cs{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.dt=null,this.wt=null}}function uT(n,e,t,i,r,a,u,f){return new cs(n,e,t,i,r,a,u,f)}function Bp(n){return new cs(n)}function dT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function cx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Up(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function t0(n){return null!==n.collectionGroup}function id(n){const e=Qe(n);if(null===e.dt){e.dt=[];const t=Up(e),i=cx(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new xl(t)),e.dt.push(new xl(zn.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new xl(zn.keyField(),a))}}}return e.dt}function Yr(n){const e=Qe(n);if(!e.wt)if("F"===e.limitType)e.wt=Dl(e.path,e.collectionGroup,id(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of id(e))t.push(new xl(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Cl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Cl(e.startAt.position,e.startAt.inclusive):null;e.wt=Dl(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function n0(n,e){e.getFirstInequalityField(),Up(n);const t=n.filters.concat([e]);return new cs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hp(n,e,t){return new cs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fh(n,e){return nd(Yr(n),Yr(e))&&n.limitType===e.limitType}function r0(n){return`${Oc(Yr(n))}|lt:${n.limitType}`}function o0(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>oT(i)).join(", ")}]`),Rp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>kc(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>kc(i)).join(",")),`Target(${t})`}(Yr(n))}; limitType=${n.limitType})`}function jp(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):We.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of id(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=Kb(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,id(t),i)||t.endAt&&!function(r,a,u){const f=Kb(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,id(t),i)));var t,i}function s0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function K_(n){return(e,t)=>{let i=!1;for(const r of id(n)){const a=Vk(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function Vk(n,e,t){const i=n.field.isKeyField()?We.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Zr(f,_):at()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return at()}}class Sl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Rh(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return QC(this.inner)}size(){return this.innerSize}}const a0=new ni(We.comparator);function go(){return a0}const ux=new ni(We.comparator);function Q_(...n){let e=ux;for(const t of n)e=e.insert(t.key,t);return e}function hT(n){let e=ux;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ta(){return zp()}function dx(){return zp()}function zp(){return new Sl(n=>n.toString(),(n,e)=>n.isEqual(e))}const Bk=new ni(We.comparator),Uk=new nn(We.comparator);function en(...n){let e=Uk;for(const t of n)e=e.add(t);return e}const Hk=new nn(Gt);function X_(){return Hk}function fT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U_(e)?"-0":e}}function pT(n){return{integerValue:""+n}}function mT(n,e){return Hb(e)?pT(e):fT(n,e)}class l0{constructor(){this._=void 0}}function jk(n,e,t){return n instanceof s?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof c?d(n,e):n instanceof h?g(n,e):function(i,r){const a=o(i,r),u=E(a)+E(i._t);return ex(a)&&ex(i._t)?pT(u):fT(i.serializer,u)}(n,e)}function zk(n,e,t){return n instanceof c?d(n,e):n instanceof h?g(n,e):t}function o(n,e){return n instanceof v?ex(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class s extends l0{}class c extends l0{constructor(e){super(),this.elements=e}}function d(n,e){const t=x(e);for(const i of n.elements)t.some(r=>ls(r,i))||t.push(i);return{arrayValue:{values:t}}}class h extends l0{constructor(e){super(),this.elements=e}}function g(n,e){let t=x(e);for(const i of n.elements)t=t.filter(r=>!ls(r,i));return{arrayValue:{values:t}}}class v extends l0{constructor(e,t){super(),this.serializer=e,this._t=t}}function E(n){return fi(n.integerValue||n.doubleValue)}function x(n){return Np(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class T{constructor(e,t){this.field=e,this.transform=t}}class L{constructor(e,t){this.version=e,this.transformResults=t}}class ${constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $}static exists(e){return new $(void 0,e)}static updateTime(e){return new $(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function te(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ge{}function Be(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new J_(n.key,$.none()):new Nt(n.key,n.data,$.none());{const t=n.data,i=Ti.empty();let r=new nn(zn.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new mn(n.key,i,new mo(r.toArray()),$.none())}}function Je(n,e,t){n instanceof Nt?function(i,r,a){const u=i.value.clone(),f=gT(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof mn?function(i,r,a){if(!te(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=gT(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(pi(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function lt(n,e,t,i){return n instanceof Nt?function(r,a,u,f){if(!te(r.precondition,a))return u;const _=r.value.clone(),b=$k(r.fieldTransforms,f,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof mn?function(r,a,u,f){if(!te(r.precondition,a))return u;const _=$k(r.fieldTransforms,f,a),b=a.data;return b.setAll(pi(r)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(u=t,te(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function Ft(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=o(i.transform,r||null);null!=a&&(null===t&&(t=Ti.empty()),t.set(i.field,a))}return t||null}function Oe(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Ku(t,i,(r,a)=>function k(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof c&&i instanceof c||t instanceof h&&i instanceof h?Ku(t.elements,i.elements,ls):t instanceof v&&i instanceof v?ls(t._t,i._t):t instanceof s&&i instanceof s);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Nt extends ge{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class mn extends ge{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function pi(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function gT(n,e,t){const i=new Map;Ct(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,zk(u,f,t[r]))}return i}function $k(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,jk(a,u,e))}return i}class J_ extends ge{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _T extends ge{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yT{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&Je(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=lt(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=lt(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=dx();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=Be(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(St.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),en())}isEqual(e){return this.batchId===e.batchId&&Ku(this.mutations,e.mutations,(t,i)=>Oe(t,i))&&Ku(this.baseMutations,e.baseMutations,(t,i)=>Oe(t,i))}}class vT{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ct(e.mutations.length===i.length);let r=Bk;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new vT(e,t,i,r)}}class bT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class PL{constructor(e){this.count=e}}var rr,gn;function Gk(n){switch(n){default:return at();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function qk(n){if(void 0===n)return hi("GRPC error has no .code"),le.UNKNOWN;switch(n){case rr.OK:return le.OK;case rr.CANCELLED:return le.CANCELLED;case rr.UNKNOWN:return le.UNKNOWN;case rr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case rr.INTERNAL:return le.INTERNAL;case rr.UNAVAILABLE:return le.UNAVAILABLE;case rr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case rr.NOT_FOUND:return le.NOT_FOUND;case rr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case rr.ABORTED:return le.ABORTED;case rr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case rr.DATA_LOSS:return le.DATA_LOSS;default:return at()}}(gn=rr||(rr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class ET{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return hx}static getOrCreateInstance(){return null===hx&&(hx=new ET),hx}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let hx=null;class c0{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,u0.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new c0(St.min(),r,X_(),go(),en())}}class u0{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new u0(i,t,en(),en(),en())}}class fx{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class Wk{constructor(e,t){this.targetId=e,this.Et=t}}class Zk{constructor(e,t,i=Ui.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Yk{constructor(){this.At=0,this.Rt=Qk(),this.vt=Ui.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=en(),t=en(),i=en();return this.Rt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:at()}}),new u0(this.vt,this.bt,e,t,i)}xt(){this.Pt=!1,this.Rt=Qk()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class NL{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=go(),this.qt=Kk(),this.Ut=new nn(Gt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const i=this.jt(t);switch(e.state){case 0:this.Wt(t)&&i.Dt(e.resumeToken);break;case 1:i.$t(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.$t(),i.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(i.Mt(),i.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.Wt(r)&&t(r)})}Jt(e){var t;const i=e.targetId,r=e.Et.count,a=this.Yt(i);if(a){const u=a.target;if(Oh(u))if(0===r){const f=new We(u.path);this.Qt(i,f,Vn.newNoDocument(f,St.min()))}else Ct(1===r);else{const f=this.Zt(i);f!==r&&(this.Ht(i),this.Ut=this.Ut.add(i),null===(t=ET.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:f,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((a,u)=>{const f=this.Yt(u);if(f){if(a.current&&Oh(f.target)){const _=new We(f.target.path);null!==this.Lt.get(_)||this.te(u,_)||this.Qt(u,_,Vn.newNoDocument(_,e))}a.St&&(t.set(u,a.Ct()),a.xt())}});let i=en();this.qt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.Yt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.Lt.forEach((a,u)=>u.setReadTime(e));const r=new c0(e,t,this.Ut,this.Lt,i);return this.Lt=go(),this.qt=Kk(),this.Ut=new nn(Gt),r}Gt(e,t){if(!this.Wt(e))return;const i=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.Wt(e))return;const r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new Yk,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new nn(Gt),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Yk),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function Kk(){return new ni(We.comparator)}function Qk(){return new ni(We.comparator)}const LL={asc:"ASCENDING",desc:"DESCENDING"},VL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BL={and:"AND",or:"OR"};class UL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ey(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function HL(n,e){return ey(n,e.toTimestamp())}function Hi(n){return Ct(!!n),St.fromTimestamp(function(e){const t=Mc(e);return new Zn(t.seconds,t.nanos)}(n))}function CT(n,e){return(t=n,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Jk(n){const e=un.fromString(n);return Ct(lO(e)),e}function d0(n,e){return CT(n.databaseId,e.path)}function Fc(n,e){const t=Jk(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(tO(t))}function xT(n,e){return CT(n.databaseId,e)}function eO(n){const e=Jk(n);return 4===e.length?un.emptyPath():tO(e)}function h0(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tO(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function nO(n,e,t){return{name:d0(n,e),fields:t.value.mapValue.fields}}function iO(n,e,t){const i=Fc(n,e.name),r=Hi(e.updateTime),a=e.createTime?Hi(e.createTime):St.min(),u=new Ti({mapValue:{fields:e.fields}}),f=Vn.newFoundDocument(i,r,a,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function f0(n,e){let t;if(e instanceof Nt)t={update:nO(n,e.key,e.value)};else if(e instanceof J_)t={delete:d0(n,e.key)};else if(e instanceof mn)t={update:nO(n,e.key,e.data),updateMask:YL(e.fieldMask)};else{if(!(e instanceof _T))return at();t={verify:d0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof s)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof c)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof h)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof v)return{fieldPath:a.field.canonicalString(),increment:u._t};throw at()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:HL(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:at()),t;var r}function DT(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?$.updateTime(Hi(r.updateTime)):void 0!==r.exists?$.exists(r.exists):$.none():$.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(Ct("REQUEST_TIME"===u.setToServerValue),f=new s):"appendMissingElements"in u?f=new c(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new h(u.removeAllFromArray.values||[]):"increment"in u?f=new v(a,u.increment):at();const _=zn.fromServerFormat(u.fieldPath);return new T(_,f)}(n,r)):[];var r;if(e.update){const r=Fc(n,e.update.name),a=new Ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new mo((e.updateMask.fieldPaths||[]).map(b=>zn.fromServerFormat(b)));return new mn(r,a,u,t,i)}return new Nt(r,a,t,i)}if(e.delete){const r=Fc(n,e.delete);return new J_(r,t)}if(e.verify){const r=Fc(n,e.verify);return new _T(r,t)}return at()}function rO(n,e){return{documents:[xT(n,e.path)]}}function ST(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=xT(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=xT(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0!==_.length)return aO(En.create(_,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:Ph((C=b).field),direction:qL(C.dir)};var C})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(b=e.limit,n.useProto3Json||Rp(b)?b:{value:b});var b,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function oO(n){let e=eO(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ct(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let a=[];t.where&&(a=function(C){const M=sO(C);return M instanceof En&&ox(M)?M.getFilters():[M]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(C=>{return new xl(ty((M=C).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(C){let M;return M="object"==typeof C?C.value:C,Rp(M)?null:M}(t.limit));let _=null;var C;t.startAt&&(_=new Cl((C=t.startAt).values||[],!!C.before));let b=null;return t.endAt&&(b=function(C){return new Cl(C.values||[],!C.before)}(t.endAt)),uT(e,r,u,a,f,"F",_,b)}function sO(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ty(e.unaryFilter.field);return ln.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=ty(e.unaryFilter.field);return ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ty(e.unaryFilter.field);return ln.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ty(e.unaryFilter.field);return ln.create(a,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):void 0!==n.fieldFilter?ln.create(ty((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return En.create(e.compositeFilter.filters.map(t=>sO(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return at()}}(e.compositeFilter.op))}(n):at();var e}function qL(n){return LL[n]}function WL(n){return VL[n]}function ZL(n){return BL[n]}function Ph(n){return{fieldPath:n.canonicalString()}}function ty(n){return zn.fromServerFormat(n.fieldPath)}function aO(n){return n instanceof ln?function(e){if("=="===e.op){if(nx(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NAN"}};if(tx(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nx(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NOT_NAN"}};if(tx(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ph(e.field),op:WL(e.op),value:e.value}}}(n):n instanceof En?function(e){const t=e.getFilters().map(i=>aO(i));return 1===t.length?t[0]:{compositeFilter:{op:ZL(e.op),filters:t}}}(n):at()}function YL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Nh{constructor(e,t,i,r,a=St.min(),u=St.min(),f=Ui.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Nh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Nh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cO{constructor(e){this.se=e}}function uO(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:px(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:d0(r=n.se,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:ey(r,a.version.toTimestamp()),createTime:ey(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:$p(e.version)};else{if(!e.isUnknownDocument())return at();i.unknownDocument={path:t.path.toArray(),version:$p(e.version)}}var r,a;return i}function px(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function $p(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gp(n){const e=new Zn(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function qp(n,e){const t=(e.baseMutations||[]).map(a=>DT(n.se,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const i=e.mutations.map(a=>DT(n.se,a)),r=Zn.fromMillis(e.localWriteTimeMs);return new yT(e.batchId,r,t,i)}function p0(n){const e=Gp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gp(n.lastLimboFreeSnapshotVersion):St.min();let i;var r;return void 0!==n.query.documents?(Ct(1===(r=n.query).documents.length),i=Yr(Bp(eO(r.documents[0])))):i=Yr(oO(n.query)),new Nh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Ui.fromBase64String(n.resumeToken))}function dO(n,e){const t=$p(e.snapshotVersion),i=$p(e.lastLimboFreeSnapshotVersion);let r;r=Oh(e.target)?rO(n.se,e.target):ST(n.se,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function IT(n){const e=oO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Hp(e,e.limit,"L"):e}function TT(n,e){return new bT(e.largestBatchId,DT(n.se,e.overlayMutation))}function hO(n,e){const t=e.path.lastSegment();return[n,po(e.path.popLast()),t]}function fO(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:$p(i.readTime),documentKey:po(i.documentKey.path),largestBatchId:i.largestBatchId}}class QL{getBundleMetadata(e,t){return pO(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Gp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return pO(e).put({bundleId:(i=t).id,createTime:$p(Hi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return mO(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:IT(r.bundledQuery),readTime:Gp(r.readTime)};var r})}saveNamedQuery(e,t){return mO(e).put({name:(i=t).name,readTime:$p(Hi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function pO(n){return ir(n,"bundles")}function mO(n){return ir(n,"namedQueries")}class mx{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new mx(e,t.uid||"")}getOverlay(e,t){return m0(e).get(hO(this.userId,t)).next(i=>i?TT(this.serializer,i):null)}getOverlays(e,t){const i=Ta();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new bT(t,u);r.push(this.re(e,f))}),se.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(po(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(m0(e).J("collectionPathOverlayIndex",f))}),se.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Ta(),a=po(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return m0(e).j("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=TT(this.serializer,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Ta();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return m0(e).Z({index:"collectionGroupOverlayIndex",range:f},(_,b,C)=>{const M=TT(this.serializer,b);a.size()<r||M.largestBatchId===u?(a.set(M.getKey(),M),u=M.largestBatchId):C.done()}).next(()=>a)}re(e,t){return m0(e).put(function(i,r,a){const[u,f,_]=hO(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:f0(i.se,a.mutation)}}(this.serializer,this.userId,t))}}function m0(n){return ir(n,"documentOverlays")}class Wp{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(fi(e.integerValue));else if("doubleValue"in e){const i=fi(e.doubleValue);isNaN(i)?this.ae(t,13):(this.ae(t,15),U_(i)?t.he(0):t.he(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ae(t,20),"string"==typeof i?t.le(i):(t.le(`${i.seconds||""}`),t.he(i.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(wl(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?nT(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):at()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const i=e.fields||{};this.ae(t,55);for(const r of Object.keys(i))this.fe(r,t),this.ue(i[r],t)}ge(e,t){const i=e.values||[];this.ae(t,50);for(const r of i)this.ue(r,t)}_e(e,t){this.ae(t,37),We.fromName(e).path.forEach(i=>{this.ae(t,60),this.ye(i,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function XL(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function gO(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=XL(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Wp.pe=new Wp;class JL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Te(i.value),i=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Re(i.value),i=t.next();this.ve()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Te(i);else if(i<2048)this.Te(960|i>>>6),this.Te(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Te(480|i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i);else{const r=t.codePointAt(0);this.Te(240|r>>>18),this.Te(128|63&r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r)}}this.Ee()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=t.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.ve()}Ve(e){const t=this.Se(e),i=gO(t);this.De(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ce(e){const t=this.Se(e),i=gO(t);this.De(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class e2{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class t2{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class g0{constructor(){this.Me=new JL,this.Fe=new e2(this.Me),this.Be=new t2(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class Zp{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Zp(this.indexId,this.documentKey,this.arrayValue,i)}}function Lh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=_O(n.arrayValue,e.arrayValue),0!==t?t:(t=_O(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function _O(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class n2{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ge=i:this.Ke.push(i)}}Qe(e){Ct(e.collectionGroup===this.collectionId);const t=P_(e);if(void 0!==t&&!this.ze(t))return!1;const i=Xu(e);let r=0,a=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ge){const u=i[r];if(!this.je(this.Ge,u)||!this.We(this.Ue[a++],u))return!1;++r}for(;r<i.length;++r)if(a>=this.Ue.length||!this.We(this.Ue[a++],i[r]))return!1;return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function yO(n){var e,t;if(Ct(n instanceof ln||n instanceof En),n instanceof ln){if(n instanceof Vp){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>ln.create(n.field,"==",a)))||[];return En.create(r,"or")}return n}const i=n.filters.map(r=>yO(r));return En.create(i,n.op)}function r2(n){if(0===n.getFilters().length)return[];const e=RT(yO(n));return Ct(vO(e)),AT(e)||MT(e)?[e]:e.getFilters()}function AT(n){return n instanceof ln}function MT(n){return n instanceof En&&ox(n)}function vO(n){return AT(n)||MT(n)||function(e){if(e instanceof En&&rx(e)){for(const t of e.getFilters())if(!AT(t)&&!MT(t))return!1;return!0}return!1}(n)}function RT(n){if(Ct(n instanceof ln||n instanceof En),n instanceof ln)return n;if(1===n.filters.length)return RT(n.filters[0]);const e=n.filters.map(i=>RT(i));let t=En.create(e,n.op);return t=gx(t),vO(t)?t:(Ct(t instanceof En),Ct(Lp(t)),Ct(t.filters.length>1),t.filters.reduce((i,r)=>kT(i,r)))}function kT(n,e){let t;return Ct(n instanceof ln||n instanceof En),Ct(e instanceof ln||e instanceof En),t=n instanceof ln?e instanceof ln?En.create([n,e],"and"):bO(n,e):e instanceof ln?bO(e,n):function(i,r){if(Ct(i.filters.length>0&&r.filters.length>0),Lp(i)&&Lp(r))return ax(i,r.getFilters());const a=rx(i)?i:r,u=rx(i)?r:i,f=a.filters.map(_=>kT(_,u));return En.create(f,"or")}(n,e),gx(t)}function bO(n,e){if(Lp(e))return ax(e,n.getFilters());{const t=e.filters.map(i=>kT(n,i));return En.create(t,"or")}}function gx(n){if(Ct(n instanceof ln||n instanceof En),n instanceof ln)return n;const e=n.getFilters();if(1===e.length)return gx(e[0]);if(Jb(n))return n;const t=e.map(r=>gx(r)),i=[];return t.forEach(r=>{r instanceof ln?i.push(r):r instanceof En&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:En.create(i,n.op)}class o2{constructor(){this.He=new OT}addToCollectionParentIndex(e,t){return this.He.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Lo.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Lo.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class OT{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new nn(un.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new nn(un.comparator)).toArray()}}const _x=new Uint8Array(0);class s2{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new OT,this.Ye=new Sl(i=>Oc(i),(i,r)=>nd(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const a={collectionId:i,parent:po(r)};return wO(e).put(a)}return se.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[NC(t),""],!1,!0);return wO(e).j(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(bl(u.parent))}return i})}addFieldIndex(e,t){const i=yx(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=y0(e);return a.next(f=>{u.put(fO(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=yx(e),r=y0(e),a=_0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=_0(e);let r=!0;const a=new Map;return se.forEach(this.Ze(t),u=>this.Xe(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=en();const f=[];return se.forEach(a,(_,b)=>{var C;Fe("IndexedDbIndexManager",`Using index ${C=_,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(ft=>`${ft.fieldPath}:${ft.kind}`).join(",")}`} to execute ${Oc(t)}`);const M=function(ft,xt){const qt=P_(xt);if(void 0===qt)return null;for(const Yt of W_(ft,qt.fieldPath))switch(Yt.op){case"array-contains-any":return Yt.value.arrayValue.values||[];case"array-contains":return[Yt.value]}return null}(b,_),F=function(ft,xt){const qt=new Map;for(const Yt of Xu(xt))for(const Cn of W_(ft,Yt.fieldPath))switch(Cn.op){case"==":case"in":qt.set(Yt.fieldPath.canonicalString(),Cn.value);break;case"not-in":case"!=":return qt.set(Yt.fieldPath.canonicalString(),Cn.value),Array.from(qt.values())}return null}(b,_),B=function(ft,xt){const qt=[];let Yt=!0;for(const Cn of Xu(xt)){const jr=0===Cn.kind?Z_(ft,Cn.fieldPath,ft.startAt):Y_(ft,Cn.fieldPath,ft.startAt);qt.push(jr.value),Yt&&(Yt=jr.inclusive)}return new Cl(qt,Yt)}(b,_),G=function(ft,xt){const qt=[];let Yt=!0;for(const Cn of Xu(xt)){const jr=0===Cn.kind?Y_(ft,Cn.fieldPath,ft.endAt):Z_(ft,Cn.fieldPath,ft.endAt);qt.push(jr.value),Yt&&(Yt=jr.inclusive)}return new Cl(qt,Yt)}(b,_),X=this.tn(_,b,B),ce=this.tn(_,b,G),Ne=this.en(_,b,F),ht=this.nn(_.indexId,M,X,B.inclusive,ce,G.inclusive,Ne);return se.forEach(ht,ft=>i.H(ft,t.limit).next(xt=>{xt.forEach(qt=>{const Yt=We.fromSegments(qt.documentKey);u.has(Yt)||(u=u.add(Yt),f.push(Yt))})}))}).next(()=>f)}return se.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:r2(En.create(e.filters,"and")).map(i=>Dl(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),b=_/(null!=t?t.length:1),C=[];for(let M=0;M<_;++M){const F=t?this.sn(t[M/b]):_x,B=this.rn(e,F,i[M%b],r),G=this.on(e,F,a[M%b],u),X=f.map(ce=>this.rn(e,F,ce,!0));C.push(...this.createRange(B,G,X))}return C}rn(e,t,i,r){const a=new Zp(e,We.empty(),t,i);return r?a:a.qe()}on(e,t,i,r){const a=new Zp(e,We.empty(),t,i);return r?a.qe():a}Xe(e,t){const i=new n2(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.Qe(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;const r=this.Ze(t);return se.forEach(r,a=>this.Xe(e,a).next(u=>{u?0!==i&&u.fields.length<function(f){let _=new nn(zn.comparator),b=!1;for(const C of f.filters)for(const M of C.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?b=!0:_=_.add(M.field));for(const C of f.orderBy)C.field.isKeyField()||(_=_.add(C.field));return _.size+(b?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}un(e,t){const i=new g0;for(const r of Xu(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.Le(r.kind);Wp.pe.oe(a,u)}return i.$e()}sn(e){const t=new g0;return Wp.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const i=new g0;return Wp.pe.oe(td(this.databaseId,t),i.Le(function(r){const a=Xu(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.$e()}en(e,t,i){if(null===i)return[];let r=[];r.push(new g0);let a=0;for(const u of Xu(e)){const f=i[a++];for(const _ of r)if(this.an(t,u.fieldPath)&&Np(f))r=this.hn(r,u,f);else{const b=_.Le(u.kind);Wp.pe.oe(f,b)}}return this.ln(r)}tn(e,t,i){return this.en(e,t,i.position)}ln(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}hn(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new g0;_.seed(f.$e()),Wp.pe.oe(u,_.Le(t.kind)),a.push(_)}return a}an(e,t){return!!e.filters.find(i=>i instanceof ln&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=yx(e),r=y0(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const u=[];return se.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(b,C){const M=C?new Mh(C.sequenceNumber,new Lo(Gp(C.readTime),new We(bl(C.documentKey)),C.largestBatchId)):Mh.empty(),F=b.fields.map(([B,G])=>new vl(zn.fromServerFormat(B),G));return new Bb(b.indexId,b.collectionGroup,F,M)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Gt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=yx(e),a=y0(e);return this.fn(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>se.forEach(f,_=>a.put(fO(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return se.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?se.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),se.forEach(f,_=>this.dn(e,r,_).next(b=>{const C=this.wn(a,_);return b.isEqual(C)?se.resolve():this._n(e,a,_,b,C)}))))})}mn(e,t,i,r){return _0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.cn(i,t.key),documentKey:t.key.path.toArray()})}gn(e,t,i,r){return _0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.cn(i,t.key),t.key.path.toArray()])}dn(e,t,i){const r=_0(e);let a=new nn(Lh);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.cn(i,t)])},(u,f)=>{a=a.add(new Zp(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}wn(e,t){let i=new nn(Lh);const r=this.un(t,e);if(null==r)return i;const a=P_(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Np(u))for(const f of u.arrayValue.values||[])i=i.add(new Zp(t.indexId,e.key,this.sn(f),r))}else i=i.add(new Zp(t.indexId,e.key,_x,r));return i}_n(e,t,i,r,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,b,C,M){const F=f.getIterator(),B=_.getIterator();let G=Ac(F),X=Ac(B);for(;G||X;){let ce=!1,Ne=!1;if(G&&X){const ht=b(G,X);ht<0?Ne=!0:ht>0&&(ce=!0)}else null!=G?Ne=!0:ce=!0;ce?(C(X),X=Ac(B)):Ne?(M(G),G=Ac(F)):(G=Ac(F),X=Ac(B))}}(r,a,Lh,f=>{u.push(this.mn(e,t,i,f))},f=>{u.push(this.gn(e,t,i,f))}),se.waitFor(u)}fn(e){let t=1;return y0(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>Lh(u,f)).filter((u,f,_)=>!f||0!==Lh(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=Lh(u,e),_=Lh(u,t);if(0===f)r[0]=e.qe();else if(f>0&&_<0)r.push(u),r.push(u.qe());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2){if(this.yn(r[u],r[u+1]))return[];a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,_x,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,_x,[]]))}return a}yn(e,t){return Lh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(EO)}getMinOffset(e,t){return se.mapArray(this.Ze(t),i=>this.Xe(e,i).next(r=>r||at())).next(EO)}}function wO(n){return ir(n,"collectionParents")}function _0(n){return ir(n,"indexEntries")}function yx(n){return ir(n,"indexConfiguration")}function y0(n){return ir(n,"indexState")}function EO(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;BC(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Lo(e.readTime,e.documentKey,t)}const CO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class us{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new us(e,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xO(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.Z({range:u},(C,M,F)=>(f++,F.delete()));a.push(_.next(()=>{Ct(1===f)}));const b=[];for(const C of t.mutations){const M=ZI(e,C.key.path,t.batchId);a.push(r.delete(M)),b.push(C.key)}return se.waitFor(a).next(()=>b)}function vx(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(41943040,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);class bx{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.pn={}}static ie(e,t,i,r){Ct(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new bx(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vh(e).Z({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=ny(e),u=Vh(e);return u.add({}).next(f=>{Ct("number"==typeof f);const _=new yT(f,t,i,r),b=function(F,B,G){const X=G.baseMutations.map(Ne=>f0(F.se,Ne)),ce=G.mutations.map(Ne=>f0(F.se,Ne));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:X,mutations:ce}}(this.serializer,this.userId,_),C=[];let M=new nn((F,B)=>Gt(F.canonicalString(),B.canonicalString()));for(const F of r){const B=ZI(this.userId,F.key.path,f);M=M.add(F.key.path.popLast()),C.push(u.put(b)),C.push(a.put(B,Ak))}return M.forEach(F=>{C.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.pn[f]=_.keys()}),se.waitFor(C).next(()=>_)})}lookupMutationBatch(e,t){return Vh(e).get(t).next(i=>i?(Ct(i.userId===this.userId),qp(this.serializer,i)):null)}In(e,t){return this.pn[t]?se.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.pn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Vh(e).Z({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(Ct(f.batchId>=i),a=qp(this.serializer,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Vh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vh(e).j("userMutationsIndex",t).next(i=>i.map(r=>qp(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=jb(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return ny(e).Z({range:r},(u,f,_)=>{const[b,C,M]=u,F=bl(C);if(b===this.userId&&t.path.isEqual(F))return Vh(e).get(M).next(B=>{if(!B)throw at();Ct(B.userId===this.userId),a.push(qp(this.serializer,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(Gt);const r=[];return t.forEach(a=>{const u=jb(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=ny(e).Z({range:f},(b,C,M)=>{const[F,B,G]=b,X=bl(B);F===this.userId&&a.path.isEqual(X)?i=i.add(G):M.done()});r.push(_)}),se.waitFor(r).next(()=>this.Tn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=jb(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new nn(Gt);return ny(e).Z({range:u},(_,b,C)=>{const[M,F,B]=_,G=bl(F);M===this.userId&&i.isPrefixOf(G)?G.length===r&&(f=f.add(B)):C.done()}).next(()=>this.Tn(e,f))}Tn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Vh(e).get(a).next(u=>{if(null===u)throw at();Ct(u.userId===this.userId),i.push(qp(this.serializer,u))}))}),se.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return xO(e.at,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),se.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ny(e).Z({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=bl(a[1]);r.push(_)}else f.done()}).next(()=>{Ct(0===r.length)})})}containsKey(e,t){return DO(e,this.userId,t)}An(e){return SO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DO(n,e,t){const i=jb(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return ny(n).Z({range:a,Y:!0},(f,_,b)=>{const[C,M,F]=f;C===e&&M===r&&(u=!0),b.done()}).next(()=>u)}function Vh(n){return ir(n,"mutations")}function ny(n){return ir(n,"documentMutations")}function SO(n){return ir(n,"mutationQueues")}class Yp{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Yp(0)}static bn(){return new Yp(-1)}}class a2{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const i=new Yp(t.highestTargetId);return t.highestTargetId=i.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>St.fromTimestamp(new Zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Vn(e,r)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(i=>(i.targetCount+=1,this.Dn(t,i),this.Vn(e,i))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>iy(e).delete(t.targetId)).next(()=>this.Pn(e)).next(i=>(Ct(i.targetCount>0),i.targetCount-=1,this.Vn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return iy(e).Z((u,f)=>{const _=p0(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>se.waitFor(a)).next(()=>r)}forEachTarget(e,t){return iy(e).Z((i,r)=>{const a=p0(r);t(a)})}Pn(e){return IO(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}Vn(e,t){return IO(e).put("targetGlobalKey",t)}Sn(e,t){return iy(e).put(dO(this.serializer,t))}Dn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Oc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return iy(e).Z({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const b=p0(f);nd(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=Bh(e);return t.forEach(u=>{const f=po(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),se.waitFor(r)}removeMatchingKeys(e,t,i){const r=Bh(e);return se.forEach(t,a=>{const u=po(a.path);return se.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=Bh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Bh(e);let a=en();return r.Z({range:i,Y:!0},(u,f,_)=>{const b=bl(u[1]),C=new We(b);a=a.add(C)}).next(()=>a)}containsKey(e,t){const i=po(t.path),r=IDBKeyRange.bound([i],[NC(i)],!1,!0);let a=0;return Bh(e).Z({index:"documentTargetsIndex",Y:!0,range:r},([u,f],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}ne(e,t){return iy(e).get(t).next(i=>i?p0(i):null)}}function iy(n){return ir(n,"targets")}function IO(n){return ir(n,"targetGlobal")}function Bh(n){return ir(n,"targetDocuments")}function TO([n,e],[t,i]){const r=Gt(n,t);return 0===r?Gt(e,i):r}class l2{constructor(e){this.Cn=e,this.buffer=new nn(TO),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();TO(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class c2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Tc(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ic(i)}yield t.$n(3e5)}))}}class u2{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return se.resolve(Vo.ct);const i=new l2(t);return this.Mn.forEachTarget(e,r=>i.kn(r.sequenceNumber)).next(()=>this.Mn.Bn(e,r=>i.kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Mn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(CO)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CO):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let i,r,a,u,f,_,b;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),r=this.params.maximumSequenceNumbersToCollect):r=M,u=Date.now(),this.nthSequenceNumber(e,r))).next(M=>(i=M,f=Date.now(),this.removeTargets(e,i,t))).next(M=>(a=M,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(M=>(b=Date.now(),Nb()<=Ec.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-C}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:M})))}}class d2{constructor(e,t){this.db=e,this.garbageCollector=new u2(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Bn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(i,r)=>t(r))}addReference(e,t,i){return wx(e,i)}removeReference(e,t,i){return wx(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return wx(e,t)}Kn(e,t){return function(i,r){let a=!1;return SO(i).X(u=>DO(i,u,r).next(f=>(f&&(a=!0),se.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Un(e,(u,f)=>{if(f<=t){const _=this.Kn(e,u).next(b=>{if(!b)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,St.min()),Bh(e).delete([0,po(u.path)])))});r.push(_)}}).next(()=>se.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return wx(e,t)}Un(e,t){const i=Bh(e);let r,a=Vo.ct;return i.Z({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(a!==Vo.ct&&t(new We(bl(r)),a),a=b,r=_):a=Vo.ct}).next(()=>{a!==Vo.ct&&t(new We(bl(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wx(n,e){return Bh(n).put((i=n.currentSequenceNumber,{targetId:0,path:po(e.path),sequenceNumber:i}));var i}class AO{constructor(){this.changes=new Sl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class h2{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Kp(e).put(i)}removeEntry(e,t,i){return Kp(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],px(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Gn(e,i)))}getEntry(e,t){let i=Vn.newInvalidDocument(t);return Kp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(v0(t))},(r,a)=>{i=this.Qn(t,a)}).next(()=>i)}zn(e,t){let i={size:0,document:Vn.newInvalidDocument(t)};return Kp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(v0(t))},(r,a)=>{i={document:this.Qn(t,a),size:vx(a)}}).next(()=>i)}getEntries(e,t){let i=go();return this.jn(e,t,(r,a)=>{const u=this.Qn(r,a);i=i.insert(r,u)}).next(()=>i)}Wn(e,t){let i=go(),r=new ni(We.comparator);return this.jn(e,t,(a,u)=>{const f=this.Qn(a,u);i=i.insert(a,f),r=r.insert(a,vx(u))}).next(()=>({documents:i,Hn:r}))}jn(e,t,i){if(t.isEmpty())return se.resolve();let r=new nn(OO);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(v0(r.first()),v0(r.last())),u=r.getIterator();let f=u.getNext();return Kp(e).Z({index:"documentKeyIndex",range:a},(_,b,C)=>{const M=We.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&OO(f,M)<0;)i(f,null),f=u.getNext();f&&f.isEqual(M)&&(i(f,b),f=u.hasNext()?u.getNext():null),f?C.G(v0(f)):C.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),px(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kp(e).j(IDBKeyRange.bound(u,f,!0)).next(_=>{let b=go();for(const C of _){const M=this.Qn(We.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);M.isFoundDocument()&&(jp(t,M)||r.has(M.key))&&(b=b.insert(M.key,M))}return b})}getAllFromCollectionGroup(e,t,i,r){let a=go();const u=kO(t,i),f=kO(t,Lo.max());return Kp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,C)=>{const M=this.Qn(We.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(M.key,M),a.size===r&&C.done()}).next(()=>a)}newChangeBuffer(e){return new f2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return RO(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Gn(e,t){return RO(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const i=function KL(n,e){let t;if(e.document)t=iO(n.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=We.fromSegments(e.noDocument.path),r=Gp(e.noDocument.readTime);t=Vn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const i=We.fromSegments(e.unknownDocument.path),r=Gp(e.unknownDocument.version);t=Vn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Zn(i[0],i[1]);return St.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(St.min()))return i}return Vn.newInvalidDocument(e)}}function MO(n){return new h2(n)}class f2 extends AO{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new Sl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new nn((a,u)=>Gt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Yn.get(a);if(t.push(this.Jn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=uO(this.Jn.serializer,u);r=r.add(a.path.popLast());const b=vx(_);i+=b-f.size,t.push(this.Jn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=uO(this.Jn.serializer,u.convertToNoDocument(St.min()));t.push(this.Jn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Jn.updateMetadata(e,i)),se.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(i=>(this.Yn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:i,Hn:r})=>(r.forEach((a,u)=>{this.Yn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function RO(n){return ir(n,"remoteDocumentGlobal")}function Kp(n){return ir(n,"remoteDocumentsV14")}function v0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function kO(n,e){const t=e.documentKey.path.toArray();return[n,px(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function OO(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Gt(t[a],i[a]),r)return r;return r=Gt(t.length,i.length),r||(r=Gt(t[t.length-2],i[i.length-2]),r||Gt(t[t.length-1],i[i.length-1]))}class p2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class FO{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&lt(i.mutation,r,mo.empty(),Zn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,en()).next(()=>i))}getLocalViewOfDocuments(e,t,i=en()){const r=Ta();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=Q_();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Ta();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,en()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=go();const u=zp(),f=zp();return t.forEach((_,b)=>{const C=i.get(b.key);r.has(b.key)&&(void 0===C||C.mutation instanceof mn)?a=a.insert(b.key,b):void 0!==C?(u.set(b.key,C.mutation.getFieldMask()),lt(C.mutation,b,C.mutation.getFieldMask(),Zn.now())):u.set(b.key,mo.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,C)=>u.set(b,C)),t.forEach((b,C)=>{var M;return f.set(b,new p2(C,null!==(M=u.get(b))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const i=zp();let r=new ni((u,f)=>u-f),a=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let C=i.get(_)||mo.empty();C=f.applyToLocalView(b,C),i.set(_,C);const M=(r.get(f.batchId)||en()).add(_);r=r.insert(f.batchId,M)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,C=_.value,M=dx();C.forEach(F=>{if(!a.has(F)){const B=Be(t.get(F),i.get(F));null!==B&&M.set(F,B),a=a.add(F)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,M))}return se.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return We.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):t0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):se.resolve(Ta());let f=-1,_=a;return u.next(b=>se.forEach(b,(C,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),a.get(C)?se.resolve():this.remoteDocumentCache.getEntry(e,C).next(F=>{_=_.insert(C,F)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,en())).next(C=>({batchId:f,changes:hT(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new We(t)).next(i=>{let r=Q_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Q_();return this.indexManager.getCollectionParents(e,r).next(u=>se.forEach(u,f=>{const _=(b=t,C=f.child(r),new cs(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,C;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(b=>{b.forEach((C,M)=>{a=a.insert(C,M)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((f,_)=>{const b=_.getKey();null===a.get(b)&&(a=a.insert(b,Vn.newInvalidDocument(b)))});let u=Q_();return a.forEach((f,_)=>{const b=r.get(f);void 0!==b&&lt(b.mutation,_,mo.empty(),Zn.now()),jp(t,_)&&(u=u.insert(f,_))}),u})}}class m2{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return se.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Hi(i.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(i=t).name,query:IT(i.bundledQuery),readTime:Hi(i.readTime)}),se.resolve();var i}}class g2{constructor(){this.overlays=new ni(We.comparator),this.ts=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ta();return se.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.re(e,t,a)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ts.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.ts.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const r=Ta(),a=t.length+1,u=new We(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new ni((b,C)=>b-C);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>i){let C=a.get(b.largestBatchId);null===C&&(C=Ta(),a=a.insert(b.largestBatchId,C)),C.set(b.getKey(),b)}}const f=Ta(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,C)=>f.set(b,C)),!(f.size()>=r)););return se.resolve(f)}re(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ts.get(r.largestBatchId).delete(i.key);this.ts.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new bT(t,i));let a=this.ts.get(t);void 0===a&&(a=en(),this.ts.set(t,a)),this.ts.set(t,a.add(i.key))}}class FT{constructor(){this.es=new nn(Ur.ns),this.ss=new nn(Ur.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const i=new Ur(e,t);this.es=this.es.add(i),this.ss=this.ss.add(i)}os(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.us(new Ur(e,t))}cs(e,t){e.forEach(i=>this.removeReference(i,t))}hs(e){const t=new We(new un([])),i=new Ur(t,e),r=new Ur(t,e+1),a=[];return this.ss.forEachInRange([i,r],u=>{this.us(u),a.push(u.key)}),a}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new We(new un([])),i=new Ur(t,e),r=new Ur(t,e+1);let a=en();return this.ss.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ur(e,0),i=this.es.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Ur{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return We.comparator(e.key,t.key)||Gt(e.ds,t.ds)}static rs(e,t){return Gt(e.ds,t.ds)||We.comparator(e.key,t.key)}}class _2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new nn(Ur.ns)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const u=new yT(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this._s=this._s.add(new Ur(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ys(t+1),a=r<0?0:r;return se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ur(t,0),r=new Ur(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([i,r],u=>{const f=this.gs(u.ds);a.push(f)}),se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(Gt);return t.forEach(r=>{const a=new Ur(r,0),u=new Ur(r,Number.POSITIVE_INFINITY);this._s.forEachInRange([a,u],f=>{i=i.add(f.ds)})}),se.resolve(this.ps(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;We.isDocumentKey(a)||(a=a.child(""));const u=new Ur(new We(a),0);let f=new nn(Gt);return this._s.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_.ds)),!0)},u),se.resolve(this.ps(f))}ps(e){const t=[];return e.forEach(i=>{const r=this.gs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ct(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let i=this._s;return se.forEach(t.mutations,r=>{const a=new Ur(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this._s=i})}En(e){}containsKey(e,t){const i=new Ur(t,0),r=this._s.firstAfterOrEqual(i);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return se.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class y2{constructor(e){this.Ts=e,this.docs=new ni(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():Vn.newInvalidDocument(t))}getEntries(e,t){let i=go();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Vn.newInvalidDocument(r))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=go();const u=t.path,f=new We(u.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:b,value:{document:C}}=_.getNext();if(!u.isPrefixOf(b.path))break;b.path.length>u.length+1||BC(GI(C),i)<=0||(r.has(C.key)||jp(t,C))&&(a=a.insert(C.key,C.mutableCopy()))}return se.resolve(a)}getAllFromCollectionGroup(e,t,i,r){at()}Es(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new v2(this)}getSize(e){return se.resolve(this.size)}}class v2 extends AO{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Jn.addEntry(e,r)):this.Jn.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class b2{constructor(e){this.persistence=e,this.As=new Sl(t=>Oc(t),nd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Rs=0,this.vs=new FT,this.targetCount=0,this.bs=Yp.vn()}forEachTarget(e,t){return this.As.forEach((i,r)=>t(r)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Rs&&(this.Rs=t),se.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Yp(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Sn(t),se.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.As.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.As.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),se.waitFor(a).next(()=>r)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.As.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.vs.os(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.vs.cs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),se.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.vs.fs(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.vs.containsKey(t))}}class PO{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Vo(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new b2(this),this.indexManager=new o2,this.remoteDocumentCache=new y2(i=>this.referenceDelegate.Cs(i)),this.serializer=new cO(t),this.xs=new m2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new g2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ps[e.toKey()];return i||(i=new _2(t,this.referenceDelegate),this.Ps[e.toKey()]=i),i}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,i){Fe("MemoryPersistence","Starting transaction:",e);const r=new w2(this.Vs.next());return this.referenceDelegate.Ns(),i(r).next(a=>this.referenceDelegate.ks(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Os(e,t){return se.or(Object.values(this.Ps).map(i=>()=>i.containsKey(e,t)))}}class w2 extends HC{constructor(e){super(),this.currentSequenceNumber=e}}class Ex{constructor(e){this.persistence=e,this.$s=new FT,this.Ms=null}static Fs(e){return new Ex(e)}get Bs(){if(this.Ms)return this.Ms;throw at()}addReference(e,t,i){return this.$s.addReference(i,t),this.Bs.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.$s.removeReference(i,t),this.Bs.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),se.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(r=>this.Bs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Bs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Bs,i=>{const r=We.fromPath(i);return this.Ls(e,r).next(a=>{a||t.removeEntry(r,St.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(i=>{i?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return se.or([()=>se.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class E2{constructor(e){this.serializer=e}M(e,t,i,r){const a=new V_("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WI,{unique:!0}),f.createObjectStore("documentMutations"),NO(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=se.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),NO(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").j().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WI,{unique:!0});const C=_.store("mutations"),M=b.map(F=>C.put(F));return se.waitFor(M)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.qs(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Us(a)))),i<7&&r>=7&&(u=u.next(()=>this.Ks(a))),i<8&&r>=8&&(u=u.next(()=>this.Gs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Qs(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:KI});_.createIndex("collectionPathOverlayIndex",QI,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",XI,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:H_});_.createIndex("documentKeyIndex",Mk),_.createIndex("collectionGroupIndex",qC)}(e)).next(()=>this.zs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.js(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:zb}).createIndex("sequenceNumberIndex",YC,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:YI}).createIndex("documentKeyIndex",kk,{unique:!1})}(e))),u}Us(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=vx(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>se.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(f=>se.forEach(f,_=>{Ct(_.userId===a.userId);const b=qp(this.serializer,_);return xO(e,a.userId,b).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((u,f)=>{const _=new un(u),b=[0,po(_)];a.push(t.get(b).next(C=>C?se.resolve():t.put({targetId:0,path:po(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>se.waitFor(a))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:Rk});const i=t.store("collectionParents"),r=new OT,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:po(_)})}};return t.store("remoteDocuments").Z({Y:!0},(u,f)=>{const _=new un(u);return a(_.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([u,f,_],b)=>{const C=bl(f);return a(C.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((i,r)=>{const a=p0(r),u=dO(this.serializer,a);return t.put(u)})}zs(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(b=u,b.document?new We(un.fromString(b.document.name).popFirst(5)):b.noDocument?We.fromSegments(b.noDocument.path):b.unknownDocument?We.fromSegments(b.unknownDocument.path):at()).path.toArray();var b;const C={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(C))}).next(()=>se.waitFor(r))}js(e,t){const i=t.store("mutations"),r=MO(this.serializer),a=new PO(Ex.Fs,this.serializer.se);return i.j().next(u=>{const f=new Map;return u.forEach(_=>{var b;let C=null!==(b=f.get(_.userId))&&void 0!==b?b:en();qp(this.serializer,_).keys().forEach(M=>C=C.add(M)),f.set(_.userId,C)}),se.forEach(f,(_,b)=>{const C=new nr(b),M=mx.ie(this.serializer,C),F=a.getIndexManager(C),B=bx.ie(C,this.serializer,F,a.referenceDelegate);return new FO(r,B,M,F).recalculateAndSaveOverlaysForDocumentKeys(new $b(t,Vo.ct),_).next()})})}}function NO(n){n.createObjectStore("targetDocuments",{keyPath:WC}).createIndex("documentTargetsIndex",ZC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",j_,{unique:!0}),n.createObjectStore("targetGlobal")}const PT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class NT{constructor(e,t,i,r,a,u,f,_,b,C,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ws=a,this.window=u,this.document=f,this.Hs=b,this.Js=C,this.Ys=M,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=F=>Promise.resolve(),!NT.D())throw new Te(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new d2(this,r),this.si=t+"main",this.serializer=new cO(_),this.ii=new ss(this.si,this.Ys,new E2(this.serializer)),this.Ds=new a2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=MO(this.serializer),this.xs=new QL,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===C&&hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(le.FAILED_PRECONDITION,PT);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new Vo(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var i=(0,ye.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,ye.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Cx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Tc(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return b0(e).get("owner").next(t=>se.resolve(this._i(t)))}mi(e){return Cx(e).delete(this.clientId)}gi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ir(i,"clientMetadata");return r.j().next(a=>{const u=e.pi(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return se.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ri)for(const i of t)e.ri.removeItem(e.Ii(i.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?se.resolve(!0):b0(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new Te(le.FAILED_PRECONDITION,PT);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cx(e).j().next(i=>void 0===this.pi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new $b(t,Vo.ct);return e.di(i).next(()=>e.mi(i))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(i=>this.yi(i.updateTimeMs,t)&&!this.Ti(i.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>Cx(e).j().next(t=>this.pi(t,18e5).map(i=>i.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return bx.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new s2(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return mx.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,i){Fe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Ys)?Ok:14===u?tT:13===u?eT:12===u?JI:11===u?kp:void at();var u;let f;return this.ii.runTransaction(e,r,a,_=>(f=new $b(_,this.Vs?this.Vs.next():Vo.ct),"readwrite-primary"===t?this.li(f).next(b=>!!b||this.fi(f)).next(b=>{if(!b)throw hi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Te(le.FAILED_PRECONDITION,UC);return i(f)}).next(b=>this.wi(f).next(()=>b)):this.Pi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Pi(e){return b0(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Te(le.FAILED_PRECONDITION,PT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return b0(e).put("owner",t)}static D(){return ss.D()}di(e){const t=b0(e);return t.get("owner").next(i=>this._i(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}yi(e,t){const i=Date.now();return!(e<i-t||e>i&&(hi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,hn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const i=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return hi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){hi("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function b0(n){return ir(n,"owner")}function Cx(n){return ir(n,"clientMetadata")}function LT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class VT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Vi=i,this.Si=r}static Di(e,t){let i=en(),r=en();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new VT(e,t.fromCache,i,r)}}class LO{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ni(e,t).next(a=>a||this.ki(e,t,r,i)).next(a=>a||this.Oi(e,t))}Ni(e,t){if(dT(t))return se.resolve(null);let i=Yr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Hp(t,null,"F"),i=Yr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=en(...a);return this.xi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const b=this.$i(t,f);return this.Mi(t,b,u,_.readTime)?this.Ni(e,Hp(t,null,"F")):this.Fi(e,b,t,_)}))})))}ki(e,t,i,r){return dT(t)||r.isEqual(St.min())?this.Oi(e,t):this.xi.getDocuments(e,i).next(a=>{const u=this.$i(t,a);return this.Mi(t,u,i,r)?this.Oi(e,t):(Nb()<=Ec.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),o0(t)),this.Fi(e,u,t,N_(r,-1)))})}$i(e,t){let i=new nn(K_(e));return t.forEach((r,a)=>{jp(e,a)&&(i=i.add(a))}),i}Mi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Oi(e,t){return Nb()<=Ec.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",o0(t)),this.xi.getDocumentsMatchingQuery(e,t,Lo.min())}Fi(e,t,i,r){return this.xi.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class C2{constructor(e,t,i,r){this.persistence=e,this.Bi=t,this.serializer=r,this.Li=new ni(Gt),this.qi=new Sl(a=>Oc(a),nd),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(i)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FO(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function VO(n,e,t,i){return new C2(n,e,t,i)}function BO(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,ye.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Gi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=en();for(const b of r){u.push(b.batchId);for(const C of b.mutations)_=_.add(C.key)}for(const b of a){f.push(b.batchId);for(const C of b.mutations)_=_.add(C.key)}return t.localDocuments.getDocuments(i,_).next(b=>({Qi:b,removedBatchIds:u,addedBatchIds:f}))})})}),BT.apply(this,arguments)}function UO(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function HO(n,e,t){let i=en(),r=en();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=go();return t.forEach((f,_)=>{const b=a.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(St.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Fe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{zi:u,ji:r}})}function S2(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ry(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ds.getTargetData(i,e).next(a=>a?(r=a,se.resolve(r)):t.Ds.allocateTargetId(i).next(u=>(r=new Nh(e,u,0,i.currentSequenceNumber),t.Ds.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Li.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Li=t.Li.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function oy(n,e,t){return UT.apply(this,arguments)}function UT(){return UT=(0,ye.Z)(function*(n,e,t){const i=Qe(n),r=i.Li.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Tc(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Li=i.Li.remove(e),i.qi.delete(r.target)}),UT.apply(this,arguments)}function xx(n,e,t){const i=Qe(n);let r=St.min(),a=en();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const C=Qe(f),M=C.qi.get(b);return void 0!==M?se.resolve(C.Li.get(M)):C.Ds.getTargetData(_,b)}(i,u,Yr(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Ds.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Bi.getDocumentsMatchingQuery(u,e,t?r:St.min(),t?a:en())).next(f=>($O(i,s0(e),f),{documents:f,Wi:a})))}function jO(n,e){const t=Qe(n),i=Qe(t.Ds),r=t.Li.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.ne(a,e).next(u=>u?u.target:null))}function zO(n,e){const t=Qe(n),i=t.Ui.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ki.getAllFromCollectionGroup(r,e,N_(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>($O(t,e,r),r))}function $O(n,e,t){let i=n.Ui.get(e)||St.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ui.set(e,i)}function HT(){return HT=(0,ye.Z)(function*(n,e,t,i){const r=Qe(n);let a=en(),u=go();for(const b of t){const C=e.Hi(b.metadata.name);b.document&&(a=a.add(C));const M=e.Ji(b);M.setReadTime(e.Yi(b.metadata.readTime)),u=u.insert(C,M)}const f=r.Ki.newChangeBuffer({trackRemovals:!0}),_=yield ry(r,(b=i,Yr(Bp(un.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>HO(b,f,u).next(C=>(f.apply(b),C)).next(C=>r.Ds.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.Ds.addMatchingKeys(b,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(b,C.zi,C.ji)).next(()=>C.zi)))}),HT.apply(this,arguments)}function T2(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,ye.Z)(function*(n,e,t=en()){const i=yield ry(n,Yr(IT(e.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Hi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.xs.saveNamedQuery(a,e);const f=i.withResumeToken(Ui.EMPTY_BYTE_STRING,u);return r.Li=r.Li.insert(f.targetId,f),r.Ds.updateTargetData(a,f).next(()=>r.Ds.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Ds.addMatchingKeys(a,t,i.targetId)).next(()=>r.xs.saveNamedQuery(a,e))})}),jT.apply(this,arguments)}function GO(n,e){return`firestore_clients_${n}_${e}`}function qO(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function zT(n,e){return`firestore_targets_${n}_${e}`}class Dx{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Te(r.error.code,r.error.message))),u?new Dx(e,t,r.state,a):(hi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class w0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Te(i.error.code,i.error.message))),a?new w0(e,i.state,r):(hi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sx{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=X_();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Hb(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new Sx(e,a):(hi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $T{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $T(t.clientId,t.onlineState):(hi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class GT{constructor(){this.activeTargetIds=X_()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qT{constructor(e,t,i,r,a){this.window=e,this.Ws=t,this.persistenceKey=i,this.nr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new ni(Gt),this.started=!1,this.ur=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.cr=GO(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new GT),this.hr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.bi();for(const r of t){if(r===e.nr)continue;const a=e.getItem(GO(e.persistenceKey,r));if(a){const u=Sx.Zi(r,a);u&&(e.rr=e.rr.insert(u.clientId,u))}}e.mr();const i=e.storage.getItem(e.wr);if(i){const r=e.gr(i);r&&e.yr(r)}for(const r of e.ur)e.ir(r);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,i){this.Ir(e,t,i),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(zT(this.persistenceKey,e));if(i){const r=w0.Zi(e,i);r&&(t=r.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zT(this.persistenceKey,e))}updateQueryState(e,t,i){this.Ar(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Tr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.cr)return void hi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==i.key)if(t.hr.test(i.key)){if(null==i.newValue){const r=t.br(i.key);return t.Pr(r,null)}{const r=t.Vr(i.key,i.newValue);if(r)return t.Pr(r.clientId,r)}}else if(t.lr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Cr(i.key,i.newValue);if(r)return t.Nr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.gr(i.newValue);if(r)return t.yr(r)}}else if(i.key===t.ar){const r=function(a){let u=Vo.ct;if(null!=a)try{const f=JSON.parse(a);Ct("number"==typeof f),u=f}catch(f){hi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Vo.ct&&t.sequenceNumberHandler(r)}else if(i.key===t._r){const r=t.kr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Or(a)))}}else t.ur.push(i)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,i){const r=new Dx(this.currentUser,e,t,i),a=qO(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Xi())}Tr(e){const t=qO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,i){const r=zT(this.persistenceKey,e),a=new w0(e,t,i);this.setItem(r,a.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const i=this.br(e);return Sx.Zi(i,t)}Sr(e,t){const i=this.lr.exec(e),r=Number(i[1]);return Dx.Zi(new nr(void 0!==i[2]?i[2]:null),r,t)}Cr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return w0.Zi(r,t)}gr(e){return $T.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const i=t?this.rr.insert(e,t):this.rr.remove(e),r=this.pr(this.rr),a=this.pr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Fr(u,f).then(()=>{this.rr=i})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=X_();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class WO{constructor(){this.Br=new GT,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,i){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new GT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class A2{qr(e){}shutdown(){}}class ZO{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ix=null;function WT(){return null===Ix?Ix=268435456+Math.round(2147483648*Math.random()):Ix++,"0x"+Ix.toString(16)}const M2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R2{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const _o="WebChannelConnection";class k2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,i,r,a){const u=WT(),f=this.ao(e,t);Fe("RestConnection",`Sending RPC '${e}' ${u}:`,f,i);const _={};return this.ho(_,r,a),this.lo(e,f,_,i).then(b=>(Fe("RestConnection",`Received RPC '${e}' ${u}: `,b),b),b=>{throw Vs("RestConnection",`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",i),b})}fo(e,t,i,r,a,u){return this.co(e,t,i,r,a)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Th,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ao(e,t){return`${this.ro}/v1/${t}:${M2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){const a=WT();return new Promise((u,f)=>{const _=new Pb;_.setWithCredentials(!0),_.listenOnce(Ob.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case A_.NO_ERROR:const C=_.getResponseJson();Fe(_o,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(C)),u(C);break;case A_.TIMEOUT:Fe(_o,`RPC '${e}' ${a} timed out`),f(new Te(le.DEADLINE_EXCEEDED,"Request time out"));break;case A_.HTTP_ERROR:const M=_.getStatus();if(Fe(_o,`RPC '${e}' ${a} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const B=F?.error;if(B&&B.status&&B.message){const G=function(X){const ce=X.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(ce)>=0?ce:le.UNKNOWN}(B.status);f(new Te(G,B.message))}else f(new Te(le.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Te(le.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Fe(_o,`RPC '${e}' ${a} completed.`)}});const b=JSON.stringify(r);Fe(_o,`RPC '${e}' ${a} sending request:`,r),_.send(t,"POST",b,i,15)})}wo(e,t,i){const r=WT(),a=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=UI(),f=kC(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new Fb({})),this.ho(_.initMessageHeaders,t,i),_.encodeInitMessageHeaders=!0;const b=a.join("");Fe(_o,`Creating RPC '${e}' stream ${r}: ${b}`,_);const C=u.createWebChannel(b,_);let M=!1,F=!1;const B=new R2({Wr:X=>{F?Fe(_o,`Not sending because RPC '${e}' stream ${r} is closed:`,X):(M||(Fe(_o,`Opening RPC '${e}' stream ${r} transport.`),C.open(),M=!0),Fe(_o,`RPC '${e}' stream ${r} sending:`,X),C.send(X))},Hr:()=>C.close()}),G=(X,ce,Ne)=>{X.listen(ce,ht=>{try{Ne(ht)}catch(ft){setTimeout(()=>{throw ft},0)}})};return G(C,Ap.EventType.OPEN,()=>{F||Fe(_o,`RPC '${e}' stream ${r} transport opened.`)}),G(C,Ap.EventType.CLOSE,()=>{F||(F=!0,Fe(_o,`RPC '${e}' stream ${r} transport closed`),B.so())}),G(C,Ap.EventType.ERROR,X=>{F||(F=!0,Vs(_o,`RPC '${e}' stream ${r} transport errored:`,X),B.so(new Te(le.UNAVAILABLE,"The operation could not be completed")))}),G(C,Ap.EventType.MESSAGE,X=>{var ce;if(!F){const Ne=X.data[0];Ct(!!Ne);const ft=Ne.error||(null===(ce=Ne[0])||void 0===ce?void 0:ce.error);if(ft){Fe(_o,`RPC '${e}' stream ${r} received error:`,ft);const xt=ft.status;let qt=function(Cn){const jr=rr[Cn];if(void 0!==jr)return qk(jr)}(xt),Yt=ft.message;void 0===qt&&(qt=le.INTERNAL,Yt="Unknown error status: "+xt+" with message "+ft.message),F=!0,B.so(new Te(qt,Yt)),C.close()}else Fe(_o,`RPC '${e}' stream ${r} received:`,Ne),B.io(Ne)}}),G(f,OC.STAT_EVENT,X=>{X.stat===M_.PROXY?Fe(_o,`RPC '${e}' stream ${r} detected buffering proxy`):X.stat===M_.NOPROXY&&Fe(_o,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.no()},0),B}}function YO(){return typeof window<"u"?window:null}function Tx(){return typeof document<"u"?document:null}function E0(n){return new UL(n,!0)}class ZT{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Ws=e,this.timerId=t,this._o=i,this.mo=r,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class KO{constructor(e,t,i,r,a,u,f,_){this.Ws=e,this.bo=i,this.Po=r,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new ZT(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,ye.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,ye.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var i=this;return(0,ye.Z)(function*(){i.Bo(),i.Lo(),i.Co.cancel(),i.Vo++,4!==e?i.Co.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),i.Co.Eo()):t&&t.code===le.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.Ko(i,r)},i=>{e(()=>{const r=new Te(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Go(r)})})}Ko(e,t){const i=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{i(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(r=>{i(()=>this.Go(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}ko(){var e=this;this.state=5,this.Co.Ao((0,ye.Z)(function*(){e.state=0,e.start()}))}Go(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O2 extends KO{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function zL(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:at(),r=e.targetChange.targetIds||[],a=function(_,b){return _.useProto3Json?(Ct(void 0===b||"string"==typeof b),Ui.fromBase64String(b||"")):(Ct(void 0===b||b instanceof Uint8Array),Ui.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const b=void 0===_.code?le.UNKNOWN:qk(_.code);return new Te(b,_.message||"")}(u);t=new Zk(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Fc(n,i.document.name),a=Hi(i.document.updateTime),u=i.document.createTime?Hi(i.document.createTime):St.min(),f=new Ti({mapValue:{fields:i.document.fields}}),_=Vn.newFoundDocument(r,a,u,f);t=new fx(i.targetIds||[],i.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const i=e.documentDelete,r=Fc(n,i.document),a=i.readTime?Hi(i.readTime):St.min(),u=Vn.newNoDocument(r,a);t=new fx([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Fc(n,i.document);t=new fx([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return at();{const i=e.filter,a=new PL(i.count||0);t=new Wk(i.targetId,a)}}var _;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return St.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?St.min():a.readTime?Hi(a.readTime):St.min()}(e);return this.listener.zo(t,i)}jo(e){const t={};t.database=h0(this.serializer),t.addTarget=function(r,a){let u;const f=a.target;return u=Oh(f)?{documents:rO(r,f)}:{query:ST(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=Xk(r,a.resumeToken):a.snapshotVersion.compareTo(St.min())>0&&(u.readTime=ey(r,a.snapshotVersion.toTimestamp())),u}(this.serializer,e);const i=function GL(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Fo(t)}Wo(e){const t={};t.database=h0(this.serializer),t.removeTarget=e,this.Fo(t)}}class F2 extends KO{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=a,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function $L(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(i,r){let a=Hi(i.updateTime?i.updateTime:r);return a.isEqual(St.min())&&(a=Hi(r)),new L(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Hi(e.commitTime);return this.listener.Zo(i,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=h0(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>f0(this.serializer,i))};this.Fo(t)}}class P2 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.eu=!1}nu(){if(this.eu)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.co(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Te(le.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.fo(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(le.UNKNOWN,a.toString())})}terminate(){this.eu=!0}}class L2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(hi(t),this.ru=!1):Fe("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class V2{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr(f=>{i.enqueueAndForget((0,ye.Z)(function*(){var _;rd(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ye.Z)(function*(b){const C=Qe(b);C.du.add(4),yield sy(C),C.mu.set("Unknown"),C.du.delete(4),yield C0(C)}),function(b){return _.apply(this,arguments)})(u))}))}),this.mu=new L2(i,r)}}function C0(n){return KT.apply(this,arguments)}function KT(){return KT=(0,ye.Z)(function*(n){if(rd(n))for(const e of n.wu)yield e(!0)}),KT.apply(this,arguments)}function sy(n){return QT.apply(this,arguments)}function QT(){return QT=(0,ye.Z)(function*(n){for(const e of n.wu)yield e(!1)}),QT.apply(this,arguments)}function Ax(n,e){const t=Qe(n);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),eA(t)?JT(t):ly(t).No()&&XT(t,e))}function x0(n,e){const t=Qe(n),i=ly(t);t.fu.delete(e),i.No()&&QO(t,e),0===t.fu.size&&(i.No()?i.$o():rd(t)&&t.mu.set("Unknown"))}function XT(n,e){n.gu.Ot(e.targetId),ly(n).jo(e)}function QO(n,e){n.gu.Ot(e),ly(n).Wo(e)}function JT(n){n.gu=new NL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.fu.get(e)||null}),ly(n).start(),n.mu.ou()}function eA(n){return rd(n)&&!ly(n).xo()&&n.fu.size>0}function rd(n){return 0===Qe(n).du.size}function XO(n){n.gu=void 0}function B2(n){return tA.apply(this,arguments)}function tA(){return tA=(0,ye.Z)(function*(n){n.fu.forEach((e,t)=>{XT(n,e)})}),tA.apply(this,arguments)}function U2(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,ye.Z)(function*(n,e){XO(n),eA(n)?(n.mu.au(e),JT(n)):n.mu.set("Unknown")}),nA.apply(this,arguments)}function H2(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=(0,ye.Z)(function*(n,e,t){if(n.mu.set("Online"),e instanceof Zk&&2===e.state&&e.cause)try{yield(i=(0,ye.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.fu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.fu.delete(f),r.gu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Mx(n,i)}else if(e instanceof fx?n.gu.Kt(e):e instanceof Wk?n.gu.Jt(e):n.gu.zt(e),!t.isEqual(St.min()))try{const i=yield UO(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.gu.Xt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.fu.get(_);b&&r.fu.set(_,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.fu.get(f);if(!_)return;r.fu.set(f,_.withResumeToken(Ui.EMPTY_BYTE_STRING,_.snapshotVersion)),QO(r,f);const b=new Nh(_.target,f,1,_.sequenceNumber);XT(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield Mx(n,i)}var i}),iA.apply(this,arguments)}function Mx(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=(0,ye.Z)(function*(n,e,t){if(!Tc(e))throw e;n.du.add(1),yield sy(n),n.mu.set("Offline"),t||(t=()=>UO(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield C0(n)}))}),rA.apply(this,arguments)}function JO(n,e){return e().catch(t=>Mx(n,t,e))}function ay(n){return oA.apply(this,arguments)}function oA(){return oA=(0,ye.Z)(function*(n){const e=Qe(n),t=Uh(e);let i=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;j2(e);)try{const r=yield S2(e.localStore,i);if(null===r){0===e.lu.length&&t.$o();break}i=r.batchId,z2(e,r)}catch(r){yield Mx(e,r)}e1(e)&&t1(e)}),oA.apply(this,arguments)}function j2(n){return rd(n)&&n.lu.length<10}function z2(n,e){n.lu.push(e);const t=Uh(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function e1(n){return rd(n)&&!Uh(n).xo()&&n.lu.length>0}function t1(n){Uh(n).start()}function $2(n){return sA.apply(this,arguments)}function sA(){return sA=(0,ye.Z)(function*(n){Uh(n).tu()}),sA.apply(this,arguments)}function G2(n){return aA.apply(this,arguments)}function aA(){return aA=(0,ye.Z)(function*(n){const e=Uh(n);for(const t of n.lu)e.Yo(t.mutations)}),aA.apply(this,arguments)}function q2(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,ye.Z)(function*(n,e,t){const i=n.lu.shift(),r=vT.from(i,e,t);yield JO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ay(n)}),lA.apply(this,arguments)}function W2(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,ye.Z)(function*(n,e){var t;e&&Uh(n).Jo&&(yield(t=(0,ye.Z)(function*(i,r){if(Gk(a=r.code)&&a!==le.ABORTED){const u=i.lu.shift();Uh(i).Oo(),yield JO(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield ay(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),e1(n)&&t1(n)}),cA.apply(this,arguments)}function n1(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,ye.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=rd(t);t.du.add(3),yield sy(t),i&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield C0(t)}),uA.apply(this,arguments)}function dA(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,ye.Z)(function*(n,e){const t=Qe(n);e?(t.du.delete(2),yield C0(t)):e||(t.du.add(2),yield sy(t),t.mu.set("Unknown"))}),hA.apply(this,arguments)}function ly(n){return n.yu||(n.yu=function(e,t,i){const r=Qe(e);return r.nu(),new O2(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:B2.bind(null,n),Zr:U2.bind(null,n),zo:H2.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.yu.Oo(),eA(n)?JT(n):n.mu.set("Unknown")):(yield n.yu.stop(),XO(n))});return function(t){return e.apply(this,arguments)}}())),n.yu}function Uh(n){return n.pu||(n.pu=function(e,t,i){const r=Qe(e);return r.nu(),new F2(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:$2.bind(null,n),Zr:W2.bind(null,n),Xo:G2.bind(null,n),Zo:q2.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.pu.Oo(),yield ay(n)):(yield n.pu.stop(),n.lu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class fA{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new fA(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(n,e){if(hi("AsyncQueue",`${e}: ${n}`),Tc(n))return new Te(le.UNAVAILABLE,`${e}: ${n}`);throw n}class uy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||We.comparator(t.key,i.key):(t,i)=>We.comparator(t.key,i.key),this.keyedMap=Q_(),this.sortedSet=new ni(this.comparator)}static emptySet(e){return new uy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new uy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class r1{constructor(){this.Iu=new ni(We.comparator)}track(e){const t=e.doc.key,i=this.Iu.get(t);i?0!==e.type&&3===i.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==i.type?this.Iu=this.Iu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Iu=this.Iu.remove(t):1===e.type&&2===i.type?this.Iu=this.Iu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):at():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,i)=>{e.push(i)}),e}}class dy{constructor(e,t,i,r,a,u,f,_,b){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,i,r,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new dy(e,t,uy.emptySet(t),u,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Z2{constructor(){this.Eu=void 0,this.listeners=[]}}class Y2{constructor(){this.queries=new Sl(e=>r0(e),Fh),this.onlineState="Unknown",this.Au=new Set}}function pA(n,e){return mA.apply(this,arguments)}function mA(){return mA=(0,ye.Z)(function*(n,e){const t=Qe(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new Z2),r)try{a.Eu=yield t.onListen(i)}catch(u){const f=cy(u,`Initialization of query '${o0(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.Ru(t.onlineState),a.Eu&&e.vu(a.Eu)&&yA(t)}),mA.apply(this,arguments)}function gA(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,ye.Z)(function*(n,e){const t=Qe(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),_A.apply(this,arguments)}function K2(n,e){const t=Qe(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.vu(r)&&(i=!0);u.Eu=r}}i&&yA(t)}function Q2(n,e,t){const i=Qe(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function yA(n){n.Au.forEach(e=>{e.next()})}class vA{constructor(e,t,i){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new dy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=dy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class X2{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class o1{constructor(e){this.serializer=e}Hi(e){return Fc(this.serializer,e)}Ji(e){return e.metadata.exists?iO(this.serializer,e.document,!1):Vn.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Hi(e)}}class J2{constructor(e,t,i){this.Ou=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=s1(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const i=un.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,i=new o1(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.Hi(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||en()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function I2(n,e,t,i){return HT.apply(this,arguments)}(e.localStore,new o1(e.serializer),e.documents,e.Ou.id),i=e.Mu(e.documents);for(const r of e.queries)yield T2(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function s1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class a1{constructor(e){this.key=e}}class l1{constructor(e){this.key=e}}class c1{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=en(),this.mutatedKeys=en(),this.Ku=K_(e),this.Gu=new uy(this.Ku)}get Qu(){return this.Lu}zu(e,t){const i=t?t.ju:new r1,r=t?t.Gu:this.Gu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,b="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,M)=>{const F=r.get(C),B=jp(this.query,M)?M:null,G=!!F&&this.mutatedKeys.has(F.key),X=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ce=!1;F&&B?F.data.isEqual(B.data)?G!==X&&(i.track({type:3,doc:B}),ce=!0):this.Wu(F,B)||(i.track({type:2,doc:B}),ce=!0,(_&&this.Ku(B,_)>0||b&&this.Ku(B,b)<0)&&(f=!0)):!F&&B?(i.track({type:0,doc:B}),ce=!0):F&&!B&&(i.track({type:1,doc:F}),ce=!0,(_||b)&&(f=!0)),ce&&(B?(u=u.add(B),a=X?a.add(C):a.delete(C)):(u=u.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const C="F"===this.query.limitType?u.last():u.first();u=u.delete(C.key),a=a.delete(C.key),i.track({type:1,doc:C})}return{Gu:u,ju:i,Mi:f,mutatedKeys:a}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.ju.Tu();a.sort((b,C)=>function(M,F){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return B(M)-B(F)}(b.type,C.type)||this.Ku(b.doc,C.doc)),this.Hu(i);const u=t?this.Ju():[],f=0===this.Uu.size&&this.current?1:0,_=f!==this.qu;return this.qu=f,0!==a.length||_?{snapshot:new dy(this.query,e.Gu,r,a,e.mutatedKeys,0===f,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Yu:u}:{Yu:u}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new r1,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=en(),this.Gu.forEach(i=>{this.Zu(i.key)&&(this.Uu=this.Uu.add(i.key))});const t=[];return e.forEach(i=>{this.Uu.has(i)||t.push(new l1(i))}),this.Uu.forEach(i=>{e.has(i)||t.push(new a1(i))}),t}Xu(e){this.Lu=e.Wi,this.Uu=en();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return dy.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class eV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class tV{constructor(e){this.key=e,this.ec=!1}}class nV{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nc={},this.sc=new Sl(f=>r0(f),Fh),this.ic=new Map,this.rc=new Set,this.oc=new ni(We.comparator),this.uc=new Map,this.cc=new FT,this.ac={},this.hc=new Map,this.lc=Yp.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function iV(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,ye.Z)(function*(n,e){const t=zA(n);let i,r;const a=t.sc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.tc();else{const u=yield ry(t.localStore,Yr(e));t.isPrimaryClient&&Ax(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield wA(t,e,i,"current"===f,u.resumeToken)}return r}),bA.apply(this,arguments)}function wA(n,e,t,i,r){return EA.apply(this,arguments)}function EA(){return EA=(0,ye.Z)(function*(n,e,t,i,r){n.dc=(M,F,B)=>{return(G=(0,ye.Z)(function*(X,ce,Ne,ht){let ft=ce.view.zu(Ne);ft.Mi&&(ft=yield xx(X.localStore,ce.query,!1).then(({documents:Yt})=>ce.view.zu(Yt,ft)));const xt=ht&&ht.targetChanges.get(ce.targetId),qt=ce.view.applyChanges(ft,X.isPrimaryClient,xt);return kA(X,ce.targetId,qt.Yu),qt.snapshot}),function(X,ce,Ne,ht){return G.apply(this,arguments)})(n,M,F,B);var G};const a=yield xx(n.localStore,e,!0),u=new c1(e,a.Wi),f=u.zu(a.documents),_=u0.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),b=u.applyChanges(f,n.isPrimaryClient,_);kA(n,t,b.Yu);const C=new eV(e,t,u);return n.sc.set(e,C),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),b.snapshot}),EA.apply(this,arguments)}function rV(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,ye.Z)(function*(n,e){const t=Qe(n),i=t.sc.get(e),r=t.ic.get(i.targetId);if(r.length>1)return t.ic.set(i.targetId,r.filter(a=>!Fh(a,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield oy(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),x0(t.remoteStore,i.targetId),hy(t,i.targetId)}).catch(Ic))):(hy(t,i.targetId),yield oy(t.localStore,i.targetId,!0))}),CA.apply(this,arguments)}function xA(){return xA=(0,ye.Z)(function*(n,e,t){const i=$A(n);try{const r=yield function(a,u){const f=Qe(a),_=Zn.now(),b=u.reduce((F,B)=>F.add(B.key),en());let C,M;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let B=go(),G=en();return f.Ki.getEntries(F,b).next(X=>{B=X,B.forEach((ce,Ne)=>{Ne.isValidDocument()||(G=G.add(ce))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,B)).next(X=>{C=X;const ce=[];for(const Ne of u){const ht=Ft(Ne,C.get(Ne.key).overlayedDocument);null!=ht&&ce.push(new mn(Ne.key,ht,Yb(ht.value.mapValue),$.exists(!0)))}return f.mutationQueue.addMutationBatch(F,_,ce,u)}).next(X=>{M=X;const ce=X.applyToLocalDocumentSet(C,G);return f.documentOverlayCache.saveOverlays(F,X.batchId,ce)})}).then(()=>({batchId:M.batchId,changes:hT(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.ac[a.currentUser.toKey()];_||(_=new ni(Gt)),_=_.insert(u,f),a.ac[a.currentUser.toKey()]=_}(i,r.batchId,t),yield od(i,r.changes),yield ay(i.remoteStore)}catch(r){const a=cy(r,"Failed to persist write");t.reject(a)}}),xA.apply(this,arguments)}function u1(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,ye.Z)(function*(n,e){const t=Qe(n);try{const i=yield function D2(n,e){const t=Qe(n),i=e.snapshotVersion;let r=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ki.newChangeBuffer({trackRemovals:!0});r=t.Li;const f=[];e.targetChanges.forEach((C,M)=>{const F=r.get(M);if(!F)return;f.push(t.Ds.removeMatchingKeys(a,C.removedDocuments,M).next(()=>t.Ds.addMatchingKeys(a,C.addedDocuments,M)));let B=F.withSequenceNumber(a.currentSequenceNumber);var G,X,ce;e.targetMismatches.has(M)?B=B.withResumeToken(Ui.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):C.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(C.resumeToken,i)),r=r.insert(M,B),X=B,ce=C,(0===(G=F).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&f.push(t.Ds.updateTargetData(a,B))});let _=go(),b=en();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),f.push(HO(a,u,e.documentUpdates).next(C=>{_=C.zi,b=C.ji})),!i.isEqual(St.min())){const C=t.Ds.getLastRemoteSnapshotVersion(a).next(M=>t.Ds.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(C)}return se.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.Li=r,a))}(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.uc.get(a);u&&(Ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ec=!0:r.modifiedDocuments.size>0?Ct(u.ec):r.removedDocuments.size>0&&(Ct(u.ec),u.ec=!1))}),yield od(t,i,e)}catch(i){yield Ic(i)}}),DA.apply(this,arguments)}function d1(n,e,t){const i=Qe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((a,u)=>{const f=u.view.Ru(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=Qe(a);f.onlineState=u;let _=!1;f.queries.forEach((b,C)=>{for(const M of C.listeners)M.Ru(u)&&(_=!0)}),_&&yA(f)}(i.eventManager,e),r.length&&i.nc.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function sV(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,ye.Z)(function*(n,e,t){const i=Qe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.uc.get(e),a=r&&r.key;if(a){let u=new ni(We.comparator);u=u.insert(a,Vn.newNoDocument(a,St.min()));const f=en().add(a),_=new c0(St.min(),new Map,new nn(Gt),u,f);yield u1(i,_),i.oc=i.oc.remove(a),i.uc.delete(e),OA(i)}else yield oy(i.localStore,e,!1).then(()=>hy(i,e,t)).catch(Ic)}),SA.apply(this,arguments)}function aV(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,ye.Z)(function*(n,e){const t=Qe(n),i=e.batch.batchId;try{const r=yield function x2(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Ki.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const C=_.batch,M=C.keys();let F=se.resolve();return M.forEach(B=>{F=F.next(()=>b.getEntry(f,B)).next(G=>{const X=_.docVersions.get(B);Ct(null!==X),G.version.compareTo(X)<0&&(C.applyToRemoteDocument(G,_),G.isValidDocument()&&(G.setReadTime(_.commitVersion),b.addEntry(G)))})}),F.next(()=>u.mutationQueue.removeMutationBatch(f,C))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=en();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);RA(t,i,null),MA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield od(t,r)}catch(r){yield Ic(r)}}),IA.apply(this,arguments)}function lV(n,e,t){return TA.apply(this,arguments)}function TA(){return TA=(0,ye.Z)(function*(n,e,t){const i=Qe(n);try{const r=yield function(a,u){const f=Qe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,u).next(C=>(Ct(null!==C),b=C.keys(),f.mutationQueue.removeMutationBatch(_,C))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(i.localStore,e);RA(i,e,t),MA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield od(i,r)}catch(r){yield Ic(r)}}),TA.apply(this,arguments)}function AA(){return AA=(0,ye.Z)(function*(n,e){const t=Qe(n);rd(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Qe(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.hc.get(i)||[];r.push(e),t.hc.set(i,r)}catch(i){const r=cy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),AA.apply(this,arguments)}function MA(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function RA(n,e,t){const i=Qe(n);let r=i.ac[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function hy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ic.get(e))n.sc.delete(i),t&&n.nc.wc(i,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.hs(e).forEach(i=>{n.cc.containsKey(i)||h1(n,i)})}function h1(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(x0(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),OA(n))}function kA(n,e,t){for(const i of t)i instanceof a1?(n.cc.addReference(i.key,e),uV(n,i)):i instanceof l1?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,e),n.cc.containsKey(i.key)||h1(n,i.key)):at()}function uV(n,e){const t=e.key,i=t.path.canonicalString();n.oc.get(t)||n.rc.has(i)||(Fe("SyncEngine","New document in limbo: "+t),n.rc.add(i),OA(n))}function OA(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new We(un.fromString(e)),i=n.lc.next();n.uc.set(i,new tV(t)),n.oc=n.oc.insert(t,i),Ax(n.remoteStore,new Nh(Yr(Bp(t.path)),i,2,Vo.ct))}}function od(n,e,t){return FA.apply(this,arguments)}function FA(){return FA=(0,ye.Z)(function*(n,e,t){const i=Qe(n),r=[],a=[],u=[];var f;i.sc.isEmpty()||(i.sc.forEach((f,_)=>{u.push(i.dc(_,e,t).then(b=>{if((b||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){r.push(b);const C=VT.Di(_.targetId,b);a.push(C)}}))}),yield Promise.all(u),i.nc.zo(r),yield(f=(0,ye.Z)(function*(_,b){const C=Qe(_);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>se.forEach(b,F=>se.forEach(F.Vi,B=>C.persistence.referenceDelegate.addReference(M,F.targetId,B)).next(()=>se.forEach(F.Si,B=>C.persistence.referenceDelegate.removeReference(M,F.targetId,B)))))}catch(M){if(!Tc(M))throw M;Fe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const F=M.targetId;if(!M.fromCache){const B=C.Li.get(F),X=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);C.Li=C.Li.insert(F,X)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),FA.apply(this,arguments)}function dV(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,ye.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const i=yield BO(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(u=>{u.forEach(f=>{f.reject(new Te(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield od(t,i.Qi)}var r}),PA.apply(this,arguments)}function hV(n,e){const t=Qe(n),i=t.uc.get(e);if(i&&i.ec)return en().add(i.key);{let r=en();const a=t.ic.get(e);if(!a)return r;for(const u of a){const f=t.sc.get(u);r=r.unionWith(f.view.Qu)}return r}}function fV(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,ye.Z)(function*(n,e){const t=Qe(n),i=yield xx(t.localStore,e.query,!0),r=e.view.Xu(i);return t.isPrimaryClient&&kA(t,e.targetId,r.Yu),r}),NA.apply(this,arguments)}function pV(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,ye.Z)(function*(n,e){const t=Qe(n);return zO(t.localStore,e).then(i=>od(t,i))}),LA.apply(this,arguments)}function mV(n,e,t,i){return VA.apply(this,arguments)}function VA(){return VA=(0,ye.Z)(function*(n,e,t,i){const r=Qe(n),a=yield function(u,f){const _=Qe(u),b=Qe(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",C=>b.In(C,f).next(M=>M?_.localDocuments.getDocuments(C,M):se.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield ay(r.remoteStore):"acknowledged"===t||"rejected"===t?(RA(r,e,i||null),MA(r,e),f=e,Qe(Qe(r.localStore).mutationQueue).En(f)):at(),yield od(r,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),VA.apply(this,arguments)}function BA(){return BA=(0,ye.Z)(function*(n,e){const t=Qe(n);if(zA(t),$A(t),!0===e&&!0!==t.fc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield f1(t,i.toArray());t.fc=!0,yield dA(t.remoteStore,!0);for(const a of r)Ax(t.remoteStore,a)}else if(!1===e&&!1!==t.fc){const i=[];let r=Promise.resolve();t.ic.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(hy(t,u),oy(t.localStore,u,!0))),x0(t.remoteStore,u)}),yield r,yield f1(t,i),function(a){const u=Qe(a);u.uc.forEach((f,_)=>{x0(u.remoteStore,_)}),u.cc.ls(),u.uc=new Map,u.oc=new ni(We.comparator)}(t),t.fc=!1,yield dA(t.remoteStore,!1)}}),BA.apply(this,arguments)}function f1(n,e,t){return UA.apply(this,arguments)}function UA(){return UA=(0,ye.Z)(function*(n,e,t){const i=Qe(n),r=[],a=[];for(const u of e){let f;const _=i.ic.get(u);if(_&&0!==_.length){f=yield ry(i.localStore,Yr(_[0]));for(const b of _){const C=i.sc.get(b),M=yield fV(i,C);M.snapshot&&a.push(M.snapshot)}}else{const b=yield jO(i.localStore,u);f=yield ry(i.localStore,b),yield wA(i,p1(b),u,!1,f.resumeToken)}r.push(f)}return i.nc.zo(a),r}),UA.apply(this,arguments)}function p1(n){return uT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _V(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).bi()}function yV(n,e,t,i){return HA.apply(this,arguments)}function HA(){return HA=(0,ye.Z)(function*(n,e,t,i){const r=Qe(n);if(r.fc)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=r.ic.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield zO(r.localStore,s0(a[0])),f=c0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ui.EMPTY_BYTE_STRING);yield od(r,u,f);break}case"rejected":yield oy(r.localStore,e,!0),hy(r,e,i);break;default:at()}}),HA.apply(this,arguments)}function vV(n,e,t){return jA.apply(this,arguments)}function jA(){return jA=(0,ye.Z)(function*(n,e,t){const i=zA(n);if(i.fc){for(const r of e){if(i.ic.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const a=yield jO(i.localStore,r),u=yield ry(i.localStore,a);yield wA(i,p1(a),u.targetId,!1,u.resumeToken),Ax(i.remoteStore,u)}for(const r of t)i.ic.has(r)&&(yield oy(i.localStore,r,!1).then(()=>{x0(i.remoteStore,r),hy(i,r)}).catch(Ic))}}),jA.apply(this,arguments)}function zA(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=u1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sV.bind(null,e),e.nc.zo=K2.bind(null,e.eventManager),e.nc.wc=Q2.bind(null,e.eventManager),e}function $A(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lV.bind(null,e),e}class Rx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.serializer=E0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return VO(this.persistence,new LO,e.initialUser,this.serializer)}createPersistence(e){return new PO(Ex.Fs,this.serializer)}createSharedClientState(e){return new WO}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class GA extends Rx{constructor(e,t,i){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e),yield i.mc.initialize(i,e),yield $A(i.mc.syncEngine),yield ay(i.mc.remoteStore),yield i.persistence.hi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return VO(this.persistence,new LO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new c2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new GC(t,this.persistence);return new $C(e.asyncQueue,i)}createPersistence(e){const t=LT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new NT(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,YO(),Tx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new WO}}class m1 extends GA{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e);const r=i.mc.syncEngine;i.sharedClientState instanceof qT&&(i.sharedClientState.syncEngine={$r:mV.bind(null,r),Mr:yV.bind(null,r),Fr:vV.bind(null,r),bi:_V.bind(null,r),Or:pV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.hi(function(){var a=(0,ye.Z)(function*(u){yield function gV(n,e){return BA.apply(this,arguments)}(i.mc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=YO();if(!qT.D(t))throw new Te(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=LT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qT(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class fy{initialize(e,t){var i=this;return(0,ye.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>d1(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=dV.bind(null,i.syncEngine),yield dA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Y2}createDatastore(e){const t=E0(e.databaseInfo.databaseId),i=new k2(e.databaseInfo);return new P2(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>d1(this.syncEngine,f,0),u=ZO.D()?new ZO:new A2,new V2(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,b){const C=new nV(i,r,a,u,f,_);return b&&(C.fc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const i=Qe(t);Fe("RemoteStore","RemoteStore shutting down."),i.du.add(5),yield sy(i),i._u.shutdown(),i.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function g1(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class kx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wV{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new Ii,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(i=>{i&&i.ku()?this.metadata.resolve(i.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Nu)}`))},i=>this.metadata.reject(i))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const i=e.Tc.decode(t),r=Number(i);isNaN(r)&&e.Rc(`length string (${i}) is not valid number`);const a=yield e.vc(r);return new X2(JSON.parse(a),t.length+r)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,ye.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const i=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class EV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Te(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ye.Z)(function*(a,u){const f=Qe(a),_=h0(f.serializer)+"/documents",b={documents:u.map(B=>d0(f.serializer,B))},C=yield f.fo("BatchGetDocuments",_,b,u.length),M=new Map;C.forEach(B=>{const G=function jL(n,e){return"found"in e?function(t,i){Ct(!!i.found);const r=Fc(t,i.found.name),a=Hi(i.found.updateTime),u=i.found.createTime?Hi(i.found.createTime):St.min(),f=new Ti({mapValue:{fields:i.found.fields}});return Vn.newFoundDocument(r,a,u,f)}(n,e):"missing"in e?function(t,i){Ct(!!i.missing),Ct(!!i.readTime);const r=Fc(t,i.missing),a=Hi(i.readTime);return Vn.newNoDocument(r,a)}(n,e):at()}(f.serializer,B);M.set(G.key.toString(),G)});const F=[];return u.forEach(B=>{const G=M.get(B.toString());Ct(!!G),F.push(G)}),F}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new J_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=We.fromPath(r);e.mutations.push(new _T(a,e.precondition(a)))}),yield(i=(0,ye.Z)(function*(r,a){const u=Qe(r),f=h0(u.serializer)+"/documents",_={writes:a.map(b=>f0(u.serializer,b))};yield u.co("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=St.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Te(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(St.min())?$.exists(!1):$.updateTime(t):$.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new Te(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $.updateTime(t)}return $.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class CV{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Vc=i.maxAttempts,this.Co=new ZT(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,ye.Z)(function*(){const t=new EV(e.datastore),i=e.Dc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Cc(a)}))}).catch(r=>{e.Cc(r)})}))}Dc(e){try{const t=this.updateFunction(e);return!Rp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Gk(t)}return!1}}class xV{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=nr.UNAUTHENTICATED,this.clientId=F_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ye.Z)(function*(f){Fe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=cy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Ox(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ye.Z)(function*(a){i.isEqual(a)||(yield BO(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),qA.apply(this,arguments)}function WA(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield YA(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>n1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>n1(e.remoteStore,a)),n._onlineComponents=e}),ZA.apply(this,arguments)}function _1(n){return"FirebaseError"===n.name?n.code===le.FAILED_PRECONDITION||n.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function YA(n){return KA.apply(this,arguments)}function KA(){return KA=(0,ye.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ox(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!_1(t))throw t;Vs("Error using user provided cache. Falling back to memory cache: "+t),yield Ox(n,new Rx)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),yield Ox(n,new Rx);return n._offlineComponents}),KA.apply(this,arguments)}function Fx(n){return QA.apply(this,arguments)}function QA(){return QA=(0,ye.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),yield WA(n,n._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield WA(n,new fy))),n._onlineComponents}),QA.apply(this,arguments)}function y1(n){return YA(n).then(e=>e.persistence)}function Px(n){return YA(n).then(e=>e.localStore)}function XA(n){return Fx(n).then(e=>e.remoteStore)}function JA(n){return Fx(n).then(e=>e.syncEngine)}function py(n){return eM.apply(this,arguments)}function eM(){return eM=(0,ye.Z)(function*(n){const e=yield Fx(n),t=e.eventManager;return t.onListen=iV.bind(null,e.syncEngine),t.onUnlisten=rV.bind(null,e.syncEngine),t}),eM.apply(this,arguments)}function b1(n,e,t={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,a,u,f,_){const b=new kx({next:M=>{a.enqueueAndForget(()=>gA(r,C));const F=M.docs.has(u);!F&&M.fromCache?_.reject(new Te(le.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&f&&"server"===f.source?_.reject(new Te(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),C=new vA(Bp(u.path),b,{includeMetadataChanges:!0,xu:!0});return pA(r,C)}(yield py(n),n.asyncQueue,e,t,i)})),i.promise}function w1(n,e,t={}){const i=new Ii;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,a,u,f,_){const b=new kx({next:M=>{a.enqueueAndForget(()=>gA(r,C)),M.fromCache&&"server"===f.source?_.reject(new Te(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),C=new vA(u,b,{includeMetadataChanges:!0,xu:!0});return pA(r,C)}(yield py(n),n.asyncQueue,e,t,i)})),i.promise}const E1=new Map;function tM(n,e,t){if(!t)throw new Te(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function C1(n,e,t,i){if(!0===e&&!0===i)throw new Te(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function x1(n){if(!We.isDocumentKey(n))throw new Te(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function D1(n){if(We.isDocumentKey(n))throw new Te(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Nx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nx(n);throw new Te(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function S1(n,e){if(e<=0)throw new Te(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class I1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,C1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class D0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ah;switch(t.type){case"firstParty":return new Ik(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Te(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=E1.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),E1.delete(e),t.terminate())}(this),Promise.resolve()}}class ii{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class Kr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Kr(this.firestore,e,this._query)}}class Pc extends Kr{constructor(e,t,i){super(e,t,Bp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new We(e))}withConverter(e){return new Pc(this.firestore,e,this._path)}}function A1(n,e,...t){if(n=(0,hn.m9)(n),tM("collection","path",e),n instanceof D0){const i=un.fromString(e,...t);return D1(i),new Pc(n,null,i)}{if(!(n instanceof ii||n instanceof Pc))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(un.fromString(e,...t));return D1(i),new Pc(n.firestore,null,i)}}function Lx(n,e,...t){if(n=(0,hn.m9)(n),1===arguments.length&&(e=F_.A()),tM("doc","path",e),n instanceof D0){const i=un.fromString(e,...t);return x1(i),new ii(n,null,new We(i))}{if(!(n instanceof ii||n instanceof Pc))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(un.fromString(e,...t));return x1(i),new ii(n.firestore,n instanceof Pc?n.converter:null,new We(i))}}function M1(n,e){return n=(0,hn.m9)(n),e=(0,hn.m9)(e),(n instanceof ii||n instanceof Pc)&&(e instanceof ii||e instanceof Pc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nM(n,e){return n=(0,hn.m9)(n),e=(0,hn.m9)(e),n instanceof Kr&&e instanceof Kr&&n.firestore===e.firestore&&Fh(n._query,e._query)&&n.converter===e.converter}class FV{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new ZT(this,"async_queue_retry"),this.qc=()=>{const t=Tx();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=Tx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=Tx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new Ii;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Tc(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(i=>{throw this.Mc=i,this.Fc=!1,hi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Fc=!1,i))));return this.Nc=t,t}enqueueAfterDelay(e,t,i){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const r=fA.createAndSchedule(this,e,t,i,a=>this.Qc(a));return this.$c.push(r),r}Uc(){this.Mc&&at()}verifyOperationInProgress(){}zc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function iM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class PV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ii,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ri extends D0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new FV,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||R1(this),this._firestoreClient.terminate()}}function ji(n){return n._firestoreClient||R1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function R1(n){var e,t,i;const r=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new JC(n._databaseId,f,n._persistenceKey,(b=r).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var f,b;n._firestoreClient=new xV(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function k1(n,e,t){const i=new Ii;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield Ox(n,t),yield WA(n,e),i.resolve()}catch(r){const a=r;if(!_1(a))throw a;Vs("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function O1(n){if(n._initialized||n._terminated)throw new Te(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nc(Ui.fromBase64String(e))}catch(t){throw new Te(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nc(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qp{constructor(e){this._methodName=e}}class Vx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const qV=/^__.*__$/;class WV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new mn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nt(e,this.data,t,this.fieldTransforms)}}class F1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new mn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function P1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class Bx{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Bx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.ea(e),r}na(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.Jc(),r}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return jx(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(P1(this.Yc)&&qV.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class ZV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||E0(e)}ua(e,t,i,r=!1){return new Bx({Yc:e,methodName:t,oa:i,path:zn.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xp(n){const e=n._freezeSettings(),t=E0(n._databaseId);return new ZV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ux(n,e,t,i,r,a={}){const u=n.ua(a.merge||a.mergeFields?2:0,e,t,r);aM("Data must be an object, but it was:",u,i);const f=V1(i,u);let _,b;if(a.merge)_=new mo(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const C=[];for(const M of a.mergeFields){const F=T0(e,M,t);if(!u.contains(F))throw new Te(le.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);U1(C,F)||C.push(F)}_=new mo(C),b=u.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=u.fieldTransforms;return new WV(new Ti(f),_,b)}class I0 extends Qp{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof I0}}function N1(n,e,t){return new Bx({Yc:3,oa:e.settings.oa,methodName:n._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rM extends Qp{_toFieldTransform(e){return new T(e.path,new s)}isEqual(e){return e instanceof rM}}class YV extends Qp{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=N1(this,e,!0),i=this.ca.map(a=>Jp(a,t)),r=new c(i);return new T(e.path,r)}isEqual(e){return this===e}}class KV extends Qp{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=N1(this,e,!0),i=this.ca.map(a=>Jp(a,t)),r=new h(i);return new T(e.path,r)}isEqual(e){return this===e}}class QV extends Qp{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new v(e.serializer,mT(e.serializer,this.aa));return new T(e.path,t)}isEqual(e){return this===e}}function oM(n,e,t,i){const r=n.ua(1,e,t);aM("Data must be an object, but it was:",r,i);const a=[],u=Ti.empty();Rh(i,(_,b)=>{const C=Hx(e,_,t);b=(0,hn.m9)(b);const M=r.na(C);if(b instanceof I0)a.push(C);else{const F=Jp(b,M);null!=F&&(a.push(C),u.set(C,F))}});const f=new mo(a);return new F1(u,f,r.fieldTransforms)}function sM(n,e,t,i,r,a){const u=n.ua(1,e,t),f=[T0(e,i,t)],_=[r];if(a.length%2!=0)throw new Te(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)f.push(T0(e,a[F])),_.push(a[F+1]);const b=[],C=Ti.empty();for(let F=f.length-1;F>=0;--F)if(!U1(b,f[F])){const B=f[F];let G=_[F];G=(0,hn.m9)(G);const X=u.na(B);if(G instanceof I0)b.push(B);else{const ce=Jp(G,X);null!=ce&&(b.push(B),C.set(B,ce))}}const M=new mo(b);return new F1(C,M,u.fieldTransforms)}function L1(n,e,t,i=!1){return Jp(t,n.ua(i?4:3,e))}function Jp(n,e){if(B1(n=(0,hn.m9)(n)))return aM("Unsupported field value:",e,n),V1(n,e);if(n instanceof Qp)return function(t,i){if(!P1(i.Yc))throw i.ia(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ia(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=Jp(u,i.sa(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,hn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return mT(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Zn.fromDate(t);return{timestampValue:ey(i.serializer,r)}}if(t instanceof Zn){const r=new Zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ey(i.serializer,r)}}if(t instanceof Vx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nc)return{bytesValue:Xk(i.serializer,t._byteString)};if(t instanceof ii){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ia(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:CT(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ia(`Unsupported field value: ${Nx(t)}`)}(n,e)}function V1(n,e){const t={};return QC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rh(n,(i,r)=>{const a=Jp(r,e.Xc(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function B1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Zn||n instanceof Vx||n instanceof Nc||n instanceof ii||n instanceof Qp)}function aM(n,e,t){if(!B1(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Nx(t);throw e.ia("an object"===i?n+" a custom object":n+" "+i)}var i}function T0(n,e,t){if((e=(0,hn.m9)(e))instanceof sd)return e._internalPath;if("string"==typeof e)return Hx(n,e);throw jx("Field path arguments must be of type string or ",n,!1,void 0,t)}const XV=new RegExp("[~\\*/\\[\\]]");function Hx(n,e,t){if(e.search(XV)>=0)throw jx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sd(...e.split("."))._internalPath}catch{throw jx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jx(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Te(le.INVALID_ARGUMENT,f+n+_)}function U1(n,e){return n.some(t=>t.isEqual(e))}class A0{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new JV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class JV extends A0{data(){return super.data()}}function zx(n,e){return"string"==typeof e?Hx(n,e):e instanceof sd?e._internalPath:e._delegate._internalPath}function H1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Te(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lM{}class M0 extends lM{}function Hh(n,e,...t){let i=[];e instanceof lM&&i.push(e),i=i.concat(t),function(r){const a=r.filter(f=>f instanceof my).length,u=r.filter(f=>f instanceof R0).length;if(a>1||a>0&&u>0)throw new Te(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class R0 extends M0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new R0(e,t,i)}_apply(e){const t=this._parse(e);return G1(e._query,t),new Kr(e.firestore,e.converter,n0(e._query,t))}_parse(e){const t=Xp(e.firestore);return function(r,a,u,f,_,b,C){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Te(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){$1(C,b);const F=[];for(const B of C)F.push(z1(f,r,B));M={arrayValue:{values:F}}}else M=z1(f,r,C)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||$1(C,b),M=L1(u,"where",C,"in"===b||"not-in"===b);return ln.create(_,b,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class my extends lM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new my(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:En.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const u=r.getFlattenedFilters();for(const f of u)G1(a,f),a=n0(a,f)}(e._query,t),new Kr(e.firestore,e.converter,n0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class cM extends M0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cM(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Te(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Te(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new xl(r,a);return function(f,_){if(null===cx(f)){const b=Up(f);null!==b&&q1(0,b,_.field)}}(i,u),u}(e._query,this._field,this._direction);return new Kr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new cs(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class $x extends M0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new $x(e,t,i)}_apply(e){return new Kr(e.firestore,e.converter,Hp(e._query,this._limit,this._limitType))}}class Gx extends M0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Gx(e,t,i)}_apply(e){const t=j1(e,this.type,this._docOrFields,this._inclusive);return new Kr(e.firestore,e.converter,(r=t,new cs((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class qx extends M0{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new qx(e,t,i)}_apply(e){const t=j1(e,this.type,this._docOrFields,this._inclusive);return new Kr(e.firestore,e.converter,(r=t,new cs((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function j1(n,e,t,i){if(t[0]=(0,hn.m9)(t[0]),t[0]instanceof A0)return function(r,a,u,f,_){if(!f)throw new Te(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const C of id(r))if(C.field.isKeyField())b.push(td(a,f.key));else{const M=f.data.field(C.field);if(z_(M))throw new Te(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=C.field.canonicalString();throw new Te(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(M)}return new Cl(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Xp(n.firestore);return function(a,u,f,_,b,C){const M=a.explicitOrderBy;if(b.length>M.length)throw new Te(le.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<b.length;B++){const G=b[B];if(M[B].field.isKeyField()){if("string"!=typeof G)throw new Te(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof G}`);if(!t0(a)&&-1!==G.indexOf("/"))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${G}' contains a slash.`);const X=a.path.child(un.fromString(G));if(!We.isDocumentKey(X))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${X}' is not because it contains an odd number of segments.`);const ce=new We(X);F.push(td(u,ce))}else{const X=L1(f,_,G);F.push(X)}}return new Cl(F,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function z1(n,e,t){if("string"==typeof(t=(0,hn.m9)(t))){if(""===t)throw new Te(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t0(e)&&-1!==t.indexOf("/"))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(un.fromString(t));if(!We.isDocumentKey(i))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return td(n,new We(i))}if(t instanceof ii)return td(n,t._key);throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nx(t)}.`)}function $1(n,e){if(!Array.isArray(n)||0===n.length)throw new Te(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G1(n,e){if(e.isInequality()){const i=Up(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Te(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=cx(n);null!==a&&q1(0,r,a)}const t=function(i,r){for(const a of i)for(const u of a.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Te(le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function q1(n,e,t){if(!t.isEqual(e))throw new Te(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class uM{convertValue(e,t="none"){switch(ed(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const i={};return Rh(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new Vx(fi(e.latitude),fi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=qb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fp(e));default:return null}}convertTimestamp(e){const t=Mc(e);return new Zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=un.fromString(e);Ct(lO(i));const r=new El(i.get(1),i.get(3)),a=new We(i.popFirst(5));return r.isEqual(t)||hi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Wx(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class lB extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,t)}}class em{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ad extends A0{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new k0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(zx("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class k0 extends ad{data(e={}){return super.data(e)}}class jh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new em(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new k0(this._firestore,this._userDataWriter,i.key,i,new em(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new k0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new em(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new k0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new em(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:uB(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function Z1(n,e){return n instanceof ad&&e instanceof ad?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof jh&&e instanceof jh&&n._firestore===e._firestore&&nM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class zh extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,t)}}function Y1(n,e,t){n=fn(n,ii);const i=fn(n.firestore,ri),r=Wx(n.converter,e,t);return gy(i,[Ux(Xp(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,$.none())])}function K1(n,e,t,...i){n=fn(n,ii);const r=fn(n.firestore,ri),a=Xp(r);let u;return u="string"==typeof(e=(0,hn.m9)(e))||e instanceof sd?sM(a,"updateDoc",n._key,e,t,i):oM(a,"updateDoc",n._key,e),gy(r,[u.toMutation(n._key,$.exists(!0))])}function Q1(n,...e){var t,i,r;n=(0,hn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||iM(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(iM(e[u])){const M=e[u];e[u]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[u+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),e[u+2]=null===(r=M.complete)||void 0===r?void 0:r.bind(M)}let _,b,C;if(n instanceof ii)b=fn(n.firestore,ri),C=Bp(n._key.path),_={next:M=>{e[u]&&e[u](dM(b,n,M))},error:e[u+1],complete:e[u+2]};else{const M=fn(n,Kr);b=fn(M.firestore,ri),C=M._query;const F=new zh(b);_={next:B=>{e[u]&&e[u](new jh(b,F,M,B))},error:e[u+1],complete:e[u+2]},H1(n._query)}return function(M,F,B,G){const X=new kx(G),ce=new vA(F,X,B);return M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return pA(yield py(M),ce)})),()=>{X.yc(),M.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return gA(yield py(M),ce)}))}}(ji(b),C,f,_)}function gy(n,e){return function(t,i){const r=new Ii;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function oV(n,e,t){return xA.apply(this,arguments)}(yield JA(t),i,r)})),r.promise}(ji(n),e)}function dM(n,e,t){const i=t.docs.get(e._key),r=new zh(n);return new ad(n,r,e._key,i,new em(t.hasPendingWrites,t.fromCache),e.converter)}const SB={maxAttempts:5};class X1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xp(e)}set(e,t,i){this._verifyNotCommitted();const r=$h(e,this._firestore),a=Wx(r.converter,t,i),u=Ux(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,$.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=$h(e,this._firestore);let u;return u="string"==typeof(t=(0,hn.m9)(t))||t instanceof sd?sM(this._dataReader,"WriteBatch.update",a._key,t,i,r):oM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,$.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$h(e,this._firestore);return this._mutations=this._mutations.concat(new J_(t._key,$.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $h(n,e){if((n=(0,hn.m9)(n)).firestore!==e)throw new Te(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class IB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xp(e)}get(e){const t=$h(e,this._firestore),i=new lB(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return at();const a=r[0];if(a.isFoundDocument())return new A0(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new A0(this._firestore,i,t._key,null,t.converter);throw at()})}set(e,t,i){const r=$h(e,this._firestore),a=Wx(r.converter,t,i),u=Ux(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=$h(e,this._firestore);let u;return u="string"==typeof(t=(0,hn.m9)(t))||t instanceof sd?sM(this._dataReader,"Transaction.update",a._key,t,i,r):oM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=$h(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$h(e,this._firestore),i=new zh(this._firestore);return super.get(e).then(r=>new ad(this._firestore,i,t._key,r._document,new em(!1,!1),t.converter))}}!function(n,e=!0){Th=Hu.SDK_VERSION,(0,Hu._registerComponent)(new Hg.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),u=new ri(new jI(t.getProvider("auth-internal")),new Vb(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Te(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(f.options.projectId,_)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Hu.registerVersion)(R_,"3.10.0",n),(0,Hu.registerVersion)(R_,"3.10.0","esm2017")}();function hM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function eF(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function tF(){if(!function as(){return typeof atob<"u"}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}class O0{constructor(e){this._delegate=e}static fromBase64String(e){return tF(),new O0(Nc.fromBase64String(e))}static fromUint8Array(e){return eF(),new O0(Nc.fromUint8Array(e))}toBase64(){return tF(),this._delegate.toBase64()}toUint8Array(){return eF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fM(n){return function NB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class LB{enableIndexedDbPersistence(e,t){return function LV(n,e){O1(n=fn(n,ri));const t=ji(n);if(t._uninitializedComponentsProvider)throw new Te(le.FAILED_PRECONDITION,"SDK cache is already specified.");Vs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new fy;return k1(t,r,new GA(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function VV(n){O1(n=fn(n,ri));const e=ji(n);if(e._uninitializedComponentsProvider)throw new Te(le.FAILED_PRECONDITION,"SDK cache is already specified.");Vs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new fy;return k1(e,i,new m1(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function BV(n){if(n._initialized&&!n._terminated)throw new Te(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ii;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(i){if(!ss.D())return Promise.resolve();const r=i+"main";yield ss.delete(r)}),function(i){return t.apply(this,arguments)})(LT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class nF{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof El||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Vs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function T1(n,e,t,i={}){var r;const a=(n=fn(n,D0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Vs("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=nr.MOCK_USER;else{u=(0,hn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Te(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new nr(_)}n._authCredentials=new HI(new Vr(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function HV(n){return function DV(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield y1(n),t=yield XA(n);return e.setNetworkEnabled(!0),function(i){const r=Qe(i);return r.du.delete(0),C0(r)}(t)}))}(ji(n=fn(n,ri)))}(this._delegate)}disableNetwork(){return function jV(n){return function SV(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield y1(n),t=yield XA(n);return e.setNetworkEnabled(!1),(i=(0,ye.Z)(function*(r){const a=Qe(r);a.du.add(0),yield sy(a),a.mu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(ji(n=fn(n,ri)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,C1("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function UV(n){return function(e){const t=new Ii;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function cV(n,e){return AA.apply(this,arguments)}(yield JA(e),t)})),t.promise}(ji(n=fn(n,ri)))}(this._delegate)}onSnapshotsInSync(e){return function vB(n,e){return function AV(n,e){const t=new kx(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield py(n),r=t,Qe(i).Au.add(r),void r.next();var i,r})),()=>{t.yc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield py(n),r=t,void Qe(i).Au.delete(r);var i,r}))}}(ji(n=fn(n,ri)),iM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _y(this,A1(this._delegate,e))}catch(t){throw Uo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Aa(this,Lx(this._delegate,e))}catch(t){throw Uo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ho(this,function OV(n,e){if(n=fn(n,D0),tM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Te(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kr(n,null,(t=e,new cs(un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Uo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function TB(n,e,t){n=fn(n,ri);const i=Object.assign(Object.assign({},SB),t);return function(r){if(r.maxAttempts<1)throw new Te(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,u){const f=new Ii;return r.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const _=yield function v1(n){return Fx(n).then(e=>e.datastore)}(r);new CV(r.asyncQueue,_,u,a,f).run()})),f.promise}(ji(n),r=>e(new IB(n,r)),i)}(this._delegate,t=>e(new iF(this,t)))}batch(){return ji(this._delegate),new rF(new X1(this._delegate,e=>gy(this._delegate,e)))}loadBundle(e){return function zV(n,e){const t=ji(n=fn(n,ri)),i=new PV;return function MV(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return g1(_,b);if(_ instanceof ArrayBuffer)return g1(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new wV(_,u);var _}(t,E0(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function bV(n,e,t){const i=Qe(n);var r;(r=(0,ye.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(F,B){const G=Qe(F),X=Hi(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",ce=>G.xs.getBundleMetadata(ce,B.id)).then(ce=>!!ce&&ce.createTime.compareTo(X)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(s1(_));const b=new J2(_,a.localStore,u.serializer);let C=yield u._c();for(;C;){const F=yield b.$u(C);F&&f._updateProgress(F),C=yield u._c()}const M=yield b.complete();return yield od(a,M.Bu,void 0),yield function(F,B){const G=Qe(F);return G.persistence.runTransaction("Save bundle","readwrite",X=>G.xs.saveBundleMetadata(X,B))}(a.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Fu)}catch(_){return Vs("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var F}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield JA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function $V(n,e){return function RV(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,i){const r=Qe(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.xs.getNamedQuery(a,i))}(yield Px(n),e)}))}(ji(n=fn(n,ri)),e).then(t=>t?new Kr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ho(this,t):null)}}class Zx extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new O0(new Nc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Aa.forKey(t,this.firestore,null)}}class iF{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Zx(e)}get(e){const t=nm(e);return this._delegate.get(t).then(i=>new F0(this._firestore,new ad(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=nm(e);return i?(hM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=nm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=nm(e);return this._delegate.delete(t),this}}class rF{constructor(e){this._delegate=e}set(e,t,i){const r=nm(e);return i?(hM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=nm(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=nm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class tm{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new k0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new P0(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=tm.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new tm(e,new Zx(e),t),r.set(t,a)),a}}tm.INSTANCES=new WeakMap;class Aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zx(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Aa(t,new ii(t._delegate,i,new We(e)))}static forKey(e,t,i){return new Aa(t,new ii(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new _y(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _y(this.firestore,A1(this._delegate,e))}catch(t){throw Uo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,hn.m9)(e))instanceof ii&&M1(this._delegate,e)}set(e,t){t=hM("DocumentReference.set",t);try{return t?Y1(this._delegate,e,t):Y1(this._delegate,e)}catch(i){throw Uo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?K1(this._delegate,e):K1(this._delegate,e,t,...i)}catch(r){throw Uo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function _B(n){return gy(fn(n.firestore,ri),[new J_(n._key,$.none())])}(this._delegate)}onSnapshot(...e){const t=oF(e),i=sF(e,r=>new F0(this.firestore,new ad(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Q1(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function hB(n){n=fn(n,ii);const e=fn(n.firestore,ri),t=ji(e),i=new zh(e);return function IV(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,a,u){try{const f=yield function(_,b){const C=Qe(_);return C.persistence.runTransaction("read document","readonly",M=>C.localDocuments.getDocument(M,b))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Te(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=cy(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield Px(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ad(e,i,n._key,r,new em(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function fB(n){n=fn(n,ii);const e=fn(n.firestore,ri);return b1(ji(e),n._key,{source:"server"}).then(t=>dM(e,n,t))}(this._delegate):function dB(n){n=fn(n,ii);const e=fn(n.firestore,ri);return b1(ji(e),n._key).then(t=>dM(e,n,t))}(this._delegate),t.then(i=>new F0(this.firestore,new ad(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Aa(this.firestore,this._delegate.withConverter(e?tm.getInstance(this.firestore,e):null))}}function Uo(n,e,t){return n.message=n.message.replace(e,t),n}function oF(n){for(const e of n)if("object"==typeof e&&!fM(e))return e;return{}}function sF(n,e){var t,i;let r;return r=fM(n[0])?n[0]:fM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class F0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Z1(this._delegate,e._delegate)}}class P0 extends F0{data(e){const t=this._delegate.data(e);return function PC(n,e){n||at()}(void 0!==t),t}}class Ho{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Zx(e)}where(e,t,i){try{return new Ho(this.firestore,Hh(this._delegate,function eB(n,e,t){const i=e,r=zx("where",n);return R0._create(r,i,t)}(e,t,i)))}catch(r){throw Uo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ho(this.firestore,Hh(this._delegate,function tB(n,e="asc"){const t=e,i=zx("orderBy",n);return cM._create(i,t)}(e,t)))}catch(i){throw Uo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ho(this.firestore,Hh(this._delegate,function nB(n){return S1("limit",n),$x._create("limit",n,"F")}(e)))}catch(t){throw Uo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ho(this.firestore,Hh(this._delegate,function iB(n){return S1("limitToLast",n),$x._create("limitToLast",n,"L")}(e)))}catch(t){throw Uo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ho(this.firestore,Hh(this._delegate,function rB(...n){return Gx._create("startAt",n,!0)}(...e)))}catch(t){throw Uo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ho(this.firestore,Hh(this._delegate,function oB(...n){return Gx._create("startAfter",n,!1)}(...e)))}catch(t){throw Uo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ho(this.firestore,Hh(this._delegate,function sB(...n){return qx._create("endBefore",n,!1)}(...e)))}catch(t){throw Uo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ho(this.firestore,Hh(this._delegate,function aB(...n){return qx._create("endAt",n,!0)}(...e)))}catch(t){throw Uo(t,"endAt()","Query.endAt()")}}isEqual(e){return nM(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function mB(n){n=fn(n,Kr);const e=fn(n.firestore,ri),t=ji(e),i=new zh(e);return function TV(n,e){const t=new Ii;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,a,u){try{const f=yield xx(r,a,!0),_=new c1(a,f.Wi),b=_.zu(f.documents),C=_.applyChanges(b,!1);u.resolve(C.snapshot)}catch(f){const _=cy(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield Px(n),e,t);var i})),t.promise}(t,n._query).then(r=>new jh(e,i,n,r))}(this._delegate):"server"===e?.source?function gB(n){n=fn(n,Kr);const e=fn(n.firestore,ri),t=ji(e),i=new zh(e);return w1(t,n._query,{source:"server"}).then(r=>new jh(e,i,n,r))}(this._delegate):function pB(n){n=fn(n,Kr);const e=fn(n.firestore,ri),t=ji(e),i=new zh(e);return H1(n._query),w1(t,n._query).then(r=>new jh(e,i,n,r))}(this._delegate),t.then(i=>new pM(this.firestore,new jh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=oF(e),i=sF(e,r=>new pM(this.firestore,new jh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Q1(this._delegate,t,i)}withConverter(e){return new Ho(this.firestore,this._delegate.withConverter(e?tm.getInstance(this.firestore,e):null))}}class BB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new P0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class pM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ho(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new P0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new BB(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new P0(this._firestore,i))})}isEqual(e){return Z1(this._delegate,e._delegate)}}class _y extends Ho{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Aa(this.firestore,e):null}doc(e){try{return new Aa(this.firestore,void 0===e?Lx(this._delegate):Lx(this._delegate,e))}catch(t){throw Uo(t,"doc()","CollectionReference.doc()")}}add(e){return function yB(n,e){const t=fn(n.firestore,ri),i=Lx(n),r=Wx(n.converter,e);return gy(t,[Ux(Xp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,$.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Aa(this.firestore,t))}isEqual(e){return M1(this._delegate,e._delegate)}withConverter(e){return new _y(this.firestore,this._delegate.withConverter(e?tm.getInstance(this.firestore,e):null))}}function nm(n){return fn(n,ii)}class mM{constructor(...e){this._delegate=new sd(...e)}static documentId(){return new mM(zn.keyField().canonicalString())}isEqual(e){return(e=(0,hn.m9)(e))instanceof sd&&this._delegate._internalPath.isEqual(e._internalPath)}}class im{constructor(e){this._delegate=e}static serverTimestamp(){const e=function MB(){return new rM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new im(e)}static delete(){const e=function AB(){return new I0("deleteField")}();return e._methodName="FieldValue.delete",new im(e)}static arrayUnion(...e){const t=function RB(...n){return new YV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new im(t)}static arrayRemove(...e){const t=function kB(...n){return new KV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new im(t)}static increment(e){const t=function OB(n){return new QV("increment",n)}(e);return t._methodName="FieldValue.increment",new im(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const UB={Firestore:nF,GeoPoint:Vx,Timestamp:Zn,Blob:O0,Transaction:iF,WriteBatch:rF,DocumentReference:Aa,DocumentSnapshot:F0,Query:Ho,QueryDocumentSnapshot:P0,QuerySnapshot:pM,CollectionReference:_y,FieldPath:mM,FieldValue:im,setLogLevel:function VB(n){!function FC(n){Sc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function jB(n){(function HB(n,e){n.INTERNAL.registerComponent(new Hg.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},UB)))})(n,(e,t)=>new nF(e,t,new LB)),n.registerVersion("@firebase/firestore-compat","0.3.6")}(PE.Z);var rm=P(6451),Yx=P(5363),zB=P(6063);class $B extends Xt.x{constructor(e=1/0,t=1/0,i=zB.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var aF=P(3099);function lF(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,aF.B)({connector:()=>new $B(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function cF(n,e){return(0,Ki.m)(e)?ei(()=>n,e):ei(()=>n)}var gM=P(9468);P(259);const yM=new Map,dF={activated:!1,tokenObservers:[]},YB={initialized:!1,enabled:!1};function Qr(n){return yM.get(n)||Object.assign({},dF)}function Qx(){return YB}const vM="https://content-firebaseappcheck.googleapis.com/v1",JB="exchangeDebugToken",hF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class tU{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new hn.BH,yield function nU(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new hn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const jo=new hn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function EM(){return EM=(0,ye.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const M=yield r.getHeartbeatsHeader();M&&(i["X-Firebase-Client"]=M)}const a={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,a)}catch(M){throw jo.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==u.status)throw jo.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(M){throw jo.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw jo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+b,issuedAtTimeMillis:C}}),EM.apply(this,arguments)}const aU="firebase-app-check-database",lU=1,N0="firebase-app-check-store";let eD=null;function CM(){return CM=(0,ye.Z)(function*(n,e){const i=(yield function mF(){return eD||(eD=new Promise((n,e)=>{try{const t=indexedDB.open(aU,lU);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(jo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(N0,{keyPath:"compositeKey"})}}catch(t){e(jo.create("storage-open",{originalErrorMessage:t?.message}))}}),eD)}()).transaction(N0,"readwrite"),a=i.objectStore(N0).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var b;f(jo.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),CM.apply(this,arguments)}const L0=new Ec.Yd("@firebase/app-check");function SM(n,e){return(0,hn.hl)()?function uU(n,e){return function gF(n,e){return CM.apply(this,arguments)}(function yF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{L0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function TM(){return TM=(0,ye.Z)(function*(){const n=Qx();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),TM.apply(this,arguments)}const gU={error:"UNKNOWN_ERROR"};function _U(n){return hn.US.encodeString(JSON.stringify(n),!1)}function tD(n){return AM.apply(this,arguments)}function AM(){return AM=(0,ye.Z)(function*(n,e=!1){const t=n.app;!function fF(n){if(!Qr(n).activated)throw jo.create("use-before-activation",{appName:n.name})}(t);const i=Qr(t);let a,r=i.token;if(r&&!yy(r)&&(i.token=void 0,r=void 0),!r){const _=yield i.cachedTokenPromise;_&&(yy(_)?r=_:yield SM(t,void 0))}if(!e&&r&&yy(r))return{token:r.token};let f,u=!1;if(function vF(){return Qx().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function wM(n,e){return EM.apply(this,arguments)}(function sU(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${vM}/projects/${t}/apps/${i}:${JB}?key=${r}`,body:{debug_token:e}}}(t,yield function bF(){return TM.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const _=yield i.exchangeTokenPromise;return yield SM(t,_),i.token=_,{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield Qr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?L0.warn(_.message):L0.error(_),a=_}return r?a?f=yy(r)?{token:r.token,internalError:a}:CF(a):(f={token:r.token},i.token=r,yield SM(t,r)):f=CF(a),u&&function EF(n,e){const t=Qr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,f),f}),AM.apply(this,arguments)}function RM(n,e){const t=Qr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function wF(n){const{app:e}=n,t=Qr(e);let i=t.tokenRefresher;i||(i=function yU(n){const{app:e}=n;return new tU((0,ye.Z)(function*(){let i;if(i=Qr(e).token?yield tD(n,!0):yield tD(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Qr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},hF.RETRIAL_MIN_WAIT,hF.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function yy(n){return n.expireTimeMillis-Date.now()>0}function CF(n){return{token:_U(gU),error:n}}class vU{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Qr(this.app);for(const t of e)RM(this.app,t.next);return Promise.resolve()}}const RF="app-check-internal";!function OU(){(0,Hu._registerComponent)(new Hg.wA("app-check",n=>function bU(n,e){return new vU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(RF).initialize()})),(0,Hu._registerComponent)(new Hg.wA(RF,n=>function wU(n){return{getToken:e=>tD(n,e),addTokenListener:e=>function MM(n,e,t,i){const{app:r}=n,a=Qr(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&yy(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),wF(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>wF(n))}(n,"INTERNAL",e),removeTokenListener:e=>RM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Hu.registerVersion)("@firebase/app-check","0.6.4")}();class PM{constructor(){return(0,Ji.vb)("app-check")}}typeof window<"u"&&window;var LM=P(9260);const OF=new l.OlP("angularfire2.auth.use-emulator"),FF=new l.OlP("angularfire2.auth.settings"),PF=new l.OlP("angularfire2.auth.tenant-id"),NF=new l.OlP("angularfire2.auth.langugage-code"),LF=new l.OlP("angularfire2.auth.use-device-language"),VF=new l.OlP("angularfire.auth.persistence"),BF=(n,e,t,i,r,a,u,f)=>(0,Ci.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[b,C]of Object.entries(u))_.settings[b]=C;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let iD=(()=>{class n{constructor(t,i,r,a,u,f,_,b,C,M,F,B){const G=new Xt.x,X=Ke(void 0).pipe((0,Yx.Q)(u.outsideAngular),ei(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9800)))),(0,pt.U)(()=>(0,Ci.on)(t,a,i)),(0,pt.U)(ce=>BF(ce,a,f,b,C,M,_,F)),lF({bufferSize:1,refCount:!1}));if(Fl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ke(null);else{X.pipe(kr()).subscribe();const Ne=X.pipe(ei(xt=>xt.getRedirectResult().then(qt=>qt,()=>null)),Ji.iC,lF({bufferSize:1,refCount:!1})),ht=X.pipe(ei(xt=>new In.y(qt=>({unsubscribe:a.runOutsideAngular(()=>xt.onAuthStateChanged(Yt=>qt.next(Yt),Yt=>qt.error(Yt),()=>qt.complete()))})))),ft=X.pipe(ei(xt=>new In.y(qt=>({unsubscribe:a.runOutsideAngular(()=>xt.onIdTokenChanged(Yt=>qt.next(Yt),Yt=>qt.error(Yt),()=>qt.complete()))}))));this.authState=Ne.pipe(cF(ht),(0,gM.R)(u.outsideAngular),(0,Yx.Q)(u.insideAngular)),this.user=Ne.pipe(cF(ft),(0,gM.R)(u.outsideAngular),(0,Yx.Q)(u.insideAngular)),this.idToken=this.user.pipe(ei(xt=>xt?(0,Qt.D)(xt.getIdToken()):Ke(null))),this.idTokenResult=this.user.pipe(ei(xt=>xt?(0,Qt.D)(xt.getIdTokenResult()):Ke(null))),this.credential=(0,rm.T)(Ne,G,this.authState.pipe(vi(xt=>!xt))).pipe((0,pt.U)(xt=>xt?.user?xt:null),(0,gM.R)(u.outsideAngular),(0,Yx.Q)(u.insideAngular))}return(0,Ci.pX)(this,X,a,{spy:{apply:(ce,Ne,ht)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&ht.then(ft=>G.next(ft))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ci.Dh),l.LFG(Ci.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ji.HU),l.LFG(OF,8),l.LFG(FF,8),l.LFG(PF,8),l.LFG(NF,8),l.LFG(LF,8),l.LFG(VF,8),l.LFG(PM,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BU=(()=>{class n{constructor(){LM.Z.registerVersion("angularfire",Ji.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[iD]}),n})();function UF(n,e){return function UU(n,e=fo.z){return new In.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function VM(n,e){return UF(n,e).pipe((0,pt.U)(t=>({payload:t,type:"query"})))}function rD(n,e){return VM(n,e).pipe(ec(void 0),Yv(),(0,pt.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(C=>C.doc.ref.isEqual(u.ref)),b=t?.payload.docs.find(C=>C.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function HF(n,e,t){return rD(n,t).pipe(jd((i,r)=>function jU(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function zU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return BM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return BM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return BM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),Ps(),(0,pt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function BM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function jF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class zF{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=rD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(ec(void 0),Yv(),vi(([i,r])=>r.length>0||!i),(0,pt.U)(([i,r])=>r),Ji.iC)}auditTrail(e){return this.stateChanges(e).pipe(jd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=jF(e);return HF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(e={}){return VM(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Ji.iC)}get(e){return(0,Qt.D)(this.query.get(e)).pipe(Ji.iC)}add(e){return this.ref.add(e)}doc(e){return new $F(this.ref.doc(e),this.afs)}}class $F{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=WF(i,t);return new zF(r,a,this.afs)}snapshotChanges(){return function HU(n,e){return UF(n,e).pipe(ec(void 0),Yv(),(0,pt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Qt.D)(this.ref.get(e)).pipe(Ji.iC)}}class $U{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?rD(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),vi(t=>t.length>0),Ji.iC):rD(this.query,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}auditTrail(e){return this.stateChanges(e).pipe(jd((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=jF(e);return HF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(e={}){return VM(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Ji.iC)}get(e){return(0,Qt.D)(this.query.get(e)).pipe(Ji.iC)}}const GF=new l.OlP("angularfire2.enableFirestorePersistence"),qF=new l.OlP("angularfire2.firestore.persistenceSettings"),GU=new l.OlP("angularfire2.firestore.settings"),qU=new l.OlP("angularfire2.firestore.use-emulator");function WF(n,e=(t=>t)){return{query:e(n),ref:n}}let UM=(()=>{class n{constructor(t,i,r,a,u,f,_,b,C,M,F,B,G,X,ce,Ne,ht){this.schedulers=_;const ft=(0,Ci.on)(t,f,i),xt=C;M&&BF(ft,f,F,G,X,ce,B,Ne),[this.firestore,this.persistenceEnabled$]=(0,Ci.cc)(`${ft.name}.firestore`,"AngularFirestore",ft.name,()=>{const qt=f.runOutsideAngular(()=>ft.firestore());if(a&&qt.settings(a),xt&&qt.useEmulator(...xt),r&&!Fl(u)){const Yt=()=>{try{return(0,Qt.D)(qt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Cn){return typeof console<"u"&&console.warn(Cn),Ke(!1)}};return[qt,f.runOutsideAngular(Yt)]}return[qt,Ke(!1)]},[a,xt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=WF(r,i),f=this.schedulers.ngZone.run(()=>a);return new zF(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new $U(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new $F(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ci.Dh),l.LFG(Ci.xv,8),l.LFG(GF,8),l.LFG(GU,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ji.HU),l.LFG(qF,8),l.LFG(qU,8),l.LFG(iD,8),l.LFG(OF,8),l.LFG(FF,8),l.LFG(PF,8),l.LFG(NF,8),l.LFG(LF,8),l.LFG(VF,8),l.LFG(PM,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),WU=(()=>{class n{constructor(){LM.Z.registerVersion("angularfire",Ji.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:GF,useValue:!0},{provide:qF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[UM]}),n})();class oD{}class HM{}class ld{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ld?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ld;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ld?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ZU{encodeKey(e){return ZF(e)}encodeValue(e){return ZF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const KU=/%(\d[a-f0-9])/gi,QU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZF(n){return encodeURIComponent(n).replace(KU,(e,t)=>QU[t]??e)}function sD(n){return`${n}`}class Gh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ZU,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YU(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(sD):[sD(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Gh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(sD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(sD(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class XU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function YF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function KF(n){return typeof Blob<"u"&&n instanceof Blob}function QF(n){return typeof FormData<"u"&&n instanceof FormData}class V0{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function JU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new ld),this.context||(this.context=new XU),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Gh,this.urlWithParams=t}serializeBody(){return null===this.body?null:YF(this.body)||KF(this.body)||QF(this.body)||function eH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||QF(this.body)?null:KF(this.body)?this.body.type||null:YF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,F)=>M.set(F,e.setHeaders[F]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((M,F)=>M.set(F,e.setParams[F]),b)),new V0(t,i,a,{params:b,headers:_,context:C,reportProgress:f,responseType:r,withCredentials:u})}}var or=(()=>((or=or||{})[or.Sent=0]="Sent",or[or.UploadProgress=1]="UploadProgress",or[or.ResponseHeader=2]="ResponseHeader",or[or.DownloadProgress=3]="DownloadProgress",or[or.Response=4]="Response",or[or.User=5]="User",or))();class jM{constructor(e,t=200,i="OK"){this.headers=e.headers||new ld,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class zM extends jM{constructor(e={}){super(e),this.type=or.ResponseHeader}clone(e={}){return new zM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class aD extends jM{constructor(e={}){super(e),this.type=or.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new aD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class XF extends jM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function $M(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let lD=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof V0)a=t;else{let _,b;_=r.headers instanceof ld?r.headers:new ld(r.headers),r.params&&(b=r.params instanceof Gh?r.params:new Gh({fromObject:r.params})),a=new V0(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Ke(a).pipe(tl(_=>this.handler.handle(_)));if(t instanceof V0||"events"===r.observe)return u;const f=u.pipe(vi(_=>_ instanceof aD));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,pt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,pt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,pt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,pt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Gh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,$M(r,i))}post(t,i,r={}){return this.request("POST",t,$M(r,i))}put(t,i,r={}){return this.request("PUT",t,$M(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oD))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function JF(n,e){return e(n)}function tH(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const iH=new l.OlP("HTTP_INTERCEPTORS"),B0=new l.OlP("HTTP_INTERCEPTOR_FNS");function rH(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(iH,{optional:!0})??[]).reduceRight(tH,JF)),n(e,t))}let eP=(()=>{class n extends oD{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(B0)));this.chain=i.reduceRight((r,a)=>function nH(n,e,t){return(i,r)=>t.runInContext(()=>e(i,a=>n(a,r)))}(r,a,this.injector),JF)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(HM),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const lH=/^\)\]\}',?\n/;let nP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new In.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((B,G)=>r.setRequestHeader(B,G.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const a=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const B=r.statusText||"OK",G=new ld(r.getAllResponseHeaders()),X=function cH(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new zM({headers:G,status:r.status,statusText:B,url:X}),u},_=()=>{let{headers:B,status:G,statusText:X,url:ce}=f(),Ne=null;204!==G&&(Ne=typeof r.response>"u"?r.responseText:r.response),0===G&&(G=Ne?200:0);let ht=G>=200&&G<300;if("json"===t.responseType&&"string"==typeof Ne){const ft=Ne;Ne=Ne.replace(lH,"");try{Ne=""!==Ne?JSON.parse(Ne):null}catch(xt){Ne=ft,ht&&(ht=!1,Ne={error:xt,text:Ne})}}ht?(i.next(new aD({body:Ne,headers:B,status:G,statusText:X,url:ce||void 0})),i.complete()):i.error(new XF({error:Ne,headers:B,status:G,statusText:X,url:ce||void 0}))},b=B=>{const{url:G}=f(),X=new XF({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:G||void 0});i.error(X)};let C=!1;const M=B=>{C||(i.next(f()),C=!0);let G={type:or.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(G.total=B.total),"text"===t.responseType&&r.responseText&&(G.partialText=r.responseText),i.next(G)},F=B=>{let G={type:or.UploadProgress,loaded:B.loaded};B.lengthComputable&&(G.total=B.total),i.next(G)};return r.addEventListener("load",_),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),t.reportProgress&&(r.addEventListener("progress",M),null!==a&&r.upload&&r.upload.addEventListener("progress",F)),r.send(a),i.next({type:or.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",_),r.removeEventListener("timeout",b),t.reportProgress&&(r.removeEventListener("progress",M),null!==a&&r.upload&&r.upload.removeEventListener("progress",F)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const GM=new l.OlP("XSRF_ENABLED"),iP=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),rP=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class oP{}let hH=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fa(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J),l.LFG(l.Lbi),l.LFG(iP))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function fH(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(GM)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,l.f3M)(oP).getToken(),r=(0,l.f3M)(rP);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var zi=(()=>((zi=zi||{})[zi.Interceptors=0]="Interceptors",zi[zi.LegacyInterceptors=1]="LegacyInterceptors",zi[zi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",zi[zi.NoXsrfProtection=3]="NoXsrfProtection",zi[zi.JsonpSupport=4]="JsonpSupport",zi[zi.RequestsMadeViaParent=5]="RequestsMadeViaParent",zi))();function vy(n,e){return{\u0275kind:n,\u0275providers:e}}function pH(...n){const e=[lD,nP,eP,{provide:oD,useExisting:eP},{provide:HM,useExisting:nP},{provide:B0,useValue:fH,multi:!0},{provide:GM,useValue:!0},{provide:oP,useClass:hH}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const sP=new l.OlP("LEGACY_INTERCEPTOR_FN");let gH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pH(vy(zi.LegacyInterceptors,[{provide:sP,useFactory:rH},{provide:B0,useExisting:sP,multi:!0}]))]}),n})(),aP=(()=>{class n{constructor(t,i){this.afs=t,this.http=i,this.weekData=["monday","monday","tuesday","wednesday","thursday","friday","friday"],this.weekDataJp=["\u6708\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u91d1\u66dc\u65e5"],this.roomName=["102","104","106","204","MM"],this.weatherURL="https://weather.tsukumijima.net/api/forecast/city/471020",this.displayedColumns=["roomName","period1","period2","lunch","period3","period4","period5","period6","afterSchool"],this.afsCollection=t.collection(this.weekData[(new Date).getDay()]),this.items=this.afsCollection.valueChanges()}getFsData(){return this.items}getOtherDayData(t){return this.afsCollection=this.afs.collection(t),this.items=this.afsCollection.valueChanges(),this.items}editData(t,i,r,a){this.afs.collection(t).doc(i).update({[r]:a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(UM),l.LFG(lD))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _H=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function yH(){return(0,l.f3M)(J)}}),vH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let om=(()=>{class n{constructor(t){this.value="ltr",this.change=new l.vpe,t&&(this.value=function bH(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?vH.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_H,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function wr(n){return null!=n&&"false"!=`${n}`}function cD(n){return Array.isArray(n)?n:[n]}function sr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function cd(n){return n instanceof l.SBq?n.nativeElement:n}function qM(n){return n&&"function"==typeof n.connect&&!(n instanceof Jl)}class lP{applyChanges(e,t,i,r,a){e.forEachOperation((u,f,_)=>{let b,C;if(null==u.previousIndex){const M=i(u,f,_);b=t.createEmbeddedView(M.templateRef,M.context,M.index),C=1}else null==_?(t.remove(f),C=3):(b=t.get(f),t.move(b,_),C=2);a&&a({context:b?.context,operation:C,record:u})})}detach(){}}class CH{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Xt.x,t&&t.length&&(e?t.forEach(a=>this._markSelected(a)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(a=>this._markSelected(a)),t.filter(a=>!i.has(a)).forEach(a=>this._unmarkSelected(a));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}const H0=new l.OlP("_ViewRepeater");let WM;try{WM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{WM=!1}let by,Hr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function bd(n){return n===Gc}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!WM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function dP(){if(by)return by;if("object"!=typeof document||!document)return by=new Set(uP),by;let n=document.createElement("input");return by=new Set(uP.filter(e=>(n.setAttribute("type",e),n.type===e))),by}let j0,uD,sm,ZM;function z0(n){return function xH(){if(null==j0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>j0=!0}))}finally{j0=j0||!1}return j0}()?n:!!n.capture}function hP(){if(null==sm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return sm=!1,sm;if("scrollBehavior"in document.documentElement.style)sm=!0;else{const n=Element.prototype.scrollTo;sm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return sm}function $0(){if("object"!=typeof document||!document)return 0;if(null==uD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),uD=0,0===n.scrollLeft&&(n.scrollLeft=1,uD=0===n.scrollLeft?1:2),n.remove()}return uD}function ud(n){return n.composedPath?n.composedPath()[0]:n.target}function YM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var IH=P(1144);const TH=["addListener","removeListener"],AH=["addEventListener","removeEventListener"],MH=["on","off"];function am(n,e,t,i){if((0,Ki.m)(t)&&(i=t,t=void 0),i)return am(n,e,t).pipe(R(i));const[r,a]=function OH(n){return(0,Ki.m)(n.addEventListener)&&(0,Ki.m)(n.removeEventListener)}(n)?AH.map(u=>f=>n[u](e,f,t)):function RH(n){return(0,Ki.m)(n.addListener)&&(0,Ki.m)(n.removeListener)}(n)?TH.map(fP(n,e)):function kH(n){return(0,Ki.m)(n.on)&&(0,Ki.m)(n.off)}(n)?MH.map(fP(n,e)):[];if(!r&&(0,IH.z)(n))return(0,Li.z)(u=>am(u,e,t))((0,Ln.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new In.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function fP(n,e){return t=>i=>n[t](e,i)}var pP=P(4408);const G0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=G0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new Jn.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=G0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=G0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var mP=P(7565);const NH=new class PH extends mP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class FH extends pP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=G0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(G0.cancelAnimationFrame(t),e._scheduled=void 0)}});let KM,LH=1;const dD={};function gP(n){return n in dD&&(delete dD[n],!0)}const VH={setImmediate(n){const e=LH++;return dD[e]=!0,KM||(KM=Promise.resolve()),KM.then(()=>gP(e)&&n()),e},clearImmediate(n){gP(n)}},{setImmediate:BH,clearImmediate:UH}=VH,hD={setImmediate(...n){const{delegate:e}=hD;return(e?.setImmediate||BH)(...n)},clearImmediate(n){const{delegate:e}=hD;return(e?.clearImmediate||UH)(n)},delegate:void 0},zH=new class jH extends mP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class HH extends pP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=hD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(r=a[a.length-1])||void 0===r?void 0:r.id)!==t&&(hD.clearImmediate(t),e._scheduled=void 0)}});var GH=P(3532);function QM(n,e=fo.z){return function $H(n){return(0,jn.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const b=r;r=null,t.next(b)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,W.x)(t,b=>{i=!0,r=b,a||(0,Ln.Xf)(n(b)).subscribe(a=(0,W.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>function _P(n=0,e,t=fo.P){let i=-1;return null!=e&&((0,GH.K)(e)?t=e:i=e),new In.y(r=>{let a=function qH(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e))}var yP=P(5032);function Bs(n){return(0,jn.e)((e,t)=>{(0,Ln.Xf)(n).subscribe((0,W.x)(t,()=>t.complete(),yP.Z)),!t.closed&&e.subscribe(t)})}const WH=["contentWrapper"],ZH=["*"],YH=new l.OlP("VIRTUAL_SCROLL_STRATEGY");let fD=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Xt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new In.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(QM(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ke()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(vi(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=cd(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>am(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Hr),l.LFG(J,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vP=(()=>{class n{constructor(t,i,r,a){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=a,this._destroyed=new Xt.x,this._elementScrolled=new In.y(u=>this.ngZone.runOutsideAngular(()=>am(this.elementRef.nativeElement,"scroll").pipe(Bs(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=$0()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==$0()?t.left=t.right:1==$0()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;hP()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?r:i:"end"==t&&(t=u?i:r),u&&2==$0()?t==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:u&&1==$0()?t==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(fD),l.Y36(l.R0b),l.Y36(om,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),q0=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Xt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(QM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Hr),l.LFG(l.R0b),l.LFG(J,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bP=new l.OlP("VIRTUAL_SCROLLABLE");let XH=(()=>{class n extends vP{constructor(t,i,r,a){super(t,i,r,a)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(fD),l.Y36(l.R0b),l.Y36(om,8))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const ej=typeof requestAnimationFrame<"u"?NH:zH;let tj=(()=>{class n extends XH{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=wr(t)}constructor(t,i,r,a,u,f,_,b){super(t,f,r,u),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=a,this.scrollable=b,this._platform=(0,l.f3M)(Hr),this._detachedSubject=new Xt.x,this._renderedRangeSubject=new Xt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new In.y(C=>this._scrollStrategy.scrolledIndexChange.subscribe(M=>Promise.resolve().then(()=>this.ngZone.run(()=>C.next(M))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Jn.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(ec(null),QM(0,ej)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Bs(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function JH(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const a="horizontal"==this.orientation,u=a?"X":"Y";let _=`translate${u}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(_+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",a="right",u="rtl"==this.dir?.value;i="start"==t?u?a:r:"end"==t?u?r:a:t||("horizontal"===this.orientation?"left":"top");const f=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-f}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(YH,8),l.Y36(om,8),l.Y36(fD),l.Y36(q0),l.Y36(bP,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&l.Gf(WH,7),2&t){let r;l.iGM(r=l.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[l._Bn([{provide:vP,useFactory:(e,t)=>e||t,deps:[[new l.FiY,new l.tBr(bP)],n]}]),l.qOj,l.jDz],ngContentSelectors:ZH,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(3),l.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),pD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),XM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[U0,pD,tj,U0,pD]}),n})();const ij=[[["caption"]],[["colgroup"],["col"]]],rj=["caption","colgroup, col"];function JM(n){return class extends n{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=wr(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const wy=new l.OlP("CDK_TABLE");let Ey=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Cy=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),mD=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class lj{}const cj=JM(lj);let dd=(()=>{class n extends cj{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=wr(t),this._hasStickyChanged=i!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,Ey,5),l.Suo(r,Cy,5),l.Suo(r,mD,5)),2&t){let a;l.iGM(a=l.CRH())&&(i.cell=a.first),l.iGM(a=l.CRH())&&(i.headerCell=a.first),l.iGM(a=l.CRH())&&(i.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class eR{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let tR=(()=>{class n extends eR{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(dd),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),nR=(()=>{class n extends eR{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(dd),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class EP{constructor(){this.tasks=[],this.endTasks=[]}}const iR=new l.OlP("_COALESCED_STYLE_SCHEDULER");let CP=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Xt.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new EP,this._getScheduleObservable().pipe(Bs(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new EP;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Qt.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Qi(1))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),rR=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof W0?t.headerCell.template:this instanceof Z0?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class uj extends rR{}const dj=JM(uj);let W0=(()=>{class n extends dj{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(wy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class hj extends rR{}const fj=JM(hj);let Z0=(()=>{class n extends fj{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(wy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),gD=(()=>{class n extends rR{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(wy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),hd=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),oR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[hd],encapsulation:2}),n})(),aR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[hd],encapsulation:2}),n})(),_D=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const xP=["top","bottom","left","right"];class pj{constructor(e,t,i,r,a=!0,u=!0,f){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=a,this._needsPositionStickyOnElement=u,this._positionListener=f,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let a=0;a<r.children.length;a++)i.push(r.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(F=>F)&&!i.some(F=>F))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=e[0],u=a.children.length,f=this._getCellWidths(a,r),_=this._getStickyStartColumnPositions(f,t),b=this._getStickyEndColumnPositions(f,i),C=t.lastIndexOf(!0),M=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const F="rtl"===this.direction,B=F?"right":"left",G=F?"left":"right";for(const X of e)for(let ce=0;ce<u;ce++){const Ne=X.children[ce];t[ce]&&this._addStickyStyle(Ne,B,_[ce],ce===C),i[ce]&&this._addStickyStyle(Ne,G,b[ce],ce===M)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===C?[]:f.slice(0,C+1).map((X,ce)=>t[ce]?X:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===M?[]:f.slice(M).map((X,ce)=>i[ce+M]?X:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,a="bottom"===i?t.slice().reverse():t,u=[],f=[],_=[];for(let C=0,M=0;C<r.length;C++){if(!a[C])continue;u[C]=M;const F=r[C];_[C]=this._isNativeHtmlTable?Array.from(F.children):[F];const B=F.getBoundingClientRect().height;M+=B,f[C]=B}const b=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let C=0;C<r.length;C++){if(!a[C])continue;const M=u[C],F=C===b;for(const B of _[C])this._addStickyStyle(B,i,M,F)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:f,offsets:u,elements:_}):this._positionListener?.stickyFooterRowsUpdated({sizes:f,offsets:u,elements:_})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);xP.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of xP)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let a=0;a<r.length;a++)i.push(r[a].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let a=0;a<e.length;a++)t[a]&&(i[a]=r,r+=e[a]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let a=e.length;a>0;a--)t[a]&&(i[a]=r,r+=e[a]);return i}}const lR=new l.OlP("CDK_SPL");let yD=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),vD=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),bD=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),wD=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),ED=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=wr(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=wr(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,r,a,u,f,_,b,C,M,F,B){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=_,this._viewRepeater=b,this._coalescedStyleScheduler=C,this._viewportRuler=M,this._stickyPositioningListener=F,this._ngZone=B,this._onDestroy=new Xt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new yi({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=f,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Bs(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),qM(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,a,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Qi(1),Bs(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const a=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,a,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const a=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((a,u)=>{this._addStickyColumnStyles([a],this._headerRowDefs[u])}),this._rowDefs.forEach(a=>{const u=[];for(let f=0;f<i.length;f++)this._renderRows[f].rowDef===a&&u.push(i[f]);this._addStickyColumnStyles(u,a)}),r.forEach((a,u)=>{this._addStickyColumnStyles([a],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let a=this._data[r];const u=this._getRenderRowsForData(a,r,i.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let f=0;f<u.length;f++){let _=u[f];const b=this._cachedRenderRowsMap.get(_.data);b.has(_.rowDef)?b.get(_.rowDef).push(_):b.set(_.rowDef,[_]),t.push(_)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(u=>{const f=r&&r.has(u)?r.get(u):[];if(f.length){const _=f.shift();return _.dataIndex=i,_}return{data:t,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),CD(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=CD(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=CD(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=CD(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(u,f)=>u||!!f.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(t,!1);return a&&this._forceRenderFooterRows(),i||r||a}_switchDataSource(t){this._data=[],qM(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;qM(this.dataSource)?t=this.dataSource.connect(this):function nj(n){return!!n&&(n instanceof In.y||(0,Ki.m)(n.lift)&&(0,Ki.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Ke(this.dataSource)),this._renderChangeSubscription=t.pipe(Bs(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(f=>this._columnDefsByName.get(f)),a=r.map(f=>f.sticky),u=r.map(f=>f.stickyEnd);this._stickyStyler.updateStickyColumns(t,a,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const a=t.viewContainer.get(r);i.push(a.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(a=>!a.when||a.when(i,t));else{let a=this._rowDefs.find(u=>u.when&&u.when(i,t))||this._defaultRowDef;a&&r.push(a)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,a={}){const u=t.viewContainer.createEmbeddedView(i.template,a,r);return this._renderCellTemplateForItem(i,a),u}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))hd.mostRecentCellOutlet&&hd.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const u=t.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const a=this._document.createElement(r.tag);a.setAttribute("role","rowgroup");for(const u of r.outlets)a.appendChild(u.elementRef.nativeElement);t.appendChild(a)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new pj(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ke()).pipe(Bs(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const a=r.createEmbeddedView(t.templateRef),u=a.rootNodes[0];1===a.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(om,8),l.Y36(J),l.Y36(Hr),l.Y36(H0),l.Y36(iR),l.Y36(q0),l.Y36(lR,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,_D,5),l.Suo(r,dd,5),l.Suo(r,gD,5),l.Suo(r,W0,5),l.Suo(r,Z0,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._noDataRow=a.first),l.iGM(a=l.CRH())&&(i._contentColumnDefs=a),l.iGM(a=l.CRH())&&(i._contentRowDefs=a),l.iGM(a=l.CRH())&&(i._contentHeaderRowDefs=a),l.iGM(a=l.CRH())&&(i._contentFooterRowDefs=a)}},viewQuery:function(t,i){if(1&t&&(l.Gf(yD,7),l.Gf(vD,7),l.Gf(bD,7),l.Gf(wD,7)),2&t){let r;l.iGM(r=l.CRH())&&(i._rowOutlet=r.first),l.iGM(r=l.CRH())&&(i._headerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._footerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:wy,useExisting:n},{provide:H0,useClass:lP},{provide:iR,useClass:CP},{provide:lR,useValue:null}])],ngContentSelectors:rj,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(l.F$t(ij),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[yD,vD,bD,wD],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function CD(n,e){return n.concat(Array.from(e))}let gj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[XM]}),n})();function TP(n){return vi((e,t)=>n<=t)}function AP(n,e=fo.z){return(0,jn.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=u+n,C=e.now();if(C<b)return r=this.schedule(void 0,b-C),void i.add(r);f()}t.subscribe((0,W.x)(i,b=>{a=b,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}const MP=new Set;let xy,Dj=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ij}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Sj(n){if(!MP.has(n))try{xy||(xy=document.createElement("style"),xy.setAttribute("type","text/css"),document.head.appendChild(xy)),xy.sheet&&(xy.sheet.insertRule(`@media ${n} {body{ }}`,0),MP.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Hr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ij(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Tj=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Xt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return RP(cD(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=ke(RP(cD(t)).map(u=>this._registerQuery(u).observable));return a=Tt(a.pipe(Qi(1)),a.pipe(TP(1),AP(0))),a.pipe((0,pt.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:b})=>{f.matches=f.matches||_,f.breakpoints[b]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new In.y(u=>{const f=_=>this._zone.run(()=>u.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(ec(i),(0,pt.U)(({matches:u})=>({query:t,matches:u})),Bs(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Dj),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RP(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function PP(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function NP(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Nj=new l.OlP("cdk-input-modality-detector-options"),Lj={ignoreKeys:[18,17,224,91,16]},Dy=z0({passive:!0,capture:!0});let Vj=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new yi(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ud(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(PP(u)?"keyboard":"mouse"),this._mostRecentTarget=ud(u))},this._onTouchstart=u=>{NP(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ud(u))},this._options={...Lj,...a},this.modalityDetected=this._modality.pipe(TP(1)),this.modalityChanged=this.modalityDetected.pipe(Ps()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Dy),r.addEventListener("mousedown",this._onMousedown,Dy),r.addEventListener("touchstart",this._onTouchstart,Dy)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Dy),document.removeEventListener("mousedown",this._onMousedown,Dy),document.removeEventListener("touchstart",this._onTouchstart,Dy))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Hr),l.LFG(l.R0b),l.LFG(J),l.LFG(Nj,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uj=new l.OlP("cdk-focus-monitor-default-options"),xD=z0({passive:!0,capture:!0});let VP=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Xt.x,this._rootNodeFocusAndBlurListener=f=>{for(let b=ud(f);b;b=b.parentElement)"focus"===f.type?this._onFocus(f,b):this._onBlur(f,b)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=cd(t);if(!this._platform.isBrowser||1!==r.nodeType)return Ke(null);const a=function SH(n){if(function DH(){if(null==ZM){const n=typeof document<"u"?document.head:null;ZM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ZM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Xt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=cd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=cd(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=ud(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,xD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,xD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Bs(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let u=0;u<a.length;u++)if(a[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Hr),l.LFG(Vj),l.LFG(J,8),l.LFG(Uj,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BP="cdk-high-contrast-black-on-white",UP="cdk-high-contrast-white-on-black",uR="cdk-high-contrast-active";let Hj=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,l.f3M)(Tj).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(uR,BP,UP),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(uR,BP):2===i&&t.add(uR,UP)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Hr),l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zj=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function jj(){return!0}});let kn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!YM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Hj),l.LFG(zj,8),l.LFG(J))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[U0,U0]}),n})();function $j(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=wr(e)}constructor(...e){super(...e),this._disabled=!1}}}function dR(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function zP(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=wr(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function Gj(n){return class extends n{updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let Wj=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kn,kn]}),n})();class Zj{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const GP=z0({passive:!0,capture:!0});class Yj{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ud(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(a=>a.handleEvent(e))})}}addHandler(e,t,i,r){const a=this._events.get(t);if(a){const u=a.get(i);u?u.add(r):a.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,GP)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const a=r.get(t);a&&(a.delete(i),0===a.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,GP)))}}const qP={enterDuration:225,exitDuration:150},WP=z0({passive:!0,capture:!0}),ZP=["mousedown","touchstart"],YP=["mouseup","mouseleave","touchend","touchcancel"];class K0{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=cd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...qP,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function Qj(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,b=a.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=f-u+"px",C.style.top=_-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(C);const M=window.getComputedStyle(C),B=M.transitionDuration,G="none"===M.transitionProperty||"0s"===B||"0s, 0s"===B||0===r.width&&0===r.height,X=new Zj(this,C,i,G);C.style.transform="scale3d(1, 1, 1)",X.state=0,i.persistent||(this._mostRecentTransientRipple=X);let ce=null;return!G&&(b||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ne=()=>this._finishRippleTransition(X),ht=()=>this._destroyRipple(X);C.addEventListener("transitionend",Ne),C.addEventListener("transitioncancel",ht),ce={onTransitionEnd:Ne,onTransitionCancel:ht}}),this._activeRipples.set(X,ce),(G||!b)&&this._finishRippleTransition(X),X}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...qP,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=cd(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,ZP.forEach(i=>{K0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{YP.forEach(t=>{this._triggerElement.addEventListener(t,this,WP)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=PP(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!NP(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(ZP.forEach(t=>K0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&YP.forEach(t=>e.removeEventListener(t,this,WP)))}}K0._eventManager=new Yj;const Xj=new l.OlP("mat-ripple-global-options");let DD=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new K0(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Hr),l.Y36(Xj,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),hR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kn,kn]}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kn]}),n})(),SD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hR,xo,kn,Jj]}),n})();const r3=[[["caption"]],[["colgroup"],["col"]]],o3=["caption","colgroup, col"];let fR=(()=>{class n extends ED{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:ED,useExisting:n},{provide:wy,useExisting:n},{provide:iR,useClass:CP},{provide:H0,useClass:lP},{provide:lR,useValue:null}]),l.qOj],ngContentSelectors:o3,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(l.F$t(r3),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[yD,vD,bD,wD],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),ID=(()=>{class n extends Ey{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:Ey,useExisting:n}]),l.qOj]}),n})(),TD=(()=>{class n extends Cy{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:Cy,useExisting:n}]),l.qOj]}),n})(),AD=(()=>{class n extends dd{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:dd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),MD=(()=>{class n extends tR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[l.qOj]}),n})(),RD=(()=>{class n extends nR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[l.qOj]}),n})(),pR=(()=>{class n extends W0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:W0,useExisting:n}]),l.qOj]}),n})(),mR=(()=>{class n extends gD{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:gD,useExisting:n}]),l.qOj]}),n})(),gR=(()=>{class n extends oR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:oR,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[hd],encapsulation:2}),n})(),_R=(()=>{class n extends aR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[l._Bn([{provide:aR,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},dependencies:[hd],encapsulation:2}),n})(),m3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kn,gj,kn]}),n})();const _3=["*"];let kD;function Q0(n){return function y3(){if(void 0===kD&&(kD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(kD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return kD}()?.createHTML(n)||n}function KP(n){return Error(`Unable to find icon with the name "${n}"`)}function QP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function XP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class lm{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let OD=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new lm(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw XP(r);const f=Q0(u);return this._addSvgIconConfig(t,i,new lm("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new lm(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(l.q3G.HTML,i);if(!a)throw XP(i);const u=Q0(a);return this._addSvgIconSetConfig(t,new lm("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw QP(t);const r=this._cachedIconsByUrl.get(i);return r?Ke(FD(r)):this._loadSvgIconFromConfig(new lm(t,null)).pipe((0,bi.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,pt.U)(a=>FD(a)))}getNamedSvgIcon(t,i=""){const r=JP(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):qr(KP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ke(FD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,pt.U)(i=>FD(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Ke(r):Lu(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(ma(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),Ke(null)})))).pipe((0,pt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw KP(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,bi.b)(i=>t.svgText=i),(0,pt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ke(null):this._fetchIcon(t).pipe((0,bi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(Q0("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Q0("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function v3(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!u)throw QP(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const _=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,pt.U)(b=>Q0(b)),du(()=>this._inProgressUrlFetches.delete(u)),(0,aF.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(JP(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return w3(a)?new lm(a.url,null,a.options):new lm(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(lD,8),l.LFG(ha),l.LFG(J,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FD(n){return n.cloneNode(!0)}function JP(n,e){return n+":"+e}function w3(n){return!(!n.url||!n.options)}const E3=dR(class{constructor(n){this._elementRef=n}}),C3=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),x3=new l.OlP("mat-icon-location",{providedIn:"root",factory:function D3(){const n=(0,l.f3M)(J),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),eN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],S3=eN.map(n=>`[${n}]`).join(", "),I3=/^url\(['"]?#(.*?)['"]?\)$/;let yR=(()=>{class n extends E3{get inline(){return this._inline}set inline(t){this._inline=wr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,a,u,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Jn.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(S3),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)eN.forEach(u=>{const f=i[a],_=f.getAttribute(u),b=_?_.match(I3):null;if(b){let C=r.get(f);C||(C=[],r.set(f,C)),C.push({name:u,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Qi(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(OD),l.$8M("aria-hidden"),l.Y36(x3),l.Y36(l.qLn),l.Y36(C3,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:_3,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),T3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kn,kn]}),n})();const A3=["mat-button",""],M3=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],R3=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],O3=["mat-icon-button",""],F3=["*"],P3=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],N3=dR($j(zP(class{constructor(n){this._elementRef=n}})));let tN=(()=>{class n extends N3{constructor(t,i,r,a){super(t),this._platform=i,this._ngZone=r,this._animationMode=a,this._focusMonitor=(0,l.f3M)(VP),this._isFab=!1;const u=t.nativeElement.classList;for(const f of P3)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(_=>{u.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(DD,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},features:[l.qOj]}),n})(),V3=(()=>{class n extends tN{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Hr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:A3,ngContentSelectors:R3,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(M3),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(l.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),l.xp6(6),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[DD],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),U3=(()=>{class n extends tN{constructor(t,i,r,a){super(t,i,r,a)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Hr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:O3,ngContentSelectors:F3,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(l.xp6(3),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[DD],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),H3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kn,hR,kn]}),n})();class nN{}class j3{}const fd="*";function PD(n,e){return{type:7,name:n,definitions:e,options:{}}}function Sy(n,e=null){return{type:4,styles:e,timings:n}}function iN(n,e=null){return{type:2,steps:n,options:e}}function Il(n){return{type:6,styles:n,offset:null}}function vR(n,e,t){return{type:0,name:n,styles:e,options:t}}function Iy(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function rN(n){Promise.resolve().then(n)}class X0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){rN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class oN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?rN(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const bR="!";let sN=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q3=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=cd(t);return new In.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Xt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sN))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W3=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=wr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function wH(n,e=0){return function EH(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(AP(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(q3),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Z3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[sN]}),n})();const Y3=["matFormFieldNotchedOutline",""],K3=["*"],Q3=["textField"],X3=["iconPrefixContainer"],J3=["textPrefixContainer"];function ez(n,e){1&n&&l._UZ(0,"span",19)}function tz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",17),l.NdJ("cdkObserveContent",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r._refreshOutlineNotchWidth())}),l.Hsn(1,1),l.YNc(2,ez,1,0,"span",18),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("floating",t._shouldLabelFloat())("cdkObserveContentDisabled",!t._hasOutline())("id",t._labelId),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function nz(n,e){if(1&n&&l.YNc(0,tz,3,6,"label",16),2&n){const t=l.oxw();l.Q6J("ngIf",t._hasFloatingLabel())}}function iz(n,e){1&n&&l._UZ(0,"div",20)}function rz(n,e){}function oz(n,e){if(1&n&&l.YNc(0,rz,0,0,"ng-template",22),2&n){l.oxw(2);const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function sz(n,e){if(1&n&&(l.TgZ(0,"div",21),l.YNc(1,oz,1,1,"ng-template",9),l.qZA()),2&n){const t=l.oxw();l.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",t._labelWidth),l.xp6(1),l.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function az(n,e){1&n&&(l.TgZ(0,"div",23,24),l.Hsn(2,2),l.qZA())}function lz(n,e){1&n&&(l.TgZ(0,"div",25,26),l.Hsn(2,3),l.qZA())}function cz(n,e){}function uz(n,e){if(1&n&&l.YNc(0,cz,0,0,"ng-template",22),2&n){l.oxw();const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function dz(n,e){1&n&&(l.TgZ(0,"div",27),l.Hsn(1,4),l.qZA())}function hz(n,e){1&n&&(l.TgZ(0,"div",28),l.Hsn(1,5),l.qZA())}function fz(n,e){1&n&&l._UZ(0,"div",29)}function pz(n,e){if(1&n&&(l.TgZ(0,"div",30),l.Hsn(1,6),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function mz(n,e){if(1&n&&(l.TgZ(0,"mat-hint",34),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function gz(n,e){if(1&n&&(l.TgZ(0,"div",31),l.YNc(1,mz,2,2,"mat-hint",32),l.Hsn(2,7),l._UZ(3,"div",33),l.Hsn(4,8),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const _z=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yz=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let wR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})();const vz=new l.OlP("MatError");let bz=0,aN=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+bz++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(t,i){2&t&&(l.Ikx("id",i.id),l.uIk("align",null),l.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const wz=new l.OlP("MatPrefix"),lN=new l.OlP("MatSuffix");let Ez=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[l._Bn([{provide:lN,useExisting:n}])]}),n})(),cN=(()=>{class n{constructor(t){this._elementRef=t,this.floating=!1}getWidth(){return function Cz(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const uN="mdc-line-ripple--active",ND="mdc-line-ripple--deactivating";let dN=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const a=this._elementRef.nativeElement.classList,u=a.contains(ND);"opacity"===r.propertyName&&u&&a.remove(uN,ND)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(ND),t.add(uN)}deactivate(){this._elementRef.nativeElement.classList.add(ND)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),hN=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Y3,ngContentSelectors:K3,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(t,i){1&t&&(l.F$t(),l._UZ(0,"div",0),l.TgZ(1,"div",1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(1),l.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const xz={transitionMessages:PD("transitionMessages",[vR("enter",Il({opacity:1,transform:"translateY(0%)"})),Iy("void => enter",[Il({opacity:0,transform:"translateY(-5px)"}),Sy("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let fN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const ER=new l.OlP("MatFormField"),Dz=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let pN=0,Tz=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=wr(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,a,u,f,_,b){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._platform=u,this._defaults=f,this._animationMode=_,this._document=b,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+pN++,this._hintLabelId="mat-mdc-hint-"+pN++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Xt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=Boolean(f?.hideRequiredMarker),f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Bs(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,rm.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Bs(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Bs(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,a=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${a+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(om),l.Y36(Hr),l.Y36(Dz,8),l.Y36(l.QbO,8),l.Y36(J))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,wR,5),l.Suo(r,wR,7),l.Suo(r,fN,5),l.Suo(r,wz,5),l.Suo(r,lN,5),l.Suo(r,vz,5),l.Suo(r,aN,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(i._formFieldControl=a.first),l.iGM(a=l.CRH())&&(i._prefixChildren=a),l.iGM(a=l.CRH())&&(i._suffixChildren=a),l.iGM(a=l.CRH())&&(i._errorChildren=a),l.iGM(a=l.CRH())&&(i._hintChildren=a)}},viewQuery:function(t,i){if(1&t&&(l.Gf(Q3,5),l.Gf(X3,5),l.Gf(J3,5),l.Gf(cN,5),l.Gf(hN,5),l.Gf(dN,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._textField=r.first),l.iGM(r=l.CRH())&&(i._iconPrefixContainer=r.first),l.iGM(r=l.CRH())&&(i._textPrefixContainer=r.first),l.iGM(r=l.CRH())&&(i._floatingLabel=r.first),l.iGM(r=l.CRH())&&(i._notchedOutline=r.first),l.iGM(r=l.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(t,i){2&t&&l.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:ER,useExisting:n}])],ngContentSelectors:yz,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(t,i){1&t&&(l.F$t(_z),l.YNc(0,nz,1,1,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),l.YNc(4,iz,1,0,"div",3),l.TgZ(5,"div",4),l.YNc(6,sz,2,3,"div",5),l.YNc(7,az,3,0,"div",6),l.YNc(8,lz,3,0,"div",7),l.TgZ(9,"div",8),l.YNc(10,uz,1,1,"ng-template",9),l.Hsn(11),l.qZA(),l.YNc(12,dz,2,0,"div",10),l.YNc(13,hz,2,0,"div",11),l.qZA(),l.YNc(14,fz,1,0,"div",12),l.qZA(),l.TgZ(15,"div",13),l.YNc(16,pz,2,1,"div",14),l.YNc(17,gz,5,2,"div",15),l.qZA()),2&t&&(l.xp6(2),l.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),l.xp6(2),l.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),l.xp6(2),l.Q6J("ngIf",i._hasOutline()),l.xp6(1),l.Q6J("ngIf",i._hasIconPrefix),l.xp6(1),l.Q6J("ngIf",i._hasTextPrefix),l.xp6(2),l.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),l.xp6(2),l.Q6J("ngIf",i._hasTextSuffix),l.xp6(1),l.Q6J("ngIf",i._hasIconSuffix),l.xp6(1),l.Q6J("ngIf",!i._hasOutline()),l.xp6(1),l.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[bo,Zi,gs,qo,W3,aN,cN,hN,dN],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[xz.transitionMessages]},changeDetection:0}),n})(),LD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kn,xo,Z3,kn]}),n})();const _N=z0({passive:!0});let Az=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return qn.E;const i=cd(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new Xt.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,_N),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,_N)}}),a}stopMonitoring(t){const i=cd(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Hr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Rz=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),kz=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Oz=0;const Fz=Gj(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Xt.x}});let Pz=(()=>{class n extends Fz{get disabled(){return this._disabled}set disabled(t){this._disabled=wr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(qw.required)??!1}set required(t){this._required=wr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&dP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=wr(t)}constructor(t,i,r,a,u,f,_,b,C,M){super(f,a,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=b,this._formField=M,this._uid="mat-input-"+Oz++,this.focused=!1,this.stateChanges=new Xt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(G=>dP().has(G)),this._iOSKeyupListener=G=>{const X=G.target;!X.value&&0===X.selectionStart&&0===X.selectionEnd&&(X.setSelectionRange(1,1),X.setSelectionRange(0,0))};const F=this._elementRef.nativeElement,B=F.nodeName.toLowerCase();this._inputValueAccessor=_||F,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){kz.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Hr),l.Y36(Os,10),l.Y36(fl,8),l.Y36(fh,8),l.Y36(Wj),l.Y36(Rz,10),l.Y36(Az),l.Y36(l.R0b),l.Y36(ER,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),l.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),l.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:fN,useExisting:n}]),l.qOj,l.TTD]}),n})(),Nz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kn,LD,LD,Mz,kn]}),n})();const Lz=["button"],Vz=["*"],yN=new l.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),vN=new l.OlP("MatButtonToggleGroup"),Bz={provide:co,useExisting:(0,l.Gpc)(()=>EN),multi:!0};let bN=0;class wN{constructor(e,t){this.source=e,this.value=t}}let EN=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(t){this._vertical=wr(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=wr(t),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=wr(t),this._markButtonsForCheck()}constructor(t,i){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+bN++,this.valueChange=new l.vpe,this.change=new l.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}ngOnInit(){this._selectionModel=new CH(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const i=new wN(t,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(t,i,r=!1,a=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):a=!0,a?Promise.resolve().then(()=>this._updateModelValue(t,r)):this._updateModelValue(t,r)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=t.value&&i===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===t);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(t,i){i&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(yN,8))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,CN,5),2&t){let a;l.iGM(a=l.CRH())&&(i._buttonToggles=a)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("aria-disabled",i.disabled),l.ekj("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard","standard"===i.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[l._Bn([Bz,{provide:vN,useExisting:n}])]}),n})();const Uz=zP(class{});let CN=(()=>{class n extends Uz{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const i=wr(t);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=wr(t)}constructor(t,i,r,a,u,f){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=a,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new l.vpe;const _=Number(u);this.tabIndex=_||0===_?_:null,this.buttonToggleGroup=t,this.appearance=f&&f.appearance?f.appearance:"standard"}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+bN++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new wN(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vN,8),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(VP),l.$8M("tabindex"),l.Y36(yN,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(t,i){if(1&t&&l.Gf(Lz,5),2&t){let r;l.iGM(r=l.CRH())&&(i._buttonElement=r.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i.focus()}),2&t&&(l.uIk("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),l.ekj("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-appearance-standard","standard"===i.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[l.qOj],ngContentSelectors:Vz,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,i){if(1&t&&(l.F$t(),l.TgZ(0,"button",0,1),l.NdJ("click",function(){return i._onButtonClick()}),l.TgZ(2,"span",2),l.Hsn(3),l.qZA()(),l._UZ(4,"span",3)(5,"span",4)),2&t){const r=l.MAs(1);l.Q6J("id",i.buttonId)("disabled",i.disabled||null),l.uIk("tabindex",i.disabled?-1:i.tabIndex)("aria-pressed",i.checked)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby),l.xp6(5),l.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[DD],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),n})(),Hz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kn,hR,kn]}),n})();const jz=["*"],Gz=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],qz=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Wz=new l.OlP("MAT_CARD_CONFIG");let CR=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wz,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:jz,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),xN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),DN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),SN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:qz,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,i){1&t&&(l.F$t(Gz),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),r$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kn,xo,kn]}),n})();function o$(n,e){1&n&&(l.TgZ(0,"th",28),l._uU(1,"\u6559\u5ba4\u540d"),l.qZA())}function s$(n,e){if(1&n&&(l.TgZ(0,"td",29),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t.roomName)}}function a$(n,e){1&n&&(l.TgZ(0,"th",28),l._uU(1,"1\u9650\u76ee"),l.qZA())}const qh=function(n){return{highlight:n}};function l$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(t).index,f=l.oxw();return l.KtG(f.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,i===r.rowIndex&&1===r.columnIndex)),l.xp6(1),l.Oqu(t.period1)}}function c$(n,e){1&n&&(l.TgZ(0,"th",28),l._uU(1,"2\u9650\u76ee"),l.qZA())}function u$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(t).index,f=l.oxw();return l.KtG(f.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,i===r.rowIndex&&2===r.columnIndex)),l.xp6(1),l.Oqu(t.period2)}}function d$(n,e){1&n&&(l.TgZ(0,"th",28),l._uU(1,"lunch"),l.qZA())}function h$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(t).index,f=l.oxw();return l.KtG(f.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,i===r.rowIndex&&3===r.columnIndex)),l.xp6(1),l.Oqu(t.lunch)}}function f$(n,e){1&n&&(l.TgZ(0,"th",28),l._uU(1,"3\u9650\u76ee"),l.qZA())}function p$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(t).index,f=l.oxw();return l.KtG(f.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,i===r.rowIndex&&4===r.columnIndex)),l.xp6(1),l.Oqu(t.period3)}}function m$(n,e){1&n&&(l.TgZ(0,"th",28),l._uU(1,"4\u9650\u76ee"),l.qZA())}function g$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(t).index,f=l.oxw();return l.KtG(f.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,i===r.rowIndex&&5===r.columnIndex)),l.xp6(1),l.Oqu(t.period4)}}function _$(n,e){1&n&&(l.TgZ(0,"th",28),l._uU(1,"5\u9650\u76ee"),l.qZA())}function y$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(t).index,f=l.oxw();return l.KtG(f.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,i===r.rowIndex&&6===r.columnIndex)),l.xp6(1),l.Oqu(t.period5)}}function v$(n,e){1&n&&(l.TgZ(0,"th",28),l._uU(1,"6\u9650\u76ee"),l.qZA())}function b$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(t).index,f=l.oxw();return l.KtG(f.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,i===r.rowIndex&&7===r.columnIndex)),l.xp6(1),l.Oqu(t.period6)}}function w$(n,e){1&n&&(l.TgZ(0,"th",28),l._uU(1,"\u653e\u8ab2\u5f8c"),l.qZA())}function E$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(r){const u=l.CHM(t).index,f=l.oxw();return l.KtG(f.onClick(r,u))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("ngClass",l.VKq(2,qh,i===r.rowIndex&&8===r.columnIndex)),l.xp6(1),l.Oqu(t.afterSchool)}}function C$(n,e){1&n&&l._UZ(0,"tr",31)}function x$(n,e){1&n&&l._UZ(0,"tr",32)}let D$=(()=>{class n{constructor(t){this.dataService=t,this.displayedColumns=this.dataService.displayedColumns,this.rowIndex=0,this.columnIndex=0,this.selectedRoomName="",this.selectedCalumn="",this.weekToggle=new Jf(""),this.input=new Jf("")}onClick(t,i){this.rowIndex=i,this.columnIndex=t.target.cellIndex,this.selectedRoomName=this.dataService.roomName[this.rowIndex],this.selectedCalumn=this.dataService.displayedColumns[this.columnIndex]}selectWeek(){let t=this.dataService.getOtherDayData(this.weekToggle.value);this.matDataSource=t}submit(){this.weekToggle.value&&this.input?this.dataService.editData(this.weekToggle.value,this.selectedRoomName,this.selectedCalumn,this.input.value):console.log("submit error")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(aP))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-regist"]],decls:59,vars:5,consts:[[2,"font-weight","bold","text-align","center","padding-top","10px"],[1,"form"],[2,"font-size","20px","padding-top","20px","padding-bottom","10px"],["name","weeks",3,"formControl","click"],["value","monday"],["value","tuesday"],["value","wednesday"],["value","thursday"],["value","friday"],[2,"margin-right","20px"],["mat-table","",3,"dataSource"],["matColumnDef","roomName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","period1"],["mat-cell","",3,"ngClass","click",4,"matCellDef"],["matColumnDef","period2"],["matColumnDef","lunch"],["matColumnDef","period3"],["matColumnDef","period4"],["matColumnDef","period5"],["matColumnDef","period6"],["matColumnDef","afterSchool"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matInput","","placeholder","\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u5165\u9580[\u5929\u9858]",3,"formControl"],["matSuffix",""],["mat-raised-button","","color","accent",1,"submit",2,"margin-left","30px",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass","click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(l.TgZ(0,"h1",0),l._uU(1,"\u6388\u696d\u60c5\u5831\u7de8\u96c6"),l.qZA(),l.TgZ(2,"div",1)(3,"div",2),l._uU(4,"1\uff0e\u7de8\u96c6\u3057\u305f\u3044\u30b3\u30de\u3092\u9078\u629e"),l.qZA(),l.TgZ(5,"div")(6,"mat-button-toggle-group",3),l.NdJ("click",function(){return i.selectWeek()}),l.TgZ(7,"mat-button-toggle",4),l._uU(8,"\u6708\u66dc\u65e5"),l.qZA(),l.TgZ(9,"mat-button-toggle",5),l._uU(10,"\u706b\u66dc\u65e5"),l.qZA(),l.TgZ(11,"mat-button-toggle",6),l._uU(12,"\u6c34\u66dc\u65e5"),l.qZA(),l.TgZ(13,"mat-button-toggle",7),l._uU(14,"\u6728\u66dc\u65e5"),l.qZA(),l.TgZ(15,"mat-button-toggle",8),l._uU(16,"\u91d1\u66dc\u65e5"),l.qZA()()(),l.TgZ(17,"div")(18,"mat-card",9)(19,"table",10),l.ynx(20,11),l.YNc(21,o$,2,0,"th",12),l.YNc(22,s$,2,1,"td",13),l.BQk(),l.ynx(23,14),l.YNc(24,a$,2,0,"th",12),l.YNc(25,l$,2,4,"td",15),l.BQk(),l.ynx(26,16),l.YNc(27,c$,2,0,"th",12),l.YNc(28,u$,2,4,"td",15),l.BQk(),l.ynx(29,17),l.YNc(30,d$,2,0,"th",12),l.YNc(31,h$,2,4,"td",15),l.BQk(),l.ynx(32,18),l.YNc(33,f$,2,0,"th",12),l.YNc(34,p$,2,4,"td",15),l.BQk(),l.ynx(35,19),l.YNc(36,m$,2,0,"th",12),l.YNc(37,g$,2,4,"td",15),l.BQk(),l.ynx(38,20),l.YNc(39,_$,2,0,"th",12),l.YNc(40,y$,2,4,"td",15),l.BQk(),l.ynx(41,21),l.YNc(42,v$,2,0,"th",12),l.YNc(43,b$,2,4,"td",15),l.BQk(),l.ynx(44,22),l.YNc(45,w$,2,0,"th",12),l.YNc(46,E$,2,4,"td",15),l.BQk(),l.YNc(47,C$,1,0,"tr",23),l.YNc(48,x$,1,0,"tr",24),l.qZA()()(),l.TgZ(49,"div",2),l._uU(50,"2\uff0e\u8b1b\u7fa9\u3092\u767b\u9332"),l.qZA(),l.TgZ(51,"mat-form-field")(52,"mat-label"),l._uU(53,"\u8b1b\u7fa9\u540d"),l.qZA(),l._UZ(54,"input",25),l.TgZ(55,"mat-icon",26),l._uU(56,"class"),l.qZA()(),l.TgZ(57,"button",27),l.NdJ("click",function(){return i.submit()}),l._uU(58,"\u767b\u9332"),l.qZA()()),2&t&&(l.xp6(6),l.Q6J("formControl",i.weekToggle),l.xp6(13),l.Q6J("dataSource",i.matDataSource),l.xp6(28),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns),l.xp6(6),l.Q6J("formControl",i.input))},dependencies:[tt,qf,wg,Vg,fR,TD,pR,AD,ID,mR,MD,RD,gR,_R,yR,V3,Tz,wR,Ez,Pz,EN,CN,CR],styles:[".form[_ngcontent-%COMP%]{padding-left:30px}.submit[_ngcontent-%COMP%]{font-size:20px;padding:20px 32px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #f7f6f6;white-space:normal;overflow:hidden;text-overflow:ellipsis;overflow-wrap:break-word}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700}.mat-cell[_ngcontent-%COMP%]{text-align:center}.highlight[_ngcontent-%COMP%]{background-color:#bbdefb;border-width:5px;border-color:#3f51b5}@media (max-width: 768px){td[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word}}"]}),n})();function S$(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1,"\u6559\u5ba4\u540d"),l.qZA())}function I$(n,e){if(1&n&&(l.TgZ(0,"td",19),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t.roomName)}}function T$(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1,"1\u9650\u76ee"),l.qZA())}function A$(n,e){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",22),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function M$(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.period1," ")}}const Wh=function(n){return{highlight:n}};function R$(n,e){if(1&n&&(l.TgZ(0,"td",20),l.YNc(1,A$,3,0,"ng-container",21),l.YNc(2,M$,2,1,"ng-container",21),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Wh,1===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(t.period1)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(t.period1))}}function k$(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1,"2\u9650\u76ee"),l.qZA())}function O$(n,e){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",22),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function F$(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.period2," ")}}function P$(n,e){if(1&n&&(l.TgZ(0,"td",20),l.YNc(1,O$,3,0,"ng-container",21),l.YNc(2,F$,2,1,"ng-container",21),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Wh,2===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(t.period2)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(t.period2))}}function N$(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1,"\u663c\u4f11\u307f"),l.qZA())}function L$(n,e){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",22),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function V$(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.lunch," ")}}function B$(n,e){if(1&n&&(l.TgZ(0,"td",20),l.YNc(1,L$,3,0,"ng-container",21),l.YNc(2,V$,2,1,"ng-container",21),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Wh,3===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(t.lunch)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(t.lunch))}}function U$(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1,"3\u9650\u76ee"),l.qZA())}function H$(n,e){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",22),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function j$(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.period3," ")}}function z$(n,e){if(1&n&&(l.TgZ(0,"td",20),l.YNc(1,H$,3,0,"ng-container",21),l.YNc(2,j$,2,1,"ng-container",21),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Wh,4===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(t.period3)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(t.period3))}}function $$(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1,"4\u9650\u76ee"),l.qZA())}function G$(n,e){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",22),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function q$(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.period4," ")}}function W$(n,e){if(1&n&&(l.TgZ(0,"td",20),l.YNc(1,G$,3,0,"ng-container",21),l.YNc(2,q$,2,1,"ng-container",21),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Wh,5===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(t.period4)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(t.period4))}}function Z$(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1,"5\u9650\u76ee"),l.qZA())}function Y$(n,e){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",22),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function K$(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.period5," ")}}function Q$(n,e){if(1&n&&(l.TgZ(0,"td",20),l.YNc(1,Y$,3,0,"ng-container",21),l.YNc(2,K$,2,1,"ng-container",21),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Wh,6===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(t.period5)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(t.period5))}}function X$(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1,"6\u9650\u76ee"),l.qZA())}function J$(n,e){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",22),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function eG(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.period6," ")}}function tG(n,e){if(1&n&&(l.TgZ(0,"td",20),l.YNc(1,J$,3,0,"ng-container",21),l.YNc(2,eG,2,1,"ng-container",21),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Wh,7===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(t.period6)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(t.period6))}}function nG(n,e){1&n&&(l.TgZ(0,"th",18),l._uU(1,"\u653e\u8ab2\u5f8c"),l.qZA())}function iG(n,e){1&n&&(l.ynx(0),l.TgZ(1,"mat-icon",22),l._uU(2,"check_circle"),l.qZA(),l.BQk())}function rG(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.afterSchool," ")}}function oG(n,e){if(1&n&&(l.TgZ(0,"td",20),l.YNc(1,iG,3,0,"ng-container",21),l.YNc(2,rG,2,1,"ng-container",21),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(3,Wh,8===i.currentColumn)),l.xp6(1),l.Q6J("ngIf",i.isOpen(t.afterSchool)),l.xp6(1),l.Q6J("ngIf",!1===i.isOpen(t.afterSchool))}}function sG(n,e){1&n&&l._UZ(0,"tr",23)}function aG(n,e){1&n&&l._UZ(0,"tr",24)}const lG=[{path:"",component:(()=>{class n{ngOnInit(){this.weatherData=this.dataService.weatherData}ngOnDestroy(){}ngAfterViewInit(){setInterval(()=>{this.getPeriod(),this.currentTime=new Date},this.highlightDuraration)}constructor(t){this.dataService=t,this.currentColumn=1,this.highlightDuraration=1e3,this.nowPeriod="",this.currentTime=new Date,this.todaysWeek=this.dataService.weekDataJp[this.currentTime.getDay()],this.displayedColumns=this.dataService.displayedColumns,this.matDataSource=this.dataService.getFsData()}isOpen(t){return"\u30aa\u30fc\u30d7\u30f3"==t}getPeriod(){let t=100*this.currentTime.getHours()+this.currentTime.getMinutes();t<845?(this.nowPeriod="\u671d",this.currentColumn=0):t<1015?(this.nowPeriod="1\u9650",this.currentColumn=1):t<1200?(this.nowPeriod="2\u9650",this.currentColumn=2):t<1300?(this.nowPeriod="\u663c\u4f11\u307f",this.currentColumn=3):t<1430?(this.nowPeriod="3\u9650",this.currentColumn=4):t<1615?(this.nowPeriod="4\u9650",this.currentColumn=5):t<1800?(this.nowPeriod="5\u9650",this.currentColumn=6):t<1945?(this.nowPeriod="6\u9650",this.currentColumn=7):(this.nowPeriod="\u6642\u9593\u5916",this.currentColumn=8)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(aP))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-signage"]],decls:44,vars:17,consts:[[1,"card"],[1,"table"],["mat-table","","mat-table-layout","fixed",3,"dataSource"],["matColumnDef","roomName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","className",4,"matCellDef"],["matColumnDef","period1"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","period2"],["matColumnDef","lunch"],["matColumnDef","period3"],["matColumnDef","period4"],["matColumnDef","period5"],["matColumnDef","period6"],["matColumnDef","afterSchool"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"timeCard"],["mat-header-cell",""],["mat-cell","",1,"className"],["mat-cell","",3,"ngClass"],[4,"ngIf"],[1,"check"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(l.TgZ(0,"mat-card",0)(1,"div",1)(2,"table",2),l.ynx(3,3),l.YNc(4,S$,2,0,"th",4),l.YNc(5,I$,2,1,"td",5),l.BQk(),l.ynx(6,6),l.YNc(7,T$,2,0,"th",4),l.YNc(8,R$,3,5,"td",7),l.BQk(),l.ynx(9,8),l.YNc(10,k$,2,0,"th",4),l.YNc(11,P$,3,5,"td",7),l.BQk(),l.ynx(12,9),l.YNc(13,N$,2,0,"th",4),l.YNc(14,B$,3,5,"td",7),l.BQk(),l.ynx(15,10),l.YNc(16,U$,2,0,"th",4),l.YNc(17,z$,3,5,"td",7),l.BQk(),l.ynx(18,11),l.YNc(19,$$,2,0,"th",4),l.YNc(20,W$,3,5,"td",7),l.BQk(),l.ynx(21,12),l.YNc(22,Z$,2,0,"th",4),l.YNc(23,Q$,3,5,"td",7),l.BQk(),l.ynx(24,13),l.YNc(25,X$,2,0,"th",4),l.YNc(26,tG,3,5,"td",7),l.BQk(),l.ynx(27,14),l.YNc(28,nG,2,0,"th",4),l.YNc(29,oG,3,5,"td",7),l.BQk(),l.YNc(30,sG,1,0,"tr",15),l.YNc(31,aG,1,0,"tr",16),l.qZA()()(),l.TgZ(32,"mat-card",17)(33,"mat-card-header")(34,"mat-card-title"),l._uU(35),l.ALo(36,"date"),l.qZA()(),l.TgZ(37,"mat-card-content")(38,"p"),l._uU(39),l.ALo(40,"date"),l.ALo(41,"date"),l._UZ(42,"br"),l._uU(43),l.qZA()()()),2&t&&(l.xp6(2),l.Q6J("dataSource",i.matDataSource),l.xp6(28),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns),l.xp6(4),l.AsE("\u73fe\u5728\u6642\u523b\u306f",l.xi3(36,8,i.currentTime,"HH:mm")," ",i.nowPeriod," "),l.xp6(4),l.AsE(" \u4eca\u65e5\u306f",l.xi3(40,11,i.currentTime,"MM"),"\u6708",l.xi3(41,14,i.currentTime,"dd"),"\u65e5\u3067\u3059"),l.xp6(4),l.hij(" ",i.todaysWeek,"\u306e\u6388\u696d\u3067\u3059 "))},dependencies:[tt,bo,fR,TD,pR,AD,ID,mR,MD,RD,gR,_R,yR,CR,DN,SN,xN,ys],styles:[".card[_ngcontent-%COMP%]{margin-top:20px;width:min(100% - 2rem,1700px);margin-inline:auto}.timeCard[_ngcontent-%COMP%]{margin-top:20px;width:min(100% - 2rem,300px);margin-inline:auto}body[_ngcontent-%COMP%]{background-color:#fff}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}.timeInfo[_ngcontent-%COMP%]{text-align:center;font-size:large}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{word-break:keep-all;text-align:center;white-space:normal;overflow:hidden;text-overflow:ellipsis;overflow-wrap:break-word;border-color:#a9a9a9;font-size:larger;height:90px}th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:700;font-size:25px}.mat-cell[_ngcontent-%COMP%]{text-align:center;font-size:50px}.highlight[_ngcontent-%COMP%]{background-color:#e0ffff}.open-cell[_ngcontent-%COMP%]{color:#b22222;font-weight:700}.className[_ngcontent-%COMP%]{font-size:25px;font-weight:600;border-right:#ddd}.QRcode[_ngcontent-%COMP%]{width:250px;height:250px}.mat-icon[_ngcontent-%COMP%]{height:50px;width:50px;font-size:50px;color:#90ee90}@media (max-width: 768px){td[_ngcontent-%COMP%]{white-space:normal;word-wrap:break-word}}"]}),n})()},{path:"regist",component:D$}];let cG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Uw.forRoot(lG),Uw]}),n})();const IN=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],pd=(()=>{if(typeof document>"u")return!1;const n=IN[0],e={};for(const t of IN)if(t?.[1]in document){for(const[r,a]of t.entries())e[n[r]]=a;return e}return!1})(),TN={change:pd.fullscreenchange,error:pd.fullscreenerror};let Us={request:(n=document.documentElement,e)=>new Promise((t,i)=>{const r=()=>{Us.off("change",r),t()};Us.on("change",r);const a=n[pd.requestFullscreen](e);a instanceof Promise&&a.then(r).catch(i)}),exit:()=>new Promise((n,e)=>{if(!Us.isFullscreen)return void n();const t=()=>{Us.off("change",t),n()};Us.on("change",t);const i=document[pd.exitFullscreen]();i instanceof Promise&&i.then(t).catch(e)}),toggle:(n,e)=>Us.isFullscreen?Us.exit():Us.request(n,e),onchange(n){Us.on("change",n)},onerror(n){Us.on("error",n)},on(n,e){const t=TN[n];t&&document.addEventListener(t,e,!1)},off(n,e){const t=TN[n];t&&document.removeEventListener(t,e,!1)},raw:pd};Object.defineProperties(Us,{isFullscreen:{get:()=>Boolean(document[pd.fullscreenElement])},element:{enumerable:!0,get:()=>document[pd.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[pd.fullscreenEnabled])}}),pd||(Us={isEnabled:!1});const VD=Us;let uG=(()=>{class n{constructor(t,i,r){this.angularFireAuth=t,this.angularFireStore=i,this.router=r,this.user$=this.angularFireAuth.authState.pipe(ei(a=>a?this.angularFireStore.doc(`users/${a.uid}`).valueChanges():Ke(null)))}googleSignin(){var t=this;return(0,ye.Z)(function*(){const i=new LM.Z.auth.GoogleAuthProvider,r=yield t.angularFireAuth.signInWithPopup(i);return console.log("login user :"+JSON.stringify(r.user.displayName)),t.userName=JSON.stringify(r.user.displayName),t.router.navigate(["/regist"]),t.updateUserData(r.user)})()}signOut(){var t=this;return(0,ye.Z)(function*(){yield t.angularFireAuth.signOut(),t.router.navigate(["/signage"])})()}updateUserData(t){return this.angularFireStore.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL},{merge:!0})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(iD),l.LFG(UM),l.LFG(lo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dG=["*",[["mat-toolbar-row"]]],hG=["*","mat-toolbar-row"],fG=dR(class{constructor(n){this._elementRef=n}});let pG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),mG=(()=>{class n extends fG{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Hr),l.Y36(J))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,pG,5),2&t){let a;l.iGM(a=l.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:hG,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(dG),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),gG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kn,kn]}),n})();function _G(n,e){if(1&n&&(l.TgZ(0,"div")(1,"a"),l._uU(2),l.ALo(3,"slice"),l.qZA()()),2&n){const t=l.oxw();l.xp6(2),l.hij("\u2003",l.Dn7(3,1,t.auth.userName,1,-1),"\u3055\u3093\u3002\u3053\u3093\u306b\u3061\u306f\uff01")}}function yG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"button",4),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.exitFullscreen())}),l.TgZ(2,"mat-icon",9),l._uU(3,"fullscreen_exit"),l.qZA()()()}}function vG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",4),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.fullscreen())}),l.TgZ(1,"mat-icon",10),l._uU(2,"fullscreen"),l.qZA()()}}let bG=(()=>{class n{constructor(t){this.auth=t,this.title="meio-classroom-info",this.isFullscreen=!1}fullscreen(){0==this.isFullscreen&&(VD.isEnabled?VD.request():console.log("fullScreen is not available..."),this.isFullscreen=!0)}exitFullscreen(){this.isFullscreen&&(VD.isEnabled?VD.exit():console.log("fullScreen is not available..."),this.isFullscreen=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(uG))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:15,vars:3,consts:[["color","primary"],["routerLink","/",1,"toolbar"],[4,"ngIf"],[1,"spacer"],["mat-icon-button","",3,"click"],[4,"ngIf","ngIfElse"],["exit",""],["mat-icon-button","","routerLink","/regist"],[1,"setting"],[1,"fullscreen"],[1,"document.fullscreenElement"]],template:function(t,i){if(1&t&&(l.TgZ(0,"mat-toolbar",0)(1,"a",1),l._uU(2,"PC\u6559\u5ba4\u6848\u5185"),l.qZA(),l.YNc(3,_G,4,5,"div",2),l._UZ(4,"span",3),l.TgZ(5,"button",4),l.NdJ("click",function(){return i.auth.googleSignin()}),l.TgZ(6,"mat-icon"),l._uU(7,"account_box"),l.qZA()(),l.YNc(8,yG,4,0,"div",5),l.YNc(9,vG,3,0,"ng-template",null,6,l.W1O),l.TgZ(11,"button",7)(12,"mat-icon",8),l._uU(13,"settings"),l.qZA()()(),l._UZ(14,"router-outlet")),2&t){const r=l.MAs(10);l.xp6(3),l.Q6J("ngIf",i.auth.userName),l.xp6(5),l.Q6J("ngIf",i.isFullscreen)("ngIfElse",r)}},dependencies:[bo,fc,dg,mG,yR,U3,Sr],styles:[".toolbar[_ngcontent-%COMP%]{text-decoration:none;color:#f5f5f5}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();function AN(n){return new l.vHH(3e3,!1)}function t6(){return typeof window<"u"&&typeof window.document<"u"}function xR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Zh(n){switch(n.length){case 0:return new X0;case 1:return n[0];default:return new oN(n)}}function MN(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,b=null;if(i.forEach(C=>{const M=C.get("offset"),F=M==_,B=F&&b||new Map;C.forEach((G,X)=>{let ce=X,Ne=G;if("offset"!==X)switch(ce=e.normalizePropertyName(ce,u),Ne){case bR:Ne=r.get(X);break;case fd:Ne=a.get(X);break;default:Ne=e.normalizeStyleValue(X,ce,Ne,u)}B.set(ce,Ne)}),F||f.push(B),b=B,_=M}),u.length)throw function zG(n){return new l.vHH(3502,!1)}();return f}function DR(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&SR(t,"start",n)));break;case"done":n.onDone(()=>i(t&&SR(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&SR(t,"destroy",n)))}}function SR(n,e,t){const a=IR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function IR(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function Hs(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function RN(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let TR=(n,e)=>!1,kN=(n,e,t)=>[],ON=null;function AR(n){const e=n.parentNode||n.host;return e===ON?null:e}(xR()||typeof Element<"u")&&(t6()?(ON=(()=>document.documentElement)(),TR=(n,e)=>{for(;e;){if(e===n)return!0;e=AR(e)}return!1}):TR=(n,e)=>n.contains(e),kN=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let cm=null,FN=!1;const PN=TR,NN=kN;let LN=(()=>{class n{validateStyleProperty(t){return function i6(n){cm||(cm=function r6(){return typeof document<"u"?document.body:null}()||{},FN=!!cm.style&&"WebkitAppearance"in cm.style);let e=!0;return cm.style&&!function n6(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in cm.style,!e&&FN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in cm.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return PN(t,i)}getParentElement(t){return AR(t)}query(t,i,r){return NN(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new X0(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),MR=(()=>{class n{}return n.NOOP=new LN,n})();const o6=1e3,RR="ng-enter",BD="ng-leave",UD="ng-trigger",HD=".ng-trigger",BN="ng-animating",kR=".ng-animating";function md(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:OR(parseFloat(e[1]),e[2])}function OR(n,e){return"s"===e?n*o6:n}function jD(n,e,t){return n.hasOwnProperty("duration")?n:function a6(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(AN()),{duration:0,delay:0,easing:""};r=OR(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=OR(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function wG(){return new l.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function EG(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,AN())}return{duration:r,delay:a,easing:u}}(n,e,t)}function J0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function UN(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Yh(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function jN(n,e,t){return t?e+":"+t+";":""}function zN(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=jN(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=jN(0,d6(t),n.style[t]));n.setAttribute("style",e)}function Lc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=PR(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),xR()&&zN(n))}function um(n,e){n.style&&(e.forEach((t,i)=>{const r=PR(i);n.style[r]=""}),xR()&&zN(n))}function ew(n){return Array.isArray(n)?1==n.length?n[0]:iN(n):n}const FR=new RegExp("{{\\s*(.+?)\\s*}}","g");function $N(n){let e=[];if("string"==typeof n){let t;for(;t=FR.exec(n);)e.push(t[1]);FR.lastIndex=0}return e}function tw(n,e,t){const i=n.toString(),r=i.replace(FR,(a,u)=>{let f=e[u];return null==f&&(t.push(function xG(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function zD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const u6=/-+([a-z0-9])/g;function PR(n){return n.replace(u6,(...e)=>e[1].toUpperCase())}function d6(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function js(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function DG(n){return new l.vHH(3004,!1)}()}}function GN(n,e){return window.getComputedStyle(n)[e]}const qD="*";function _6(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function y6(n,e,t){if(":"==n[0]){const _=function v6(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function BG(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function VG(n){return new l.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(qN(r,u));"<"==a[0]&&!(r==qD&&u==qD)&&e.push(qN(u,r))}(i,t,e)):t.push(n),t}const WD=new Set(["true","1"]),ZD=new Set(["false","0"]);function qN(n,e){const t=WD.has(n)||ZD.has(n),i=WD.has(e)||ZD.has(e);return(r,a)=>{let u=n==qD||n==r,f=e==qD||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?WD.has(n):ZD.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?WD.has(e):ZD.has(e)),u&&f}}const b6=new RegExp("s*:selfs*,?","g");function NR(n,e,t,i){return new w6(n).build(e,t,i)}class w6{constructor(e){this._driver=e}build(e,t,i){const r=new x6(t);return this._resetContextStyleTimingState(r),js(this,ew(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function IG(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(C=>{_.name=C,a.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function TG(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{$N(_).forEach(b=>{u.hasOwnProperty(b)||a.add(b)})})}),a.size&&(zD(a.values()),t.errors.push(function AG(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=js(this,ew(e.animation),t);return{type:1,matchers:_6(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:dm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>js(this,i,t)),options:dm(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=js(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:dm(e.options)}}visitAnimate(e,t){const i=function S6(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return LR(jD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=LR(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=jD(t,e);return LR(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Il({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=Il(b)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===fd?i.push(f):t.errors.push(new l.vHH(3002,!1)):i.push(UN(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),C=b.get(_);let M=!0;C&&(a!=r&&a>=C.startTime&&r<=C.endTime&&(t.errors.push(function RG(n,e,t,i,r){return new l.vHH(3010,!1)}()),M=!1),a=C.startTime),M&&b.set(_,{startTime:a,endTime:r}),t.options&&function c6(n,e,t){const i=e.params||{},r=$N(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function CG(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function kG(){return new l.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,b=0;const C=e.steps.map(Ne=>{const ht=this._makeStyleAst(Ne,t);let ft=null!=ht.offset?ht.offset:function D6(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ht.styles),xt=0;return null!=ft&&(a++,xt=ht.offset=ft),_=_||xt<0||xt>1,f=f||xt<b,b=xt,u.push(xt),ht});_&&t.errors.push(function OG(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function FG(){return new l.vHH(3200,!1)}());const M=e.steps.length;let F=0;a>0&&a<M?t.errors.push(function PG(){return new l.vHH(3202,!1)}()):0==a&&(F=1/(M-1));const B=M-1,G=t.currentTime,X=t.currentAnimateTimings,ce=X.duration;return C.forEach((Ne,ht)=>{const ft=F>0?ht==B?1:F*ht:u[ht],xt=ft*ce;t.currentTime=G+X.delay+xt,X.duration=xt,this._validateStyleAst(Ne,t),Ne.offset=ft,i.styles.push(Ne)}),i}visitReference(e,t){return{type:8,animation:js(this,ew(e.animation),t),options:dm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:dm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:dm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function E6(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(b6,"")),n=n.replace(/@\*/g,HD).replace(/@\w+/g,t=>HD+"-"+t.slice(1)).replace(/:animating/g,kR),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Hs(t.collectedStyles,t.currentQuerySelector,new Map);const f=js(this,ew(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:dm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function NG(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:jD(e.timings,t.errors,!0);return{type:12,animation:js(this,ew(e.animation),t),timings:i,options:null}}}class x6{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dm(n){return n?(n=J0(n)).params&&(n.params=function C6(n){return n?J0(n):null}(n.params)):n={},n}function LR(n,e,t){return{duration:n,delay:e,easing:t}}function VR(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class YD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const A6=new RegExp(":enter","g"),R6=new RegExp(":leave","g");function BR(n,e,t,i,r,a=new Map,u=new Map,f,_,b=[]){return(new k6).buildKeyframes(n,e,t,i,r,a,u,f,_,b)}class k6{buildKeyframes(e,t,i,r,a,u,f,_,b,C=[]){b=b||new YD;const M=new UR(e,t,b,r,a,C,[]);M.options=_;const F=_.delay?md(_.delay):0;M.currentTimeline.delayNextStep(F),M.currentTimeline.setStyles([u],null,M.errors,_),js(this,i,M);const B=M.timelines.filter(G=>G.containsAnimation());if(B.length&&f.size){let G;for(let X=B.length-1;X>=0;X--){const ce=B[X];if(ce.element===t){G=ce;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([f],null,M.errors,_)}return B.length?B.map(G=>G.buildKeyframes()):[VR(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const u="number"==typeof a?a:md(tw(a,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?md(i.duration):null,f=null!=i.delay?md(i.delay):null;return 0!==u&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),js(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=KD);const u=md(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>js(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?md(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),js(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return jD(t.params?tw(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?md(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=KD);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,C)=>{t.currentQueryIndex=C;const M=t.createSubContext(e.options,b);a&&M.delayNextStep(a),b===t.element&&(_=M.currentTimeline),js(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const C=t.currentTimeline;_&&C.delayNextStep(_);const M=C.currentTime;js(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-M+(r.startTime-i.currentTimeline.startTime)}}const KD={};class UR{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=KD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new QD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=md(i.duration)),null!=i.delay&&(r.delay=md(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=tw(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new UR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=KD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new O6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(A6,"."+this._enterClassName)).replace(R6,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&u.push(function LG(n){return new l.vHH(3014,!1)}()),f}}class QD{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new QD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||fd),this._currentKeyframe.set(t,fd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function F6(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,fd)}else Yh(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const b=tw(_,a,i);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??fd),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=Yh(f,new Map,this._backFill);b.forEach((C,M)=>{C===bR?e.add(M):C===fd&&t.add(M)}),i||b.set("offset",_/this.duration),r.push(b)});const a=e.size?zD(e.values()):[],u=t.size?zD(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return VR(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class O6 extends QD{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=Yh(e[0]);_.set("offset",0),a.push(_);const b=Yh(e[0]);b.set("offset",YN(f)),a.push(b);const C=e.length-1;for(let M=1;M<=C;M++){let F=Yh(e[M]);const B=F.get("offset");F.set("offset",YN((t+B*i)/u)),a.push(F)}i=u,t=0,r="",e=a}return VR(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function YN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class HR{}const P6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class N6 extends HR{normalizePropertyName(e,t){return PR(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(P6.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function SG(n,e){return new l.vHH(3005,!1)}())}return u+a}}function KN(n,e,t,i,r,a,u,f,_,b,C,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:C,totalTime:M,errors:F}}const jR={};class QN{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function L6(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,b,C){const M=[],F=this.ast.options&&this.ast.options.params||jR,G=this.buildStyles(i,f&&f.params||jR,M),X=_&&_.params||jR,ce=this.buildStyles(r,X,M),Ne=new Set,ht=new Map,ft=new Map,xt="void"===r,qt={params:V6(X,F),delay:this.ast.options?.delay},Yt=C?[]:BR(e,t,this.ast.animation,a,u,G,ce,qt,b,M);let Cn=0;if(Yt.forEach(gd=>{Cn=Math.max(gd.duration+gd.delay,Cn)}),M.length)return KN(t,this._triggerName,i,r,xt,G,ce,[],[],ht,ft,Cn,M);Yt.forEach(gd=>{const _d=gd.element,IL=Hs(ht,_d,new Set);gd.preStyleProps.forEach(pm=>IL.add(pm));const rw=Hs(ft,_d,new Set);gd.postStyleProps.forEach(pm=>rw.add(pm)),_d!==t&&Ne.add(_d)});const jr=zD(Ne.values());return KN(t,this._triggerName,i,r,xt,G,ce,Yt,jr,ht,ft,Cn)}}function V6(n,e){const t=J0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class B6{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=J0(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=tw(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(f,u)})}),i}}class H6{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new B6(r.style,r.options&&r.options.params||{},i))}),XN(this.states,"true","1"),XN(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new QN(e,r,this.states))}),this.fallbackTransition=function j6(n,e,t){return new QN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function XN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const z6=new YD;class $6{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],a=NR(this._driver,t,i,r);if(i.length)throw function $G(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=MN(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=BR(this._driver,t,a,RR,BD,new Map,new Map,i,z6,r),u.forEach(C=>{const M=Hs(f,C.element,new Map);C.postStyleProps.forEach(F=>M.set(F,null))})):(r.push(function GG(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function qG(n){return new l.vHH(3504,!1)}();f.forEach((C,M)=>{C.forEach((F,B)=>{C.set(B,this._driver.computeStyle(M,B,fd))})});const b=Zh(u.map(C=>{const M=f.get(C.element);return this._buildPlayer(C,new Map,M)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function WG(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=IR(t,"","","");return DR(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const JN="ng-animate-queued",zR="ng-animate-disabled",Y6=[],eL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},K6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ma="__ng_removed";class $R{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function e4(n){return n??null}(i?e.value:e),i){const a=J0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const nw="void",GR=new $R(nw);class Q6{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ra(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function ZG(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function YG(n){return new l.vHH(3303,!1)}();if(!function t4(n){return"start"==n||"done"==n}(i))throw function KG(n,e){return new l.vHH(3400,!1)}();const a=Hs(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=Hs(this._engine.statesByElement,e,new Map);return f.has(t)||(Ra(e,UD),Ra(e,UD+"-"+t),f.set(t,GR)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function QG(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new qR(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ra(e,UD),Ra(e,UD+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const b=new $R(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(t,b),_||(_=GR),b.value!==nw&&_.value===b.value){if(!function o4(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const X=[],ce=a.matchStyles(_.value,_.params,X),Ne=a.matchStyles(b.value,b.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{um(e,ce),Lc(e,Ne)})}return}const F=Hs(this._engine.playersByElement,e,[]);F.forEach(X=>{X.namespaceId==this.id&&X.triggerName==t&&X.queued&&X.destroy()});let B=a.matchTransition(_.value,b.value,e,b.params),G=!1;if(!B){if(!r)return;B=a.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:b,player:u,isFallbackTransition:G}),G||(Ra(e,JN),u.onStart(()=>{Ty(e,JN)})),u.onDone(()=>{let X=this.players.indexOf(u);X>=0&&this.players.splice(X,1);const ce=this._engine.playersByElement.get(e);if(ce){let Ne=ce.indexOf(u);Ne>=0&&ce.splice(Ne,1)}}),this.players.push(u),F.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,HD,!0);i.forEach(r=>{if(r[Ma])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,b)=>{if(u.set(b,_.value),this._triggers.has(b)){const C=this.trigger(e,b,nw,r);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Zh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,b=i.get(u)||GR,C=new $R(nw),M=new qR(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:b,toState:C,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Ma];(!a||a===eL)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ra(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=IR(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,DR(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class X6{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Q6(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(XD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!XD(t))return;const a=t[Ma];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ra(e,zR)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ty(e,zR))}removeNode(e,t,i,r){if(XD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Ma]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return XD(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,HD,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,kR,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Zh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ma];if(t&&t.setForRemoval){if(e[Ma]=eL,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(zR)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ra(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Zh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function XG(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new YD,r=[],a=new Map,u=[],f=new Map,_=new Map,b=new Map,C=new Set;this.disabledNodes.forEach(Et=>{C.add(Et);const Pt=this.driver.query(Et,".ng-animate-queued",!0);for(let Ht=0;Ht<Pt.length;Ht++)C.add(Pt[Ht])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=iL(F,this.collectedEnterElements),G=new Map;let X=0;B.forEach((Et,Pt)=>{const Ht=RR+X++;G.set(Pt,Ht),Et.forEach(yn=>Ra(yn,Ht))});const ce=[],Ne=new Set,ht=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Pt=this.collectedLeaveElements[Et],Ht=Pt[Ma];Ht&&Ht.setForRemoval&&(ce.push(Pt),Ne.add(Pt),Ht.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(yn=>Ne.add(yn)):ht.add(Pt))}const ft=new Map,xt=iL(F,Array.from(Ne));xt.forEach((Et,Pt)=>{const Ht=BD+X++;ft.set(Pt,Ht),Et.forEach(yn=>Ra(yn,Ht))}),e.push(()=>{B.forEach((Et,Pt)=>{const Ht=G.get(Pt);Et.forEach(yn=>Ty(yn,Ht))}),xt.forEach((Et,Pt)=>{const Ht=ft.get(Pt);Et.forEach(yn=>Ty(yn,Ht))}),ce.forEach(Et=>{this.processLeaveNode(Et)})});const qt=[],Yt=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(t).forEach(Ht=>{const yn=Ht.player,zr=Ht.element;if(qt.push(yn),this.collectedEnterElements.length){const yo=zr[Ma];if(yo&&yo.setForMove){if(yo.previousTriggersValues&&yo.previousTriggersValues.has(Ht.triggerName)){const mm=yo.previousTriggersValues.get(Ht.triggerName),ka=this.statesByElement.get(Ht.element);if(ka&&ka.has(Ht.triggerName)){const tS=ka.get(Ht.triggerName);tS.value=mm,ka.set(Ht.triggerName,tS)}}return void yn.destroy()}}const Vc=!M||!this.driver.containsElement(M,zr),zs=ft.get(zr),Kh=G.get(zr),xi=this._buildInstruction(Ht,i,Kh,zs,Vc);if(xi.errors&&xi.errors.length)return void Yt.push(xi);if(Vc)return yn.onStart(()=>um(zr,xi.fromStyles)),yn.onDestroy(()=>Lc(zr,xi.toStyles)),void r.push(yn);if(Ht.isFallbackTransition)return yn.onStart(()=>um(zr,xi.fromStyles)),yn.onDestroy(()=>Lc(zr,xi.toStyles)),void r.push(yn);const ML=[];xi.timelines.forEach(yo=>{yo.stretchStartingKeyframe=!0,this.disabledNodes.has(yo.element)||ML.push(yo)}),xi.timelines=ML,i.append(zr,xi.timelines),u.push({instruction:xi,player:yn,element:zr}),xi.queriedElements.forEach(yo=>Hs(f,yo,[]).push(yn)),xi.preStyleProps.forEach((yo,mm)=>{if(yo.size){let ka=_.get(mm);ka||_.set(mm,ka=new Set),yo.forEach((tS,QR)=>ka.add(QR))}}),xi.postStyleProps.forEach((yo,mm)=>{let ka=b.get(mm);ka||b.set(mm,ka=new Set),yo.forEach((tS,QR)=>ka.add(QR))})});if(Yt.length){const Et=[];Yt.forEach(Pt=>{Et.push(function JG(n,e){return new l.vHH(3505,!1)}())}),qt.forEach(Pt=>Pt.destroy()),this.reportError(Et)}const Cn=new Map,jr=new Map;u.forEach(Et=>{const Pt=Et.element;i.has(Pt)&&(jr.set(Pt,Pt),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,Cn))}),r.forEach(Et=>{const Pt=Et.element;this._getPreviousPlayers(Pt,!1,Et.namespaceId,Et.triggerName,null).forEach(yn=>{Hs(Cn,Pt,[]).push(yn),yn.destroy()})});const gd=ce.filter(Et=>oL(Et,_,b)),_d=new Map;nL(_d,this.driver,ht,b,fd).forEach(Et=>{oL(Et,_,b)&&gd.push(Et)});const rw=new Map;B.forEach((Et,Pt)=>{nL(rw,this.driver,new Set(Et),_,bR)}),gd.forEach(Et=>{const Pt=_d.get(Et),Ht=rw.get(Et);_d.set(Et,new Map([...Array.from(Pt?.entries()??[]),...Array.from(Ht?.entries()??[])]))});const pm=[],TL=[],AL={};u.forEach(Et=>{const{element:Pt,player:Ht,instruction:yn}=Et;if(i.has(Pt)){if(C.has(Pt))return Ht.onDestroy(()=>Lc(Pt,yn.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(yn.totalTime),void r.push(Ht);let zr=AL;if(jr.size>1){let zs=Pt;const Kh=[];for(;zs=zs.parentNode;){const xi=jr.get(zs);if(xi){zr=xi;break}Kh.push(zs)}Kh.forEach(xi=>jr.set(xi,zr))}const Vc=this._buildAnimation(Ht.namespaceId,yn,Cn,a,rw,_d);if(Ht.setRealPlayer(Vc),zr===AL)pm.push(Ht);else{const zs=this.playersByElement.get(zr);zs&&zs.length&&(Ht.parentPlayer=Zh(zs)),r.push(Ht)}}else um(Pt,yn.fromStyles),Ht.onDestroy(()=>Lc(Pt,yn.toStyles)),TL.push(Ht),C.has(Pt)&&r.push(Ht)}),TL.forEach(Et=>{const Pt=a.get(Et.element);if(Pt&&Pt.length){const Ht=Zh(Pt);Et.setRealPlayer(Ht)}}),r.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<ce.length;Et++){const Pt=ce[Et],Ht=Pt[Ma];if(Ty(Pt,BD),Ht&&Ht.hasAnimation)continue;let yn=[];if(f.size){let Vc=f.get(Pt);Vc&&Vc.length&&yn.push(...Vc);let zs=this.driver.query(Pt,kR,!0);for(let Kh=0;Kh<zs.length;Kh++){let xi=f.get(zs[Kh]);xi&&xi.length&&yn.push(...xi)}}const zr=yn.filter(Vc=>!Vc.destroyed);zr.length?n4(this,Pt,zr):this.processLeaveNode(Pt)}return ce.length=0,pm.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Pt=this.players.indexOf(Et);this.players.splice(Pt,1)}),Et.play()}),pm}elementContainsData(e,t){let i=!1;const r=t[Ma];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==nw;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,C=b!==a,M=Hs(i,b,[]);this._getPreviousPlayers(b,C,u,f,t.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),M.push(B)})}um(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,b=[],C=new Set,M=new Set,F=t.timelines.map(G=>{const X=G.element;C.add(X);const ce=X[Ma];if(ce&&ce.removedBeforeQueried)return new X0(G.duration,G.delay);const Ne=X!==_,ht=function r4(n){const e=[];return rL(n,e),e}((i.get(X)||Y6).map(Cn=>Cn.getRealPlayer())).filter(Cn=>!!Cn.element&&Cn.element===X),ft=a.get(X),xt=u.get(X),qt=MN(0,this._normalizer,0,G.keyframes,ft,xt),Yt=this._buildPlayer(G,qt,ht);if(G.subTimeline&&r&&M.add(X),Ne){const Cn=new qR(e,f,X);Cn.setRealPlayer(Yt),b.push(Cn)}return Yt});b.forEach(G=>{Hs(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function J6(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,G.element,G))}),C.forEach(G=>Ra(G,BN));const B=Zh(F);return B.onDestroy(()=>{C.forEach(G=>Ty(G,BN)),Lc(_,t.toStyles)}),M.forEach(G=>{Hs(r,G,[]).push(B)}),B}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new X0(e.duration,e.delay)}}class qR{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new X0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>DR(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Hs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function XD(n){return n&&1===n.nodeType}function tL(n,e){const t=n.style.display;return n.style.display=e??"none",t}function nL(n,e,t,i,r){const a=[];t.forEach(_=>a.push(tL(_)));const u=[];i.forEach((_,b)=>{const C=new Map;_.forEach(M=>{const F=e.computeStyle(b,M,r);C.set(M,F),(!F||0==F.length)&&(b[Ma]=K6,u.push(b))}),n.set(b,C)});let f=0;return t.forEach(_=>tL(_,a[f++])),u}function iL(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=1,r=new Set(e),a=new Map;function u(f){if(!f)return i;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:r.has(b)?i:u(b),a.set(f,_),_}return e.forEach(f=>{const _=u(f);_!==i&&t.get(_).push(f)}),t}function Ra(n,e){n.classList?.add(e)}function Ty(n,e){n.classList?.remove(e)}function n4(n,e,t){Zh(t).onDone(()=>n.processLeaveNode(e))}function rL(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof oN?rL(i.players,e):e.push(i)}}function oL(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class JD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new X6(e,t,i),this._timelineEngine=new $6(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],b=[],C=NR(this._driver,a,_,b);if(_.length)throw function jG(n,e){return new l.vHH(3404,!1)}();f=function U6(n,e,t){return new H6(n,e,t)}(r,C,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=RN(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=RN(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let a4=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Lc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lc(this._element,this._initialStyles),this._endStyles&&(Lc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(um(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(um(this._element,this._endStyles),this._endStyles=null),Lc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function WR(n){let e=null;return n.forEach((t,i)=>{(function l4(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class sL{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:GN(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class c4{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return PN(e,t)}getParentElement(e){return AR(e)}query(e,t,i){return NN(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b=new Map,C=u.filter(B=>B instanceof sL);(function h6(n,e){return 0===n||0===e})(i,r)&&C.forEach(B=>{B.currentSnapshot.forEach((G,X)=>b.set(X,G))});let M=function l6(n){return n.length?n[0]instanceof Map?n:n.map(e=>UN(e)):[]}(t).map(B=>Yh(B));M=function f6(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,GN(n,f)))}}return e}(e,M,b);const F=function s4(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=WR(e[0]),e.length>1&&(i=WR(e[e.length-1]))):e instanceof Map&&(t=WR(e)),t||i?new a4(n,t,i):null}(e,M);return new sL(e,M,_,F)}}let u4=(()=>{class n extends nN{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?iN(t):t;return aL(this._renderer,null,i,"register",[r]),new d4(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class d4 extends j3{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new h4(this._id,e,t||{},this._renderer)}}class h4{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return aL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function aL(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const lL="@.disabled";let f4=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(a);return C||(C=new cL("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,C)),C}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=C=>{Array.isArray(C)?C.forEach(_):this.engine.registerTrigger(u,f,t,C.name,C)};return i.data.animation.forEach(_),new p4(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(JD),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class cL{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==lL?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class p4 extends cL{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==lL?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function m4(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function g4(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let _4=(()=>{class n extends JD{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J),l.LFG(MR),l.LFG(HR),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const uL=[{provide:nN,useClass:u4},{provide:HR,useFactory:function y4(){return new N6}},{provide:JD,useClass:_4},{provide:l.FYo,useFactory:function v4(n,e,t){return new f4(n,e,t)},deps:[So,JD,l.R0b]}],ZR=[{provide:MR,useFactory:()=>new c4},{provide:l.QbO,useValue:"BrowserAnimations"},...uL],dL=[{provide:MR,useClass:LN},{provide:l.QbO,useValue:"NoopAnimations"},...uL];let b4=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?dL:ZR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:ZR,imports:[To]}),n})(),E4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kn]}),n})();class YR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class C4 extends YR{constructor(e,t,i,r,a){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=a}}class hL extends YR{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class x4 extends YR{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class D4{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof C4?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof hL?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof x4?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class S4 extends D4{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let I4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const fL=hP();class T4{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=sr(-this._previousScrollPosition.left),e.style.top=sr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),fL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fL&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class A4{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pL{enable(){}disable(){}attach(){}}function KR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function mL(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class M4{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();KR(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let R4=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new pL,this.close=u=>new A4(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new T4(this._viewportRuler,this._document),this.reposition=u=>new M4(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fD),l.LFG(q0),l.LFG(l.R0b),l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gL{constructor(e){if(this.scrollStrategy=new pL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class k4{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let _L=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O4=(()=>{class n extends _L{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F4=(()=>{class n extends _L{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=ud(a)},this._clickListener=a=>{const u=ud(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const C=_[b];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(u)||C.overlayElement.contains(f))break;const M=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>M.next(a)):M.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J),l.LFG(Hr),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yL=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||YM()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),YM()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(J),l.LFG(Hr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class P4{constructor(e,t,i,r,a,u,f,_,b,C=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=b,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new Xt.x,this._attachments=new Xt.x,this._detachments=new Xt.x,this._locationChanges=Jn.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._backdropTransitionendHandler=M=>{this._disposeBackdrop(M.target)},this._keydownEvents=new Xt.x,this._outsidePointerEvents=new Xt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=sr(this._config.width),e.height=sr(this._config.height),e.minWidth=sr(this._config.minWidth),e.minHeight=sr(this._config.minHeight),e.maxWidth=sr(this._config.maxWidth),e.maxHeight=sr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=cD(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Bs((0,rm.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const vL="cdk-overlay-connected-position-bounding-box",N4=/([A-Za-z%]+)$/;class L4{get positions(){return this._preferredPositions}constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Xt.x,this._resizeSubscription=Jn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(vL),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),b=this._getOverlayPoint(_,t,f),C=this._getOverlayFit(b,t,i,f);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(C,b,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<C.visibleArea)&&(u={overlayFit:C,overlayPoint:b,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const b of a){const C=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);C>_&&(_=C,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&hm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=wL(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(f+=b);let F=0-f,B=f+a.height-i.height,G=this._subtractOverflows(a.width,0-u,u+a.width-i.width),X=this._subtractOverflows(a.height,F,B),ce=G*X;return{visibleArea:ce,isCompletelyWithinViewport:a.width*a.height===ce,fitsInViewportVertically:X===a.height,fitsInViewportHorizontally:G==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=bL(this._overlayRef.getConfig().minHeight),f=bL(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=u&&u<=r)&&(e.fitsInViewportHorizontally||null!=f&&f<=a)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=wL(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),b=Math.max(a.left-i.left-e.x,0);let C=0,M=0;return C=r.width<=a.width?b||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,M=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:C,y:M},{x:e.x+C,y:e.y+M}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new k4(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,C,M,F;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const B=Math.min(i.bottom-e.y+i.top,e.y),G=this._lastBoundingBoxSize.height;a=2*B,u=e.y-B,a>G&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-G/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)F=i.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)M=e.x,C=i.right-e.x;else{const B=Math.min(i.right-e.x+i.left,e.x),G=this._lastBoundingBoxSize.width;C=2*B,M=e.x-B,C>G&&!this._isInitialRender&&!this._growAfterOpen&&(M=e.x-G/2)}return{top:u,left:M,bottom:f,right:F,width:C,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=sr(i.height),r.top=sr(i.top),r.bottom=sr(i.bottom),r.width=sr(i.width),r.left=sr(i.left),r.right=sr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=sr(a)),u&&(r.maxWidth=sr(u))}this._lastBoundingBoxSize=i,hm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){hm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){hm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();hm(i,this._getExactOverlayY(t,e,C)),hm(i,this._getExactOverlayX(t,e,C))}else i.position="static";let f="",_=this._getOffset(t,"x"),b=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),b&&(f+=`translateY(${b}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=sr(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=sr(u.maxWidth):a&&(i.maxWidth="")),hm(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=sr(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=sr(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mL(e,i),isOriginOutsideView:KR(e,i),isOverlayClipped:mL(t,i),isOverlayOutsideView:KR(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&cD(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function hm(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function bL(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(N4);return t&&"px"!==t?null:parseFloat(e)}return n||null}function wL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const EL="cdk-global-overlay-wrapper";class V4{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(EL),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),C=this._xPosition,M=this._xOffset,F="rtl"===this._overlayRef.getConfig().direction;let B="",G="",X="";_?X="flex-start":"center"===C?(X="center",F?G=M:B=M):F?"left"===C||"end"===C?(X="flex-end",B=M):("right"===C||"start"===C)&&(X="flex-start",G=M):"left"===C||"start"===C?(X="flex-start",B=M):("right"===C||"end"===C)&&(X="flex-end",G=M),e.position=this._cssPosition,e.marginLeft=_?"0":B,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":G,t.justifyContent=X,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(EL),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let B4=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new V4}flexibleConnectedTo(t){return new L4(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(q0),l.LFG(J),l.LFG(Hr),l.LFG(yL))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U4=0,iw=(()=>{class n{constructor(t,i,r,a,u,f,_,b,C,M,F,B){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=b,this._directionality=C,this._location=M,this._outsideClickDispatcher=F,this._animationsModuleType=B}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new gL(t);return u.direction=u.direction||this._directionality.value,new P4(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+U4++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new S4(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(R4),l.LFG(yL),l.LFG(l._Vd),l.LFG(B4),l.LFG(O4),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(J),l.LFG(om),l.LFG(Le),l.LFG(F4),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const z4={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[iw],useFactory:function j4(n){return()=>n.scrollStrategies.reposition()}};let CL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[iw,z4],imports:[U0,I4,XM,XM]}),n})();const K4={provide:new l.OlP("mat-autocomplete-scroll-strategy"),deps:[iw],useFactory:function Y4(n){return()=>n.scrollStrategies.reposition()}};let J4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[K4],imports:[CL,SD,kn,xo,pD,SD,kn]}),n})();const o5={provide:new l.OlP("mat-select-scroll-strategy"),deps:[iw],useFactory:function r5(n){return()=>n.scrollStrategies.reposition()}};let s5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[o5],imports:[xo,CL,SD,kn,pD,LD,SD,kn]}),n})();const a5_firebase={apiKey:"AIzaSyDIrPTYo0MnM44ThQfgTsJjI5GuB2S-MXU",authDomain:"meio-classroom-info.firebaseapp.com",databaseURL:"https://meio-classroom-info-default-rtdb.firebaseio.com",projectId:"meio-classroom-info",storageBucket:"meio-classroom-info.appspot.com",messagingSenderId:"830823781548",appId:"1:830823781548:web:2fef1fb7f06b56d481fb09",measurementId:"G-04GEY0NQN1"};let u5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[$P,kn,$P,kn]}),n})(),d5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[bG]}),n.\u0275inj=l.cJS({imports:[To,xo,gH,cG,b4,Zv,gG,m3,E4,T3,H3,LD,Nz,J4,s5,Hz,r$,u5,Ci.hO.initializeApp(a5_firebase),WU,BU]}),n})();la().bootstrapModule(d5).catch(n=>console.error(n))},9751:(_t,Ee,P)=>{P.d(Ee,{y:()=>he});var l=P(930),ee=P(727),N=P(8822),re=P(9635),oe=P(2416),J=P(576),me=P(2806);let he=(()=>{class Q{constructor(De){De&&(this._subscribe=De)}lift(De){const qe=new Q;return qe.source=this,qe.operator=De,qe}subscribe(De,qe,dt){const pe=function q(Q){return Q&&Q instanceof l.Lv||function z(Q){return Q&&(0,J.m)(Q.next)&&(0,J.m)(Q.error)&&(0,J.m)(Q.complete)}(Q)&&(0,ee.Nn)(Q)}(De)?De:new l.Hp(De,qe,dt);return(0,me.x)(()=>{const{operator:Se,source:Ie}=this;pe.add(Se?Se.call(pe,Ie):Ie?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(De){try{return this._subscribe(De)}catch(qe){De.error(qe)}}forEach(De,qe){return new(qe=de(qe))((dt,pe)=>{const Se=new l.Hp({next:Ie=>{try{De(Ie)}catch(Le){pe(Le),Se.unsubscribe()}},error:pe,complete:dt});this.subscribe(Se)})}_subscribe(De){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(De)}[N.L](){return this}pipe(...De){return(0,re.U)(De)(this)}toPromise(De){return new(De=de(De))((qe,dt)=>{let pe;this.subscribe(Se=>pe=Se,Se=>dt(Se),()=>qe(pe))})}}return Q.create=ze=>new Q(ze),Q})();function de(Q){var ze;return null!==(ze=Q??oe.v.Promise)&&void 0!==ze?ze:Promise}},7579:(_t,Ee,P)=>{P.d(Ee,{x:()=>me});var l=P(9751),ee=P(727);const re=(0,P(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=P(8737),J=P(2806);let me=(()=>{class de extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const Q=new he(this,this);return Q.operator=q,Q}_throwIfClosed(){if(this.closed)throw new re}next(q){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(q)}})}error(q){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:Q}=this;for(;Q.length;)Q.shift().error(q)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:Q,isStopped:ze,observers:De}=this;return Q||ze?ee.Lc:(this.currentObservers=null,De.push(q),new ee.w0(()=>{this.currentObservers=null,(0,oe.P)(De,q)}))}_checkFinalizedStatuses(q){const{hasError:Q,thrownError:ze,isStopped:De}=this;Q?q.error(ze):De&&q.complete()}asObservable(){const q=new l.y;return q.source=this,q}}return de.create=(z,q)=>new he(z,q),de})();class he extends me{constructor(z,q){super(),this.destination=z,this.source=q}next(z){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===Q||Q.call(q,z)}error(z){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===Q||Q.call(q,z)}complete(){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===q||q.call(z)}_subscribe(z){var q,Q;return null!==(Q=null===(q=this.source)||void 0===q?void 0:q.subscribe(z))&&void 0!==Q?Q:ee.Lc}}},930:(_t,Ee,P)=>{P.d(Ee,{Hp:()=>dt,Lv:()=>Q});var l=P(576),ee=P(727),N=P(2416),re=P(7849),oe=P(5032);const J=de("C",void 0,void 0);function de(xe,we,Me){return{kind:xe,value:we,error:Me}}var z=P(3410),q=P(2806);class Q extends ee.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,ee.Nn)(we)&&we.add(this)):this.destination=Le}static create(we,Me,Ue){return new dt(we,Me,Ue)}next(we){this.isStopped?Ie(function he(xe){return de("N",xe,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Ie(function me(xe){return de("E",void 0,xe)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Ie(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function De(xe,we){return ze.call(xe,we)}class qe{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Me}=this;if(Me.next)try{Me.next(we)}catch(Ue){pe(Ue)}}error(we){const{partialObserver:Me}=this;if(Me.error)try{Me.error(we)}catch(Ue){pe(Ue)}else pe(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Me){pe(Me)}}}class dt extends Q{constructor(we,Me,Ue){let Pe;if(super(),(0,l.m)(we)||!we)Pe={next:we??void 0,error:Me??void 0,complete:Ue??void 0};else{let H;this&&N.v.useDeprecatedNextContext?(H=Object.create(we),H.unsubscribe=()=>this.unsubscribe(),Pe={next:we.next&&De(we.next,H),error:we.error&&De(we.error,H),complete:we.complete&&De(we.complete,H)}):Pe=we}this.destination=new qe(Pe)}}function pe(xe){N.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(xe):(0,re.h)(xe)}function Ie(xe,we){const{onStoppedNotification:Me}=N.v;Me&&z.z.setTimeout(()=>Me(xe,we))}const Le={closed:!0,next:oe.Z,error:function Se(xe){throw xe},complete:oe.Z}},727:(_t,Ee,P)=>{P.d(Ee,{Lc:()=>J,w0:()=>oe,Nn:()=>me});var l=P(576);const N=(0,P(3888).d)(de=>function(q){de(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((Q,ze)=>`${ze+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var re=P(8737);class oe{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const De of q)De.remove(this);else q.remove(this);const{initialTeardown:Q}=this;if((0,l.m)(Q))try{Q()}catch(De){z=De instanceof N?De.errors:[De]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const De of ze)try{he(De)}catch(qe){z=z??[],qe instanceof N?z=[...z,...qe.errors]:z.push(qe)}}if(z)throw new N(z)}}add(z){var q;if(z&&z!==this)if(this.closed)he(z);else{if(z instanceof oe){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(z)}}_hasParent(z){const{_parentage:q}=this;return q===z||Array.isArray(q)&&q.includes(z)}_addParent(z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(z),q):q?[q,z]:z}_removeParent(z){const{_parentage:q}=this;q===z?this._parentage=null:Array.isArray(q)&&(0,re.P)(q,z)}remove(z){const{_finalizers:q}=this;q&&(0,re.P)(q,z),z instanceof oe&&z._removeParent(this)}}oe.EMPTY=(()=>{const de=new oe;return de.closed=!0,de})();const J=oe.EMPTY;function me(de){return de instanceof oe||de&&"closed"in de&&(0,l.m)(de.remove)&&(0,l.m)(de.add)&&(0,l.m)(de.unsubscribe)}function he(de){(0,l.m)(de)?de():de.unsubscribe()}},2416:(_t,Ee,P)=>{P.d(Ee,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(_t,Ee,P)=>{P.d(Ee,{E:()=>ee});const ee=new(P(9751).y)(oe=>oe.complete())},8996:(_t,Ee,P)=>{P.d(Ee,{D:()=>we});var l=P(8421),ee=P(5363),N=P(9468),J=P(9751),he=P(2202),de=P(576),z=P(9672);function Q(Me,Ue){if(!Me)throw new Error("Iterable cannot be null");return new J.y(Pe=>{(0,z.f)(Pe,Ue,()=>{const H=Me[Symbol.asyncIterator]();(0,z.f)(Pe,Ue,()=>{H.next().then(ve=>{ve.done?Pe.complete():Pe.next(ve.value)})},0,!0)})})}var ze=P(3670),De=P(8239),qe=P(1144),dt=P(6495),pe=P(2206),Se=P(4532),Ie=P(3260);function we(Me,Ue){return Ue?function xe(Me,Ue){if(null!=Me){if((0,ze.c)(Me))return function re(Me,Ue){return(0,l.Xf)(Me).pipe((0,N.R)(Ue),(0,ee.Q)(Ue))}(Me,Ue);if((0,qe.z)(Me))return function me(Me,Ue){return new J.y(Pe=>{let H=0;return Ue.schedule(function(){H===Me.length?Pe.complete():(Pe.next(Me[H++]),Pe.closed||this.schedule())})})}(Me,Ue);if((0,De.t)(Me))return function oe(Me,Ue){return(0,l.Xf)(Me).pipe((0,N.R)(Ue),(0,ee.Q)(Ue))}(Me,Ue);if((0,pe.D)(Me))return Q(Me,Ue);if((0,dt.T)(Me))return function q(Me,Ue){return new J.y(Pe=>{let H;return(0,z.f)(Pe,Ue,()=>{H=Me[he.h](),(0,z.f)(Pe,Ue,()=>{let ve,He;try{({value:ve,done:He}=H.next())}catch(Ze){return void Pe.error(Ze)}He?Pe.complete():Pe.next(ve)},0,!0)}),()=>(0,de.m)(H?.return)&&H.return()})}(Me,Ue);if((0,Ie.L)(Me))return function Le(Me,Ue){return Q((0,Ie.Q)(Me),Ue)}(Me,Ue)}throw(0,Se.z)(Me)}(Me,Ue):(0,l.Xf)(Me)}},8421:(_t,Ee,P)=>{P.d(Ee,{Xf:()=>ze});var l=P(655),ee=P(1144),N=P(8239),re=P(9751),oe=P(3670),J=P(2206),me=P(4532),he=P(6495),de=P(3260),z=P(576),q=P(7849),Q=P(8822);function ze(xe){if(xe instanceof re.y)return xe;if(null!=xe){if((0,oe.c)(xe))return function De(xe){return new re.y(we=>{const Me=xe[Q.L]();if((0,z.m)(Me.subscribe))return Me.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,ee.z)(xe))return function qe(xe){return new re.y(we=>{for(let Me=0;Me<xe.length&&!we.closed;Me++)we.next(xe[Me]);we.complete()})}(xe);if((0,N.t)(xe))return function dt(xe){return new re.y(we=>{xe.then(Me=>{we.closed||(we.next(Me),we.complete())},Me=>we.error(Me)).then(null,q.h)})}(xe);if((0,J.D)(xe))return Se(xe);if((0,he.T)(xe))return function pe(xe){return new re.y(we=>{for(const Me of xe)if(we.next(Me),we.closed)return;we.complete()})}(xe);if((0,de.L)(xe))return function Ie(xe){return Se((0,de.Q)(xe))}(xe)}throw(0,me.z)(xe)}function Se(xe){return new re.y(we=>{(function Le(xe,we){var Me,Ue,Pe,H;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Me=(0,l.KL)(xe);!(Ue=yield Me.next()).done;)if(we.next(Ue.value),we.closed)return}catch(ve){Pe={error:ve}}finally{try{Ue&&!Ue.done&&(H=Me.return)&&(yield H.call(Me))}finally{if(Pe)throw Pe.error}}we.complete()})})(xe,we).catch(Me=>we.error(Me))})}},6451:(_t,Ee,P)=>{P.d(Ee,{T:()=>J});var l=P(8189),ee=P(8421),N=P(515),re=P(3269),oe=P(8996);function J(...me){const he=(0,re.yG)(me),de=(0,re._6)(me,1/0),z=me;return z.length?1===z.length?(0,ee.Xf)(z[0]):(0,l.J)(de)((0,oe.D)(z,he)):N.E}},5403:(_t,Ee,P)=>{P.d(Ee,{x:()=>ee});var l=P(930);function ee(re,oe,J,me,he){return new N(re,oe,J,me,he)}class N extends l.Lv{constructor(oe,J,me,he,de,z){super(oe),this.onFinalize=de,this.shouldUnsubscribe=z,this._next=J?function(q){try{J(q)}catch(Q){oe.error(Q)}}:super._next,this._error=he?function(q){try{he(q)}catch(Q){oe.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(q){oe.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(_t,Ee,P)=>{P.d(Ee,{U:()=>N});var l=P(4482),ee=P(5403);function N(re,oe){return(0,l.e)((J,me)=>{let he=0;J.subscribe((0,ee.x)(me,de=>{me.next(re.call(oe,de,he++))}))})}},8189:(_t,Ee,P)=>{P.d(Ee,{J:()=>N});var l=P(5577),ee=P(4671);function N(re=1/0){return(0,l.z)(ee.y,re)}},5577:(_t,Ee,P)=>{P.d(Ee,{z:()=>he});var l=P(4004),ee=P(8421),N=P(4482),re=P(9672),oe=P(5403),me=P(576);function he(de,z,q=1/0){return(0,me.m)(z)?he((Q,ze)=>(0,l.U)((De,qe)=>z(Q,De,ze,qe))((0,ee.Xf)(de(Q,ze))),q):("number"==typeof z&&(q=z),(0,N.e)((Q,ze)=>function J(de,z,q,Q,ze,De,qe,dt){const pe=[];let Se=0,Ie=0,Le=!1;const xe=()=>{Le&&!pe.length&&!Se&&z.complete()},we=Ue=>Se<Q?Me(Ue):pe.push(Ue),Me=Ue=>{De&&z.next(Ue),Se++;let Pe=!1;(0,ee.Xf)(q(Ue,Ie++)).subscribe((0,oe.x)(z,H=>{ze?.(H),De?we(H):z.next(H)},()=>{Pe=!0},void 0,()=>{if(Pe)try{for(Se--;pe.length&&Se<Q;){const H=pe.shift();qe?(0,re.f)(z,qe,()=>Me(H)):Me(H)}xe()}catch(H){z.error(H)}}))};return de.subscribe((0,oe.x)(z,we,()=>{Le=!0,xe()})),()=>{dt?.()}}(Q,ze,de,q)))}},5363:(_t,Ee,P)=>{P.d(Ee,{Q:()=>re});var l=P(9672),ee=P(4482),N=P(5403);function re(oe,J=0){return(0,ee.e)((me,he)=>{me.subscribe((0,N.x)(he,de=>(0,l.f)(he,oe,()=>he.next(de),J),()=>(0,l.f)(he,oe,()=>he.complete(),J),de=>(0,l.f)(he,oe,()=>he.error(de),J)))})}},3099:(_t,Ee,P)=>{P.d(Ee,{B:()=>oe});var l=P(8421),ee=P(7579),N=P(930),re=P(4482);function oe(me={}){const{connector:he=(()=>new ee.x),resetOnError:de=!0,resetOnComplete:z=!0,resetOnRefCountZero:q=!0}=me;return Q=>{let ze,De,qe,dt=0,pe=!1,Se=!1;const Ie=()=>{De?.unsubscribe(),De=void 0},Le=()=>{Ie(),ze=qe=void 0,pe=Se=!1},xe=()=>{const we=ze;Le(),we?.unsubscribe()};return(0,re.e)((we,Me)=>{dt++,!Se&&!pe&&Ie();const Ue=qe=qe??he();Me.add(()=>{dt--,0===dt&&!Se&&!pe&&(De=J(xe,q))}),Ue.subscribe(Me),!ze&&dt>0&&(ze=new N.Hp({next:Pe=>Ue.next(Pe),error:Pe=>{Se=!0,Ie(),De=J(Le,de,Pe),Ue.error(Pe)},complete:()=>{pe=!0,Ie(),De=J(Le,z),Ue.complete()}}),(0,l.Xf)(we).subscribe(ze))})(Q)}}function J(me,he,...de){if(!0===he)return void me();if(!1===he)return;const z=new N.Hp({next:()=>{z.unsubscribe(),me()}});return(0,l.Xf)(he(...de)).subscribe(z)}},9468:(_t,Ee,P)=>{P.d(Ee,{R:()=>ee});var l=P(4482);function ee(N,re=0){return(0,l.e)((oe,J)=>{J.add(N.schedule(()=>oe.subscribe(J),re))})}},8505:(_t,Ee,P)=>{P.d(Ee,{b:()=>oe});var l=P(576),ee=P(4482),N=P(5403),re=P(4671);function oe(J,me,he){const de=(0,l.m)(J)||me||he?{next:J,error:me,complete:he}:J;return de?(0,ee.e)((z,q)=>{var Q;null===(Q=de.subscribe)||void 0===Q||Q.call(de);let ze=!0;z.subscribe((0,N.x)(q,De=>{var qe;null===(qe=de.next)||void 0===qe||qe.call(de,De),q.next(De)},()=>{var De;ze=!1,null===(De=de.complete)||void 0===De||De.call(de),q.complete()},De=>{var qe;ze=!1,null===(qe=de.error)||void 0===qe||qe.call(de,De),q.error(De)},()=>{var De,qe;ze&&(null===(De=de.unsubscribe)||void 0===De||De.call(de)),null===(qe=de.finalize)||void 0===qe||qe.call(de)}))}):re.y}},4408:(_t,Ee,P)=>{P.d(Ee,{o:()=>oe});var l=P(727);class ee extends l.w0{constructor(me,he){super()}schedule(me,he=0){return this}}const N={setInterval(J,me,...he){const{delegate:de}=N;return de?.setInterval?de.setInterval(J,me,...he):setInterval(J,me,...he)},clearInterval(J){const{delegate:me}=N;return(me?.clearInterval||clearInterval)(J)},delegate:void 0};var re=P(8737);class oe extends ee{constructor(me,he){super(me,he),this.scheduler=me,this.work=he,this.pending=!1}schedule(me,he=0){var de;if(this.closed)return this;this.state=me;const z=this.id,q=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(q,z,he)),this.pending=!0,this.delay=he,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(q,this.id,he),this}requestAsyncId(me,he,de=0){return N.setInterval(me.flush.bind(me,this),de)}recycleAsyncId(me,he,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return he;null!=he&&N.clearInterval(he)}execute(me,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(me,he);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,he){let z,de=!1;try{this.work(me)}catch(q){de=!0,z=q||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:me,scheduler:he}=this,{actions:de}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(de,this),null!=me&&(this.id=this.recycleAsyncId(he,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(_t,Ee,P)=>{P.d(Ee,{v:()=>N});var l=P(6063);class ee{constructor(oe,J=ee.now){this.schedulerActionCtor=oe,this.now=J}schedule(oe,J=0,me){return new this.schedulerActionCtor(this,oe).schedule(me,J)}}ee.now=l.l.now;class N extends ee{constructor(oe,J=ee.now){super(oe,J),this.actions=[],this._active=!1}flush(oe){const{actions:J}=this;if(this._active)return void J.push(oe);let me;this._active=!0;do{if(me=oe.execute(oe.state,oe.delay))break}while(oe=J.shift());if(this._active=!1,me){for(;oe=J.shift();)oe.unsubscribe();throw me}}}},4986:(_t,Ee,P)=>{P.d(Ee,{P:()=>re,z:()=>N});var l=P(4408);const N=new(P(7565).v)(l.o),re=N},6063:(_t,Ee,P)=>{P.d(Ee,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(_t,Ee,P)=>{P.d(Ee,{z:()=>l});const l={setTimeout(ee,N,...re){const{delegate:oe}=l;return oe?.setTimeout?oe.setTimeout(ee,N,...re):setTimeout(ee,N,...re)},clearTimeout(ee){const{delegate:N}=l;return(N?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(_t,Ee,P)=>{P.d(Ee,{h:()=>ee});const ee=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(_t,Ee,P)=>{P.d(Ee,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(_t,Ee,P)=>{P.d(Ee,{_6:()=>J,jO:()=>re,yG:()=>oe});var l=P(576),ee=P(3532);function N(me){return me[me.length-1]}function re(me){return(0,l.m)(N(me))?me.pop():void 0}function oe(me){return(0,ee.K)(N(me))?me.pop():void 0}function J(me,he){return"number"==typeof N(me)?me.pop():he}},8737:(_t,Ee,P)=>{function l(ee,N){if(ee){const re=ee.indexOf(N);0<=re&&ee.splice(re,1)}}P.d(Ee,{P:()=>l})},3888:(_t,Ee,P)=>{function l(ee){const re=ee(oe=>{Error.call(oe),oe.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}P.d(Ee,{d:()=>l})},2806:(_t,Ee,P)=>{P.d(Ee,{O:()=>re,x:()=>N});var l=P(2416);let ee=null;function N(oe){if(l.v.useDeprecatedSynchronousErrorHandling){const J=!ee;if(J&&(ee={errorThrown:!1,error:null}),oe(),J){const{errorThrown:me,error:he}=ee;if(ee=null,me)throw he}}else oe()}function re(oe){l.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=oe)}},9672:(_t,Ee,P)=>{function l(ee,N,re,oe=0,J=!1){const me=N.schedule(function(){re(),J?ee.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(ee.add(me),!J)return me}P.d(Ee,{f:()=>l})},4671:(_t,Ee,P)=>{function l(ee){return ee}P.d(Ee,{y:()=>l})},1144:(_t,Ee,P)=>{P.d(Ee,{z:()=>l});const l=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(_t,Ee,P)=>{P.d(Ee,{D:()=>ee});var l=P(576);function ee(N){return Symbol.asyncIterator&&(0,l.m)(N?.[Symbol.asyncIterator])}},576:(_t,Ee,P)=>{function l(ee){return"function"==typeof ee}P.d(Ee,{m:()=>l})},3670:(_t,Ee,P)=>{P.d(Ee,{c:()=>N});var l=P(8822),ee=P(576);function N(re){return(0,ee.m)(re[l.L])}},6495:(_t,Ee,P)=>{P.d(Ee,{T:()=>N});var l=P(2202),ee=P(576);function N(re){return(0,ee.m)(re?.[l.h])}},8239:(_t,Ee,P)=>{P.d(Ee,{t:()=>ee});var l=P(576);function ee(N){return(0,l.m)(N?.then)}},3260:(_t,Ee,P)=>{P.d(Ee,{L:()=>re,Q:()=>N});var l=P(655),ee=P(576);function N(oe){return(0,l.FC)(this,arguments,function*(){const me=oe.getReader();try{for(;;){const{value:he,done:de}=yield(0,l.qq)(me.read());if(de)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(he)}}finally{me.releaseLock()}})}function re(oe){return(0,ee.m)(oe?.getReader)}},3532:(_t,Ee,P)=>{P.d(Ee,{K:()=>ee});var l=P(576);function ee(N){return N&&(0,l.m)(N.schedule)}},4482:(_t,Ee,P)=>{P.d(Ee,{A:()=>ee,e:()=>N});var l=P(576);function ee(re){return(0,l.m)(re?.lift)}function N(re){return oe=>{if(ee(oe))return oe.lift(function(J){try{return re(J,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(_t,Ee,P)=>{function l(){}P.d(Ee,{Z:()=>l})},9635:(_t,Ee,P)=>{P.d(Ee,{U:()=>N,z:()=>ee});var l=P(4671);function ee(...re){return N(re)}function N(re){return 0===re.length?l.y:1===re.length?re[0]:function(J){return re.reduce((me,he)=>he(me),J)}}},7849:(_t,Ee,P)=>{P.d(Ee,{h:()=>N});var l=P(2416),ee=P(3410);function N(re){ee.z.setTimeout(()=>{const{onUnhandledError:oe}=l.v;if(!oe)throw re;oe(re)})}},4532:(_t,Ee,P)=>{function l(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ee,{z:()=>l})},655:(_t,Ee,P)=>{function re(ae,fe){var be={};for(var Re in ae)Object.prototype.hasOwnProperty.call(ae,Re)&&fe.indexOf(Re)<0&&(be[Re]=ae[Re]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(Re=Object.getOwnPropertySymbols(ae);Ve<Re.length;Ve++)fe.indexOf(Re[Ve])<0&&Object.prototype.propertyIsEnumerable.call(ae,Re[Ve])&&(be[Re[Ve]]=ae[Re[Ve]])}return be}function Q(ae,fe,be,Re){return new(be||(be=Promise))(function($e,et){function Xe(an){try{It(Re.next(an))}catch(it){et(it)}}function dn(an){try{It(Re.throw(an))}catch(it){et(it)}}function It(an){an.done?$e(an.value):function Ve($e){return $e instanceof be?$e:new be(function(et){et($e)})}(an.value).then(Xe,dn)}It((Re=Re.apply(ae,fe||[])).next())})}function xe(ae){return this instanceof xe?(this.v=ae,this):new xe(ae)}function we(ae,fe,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Re=be.apply(ae,fe||[]),$e=[];return Ve={},et("next"),et("throw"),et("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function et(Rt){Re[Rt]&&(Ve[Rt]=function(Yn){return new Promise(function(vn,Tn){$e.push([Rt,Yn,vn,Tn])>1||Xe(Rt,Yn)})})}function Xe(Rt,Yn){try{!function dn(Rt){Rt.value instanceof xe?Promise.resolve(Rt.value.v).then(It,an):it($e[0][2],Rt)}(Re[Rt](Yn))}catch(vn){it($e[0][3],vn)}}function It(Rt){Xe("next",Rt)}function an(Rt){Xe("throw",Rt)}function it(Rt,Yn){Rt(Yn),$e.shift(),$e.length&&Xe($e[0][0],$e[0][1])}}function Ue(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,fe=ae[Symbol.asyncIterator];return fe?fe.call(ae):(ae=function dt(ae){var fe="function"==typeof Symbol&&Symbol.iterator,be=fe&&ae[fe],Re=0;if(be)return be.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&Re>=ae.length&&(ae=void 0),{value:ae&&ae[Re++],done:!ae}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),be={},Re("next"),Re("throw"),Re("return"),be[Symbol.asyncIterator]=function(){return this},be);function Re($e){be[$e]=ae[$e]&&function(et){return new Promise(function(Xe,dn){!function Ve($e,et,Xe,dn){Promise.resolve(dn).then(function(It){$e({value:It,done:Xe})},et)}(Xe,dn,(et=ae[$e](et)).done,et.value)})}}}P.d(Ee,{FC:()=>we,KL:()=>Ue,_T:()=>re,mG:()=>Q,qq:()=>xe})},4650:(_t,Ee,P)=>{P.d(Ee,{$8M:()=>Kl,$WT:()=>Go,$Z:()=>Hw,AFp:()=>WC,ALo:()=>DC,AaK:()=>he,AsE:()=>Xv,BQk:()=>Pg,CHM:()=>Hl,CRH:()=>at,CZH:()=>j_,CqO:()=>_E,D6c:()=>zp,Dn7:()=>D_,EJc:()=>JI,EiD:()=>iS,EpF:()=>Lg,F$t:()=>EE,F4k:()=>Vg,FYo:()=>Ew,FiY:()=>oo,Gf:()=>Vs,GfV:()=>Cw,GkF:()=>Ng,Gpc:()=>q,Hsn:()=>jv,Ikx:()=>rb,JOm:()=>Or,JVY:()=>Km,JZr:()=>dt,KtG:()=>rf,L6k:()=>y,LAX:()=>m,LFG:()=>Ge,Lbi:()=>YI,Lck:()=>OI,MAs:()=>Pv,MMx:()=>Cp,MR2:()=>Lf,NdJ:()=>fh,OlP:()=>wn,Oqu:()=>Qv,P3R:()=>$y,PXZ:()=>tx,Q6J:()=>Nv,QGY:()=>Bv,QbO:()=>KI,Qsj:()=>pS,R0b:()=>as,RDi:()=>Uy,Rgc:()=>Sh,SBq:()=>ul,Sil:()=>ir,Suo:()=>k_,TTD:()=>ws,TgZ:()=>Og,Udp:()=>FE,VKq:()=>Ib,W1O:()=>Ii,X6Q:()=>En,XFs:()=>wt,Xpm:()=>Tl,Xts:()=>pc,Y36:()=>oh,YKP:()=>pC,YNc:()=>pE,Yjl:()=>Hc,Yz7:()=>it,Z0I:()=>Tn,ZZ4:()=>K_,_Bn:()=>Eb,_UZ:()=>Fg,_Vd:()=>gc,_c5:()=>Ta,_uU:()=>jg,aQg:()=>a0,c2e:()=>QI,cJS:()=>Yn,cg1:()=>Jg,dDg:()=>Rc,dqk:()=>Vt,eBb:()=>p,eFA:()=>ix,eJc:()=>Vb,ekj:()=>Zv,eoX:()=>Pp,f3M:()=>st,g9A:()=>YC,h0i:()=>Ls,hGG:()=>dx,hij:()=>zg,iGM:()=>hi,ifc:()=>ne,ip1:()=>qC,jDz:()=>xb,kL8:()=>cp,lG2:()=>Uc,lqb:()=>Ou,lri:()=>JC,mCW:()=>nt,n5z:()=>Pd,oAB:()=>Ml,oxw:()=>bE,pB0:()=>w,q3G:()=>Ei,q4F:()=>Jy,qLn:()=>Uf,qOj:()=>Sg,qZA:()=>Vv,qzn:()=>Oo,rWj:()=>El,sBO:()=>e0,s_b:()=>Tp,soG:()=>kp,tBr:()=>pa,tb:()=>$_,tp0:()=>D,uIk:()=>Qf,vHH:()=>pe,vpe:()=>Lr,wAp:()=>At,xi3:()=>Rb,xp6:()=>kw,ynx:()=>ep,z2F:()=>xl,z3N:()=>Vi,zSh:()=>Zy,zs3:()=>ih});var l=P(7579),ee=P(727),N=P(9751),re=P(6451),oe=P(3099);function J(o){for(let s in o)if(o[s]===J)return s;throw Error("Could not find renamed property on target object.")}function me(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function he(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(he).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function de(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const z=J({__forward_ref__:J});function q(o){return o.__forward_ref__=q,o.toString=function(){return he(this())},o}function Q(o){return ze(o)?o():o}function ze(o){return"function"==typeof o&&o.hasOwnProperty(z)&&o.__forward_ref__===q}function De(o){return o&&!!o.\u0275providers}const dt="https://g.co/ng/security#xss";class pe extends Error{constructor(s,c){super(Se(s,c)),this.code=s}}function Se(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}function Ie(o){return"string"==typeof o?o:null==o?"":String(o)}function Ue(o,s){throw new pe(-201,!1)}function et(o,s){null==o&&function Xe(o,s,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${s} <=Actual]`))}(s,o,null,"!=")}function it(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Yn(o){return{providers:o.providers||[],imports:o.imports||[]}}function vn(o){return On(o,ar)||On(o,An)}function Tn(o){return null!==vn(o)}function On(o,s){return o.hasOwnProperty(s)?o[s]:null}function Cr(o){return o&&(o.hasOwnProperty(zo)||o.hasOwnProperty(lr))?o[zo]:null}const ar=J({\u0275prov:J}),zo=J({\u0275inj:J}),An=J({ngInjectableDef:J}),lr=J({ngInjectorDef:J});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let $o;function Fn(o){const s=$o;return $o=o,s}function Ai(o,s,c){const d=vn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&wt.Optional?null:void 0!==s?s:void Ue(he(o))}const Vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xn={},Kn="__NG_DI_FLAG__",$i="ngTempTokenPath",Mi="ngTokenPath",Oa=/\n/gm,pn="\u0275",vo="__source";let rn;function Gi(o){const s=rn;return rn=o,s}function Xr(o,s=wt.Default){if(void 0===rn)throw new pe(-203,!1);return null===rn?Ai(o,void 0,s):rn.get(o,s&wt.Optional?null:void 0,s)}function Ge(o,s=wt.Default){return(function $r(){return $o}()||Xr)(Q(o),s)}function st(o,s=wt.Default){return Ge(o,Mt(s))}function Mt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Lt(o){const s=[];for(let c=0;c<o.length;c++){const d=Q(o[c]);if(Array.isArray(d)){if(0===d.length)throw new pe(900,!1);let h,g=wt.Default;for(let v=0;v<d.length;v++){const E=d[v],x=Ri(E);"number"==typeof x?-1===x?h=E.token:g|=x:h=E}s.push(Ge(h,g))}else s.push(Ge(d))}return s}function $t(o,s){return o[Kn]=s,o.prototype[Kn]=s,o}function Ri(o){return o[Kn]}function Y(o){return{toString:o}.toString()}var _e=(()=>((_e=_e||{})[_e.OnPush=0]="OnPush",_e[_e.Default=1]="Default",_e))(),ne=(()=>{return(o=ne||(ne={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ne;var o})();const rt={},Ye=[],_n=J({\u0275cmp:J}),Pn=J({\u0275dir:J}),Bn=J({\u0275pipe:J}),oi=J({\u0275mod:J}),Bt=J({\u0275fac:J}),qi=J({__NG_ELEMENT_ID__:J});let Jr=0;function Tl(o){return Y(()=>{const s=ki(o),c={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===_e.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||ne.Emulated,id:"c"+Jr++,styles:o.styles||Ye,_:null,schemas:o.schemas||null,tView:null};Fa(c);const d=o.dependencies;return c.directiveDefs=ps(d,!1),c.pipeDefs=ps(d,!0),c})}function Bc(o){return on(o)||Qn(o)}function Al(o){return null!==o}function Ml(o){return Y(()=>({type:o.type,bootstrap:o.bootstrap||Ye,declarations:o.declarations||Ye,imports:o.imports||Ye,exports:o.exports||Ye,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Un(o,s){if(null==o)return rt;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,s&&(s[h]=g)}return c}function Uc(o){return Y(()=>{const s=ki(o);return Fa(s),s})}function Hc(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function on(o){return o[_n]||null}function Qn(o){return o[Pn]||null}function mi(o){return o[Bn]||null}function Go(o){const s=on(o)||Qn(o)||mi(o);return null!==s&&s.standalone}function si(o,s){const c=o[oi]||null;if(!c&&!0===s)throw new Error(`Type ${he(o)} does not have '\u0275mod' property.`);return c}function ki(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||Ye,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Un(o.inputs,s),outputs:Un(o.outputs)}}function Fa(o){o.features?.forEach(s=>s(o))}function ps(o,s){if(!o)return null;const c=s?mi:Bc;return()=>("function"==typeof o?o():o).map(d=>c(d)).filter(Al)}const xr=0,tt=1,Ut=2,bn=3,cr=4,eo=5,$n=6,ms=7,Mn=8,bo=9,Pa=10,Wt=11,$s=12,gs=13,qo=14,Na=15,gi=16,Gs=17,Wo=18,Wi=19,Zi=20,jc=21,tn=22,zc=1,Rl=2,_s=7,Dr=8,qs=9,_i=10;function ur(o){return Array.isArray(o)&&"object"==typeof o[zc]}function dr(o){return Array.isArray(o)&&!0===o[zc]}function Eo(o){return 0!=(4&o.flags)}function kl(o){return o.componentOffset>-1}function ys(o){return 1==(1&o.flags)}function Oi(o){return!!o.template}function yd(o){return 0!=(256&o[Ut])}function hr(o,s){return o.hasOwnProperty(Bt)?o[Bt]:null}class wd{constructor(s,c,d){this.previousValue=s,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ws(){return Va}function Va(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ys),Zs}function Zs(){const o=Pl(this),s=o?.current;if(s){const c=o.previous;if(c===rt)o.previous=s;else for(let d in s)c[d]=s[d];o.current=null,this.ngOnChanges(s)}}function Ys(o,s,c,d){const h=this.declaredInputs[c],g=Pl(o)||function Nl(o,s){return o[Ba]=s}(o,{previous:rt,current:null}),v=g.current||(g.current={}),E=g.previous,x=E[h];v[h]=new wd(x&&x.currentValue,s,E===rt),o[d]=s}ws.ngInherit=!0;const Ba="__ngSimpleChanges__";function Pl(o){return o[Ba]||null}const cn=function(o,s,c){};function Nn(o){for(;Array.isArray(o);)o=o[xr];return o}function to(o,s){return Nn(s[o])}function Fi(o,s){return Nn(s[o.index])}function Wc(o,s){return o.data[s]}function no(o,s){return o[s]}function ai(o,s){const c=s[o];return ur(c)?c:c[xr]}function Ks(o){return 64==(64&o[Ut])}function Do(o,s){return null==s?null:o[s]}function Qs(o){o[Wo]=0}function Yc(o,s){o[eo]+=s;let c=o,d=o[bn];for(;null!==d&&(1===s&&1===c[eo]||-1===s&&0===c[eo]);)d[eo]+=s,c=d,d=d[bn]}const Ot={lFrame:Ay(null),bindingsEnabled:!0};function Ul(){return Ot.bindingsEnabled}function Ae(){return Ot.lFrame.lView}function sn(){return Ot.lFrame.tView}function Hl(o){return Ot.lFrame.contextLView=o,o[Mn]}function rf(o){return Ot.lFrame.contextLView=null,o}function li(){let o=Kc();for(;null!==o&&64===o.type;)o=o.parent;return o}function Kc(){return Ot.lFrame.currentTNode}function fr(o,s){const c=Ot.lFrame;c.currentTNode=o,c.isParent=s}function Dd(){return Ot.lFrame.isParent}function Js(){Ot.lFrame.isParent=!1}function Hn(){const o=Ot.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function Ga(){return Ot.lFrame.bindingIndex++}function Tr(o){const s=Ot.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}function Td(o,s){const c=Ot.lFrame;c.bindingIndex=c.bindingRootIndex=o,$l(s)}function $l(o){Ot.lFrame.currentDirectiveIndex=o}function Jc(){return Ot.lFrame.currentQueryIndex}function Gl(o){Ot.lFrame.currentQueryIndex=o}function bm(o){const s=o[tt];return 2===s.type?s.declTNode:1===s.type?o[$n]:null}function eu(o,s,c){if(c&wt.SkipSelf){let h=s,g=o;for(;!(h=h.parent,null!==h||c&wt.Host||(h=bm(g),null===h||(g=g[Na],10&h.type))););if(null===h)return!1;s=h,o=g}const d=Ot.lFrame=wm();return d.currentTNode=s,d.lView=o,!0}function Ad(o){const s=wm(),c=o[tt];Ot.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function wm(){const o=Ot.lFrame,s=null===o?null:o.child;return null===s?Ay(o):s}function Ay(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function tu(){const o=Ot.lFrame;return Ot.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Em=tu;function sf(){const o=tu();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Yi(){return Ot.lFrame.selectedIndex}function qa(o){Ot.lFrame.selectedIndex=o}function Dn(){const o=Ot.lFrame;return Wc(o.tView,o.selectedIndex)}function nu(o,s){for(let c=s.directiveStart,d=s.directiveEnd;c<d;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:x,ngAfterViewChecked:T,ngOnDestroy:k}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-c,v),E&&((o.contentHooks||(o.contentHooks=[])).push(c,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,E)),x&&(o.viewHooks||(o.viewHooks=[])).push(-c,x),T&&((o.viewHooks||(o.viewHooks=[])).push(c,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,T)),null!=k&&(o.destroyHooks||(o.destroyHooks=[])).push(c,k)}}function iu(o,s,c){Ko(o,s,3,c)}function ea(o,s,c,d){(3&o[Ut])===c&&Ko(o,s,c,d)}function Cs(o,s){let c=o[Ut];(3&c)===s&&(c&=2047,c+=1,o[Ut]=c)}function Ko(o,s,c,d){const g=d??-1,v=s.length-1;let E=0;for(let x=void 0!==d?65535&o[Wo]:0;x<v;x++)if("number"==typeof s[x+1]){if(E=s[x],null!=d&&E>=d)break}else s[x]<0&&(o[Wo]+=65536),(E<g||-1==g)&&(ql(o,c,s,x),o[Wo]=(4294901760&o[Wo])+x+2),x++}function ql(o,s,c,d){const h=c[d]<0,g=c[d+1],E=o[h?-c[d]:c[d]];if(h){if(o[Ut]>>11<o[Wo]>>16&&(3&o[Ut])===s){o[Ut]+=2048,cn(4,E,g);try{g.call(E)}finally{cn(5,E,g)}}}else{cn(4,E,g);try{g.call(E)}finally{cn(5,E,g)}}}const Ar=-1;class Wa{constructor(s,c,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function io(o,s,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],v=c[d++],E=c[d++];o.setAttribute(s,v,E,g)}else{const g=h,v=c[++d];Sn(g)?o.setProperty(s,g,v):o.setAttribute(s,g,v),d++}}return d}function ta(o){return 3===o||4===o||6===o}function Sn(o){return 64===o.charCodeAt(0)}function Qo(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?c=h:0===c||xs(o,c,h,null,-1===c||2===c?s[++d]:null)}}return o}function xs(o,s,c,d,h){let g=0,v=o.length;if(-1===s)v=-1;else for(;g<o.length;){const E=o[g++];if("number"==typeof E){if(E===s){v=-1;break}if(E>s){v=g-1;break}}}for(;g<o.length;){const E=o[g];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(o[g+1]=h));if(d===o[g+1])return void(o[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(o.splice(v,0,s),g=v+1),o.splice(g++,0,c),null!==d&&o.splice(g++,0,d),null!==h&&o.splice(g++,0,h)}function su(o){return o!==Ar}function na(o){return 32767&o}function ia(o,s){let c=function lf(o){return o>>16}(o),d=s;for(;c>0;)d=d[Na],c--;return d}let Za=!0;function ra(o){const s=Za;return Za=o,s}const oa=255,Ds=5;let So=0;const Rr={};function sa(o,s){const c=Wl(o,s);if(-1!==c)return c;const d=s[tt];d.firstCreatePass&&(o.injectorIndex=s.length,Xo(d.data,o),Xo(s,null),Xo(d.blueprint,null));const h=Jo(o,s),g=o.injectorIndex;if(su(h)){const v=na(h),E=ia(h,s),x=E[tt].data;for(let T=0;T<8;T++)s[g+T]=E[v+T]|x[v+T]}return s[g+8]=h,g}function Xo(o,s){o.push(0,0,0,0,0,0,0,0,s)}function Wl(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Jo(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=s;for(;null!==h;){if(d=Ld(h),null===d)return Ar;if(c++,h=h[Na],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Ar}function aa(o,s,c){!function Ya(o,s,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(qi)&&(d=c[qi]),null==d&&(d=c[qi]=So++);const h=d&oa;s.data[o+(h>>Ds)]|=1<<h}(o,s,c)}function Ka(o,s,c){if(c&wt.Optional||void 0!==o)return o;Ue()}function uf(o,s,c,d){if(c&wt.Optional&&void 0===d&&(d=null),!(c&(wt.Self|wt.Host))){const h=o[bo],g=Fn(void 0);try{return h?h.get(s,d,c&wt.Optional):Ai(s,d,c&wt.Optional)}finally{Fn(g)}}return Ka(d,0,c)}function Io(o,s,c,d=wt.Default,h){if(null!==o){if(1024&s[Ut]){const v=function Nd(o,s,c,d,h){let g=o,v=s;for(;null!==g&&null!==v&&1024&v[Ut]&&!(256&v[Ut]);){const E=Od(g,v,c,d|wt.Self,Rr);if(E!==Rr)return E;let x=g.parent;if(!x){const T=v[jc];if(T){const k=T.get(c,Rr,d);if(k!==Rr)return k}x=Ld(v),v=v[Na]}g=x}return h}(o,s,c,d,Rr);if(v!==Rr)return v}const g=Od(o,s,c,d,Rr);if(g!==Rr)return g}return uf(s,c,d,h)}function Od(o,s,c,d,h){const g=function Is(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(qi)?o[qi]:void 0;return"number"==typeof s?s>=0?s&oa:lu:s}(c);if("function"==typeof g){if(!eu(s,o,d))return d&wt.Host?Ka(h,0,d):uf(s,c,d,h);try{const v=g(d);if(null!=v||d&wt.Optional)return v;Ue()}finally{Em()}}else if("number"==typeof g){let v=null,E=Wl(o,s),x=Ar,T=d&wt.Host?s[gi][$n]:null;for((-1===E||d&wt.SkipSelf)&&(x=-1===E?Jo(o,s):s[E+8],x!==Ar&&Yl(d,!1)?(v=s[tt],E=na(x),s=ia(x,s)):E=-1);-1!==E;){const k=s[tt];if(Fd(g,E,k.data)){const L=Gr(E,s,c,v,d,T);if(L!==Rr)return L}x=s[E+8],x!==Ar&&Yl(d,s[tt].data[E+8]===T)&&Fd(g,E,s)?(v=k,E=na(x),s=ia(x,s)):E=-1}}return h}function Gr(o,s,c,d,h,g){const v=s[tt],E=v.data[o+8],k=Zl(E,v,c,null==d?kl(E)&&Za:d!=v&&0!=(3&E.type),h&wt.Host&&g===E);return null!==k?Ss(s,v,k,E):Rr}function Zl(o,s,c,d,h){const g=o.providerIndexes,v=s.data,E=1048575&g,x=o.directiveStart,k=g>>20,$=h?E+k:o.directiveEnd;for(let te=d?E:E+k;te<$;te++){const ge=v[te];if(te<x&&c===ge||te>=x&&ge.type===c)return te}if(h){const te=v[x];if(te&&Oi(te)&&te.type===c)return x}return null}function Ss(o,s,c,d){let h=o[c];const g=s.data;if(function Rd(o){return o instanceof Wa}(h)){const v=h;v.resolving&&function xe(o,s){const c=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new pe(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Le(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ie(o)}(g[c]));const E=ra(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?Fn(v.injectImpl):null;eu(o,d,wt.Default);try{h=o[c]=v.factory(void 0,g,o,d),s.firstCreatePass&&c>=d.directiveStart&&function Sm(o,s,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(d){const v=Va(s);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],s)}finally{null!==x&&Fn(x),ra(E),v.resolving=!1,Em()}}return h}function Fd(o,s,c){return!!(c[s+(o>>Ds)]&1<<o)}function Yl(o,s){return!(o&wt.Self||o&wt.Host&&s)}class Pi{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,d){return Io(this._tNode,this._lView,s,Mt(d),c)}}function lu(){return new Pi(li(),Ae())}function Pd(o){return Y(()=>{const s=o.prototype.constructor,c=s[Bt]||la(s),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const g=h[Bt]||la(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function la(o){return ze(o)?()=>{const s=la(Q(o));return s&&s()}:hr(o)}function Ld(o){const s=o[tt],c=s.type;return 2===c?s.declTNode:1===c?o[$n]:null}function Kl(o){return function cf(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(ta(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===s)return c[h+1];h+=2}}}return null}(li(),o)}const Ts="__parameters__";function ca(o,s,c){return Y(()=>{const d=function Vd(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(s);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(x,T,k){const L=x.hasOwnProperty(Ts)?x[Ts]:Object.defineProperty(x,Ts,{value:[]})[Ts];for(;L.length<=k;)L.push(null);return(L[k]=L[k]||[]).push(v),x}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class wn{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=it({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ts(o,s){o.forEach(c=>Array.isArray(c)?ts(c,s):s(c))}function cu(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function Ja(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function ns(o,s){const c=[];for(let d=0;d<o;d++)c.push(s);return c}function Qt(o,s,c){let d=Ke(o,s);return d>=0?o[1|d]=c:(d=~d,function yf(o,s,c,d){let h=o.length;if(h==s)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=c,o[s+1]=d}}(o,d,s,c)),d}function ro(o,s){const c=Ke(o,s);if(c>=0)return o[1|c]}function Ke(o,s){return function yi(o,s,c){let d=0,h=o.length>>c;for(;h!==d;){const g=d+(h-d>>1),v=o[g<<c];if(s===v)return g<<c;v>s?h=g:d=g+1}return~(h<<c)}(o,s,1)}const pa=$t(ca("Inject",o=>({token:o})),-1),oo=$t(ca("Optional"),8),D=$t(ca("SkipSelf"),4);var Or=(()=>((Or=Or||{})[Or.Important=1]="Important",Or[Or.DashCase=2]="DashCase",Or))();const so=new Map;let Pm=0;const $d="__ngContext__";function gr(o,s){ur(s)?(o[$d]=s[Zi],function zd(o){so.set(o[Zi],o)}(s)):o[$d]=s}let il;function Gd(o,s){return il(o,s)}function va(o){const s=o[bn];return dr(s)?s[bn]:s}function oc(o){return Wd(o[gs])}function mu(o){return Wd(o[cr])}function Wd(o){for(;null!==o&&!dr(o);)o=o[cr];return o}function As(o,s,c,d,h){if(null!=d){let g,v=!1;dr(d)?g=d:ur(d)&&(v=!0,d=d[xr]);const E=Nn(d);0===o&&null!==c?null==h?Um(s,c,E):ba(s,c,E,h||null,!0):1===o&&null!==c?ba(s,c,E,h||null,!0):2===o?function sl(o,s,c){const d=wu(o,s);d&&function cc(o,s,c,d){o.removeChild(s,c,d)}(o,d,s,c)}(s,E,v):3===o&&s.destroyNode(E),null!=g&&function rs(o,s,c,d,h){const g=c[_s];g!==Nn(c)&&As(s,o,d,g,h);for(let E=_i;E<c.length;E++){const x=c[E];al(x[tt],x,o,s,d,g)}}(s,o,g,c,h)}}function gu(o,s,c){return o.createElement(s,c)}function Yd(o,s){const c=o[qs],d=c.indexOf(s),h=s[bn];512&s[Ut]&&(s[Ut]&=-513,Yc(h,-1)),c.splice(d,1)}function _u(o,s){if(o.length<=_i)return;const c=_i+s,d=o[c];if(d){const h=d[Gs];null!==h&&h!==o&&Yd(h,d),s>0&&(o[c-1][cr]=d[cr]);const g=Ja(o,_i+s);!function Fy(o,s){al(o,s,s[Wt],2,null,null),s[xr]=null,s[$n]=null}(d[tt],d);const v=g[Wi];null!==v&&v.detachView(g[tt]),d[bn]=null,d[cr]=null,d[Ut]&=-65}return d}function yu(o,s){if(!(128&s[Ut])){const c=s[Wt];c.destroyNode&&al(o,s,c,3,null,null),function Ny(o){let s=o[gs];if(!s)return vu(o[tt],o);for(;s;){let c=null;if(ur(s))c=s[gs];else{const d=s[_i];d&&(c=d)}if(!c){for(;s&&!s[cr]&&s!==o;)ur(s)&&vu(s[tt],s),s=s[bn];null===s&&(s=o),ur(s)&&vu(s[tt],s),c=s&&s[cr]}s=c}}(s)}}function vu(o,s){if(!(128&s[Ut])){s[Ut]&=-65,s[Ut]|=128,function Tf(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=s[c[d]];if(!(h instanceof Wa)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],x=g[v+1];cn(4,E,x);try{x.call(E)}finally{cn(5,E,x)}}else{cn(4,h,g);try{g.call(h)}finally{cn(5,h,g)}}}}}(o,s),function Ms(o,s){const c=o.cleanup,d=s[ms];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+3];v>=0?d[h=v]():d[h=-v].unsubscribe(),g+=2}else{const v=d[h=c[g+1]];c[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();s[ms]=null}}(o,s),1===s[tt].type&&s[Wt].destroy();const c=s[Gs];if(null!==c&&dr(s[bn])){c!==s[bn]&&Yd(c,s);const d=s[Wi];null!==d&&d.detachView(o)}!function wi(o){so.delete(o[Zi])}(s)}}function Vy(o,s,c){return function ac(o,s,c){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return c[xr];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=o.data[d.directiveStart+h];if(g===ne.None||g===ne.Emulated)return null}return Fi(d,c)}}(o,s.parent,c)}function ba(o,s,c,d,h){o.insertBefore(s,c,d,h)}function Um(o,s,c){o.appendChild(s,c)}function lc(o,s,c,d,h){null!==d?ba(o,s,c,d,h):Um(o,s,c)}function wu(o,s){return o.parentNode(s)}function Af(o,s,c){return jm(o,s,c)}let Kd,Ea,Rf,Du,jm=function Ro(o,s,c){return 40&o.type?Fi(o,c):null};function Qd(o,s,c,d){const h=Vy(o,d,s),g=s[Wt],E=Af(d.parent||s[$n],d,s);if(null!=h)if(Array.isArray(c))for(let x=0;x<c.length;x++)lc(g,h,c[x],E,!1);else lc(g,h,c,E,!1);void 0!==Kd&&Kd(g,d,s,c,h)}function uc(o,s){if(null!==s){const c=s.type;if(3&c)return Fi(s,o);if(4&c)return Xd(-1,o[s.index]);if(8&c){const d=s.child;if(null!==d)return uc(o,d);{const h=o[s.index];return dr(h)?Xd(-1,h):Nn(h)}}if(32&c)return Gd(s,o)()||Nn(o[s.index]);{const d=ol(o,s);return null!==d?Array.isArray(d)?d[0]:uc(va(o[gi]),d):uc(o,s.next)}}return null}function ol(o,s){return null!==s?o[gi][$n].projection[s.projection]:null}function Xd(o,s){const c=_i+o+1;if(c<s.length){const d=s[c],h=d[tt].firstChild;if(null!==h)return uc(d,h)}return s[_s]}function Eu(o,s,c,d,h,g,v){for(;null!=c;){const E=d[c.index],x=c.type;if(v&&0===s&&(E&&gr(Nn(E),d),c.flags|=2),32!=(32&c.flags))if(8&x)Eu(o,s,c.child,d,h,g,!1),As(s,o,h,E,g);else if(32&x){const T=Gd(c,d);let k;for(;k=T();)As(s,o,h,k,g);As(s,o,h,E,g)}else 16&x?wa(o,s,d,c,h,g):As(s,o,h,E,g);c=v?c.projectionNext:c.next}}function al(o,s,c,d,h,g){Eu(c,d,o.firstChild,s,h,g,!1)}function wa(o,s,c,d,h,g){const v=c[gi],x=v[$n].projection[d.projection];if(Array.isArray(x))for(let T=0;T<x.length;T++)As(s,o,h,x[T],g);else Eu(o,s,x,v[bn],h,g,!0)}function dc(o,s,c){""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c)}function Cu(o,s,c){const{mergedAttrs:d,classes:h,styles:g}=c;null!==d&&io(o,s,d),null!==h&&dc(o,s,h),null!==g&&function ko(o,s,c){o.setAttribute(s,"style",c)}(o,s,g)}function hc(o){return function xu(){if(void 0===Ea&&(Ea=null,Vt.trustedTypes))try{Ea=Vt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ea}()?.createHTML(o)||o}function Uy(o){Rf=o}function Wm(o){return function Xi(){if(void 0===Du&&(Du=null,Vt.trustedTypes))try{Du=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Du}()?.createScriptURL(o)||o}class yr{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}class Iu extends yr{getTypeName(){return"HTML"}}class Zm extends yr{getTypeName(){return"Style"}}class kf extends yr{getTypeName(){return"Script"}}class Of extends yr{getTypeName(){return"URL"}}class Tu extends yr{getTypeName(){return"ResourceURL"}}function Vi(o){return o instanceof yr?o.changingThisBreaksApplicationSecurity:o}function Oo(o,s){const c=function Ym(o){return o instanceof yr&&o.getTypeName()||null}(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see ${dt})`)}return c===s}function Km(o){return new Iu(o)}function y(o){return new Zm(o)}function p(o){return new kf(o)}function m(o){return new Of(o)}function w(o){return new Tu(o)}class O{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(hc(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch{return null}}}class K{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const c=this.inertDocument.createElement("template");return c.innerHTML=hc(s),c}}const je=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function nt(o){return(o=String(o)).match(je)?o:"unsafe:"+o}function vt(o){const s={};for(const c of o.split(","))s[c]=!0;return s}function mt(...o){const s={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(s[d]=!0);return s}const ui=vt("area,br,col,hr,img,wbr"),ao=vt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cl=vt("rp,rt"),Au=mt(ui,mt(ao,vt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mt(cl,vt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mt(cl,ao)),Mu=vt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fc=mt(Mu,vt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jm=vt("script,style,template");class Hy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(s){const c=s.nodeName.toLowerCase();if(!Au.hasOwnProperty(c))return this.sanitizedSomething=!0,!Jm.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=s.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!fc.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let x=g.value;Mu[E]&&(x=nt(x)),this.buf.push(" ",v,'="',nS(x),'"')}return this.buf.push(">"),!0}endElement(s){const c=s.nodeName.toLowerCase();Au.hasOwnProperty(c)&&!ui.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(nS(s))}checkClobberedElement(s,c){if(c&&(s.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return c}}const ku=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eg=/([^\#-~ |!])/g;function nS(o){return o.replace(/&/g,"&amp;").replace(ku,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(eg,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jy;function iS(o,s){let c=null;try{jy=jy||function I(o){const s=new K(o);return function ue(){try{return!!(new window.DOMParser).parseFromString(hc(""),"text/html")}catch{return!1}}()?new O(s):s}(o);let d=s?String(s):"";c=jy.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=c.innerHTML,c=jy.getInertBodyElement(d)}while(d!==g);return hc((new Hy).sanitizeChildren(aw(c)||c))}finally{if(c){const d=aw(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function aw(o){return"content"in o&&function zy(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Ei=(()=>((Ei=Ei||{})[Ei.NONE=0]="NONE",Ei[Ei.HTML=1]="HTML",Ei[Ei.STYLE=2]="STYLE",Ei[Ei.SCRIPT=3]="SCRIPT",Ei[Ei.URL=4]="URL",Ei[Ei.RESOURCE_URL=5]="RESOURCE_URL",Ei))();function tg(o){const s=Nf();return s?s.sanitize(Ei.URL,o)||"":Oo(o,"URL")?Vi(o):nt(Ie(o))}function Fo(o){const s=Nf();if(s)return Wm(s.sanitize(Ei.RESOURCE_URL,o)||"");if(Oo(o,"ResourceURL"))return Wm(Vi(o));throw new pe(904,!1)}function $y(o,s,c){return function aS(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?Fo:tg}(s,c)(o)}function Nf(){const o=Ae();return o&&o[$s]}const pc=new wn("ENVIRONMENT_INITIALIZER"),th=new wn("INJECTOR",-1),cw=new wn("INJECTOR_DEF_TYPES");class uw{get(s,c=xn){if(c===xn){const d=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw d.name="NullInjectorError",d}return c}}function Lf(o){return{\u0275providers:o}}function Vf(...o){return{\u0275providers:dw(0,o),\u0275fromNgModule:!0}}function dw(o,...s){const c=[],d=new Set;let h;return ts(s,g=>{const v=g;qy(v,c,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&hw(h,c),c}function hw(o,s){for(let c=0;c<o.length;c++){const{providers:h}=o[c];Wy(h,g=>{s.push(g)})}}function qy(o,s,c,d){if(!(o=Q(o)))return!1;let h=null,g=Cr(o);const v=!g&&on(o);if(g||v){if(v&&!v.standalone)return!1;h=o}else{const x=o.ngModule;if(g=Cr(x),!g)return!1;h=x}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const x="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of x)qy(T,s,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let T;d.add(h);try{ts(g.imports,k=>{qy(k,s,c,d)&&(T||(T=[]),T.push(k))})}finally{}void 0!==T&&hw(T,s)}if(!E){const T=hr(h)||(()=>new h);s.push({provide:h,useFactory:T,deps:Ye},{provide:cw,useValue:h,multi:!0},{provide:pc,useValue:()=>Ge(h),multi:!0})}const x=g.providers;null==x||E||Wy(x,k=>{s.push(k)})}}return h!==o&&void 0!==o.providers}function Wy(o,s){for(let c of o)De(c)&&(c=c.\u0275providers),Array.isArray(c)?Wy(c,s):s(c)}const lS=J({provide:String,useValue:J});function fw(o){return null!==o&&"object"==typeof o&&lS in o}function Ca(o){return"function"==typeof o}const Zy=new wn("Set Injector scope."),ig={},cS={};let Yy;function rg(){return void 0===Yy&&(Yy=new uw),Yy}class Ou{}class mw extends Ou{get destroyed(){return this._destroyed}constructor(s,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xy(s,v=>this.processProvider(v)),this.records.set(th,mc(void 0,this)),h.has("environment")&&this.records.set(Ou,mc(void 0,this));const g=this.records.get(Zy);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(cw.multi,Ye,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const c=Gi(this),d=Fn(void 0);try{return s()}finally{Gi(c),Fn(d)}}get(s,c=xn,d=wt.Default){this.assertNotDestroyed(),d=Mt(d);const h=Gi(this),g=Fn(void 0);try{if(!(d&wt.SkipSelf)){let E=this.records.get(s);if(void 0===E){const x=function og(o){return"function"==typeof o||"object"==typeof o&&o instanceof wn}(s)&&vn(s);E=x&&this.injectableDefInScope(x)?mc(Ky(s),ig):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(d&wt.Self?rg():this.parent).get(s,c=d&wt.Optional&&c===xn?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[$i]=v[$i]||[]).unshift(he(s)),h)throw v;return function j(o,s,c,d){const h=o[$i];throw s[vo]&&h.unshift(s[vo]),o.message=function U(o,s,c,d=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==pn?o.slice(2):o;let h=he(s);if(Array.isArray(s))h=s.map(he).join(" -> ");else if("object"==typeof s){let g=[];for(let v in s)if(s.hasOwnProperty(v)){let E=s[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):he(E)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(Oa,"\n  ")}`}("\n"+o.message,h,c,d),o[Mi]=h,o[$i]=null,o}(v,s,"R3InjectorError",this.source)}throw v}finally{Fn(g),Gi(h)}}resolveInjectorInitializers(){const s=Gi(this),c=Fn(void 0);try{const d=this.get(pc.multi,Ye,wt.Self);for(const h of d)h()}finally{Gi(s),Fn(c)}}toString(){const s=[],c=this.records;for(const d of c.keys())s.push(he(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(s){let c=Ca(s=Q(s))?s:Q(s&&s.provide);const d=function gw(o){return fw(o)?mc(void 0,o.useValue):mc(_w(o),ig)}(s);if(Ca(s)||!0!==s.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=mc(void 0,ig,!0),h.factory=()=>Lt(h.multi),this.records.set(c,h)),c=s,h.multi.push(s)}this.records.set(c,d)}hydrate(s,c){return c.value===ig&&(c.value=cS,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Qy(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(s){if(!s.providedIn)return!1;const c=Q(s.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Ky(o){const s=vn(o),c=null!==s?s.factory:hr(o);if(null!==c)return c;if(o instanceof wn)throw new pe(204,!1);if(o instanceof Function)return function uS(o){const s=o.length;if(s>0)throw ns(s,"?"),new pe(204,!1);const c=function Er(o){const s=o&&(o[ar]||o[An]);return s?(function ds(o){if(o.hasOwnProperty("name"))return o.name;(""+o).match(/^function\s*([^\s(]+)/)}(o),s):null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new pe(204,!1)}function _w(o,s,c){let d;if(Ca(o)){const h=Q(o);return hr(h)||Ky(h)}if(fw(o))d=()=>Q(o.useValue);else if(function ng(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Lt(o.deps||[]));else if(function pw(o){return!(!o||!o.useExisting)}(o))d=()=>Ge(Q(o.useExisting));else{const h=Q(o&&(o.useClass||o.provide));if(!function yw(o){return!!o.deps}(o))return hr(h)||Ky(h);d=()=>new h(...Lt(o.deps))}return d}function mc(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function Xy(o,s){for(const c of o)Array.isArray(c)?Xy(c,s):c&&De(c)?Xy(c.\u0275providers,s):s(c)}class dS{}class vw{}class bw{resolveComponentFactory(s){throw function hS(o){const s=Error(`No component factory found for ${he(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let gc=(()=>{class o{}return o.NULL=new bw,o})();function sg(){return Fu(li(),Ae())}function Fu(o,s){return new ul(Fi(o,s))}let ul=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=sg,o})();function ww(o){return o instanceof ul?o.nativeElement:o}class Ew{}let pS=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function mS(){const o=Ae(),c=ai(li().index,o);return(ur(c)?c:o)[Wt]}(),o})(),gS=(()=>{class o{}return o.\u0275prov=it({token:o,providedIn:"root",factory:()=>null}),o})();class Cw{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Jy=new Cw("15.2.4"),ev={},tv="ngOriginalError";function nv(o){return o[tv]}class Uf{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s);this._console.error("ERROR",s),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(s){let c=s&&nv(s);for(;c&&nv(c);)c=nv(c);return c||null}}function xa(o){return o instanceof Function?o():o}function iv(o,s,c){let d=o.length;for(;;){const h=o.indexOf(s,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=s.length;if(h+g===d||o.charCodeAt(h+g)<=32)return h}c=h+1}}const ag="ng-template";function Tw(o,s,c){let d=0,h=!0;for(;d<o.length;){let g=o[d++];if("string"==typeof g&&h){const v=o[d++];if(c&&"class"===g&&-1!==iv(v.toLowerCase(),s,0))return!0}else{if(1===g){for(;d<o.length&&"string"==typeof(g=o[d++]);)if(g.toLowerCase()===s)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function Nu(o){return 4===o.type&&o.value!==ag}function rv(o,s,c){return s===(4!==o.type||c?o.value:ag)}function CS(o,s,c){let d=4;const h=o.attrs||[],g=function Mw(o){for(let s=0;s<o.length;s++)if(ta(o[s]))return s;return o.length}(h);let v=!1;for(let E=0;E<s.length;E++){const x=s[E];if("number"!=typeof x){if(!v)if(4&d){if(d=2|1&d,""!==x&&!rv(o,x,c)||""===x&&1===s.length){if(os(d))return!1;v=!0}}else{const T=8&d?x:s[++E];if(8&d&&null!==o.attrs){if(!Tw(o.attrs,T,c)){if(os(d))return!1;v=!0}continue}const L=lg(8&d?"class":x,h,Nu(o),c);if(-1===L){if(os(d))return!1;v=!0;continue}if(""!==T){let $;$=L>g?"":h[L+1].toLowerCase();const te=8&d?$:null;if(te&&-1!==iv(te,T,0)||2&d&&T!==$){if(os(d))return!1;v=!0}}}}else{if(!v&&!os(d)&&!os(x))return!1;if(v&&os(x))continue;v=!1,d=x|1&d}}return os(d)||v}function os(o){return 0==(1&o)}function lg(o,s,c,d){if(null===s)return-1;let h=0;if(d||!c){let g=!1;for(;h<s.length;){const v=s[h];if(v===o)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function xS(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===s)return c;c++}return-1}(s,o)}function Hf(o,s,c=!1){for(let d=0;d<s.length;d++)if(CS(o,s[d],c))return!0;return!1}function DS(o,s){e:for(let c=0;c<s.length;c++){const d=s[c];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Rw(o,s){return o?":not("+s.trim()+")":s}function SS(o){let s=o[0],c=1,d=2,h="",g=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const E=o[++c];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!os(v)&&(s+=Rw(g,h),h=""),d=v,g=g||!os(d);c++}return""!==h&&(s+=Rw(g,h)),s}const Zt={};function kw(o){ug(sn(),Ae(),Yi()+o,!1)}function ug(o,s,c,d){if(!d)if(3==(3&s[Ut])){const g=o.preOrderCheckHooks;null!==g&&iu(s,g,c)}else{const g=o.preOrderHooks;null!==g&&ea(s,g,0,c)}qa(c)}function ov(o,s=null,c=null,d){const h=RS(o,s,c,d);return h.resolveInjectorInitializers(),h}function RS(o,s=null,c=null,d,h=new Set){const g=[c||Ye,Vf(o)];return d=d||("object"==typeof o?void 0:he(o)),new mw(g,s||rg(),d||null,h)}let ih=(()=>{class o{static create(c,d){if(Array.isArray(c))return ov({name:""},d,c,"");{const h=c.name??"";return ov({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=xn,o.NULL=new uw,o.\u0275prov=it({token:o,providedIn:"any",factory:()=>Ge(th)}),o.__NG_ELEMENT_ID__=-1,o})();function oh(o,s=wt.Default){const c=Ae();return null===c?Ge(o,s):Io(li(),c,Q(o),s)}function Hw(){throw new Error("invalid")}function jw(o,s){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const g=c[d+1];if(-1!==g){const v=o.data[g];Gl(c[d]),v.contentQueries(2,s[g],g)}}}function cv(o,s,c,d,h,g,v,E,x,T,k){const L=s.blueprint.slice();return L[xr]=h,L[Ut]=76|d,(null!==k||o&&1024&o[Ut])&&(L[Ut]|=1024),Qs(L),L[bn]=L[Na]=o,L[Mn]=c,L[Pa]=v||o&&o[Pa],L[Wt]=E||o&&o[Wt],L[$s]=x||o&&o[$s]||null,L[bo]=T||o&&o[bo]||null,L[$n]=g,L[Zi]=function Nm(){return Pm++}(),L[jc]=k,L[gi]=2==s.type?o[gi]:L,L}function Lu(o,s,c,d,h){let g=o.data[s];if(null===g)g=function pg(o,s,c,d,h){const g=Kc(),v=Dd(),x=o.data[s]=function yc(o,s,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,s,d,h);return null===o.firstChild&&(o.firstChild=x),null!==g&&(v?null==g.child&&null!==x.parent&&(g.child=x):null===g.next&&(g.next=x,x.prev=g)),x}(o,s,c,d,h),function zl(){return Ot.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const v=function Xs(){const o=Ot.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return fr(g,!0),g}function Rs(o,s,c,d){if(0===c)return-1;const h=s.length;for(let g=0;g<c;g++)s.push(d),o.blueprint.push(d),o.data.push(null);return h}function co(o,s,c){Ad(s);try{const d=o.viewQuery;null!==d&&sh(1,d,c);const h=o.template;null!==h&&uv(o,s,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&jw(o,s),o.staticViewQueries&&sh(2,o.viewQuery,c);const g=o.components;null!==g&&function US(o,s){for(let c=0;c<s.length;c++)rE(o,s[c])}(s,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{s[Ut]&=-5,sf()}}function mg(o,s,c,d){const h=s[Ut];if(128!=(128&h)){Ad(s);try{Qs(s),function $a(o){return Ot.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&uv(o,s,c,2,d);const v=3==(3&h);if(v){const T=o.preOrderCheckHooks;null!==T&&iu(s,T,null)}else{const T=o.preOrderHooks;null!==T&&ea(s,T,0,null),Cs(s,0)}if(function iE(o){for(let s=oc(o);null!==s;s=mu(s)){if(!s[Rl])continue;const c=s[qs];for(let d=0;d<c.length;d++){const h=c[d];512&h[Ut]||Yc(h[bn],1),h[Ut]|=512}}}(s),function nE(o){for(let s=oc(o);null!==s;s=mu(s))for(let c=_i;c<s.length;c++){const d=s[c],h=d[tt];Ks(d)&&mg(h,d,h.template,d[Mn])}}(s),null!==o.contentQueries&&jw(o,s),v){const T=o.contentCheckHooks;null!==T&&iu(s,T)}else{const T=o.contentHooks;null!==T&&ea(s,T,1),Cs(s,1)}!function BS(o,s){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)qa(~h);else{const g=h,v=c[++d],E=c[++d];Td(v,g),E(2,s[g])}}}finally{qa(-1)}}(o,s);const E=o.components;null!==E&&function zw(o,s){for(let c=0;c<s.length;c++)Wr(o,s[c])}(s,E);const x=o.viewQuery;if(null!==x&&sh(2,x,d),v){const T=o.viewCheckHooks;null!==T&&iu(s,T)}else{const T=o.viewHooks;null!==T&&ea(s,T,2),Cs(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[Ut]&=-41,512&s[Ut]&&(s[Ut]&=-513,Yc(s[bn],-1))}finally{sf()}}}function uv(o,s,c,d,h){const g=Yi(),v=2&d;try{qa(-1),v&&s.length>tn&&ug(o,s,tn,!1),cn(v?2:0,h),c(d,h)}finally{qa(g),cn(v?3:1,h)}}function dv(o,s,c){if(Eo(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function hv(o,s,c){Ul()&&(function Qw(o,s,c,d){const h=c.directiveStart,g=c.directiveEnd;kl(c)&&function tE(o,s,c){const d=Fi(s,o),h=qf(c),g=o[Pa],v=Ev(o,cv(o,h,null,c.onPush?32:16,d,s,g,g.createRenderer(d,c),null,null,null));o[s.index]=v}(s,c,o.data[h+c.componentOffset]),o.firstCreatePass||sa(c,s),gr(d,s);const v=c.initialInputs;for(let E=h;E<g;E++){const x=o.data[E],T=Ss(s,o,E,c);gr(T,s),null!==v&&bv(0,E-h,T,x,0,v),Oi(x)&&(ai(c.index,s)[Mn]=Ss(s,o,E,c))}}(o,s,c,Fi(c,s)),64==(64&c.flags)&&_v(o,s,c))}function fv(o,s,c=Fi){const d=s.localNames;if(null!==d){let h=s.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?c(s,o):o[v];o[h++]=E}}}function qf(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=pv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function pv(o,s,c,d,h,g,v,E,x,T){const k=tn+d,L=k+h,$=function _c(o,s){const c=[];for(let d=0;d<s;d++)c.push(d<o?null:Zt);return c}(k,L),te="function"==typeof T?T():T;return $[tt]={type:o,blueprint:$,template:c,queries:null,viewQuery:E,declTNode:s,data:$.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:te,incompleteFirstPass:!1}}function vr(o,s,c,d){const h=Cg(s);null===c?h.push(d):(h.push(c),o.firstCreatePass&&sE(o).push(d,h.length-1))}function Gw(o,s,c,d){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const g=o[h];null===d?qw(c,s,h,g):d.hasOwnProperty(h)&&qw(c,s,d[h],g)}return c}function qw(o,s,c,d){o.hasOwnProperty(c)?o[c].push(s,d):o[c]=[s,d]}function uo(o,s,c,d,h,g,v,E){const x=Fi(s,c);let k,T=s.inputs;!E&&null!=T&&(k=T[d])?(aE(o,c,k,d,h),kl(s)&&mv(c,s.index)):3&s.type&&(d=function Zw(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=v?v(h,s.value||"",d):h,g.setProperty(x,d,h))}function mv(o,s){const c=ai(s,o);16&c[Ut]||(c[Ut]|=32)}function gg(o,s,c,d){if(Ul()){const h=null===d?null:{"":-1},g=function jS(o,s){const c=o.directiveRegistry;let d=null,h=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];if(Hf(s,v.selectors,!1))if(d||(d=[]),Oi(v))if(null!==v.findHostDirectiveDefs){const E=[];h=h||new Map,v.findHostDirectiveDefs(v,E,h),d.unshift(...E,v),yg(o,s,E.length)}else d.unshift(v),yg(o,s,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(o,c);let v,E;null===g?v=E=null:[v,E]=g,null!==v&&gv(o,s,c,v,h,E),h&&function Jw(o,s,c){if(s){const d=o.localNames=[];for(let h=0;h<s.length;h+=2){const g=c[s[h+1]];if(null==g)throw new pe(-301,!1);d.push(s[h],g)}}}(c,d,h)}c.mergedAttrs=Qo(c.mergedAttrs,c.attrs)}function gv(o,s,c,d,h,g){for(let T=0;T<d.length;T++)aa(sa(c,s),o,d[T].type);!function eE(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}(c,o.data.length,d.length);for(let T=0;T<d.length;T++){const k=d[T];k.providersResolver&&k.providersResolver(k)}let v=!1,E=!1,x=Rs(o,s,d.length,null);for(let T=0;T<d.length;T++){const k=d[T];c.mergedAttrs=Qo(c.mergedAttrs,k.hostAttrs),vv(o,c,s,x,k),yv(x,k,h),null!==k.contentQueries&&(c.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=64);const L=k.type.prototype;!v&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),v=!0),!E&&(L.ngOnChanges||L.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),E=!0),x++}!function Ww(o,s,c){const h=s.directiveEnd,g=o.data,v=s.attrs,E=[];let x=null,T=null;for(let k=s.directiveStart;k<h;k++){const L=g[k],$=c?c.get(L):null,ge=$?$.outputs:null;x=Gw(L.inputs,k,x,$?$.inputs:null),T=Gw(L.outputs,k,T,ge);const Be=null===x||null===v||Nu(s)?null:bg(x,k,v);E.push(Be)}null!==x&&(x.hasOwnProperty("class")&&(s.flags|=8),x.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=x,s.outputs=T}(o,c,g)}function _v(o,s,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,v=function Xc(){return Ot.lFrame.currentDirectiveIndex}();try{qa(g);for(let E=d;E<h;E++){const x=o.data[E],T=s[E];$l(E),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&Xw(x,T)}}finally{qa(-1),$l(v)}}function Xw(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function yg(o,s,c){s.componentOffset=c,(o.components||(o.components=[])).push(s.index)}function yv(o,s,c){if(c){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)c[s.exportAs[d]]=o;Oi(s)&&(c[""]=o)}}function vv(o,s,c,d,h){o.data[d]=h;const g=h.factory||(h.factory=hr(h.type)),v=new Wa(g,Oi(h),oh);o.blueprint[d]=v,c[d]=v,function _g(o,s,c,d,h){const g=h.hostBindings;if(g){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const E=~s.index;(function Kw(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(v)!=E&&v.push(E),v.push(c,d,g)}}(o,s,d,Rs(o,c,h.hostVars,Zt),h)}function ks(o,s,c,d,h,g){const v=Fi(o,s);!function vg(o,s,c,d,h,g,v){if(null==g)o.removeAttribute(s,h,c);else{const E=null==v?Ie(g):v(g,d||"",h);o.setAttribute(s,h,E,c)}}(s[Wt],v,g,o.value,c,d,h)}function bv(o,s,c,d,h,g){const v=g[s];if(null!==v){const E=d.setInput;for(let x=0;x<v.length;){const T=v[x++],k=v[x++],L=v[x++];null!==E?d.setInput(c,L,T,k):c[k]=L}}}function bg(o,s,c){let d=null,h=0;for(;h<c.length;){const g=c[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===d&&(d=[]);const v=o[g];for(let E=0;E<v.length;E+=2)if(v[E]===s){d.push(g,v[E+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function wv(o,s,c,d){return[o,!0,!1,s,null,0,d,c,null,null]}function Wr(o,s){const c=ai(s,o);if(Ks(c)){const d=c[tt];48&c[Ut]?mg(d,c,d.template,c[Mn]):c[eo]>0&&Os(c)}}function Os(o){for(let d=oc(o);null!==d;d=mu(d))for(let h=_i;h<d.length;h++){const g=d[h];if(Ks(g))if(512&g[Ut]){const v=g[tt];mg(v,g,v.template,g[Mn])}else g[eo]>0&&Os(g)}const c=o[tt].components;if(null!==c)for(let d=0;d<c.length;d++){const h=ai(c[d],o);Ks(h)&&h[eo]>0&&Os(h)}}function rE(o,s){const c=ai(s,o),d=c[tt];(function dk(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])})(d,c),co(d,c,c[Mn])}function Ev(o,s){return o[gs]?o[qo][cr]=s:o[gs]=s,o[qo]=s,s}function wg(o){for(;o;){o[Ut]|=32;const s=va(o);if(yd(o)&&!s)return o;o=s}return null}function Eg(o,s,c,d=!0){const h=s[Pa];h.begin&&h.begin();try{mg(o,s,o.template,c)}catch(v){throw d&&$S(s,v),v}finally{h.end&&h.end()}}function sh(o,s,c){Gl(0),s(o,c)}function Cg(o){return o[ms]||(o[ms]=[])}function sE(o){return o.cleanup||(o.cleanup=[])}function $S(o,s){const c=o[bo],d=c?c.get(Uf,null):null;d&&d.handleError(s)}function aE(o,s,c,d,h){for(let g=0;g<c.length;){const v=c[g++],E=c[g++],x=s[v],T=o.data[v];null!==T.setInput?T.setInput(x,h,d,E):x[E]=h}}function vc(o,s,c){const d=to(s,o);!function If(o,s,c){o.setValue(s,c)}(o[Wt],d,c)}function Cv(o,s,c){let d=c?o.styles:null,h=c?o.classes:null,g=0;if(null!==s)for(let v=0;v<s.length;v++){const E=s[v];"number"==typeof E?g=E:1==g?h=de(h,E):2==g&&(d=de(d,E+": "+s[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}function xv(o,s,c,d,h=!1){for(;null!==c;){const g=s[c.index];if(null!==g&&d.push(Nn(g)),dr(g))for(let E=_i;E<g.length;E++){const x=g[E],T=x[tt].firstChild;null!==T&&xv(x[tt],x,T,d)}const v=c.type;if(8&v)xv(o,s,c.child,d);else if(32&v){const E=Gd(c,s);let x;for(;x=E();)d.push(x)}else if(16&v){const E=ol(s,c);if(Array.isArray(E))d.push(...E);else{const x=va(s[gi]);xv(x[tt],x,E,d,!0)}}c=h?c.projectionNext:c.next}return d}class xg{get rootNodes(){const s=this._lView,c=s[tt];return xv(c,s,c.firstChild,[])}constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mn]}set context(s){this._lView[Mn]=s}get destroyed(){return 128==(128&this._lView[Ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[bn];if(dr(s)){const c=s[Dr],d=c?c.indexOf(this):-1;d>-1&&(_u(s,d),Ja(c,d))}this._attachedToViewContainer=!1}yu(this._lView[tt],this._lView)}onDestroy(s){vr(this._lView[tt],this._lView,null,s)}markForCheck(){wg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ut]&=-65}reattach(){this._lView[Ut]|=64}detectChanges(){Eg(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Py(o,s){al(o,s,s[Wt],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=s}}class GS extends xg{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Eg(s[tt],s,s[Mn],!1)}checkNoChanges(){}get context(){return null}}class Dv extends gc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=on(s);return new Vu(c,this.ngModule)}}function lE(o){const s=[];for(let c in o)o.hasOwnProperty(c)&&s.push({propName:o[c],templateName:c});return s}class WS{constructor(s,c){this.injector=s,this.parentInjector=c}get(s,c,d){d=Mt(d);const h=this.injector.get(s,ev,d);return h!==ev||c===ev?h:this.parentInjector.get(s,c,d)}}class Vu extends vw{get inputs(){return lE(this.componentDef.inputs)}get outputs(){return lE(this.componentDef.outputs)}constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=function IS(o){return o.map(SS).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}create(s,c,d,h){let g=(h=h||this.ngModule)instanceof Ou?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new WS(s,g):s,E=v.get(Ew,null);if(null===E)throw new pe(407,!1);const x=v.get(gS,null),T=E.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",L=d?function $w(o,s,c){return o.selectRootElement(s,c===ne.ShadowDom)}(T,d,this.componentDef.encapsulation):gu(T,k,function qS(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(k)),$=this.componentDef.onPush?288:272,te=pv(0,null,null,1,0,null,null,null,null,null),ge=cv(null,te,null,$,null,null,E,T,x,v,null);let Be,Je;Ad(ge);try{const lt=this.componentDef;let Ft,Oe=null;lt.findHostDirectiveDefs?(Ft=[],Oe=new Map,lt.findHostDirectiveDefs(lt,Ft,Oe),Ft.push(lt)):Ft=[lt];const Nt=function ah(o,s){const c=o[tt],d=tn;return o[d]=s,Lu(c,d,2,"#host",null)}(ge,L),mn=function Zf(o,s,c,d,h,g,v,E){const x=h[tt];!function Iv(o,s,c,d){for(const h of o)s.mergedAttrs=Qo(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(Cv(s,s.mergedAttrs,!0),null!==c&&Cu(d,c,s))}(d,o,s,v);const T=g.createRenderer(s,c),k=cv(h,qf(c),null,c.onPush?32:16,h[o.index],o,g,T,E||null,null,null);return x.firstCreatePass&&yg(x,o,d.length-1),Ev(h,k),h[o.index]=k}(Nt,L,lt,Ft,ge,E,T);Je=Wc(te,tn),L&&function Tv(o,s,c,d){if(d)io(o,c,["ng-version",Jy.full]);else{const{attrs:h,classes:g}=function cg(o){const s=[],c=[];let d=1,h=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===h?""!==g&&s.push(g,o[++d]):8===h&&c.push(g);else{if(!os(h))break;h=g}d++}return{attrs:s,classes:c}}(s.selectors[0]);h&&io(o,c,h),g&&g.length>0&&dc(o,c,g.join(" "))}}(T,lt,L,d),void 0!==c&&function YS(o,s,c){const d=o.projection=[];for(let h=0;h<s.length;h++){const g=c[h];d.push(null!=g?Array.from(g):null)}}(Je,this.ngContentSelectors,c),Be=function ZS(o,s,c,d,h,g){const v=li(),E=h[tt],x=Fi(v,h);gv(E,h,v,c,null,d);for(let k=0;k<c.length;k++)gr(Ss(h,E,v.directiveStart+k,v),h);_v(E,h,v),x&&gr(x,h);const T=Ss(h,E,v.directiveStart+v.componentOffset,v);if(o[Mn]=h[Mn]=T,null!==g)for(const k of g)k(T,s);return dv(E,v,o),T}(mn,lt,Ft,Oe,ge,[Dg]),co(te,ge,null)}finally{sf()}return new Wf(this.componentType,Be,Fu(Je,ge),ge,Je)}}class Wf extends dS{constructor(s,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new GS(h),this.componentType=s}setInput(s,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[s])){const g=this._rootLView;aE(g[tt],g,h,s,c),mv(g,this._tNode.index)}}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Dg(){const o=li();nu(Ae()[tt],o)}function Sg(o){let s=function Av(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;s;){let h;if(Oi(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new pe(903,!1);h=s.\u0275dir}if(h){if(c){d.push(h);const v=o;v.inputs=Yf(o.inputs),v.declaredInputs=Yf(o.declaredInputs),v.outputs=Yf(o.outputs);const E=h.hostBindings;E&&KS(o,E);const x=h.viewQuery,T=h.contentQueries;if(x&&fk(o,x),T&&pk(o,T),me(o.inputs,h.inputs),me(o.declaredInputs,h.declaredInputs),me(o.outputs,h.outputs),Oi(h)&&h.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(o),E===Sg&&(c=!1)}}s=Object.getPrototypeOf(s)}!function cE(o){let s=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=s+=h.hostVars,h.hostAttrs=Qo(h.hostAttrs,c=Qo(c,h.hostAttrs))}}(d)}function Yf(o){return o===rt?{}:o===Ye?[]:o}function fk(o,s){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{s(d,h),c(d,h)}:s}function pk(o,s){const c=o.contentQueries;o.contentQueries=c?(d,h,g)=>{s(d,h,g),c(d,h,g)}:s}function KS(o,s){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{s(d,h),c(d,h)}:s}function Rg(o){return!!Rv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Rv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Da(o,s,c){return o[s]=c}function Fr(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function hl(o,s,c,d){const h=Fr(o,s,c);return Fr(o,s+1,d)||h}function Qf(o,s,c,d){const h=Ae();return Fr(h,Ga(),s)&&(sn(),ks(Dn(),h,o,s,c,d)),Qf}function bc(o,s,c,d,h,g){const E=hl(o,function pr(){return Ot.lFrame.bindingIndex}(),c,h);return Tr(2),E?s+Ie(c)+d+Ie(h)+g:Zt}function pE(o,s,c,d,h,g,v,E){const x=Ae(),T=sn(),k=o+tn,L=T.firstCreatePass?function fE(o,s,c,d,h,g,v,E,x){const T=s.consts,k=Lu(s,o,4,v||null,Do(T,E));gg(s,c,k,Do(T,x)),nu(s,k);const L=k.tView=pv(2,k,d,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,k),L.queries=s.queries.embeddedTView(k)),k}(k,T,x,s,c,d,h,g,v):T.data[k];fr(L,!1);const $=x[Wt].createComment("");Qd(T,x,$,L),gr($,x),Ev(x,x[k]=wv($,x,$,L)),ys(L)&&hv(T,x,L),null!=v&&fv(x,L,E)}function Pv(o){return no(function Sd(){return Ot.lFrame.contextLView}(),tn+o)}function Nv(o,s,c){const d=Ae();return Fr(d,Ga(),s)&&uo(sn(),Dn(),d,o,s,d[Wt],c,!1),Nv}function Lv(o,s,c,d,h){const v=h?"class":"style";aE(o,c,s.inputs[v],v,d)}function Og(o,s,c,d){const h=Ae(),g=sn(),v=tn+o,E=h[Wt],x=g.firstCreatePass?function gE(o,s,c,d,h,g){const v=s.consts,x=Lu(s,o,2,d,Do(v,h));return gg(s,c,x,Do(v,g)),null!==x.attrs&&Cv(x,x.attrs,!1),null!==x.mergedAttrs&&Cv(x,x.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,x),x}(v,g,h,s,c,d):g.data[v],T=h[v]=gu(E,s,function Dm(){return Ot.lFrame.currentNamespace}()),k=ys(x);return fr(x,!0),Cu(E,T,x),32!=(32&x.flags)&&Qd(g,h,T,x),0===function xd(){return Ot.lFrame.elementDepthCount}()&&gr(T,h),function za(){Ot.lFrame.elementDepthCount++}(),k&&(hv(g,h,x),dv(g,x,h)),null!==d&&fv(h,x),Og}function Vv(){let o=li();Dd()?Js():(o=o.parent,fr(o,!1));const s=o;!function tf(){Ot.lFrame.elementDepthCount--}();const c=sn();return c.firstCreatePass&&(nu(c,o),Eo(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Tm(o){return 0!=(8&o.flags)}(s)&&Lv(c,s,Ae(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Mr(o){return 0!=(16&o.flags)}(s)&&Lv(c,s,Ae(),s.stylesWithoutHost,!1),Vv}function Fg(o,s,c,d){return Og(o,s,c,d),Vv(),Fg}function ep(o,s,c){const d=Ae(),h=sn(),g=o+tn,v=h.firstCreatePass?function rI(o,s,c,d,h){const g=s.consts,v=Do(g,d),E=Lu(s,o,8,"ng-container",v);return null!==v&&Cv(E,v,!0),gg(s,c,E,Do(g,h)),null!==s.queries&&s.queries.elementStart(s,E),E}(g,h,d,s,c):h.data[g];fr(v,!0);const E=d[g]=d[Wt].createComment("");return Qd(h,d,E,v),gr(E,d),ys(v)&&(hv(h,d,v),dv(h,v,d)),null!=c&&fv(d,v),ep}function Pg(){let o=li();const s=sn();return Dd()?Js():(o=o.parent,fr(o,!1)),s.firstCreatePass&&(nu(s,o),Eo(o)&&s.queries.elementEnd(o)),Pg}function Ng(o,s,c){return ep(o,s,c),Pg(),Ng}function Lg(){return Ae()}function Bv(o){return!!o&&"function"==typeof o.then}function Vg(o){return!!o&&"function"==typeof o.subscribe}const _E=Vg;function fh(o,s,c,d){const h=Ae(),g=sn(),v=li();return function vE(o,s,c,d,h,g,v){const E=ys(d),T=o.firstCreatePass&&sE(o),k=s[Mn],L=Cg(s);let $=!0;if(3&d.type||v){const Be=Fi(d,s),Je=v?v(Be):Be,lt=L.length,Ft=v?Nt=>v(Nn(Nt[d.index])):d.index;let Oe=null;if(!v&&E&&(Oe=function Uv(o,s,c,d){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===c&&h[g+1]===d){const E=s[ms],x=h[g+2];return E.length>x?E[x]:null}"string"==typeof v&&(g+=2)}return null}(o,s,h,d.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=g,Oe.__ngLastListenerFn__=g,$=!1;else{g=Hv(d,s,k,g,!1);const Nt=c.listen(Je,h,g);L.push(g,Nt),T&&T.push(h,Ft,lt,lt+1)}}else g=Hv(d,s,k,g,!1);const te=d.outputs;let ge;if($&&null!==te&&(ge=te[h])){const Be=ge.length;if(Be)for(let Je=0;Je<Be;Je+=2){const mn=s[ge[Je]][ge[Je+1]].subscribe(g),pi=L.length;L.push(g,mn),T&&T.push(h,d.index,pi,-(pi+1))}}}(g,h,h[Wt],v,o,s,d),fh}function Bg(o,s,c,d){try{return cn(6,s,c),!1!==c(d)}catch(h){return $S(o,h),!1}finally{cn(7,s,c)}}function Hv(o,s,c,d,h){return function g(v){if(v===Function)return d;wg(o.componentOffset>-1?ai(o.index,s):s);let x=Bg(s,c,d,v),T=g.__ngNextListenerFn__;for(;T;)x=Bg(s,c,T,v)&&x,T=T.__ngNextListenerFn__;return h&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}function bE(o=1){return function Md(o){return(Ot.lFrame.contextLView=function Cm(o,s){for(;o>0;)s=s[Na],o--;return s}(o,Ot.lFrame.contextLView))[Mn]}(o)}function wE(o,s){let c=null;const d=function Aw(o){const s=o.attrs;if(null!=s){const c=s.indexOf(5);if(!(1&c))return s[c+1]}return null}(o);for(let h=0;h<s.length;h++){const g=s[h];if("*"!==g){if(null===d?Hf(o,g,!0):DS(d,g))return h}else c=h}return c}function EE(o){const s=Ae()[gi][$n];if(!s.projection){const d=s.projection=ns(o?o.length:1,null),h=d.slice();let g=s.child;for(;null!==g;){const v=o?wE(g,o):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function jv(o,s=0,c){const d=Ae(),h=sn(),g=Lu(h,tn+o,16,null,c||null);null===g.projection&&(g.projection=s),Js(),32!=(32&g.flags)&&function zm(o,s,c){wa(s[Wt],0,s,c,Vy(o,c,s),Af(c.parent||s[$n],c,s))}(h,d,g)}function np(o,s){return o<<17|s<<2}function ho(o){return o>>17&32767}function Gv(o){return 2|o}function wc(o){return(131068&o)>>2}function qv(o,s){return-131069&o|s<<2}function ip(o){return 1|o}function Wv(o,s,c,d,h){const g=o[c+1],v=null===s;let E=d?ho(g):wc(g),x=!1;for(;0!==E&&(!1===x||v);){const k=o[E+1];uI(o[E],s)&&(x=!0,o[E+1]=d?ip(k):Gv(k)),E=d?ho(k):wc(k)}x&&(o[c+1]=d?Gv(g):ip(g))}function uI(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Ke(o,s)>=0}function FE(o,s,c){return Ns(o,s,c,!1),FE}function Zv(o,s){return Ns(o,s,null,!0),Zv}function Ns(o,s,c,d){const h=Ae(),g=sn(),v=Tr(2);g.firstUpdatePass&&function PE(o,s,c,d){const h=o.data;if(null===h[c+1]){const g=h[Yi()],v=function pI(o,s){return s>=o.expandoStartIndex}(o,c);(function NE(o,s){return 0!=(o.flags&(s?8:16))})(g,d)&&null===s&&!v&&(s=!1),s=function ye(o,s,c,d){const h=function Es(o){const s=Ot.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let g=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(c=op(c=hn(null,o,s,c,d),s.attrs,d),g=null);else{const v=s.directiveStylingLast;if(-1===v||o[v]!==h)if(c=hn(h,o,s,c,d),null===g){let x=function Hu(o,s,c){const d=c?s.classBindings:s.styleBindings;if(0!==wc(d))return o[ho(d)]}(o,s,d);void 0!==x&&Array.isArray(x)&&(x=hn(null,o,s,x[1],d),x=op(x,s.attrs,d),function Hg(o,s,c,d){o[ho(c?s.classBindings:s.styleBindings)]=d}(o,s,d,x))}else g=function Ec(o,s,c){let d;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)d=op(d,o[g].hostAttrs,c);return op(d,s.attrs,c)}(o,s,d)}return void 0!==g&&(d?s.residualClasses=g:s.residualStyles=g),c}(h,g,s,d),function AE(o,s,c,d,h,g){let v=g?s.classBindings:s.styleBindings,E=ho(v),x=wc(v);o[d]=c;let k,T=!1;if(Array.isArray(c)?(k=c[1],(null===k||Ke(c,k)>0)&&(T=!0)):k=c,h)if(0!==x){const $=ho(o[E+1]);o[d+1]=np($,E),0!==$&&(o[$+1]=qv(o[$+1],d)),o[E+1]=function TE(o,s){return 131071&o|s<<17}(o[E+1],d)}else o[d+1]=np(E,0),0!==E&&(o[E+1]=qv(o[E+1],d)),E=d;else o[d+1]=np(x,0),0===E?E=d:o[x+1]=qv(o[x+1],d),x=d;T&&(o[d+1]=Gv(o[d+1])),Wv(o,k,d,!0),Wv(o,k,d,!1),function cI(o,s,c,d,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof s&&Ke(g,s)>=0&&(c[d+1]=ip(c[d+1]))}(s,k,o,d,g),v=np(E,x),g?s.classBindings=v:s.styleBindings=v}(h,g,s,c,v,d)}}(g,o,v,d),s!==Zt&&Fr(h,v,s)&&function zt(o,s,c,d,h,g,v,E){if(!(3&s.type))return;const x=o.data,T=x[E+1],k=function aI(o){return 1==(1&o)}(T)?sp(x,s,c,h,wc(T),v):void 0;ju(k)||(ju(g)||function sI(o){return 2==(2&o)}(T)&&(g=sp(x,null,c,h,E,v)),function _r(o,s,c,d,h){if(s)h?o.addClass(c,d):o.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Or.DashCase;null==h?o.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Or.Important),o.setStyle(c,d,h,g))}}(d,v,to(Yi(),c),h,g))}(g,g.data[Yi()],h,h[Wt],o,h[v+1]=function ap(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=he(Vi(o)))),o}(s,c),d,v)}function hn(o,s,c,d,h){let g=null;const v=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<v&&(g=s[E],d=op(d,g.hostAttrs,h),g!==o);)E++;return null!==o&&(c.directiveStylingLast=E),d}function op(o,s,c){const d=c?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const v=s[g];"number"==typeof v?h=v:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Qt(o,v,!!c||s[++g]))}return void 0===o?null:o}function sp(o,s,c,d,h,g){const v=null===s;let E;for(;h>0;){const x=o[h],T=Array.isArray(x),k=T?x[1]:x,L=null===k;let $=c[h+1];$===Zt&&($=L?Ye:void 0);let te=L?ro($,d):k===d?$:void 0;if(T&&!ju(te)&&(te=ro(x,d)),ju(te)&&(E=te,v))return E;const ge=o[h+1];h=v?ho(ge):wc(ge)}if(null!==s){let x=g?s.residualClasses:s.residualStyles;null!=x&&(E=ro(x,d))}return E}function ju(o){return void 0!==o}function jg(o,s=""){const c=Ae(),d=sn(),h=o+tn,g=d.firstCreatePass?Lu(d,h,1,s,null):d.data[h],v=c[h]=function sc(o,s){return o.createText(s)}(c[Wt],s);Qd(d,c,v,g),fr(g,!1)}function Qv(o){return zg("",o,""),Qv}function zg(o,s,c){const d=Ae(),h=function Bu(o,s,c,d){return Fr(o,Ga(),c)?s+Ie(c)+d:Zt}(d,o,s,c);return h!==Zt&&vc(d,Yi(),h),zg}function Xv(o,s,c,d,h){const g=Ae(),v=bc(g,o,s,c,d,h);return v!==Zt&&vc(g,Yi(),v),Xv}function rb(o,s,c){const d=Ae();return Fr(d,Ga(),s)&&uo(sn(),Dn(),d,o,s,d[Wt],c,!0),rb}const zu=void 0;var Xg=["en",[["a","p"],["AM","PM"],zu],[["AM","PM"],zu,zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zu,"{1} 'at' {0}",zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vI(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Cc={};function Jg(o){const s=function ob(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=e_(s);if(c)return c;const d=s.split("-")[0];if(c=e_(d),c)return c;if("en"===d)return Xg;throw new pe(701,!1)}function cp(o){return Jg(o)[At.PluralCase]}function e_(o){return o in Cc||(Cc[o]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[o]),Cc[o]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const _h="en-US";let t_=_h;function vb(o,s,c,d,h){if(o=Q(o),Array.isArray(o))for(let g=0;g<o.length;g++)vb(o[g],s,c,d,h);else{const g=sn(),v=Ae();let E=Ca(o)?o:Q(o.provide),x=_w(o);const T=li(),k=1048575&T.providerIndexes,L=T.directiveStart,$=T.providerIndexes>>20;if(Ca(o)||!o.multi){const te=new Wa(x,h,oh),ge=wb(E,s,h?k:k+$,L);-1===ge?(aa(sa(T,v),g,E),bb(g,o,s.length),s.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(te),v.push(te)):(c[ge]=te,v[ge]=te)}else{const te=wb(E,s,k+$,L),ge=wb(E,s,k,k+$),Je=ge>=0&&c[ge];if(h&&!Je||!h&&!(te>=0&&c[te])){aa(sa(T,v),g,E);const lt=function fC(o,s,c,d,h){const g=new Wa(o,c,oh);return g.multi=[],g.index=s,g.componentProviders=0,hC(g,h,d&&!c),g}(h?xc:Ep,c.length,h,d,x);!h&&Je&&(c[ge].providerFactory=lt),bb(g,o,s.length,0),s.push(E),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),c.push(lt),v.push(lt)}else bb(g,o,te>-1?te:ge,hC(c[h?ge:te],x,!h&&d));!h&&d&&Je&&c[ge].componentProviders++}}}function bb(o,s,c,d){const h=Ca(s),g=function nh(o){return!!o.useClass}(s);if(h||g){const x=(g?Q(s.useClass):s).prototype.ngOnDestroy;if(x){const T=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const k=T.indexOf(c);-1===k?T.push(c,[d,x]):T[k+1].push(d,x)}else T.push(c,x)}}}function hC(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function wb(o,s,c,d){for(let h=c;h<d;h++)if(s[h]===o)return h;return-1}function Ep(o,s,c,d){return m_(this.multi,[])}function xc(o,s,c,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Ss(c,c[tt],this.providerFactory.index,d);g=E.slice(0,v),m_(h,g);for(let x=v;x<E.length;x++)g.push(E[x])}else g=[],m_(h,g);return g}function m_(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function Eb(o,s=[]){return c=>{c.providersResolver=(d,h)=>function dC(o,s,c){const d=sn();if(d.firstCreatePass){const h=Oi(o);vb(c,d.data,d.blueprint,h,!0),vb(s,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,s)}}class Ls{}class pC{}function OI(o,s){return new mC(o,s??null)}class mC extends Ls{constructor(s,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dv(this);const d=si(s);this._bootstrapComponents=xa(d.bootstrap),this._r3Injector=RS(s,c,[{provide:Ls,useValue:this},{provide:gc,useValue:this.componentFactoryResolver}],he(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class g_ extends pC{constructor(s){super(),this.moduleType=s}create(s){return new mC(this.moduleType,s)}}class gC extends Ls{constructor(s,c,d){super(),this.componentFactoryResolver=new Dv(this),this.instance=null;const h=new mw([...s,{provide:Ls,useValue:this},{provide:gc,useValue:this.componentFactoryResolver}],c||rg(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Cp(o,s,c=null){return new gC(o,s,c).injector}let Cb=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=dw(0,c.type),h=d.length>0?Cp([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=it({token:o,providedIn:"environment",factory:()=>new o(Ge(Ou))}),o})();function xb(o){o.getStandaloneInjector=s=>s.get(Cb).getOrCreateStandaloneInjector(o)}function Ib(o,s,c,d){return function Ab(o,s,c,d,h,g){const v=s+c;return Fr(o,v,h)?Da(o,v+1,g?d.call(g,h):d(h)):yl(o,v+1)}(Ae(),Hn(),o,s,c,d)}function yl(o,s){const c=o[s];return c===Zt?void 0:c}function Dp(o,s,c,d,h,g,v,E){const x=s+c;return function kv(o,s,c,d,h){const g=hl(o,s,c,d);return Fr(o,s+2,h)||g}(o,x,h,g,v)?Da(o,x+3,E?d.call(E,h,g,v):d(h,g,v)):yl(o,x+3)}function DC(o,s){const c=sn();let d;const h=o+tn;c.firstCreatePass?(d=function SC(o,s){if(s)for(let c=s.length-1;c>=0;c--){const d=s[c];if(o===d.name)return d}}(s,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const g=d.factory||(d.factory=hr(d.type)),v=Fn(oh);try{const E=ra(!1),x=g();return ra(E),function mE(o,s,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),s[c]=d}(c,Ae(),h,x),x}finally{Fn(v)}}function Rb(o,s,c,d){const h=o+tn,g=Ae(),v=no(g,h);return Dc(g,h)?function C_(o,s,c,d,h,g,v){const E=s+c;return hl(o,E,h,g)?Da(o,E+2,v?d.call(v,h,g):d(h,g)):yl(o,E+2)}(g,Hn(),s,v.transform,c,d,v):v.transform(c,d)}function D_(o,s,c,d,h){const g=o+tn,v=Ae(),E=no(v,g);return Dc(v,g)?Dp(v,Hn(),s,E.transform,c,d,h,E):E.transform(c,d,h)}function Dc(o,s){return o[tt].data[s].pure}function S_(o){return s=>{setTimeout(o,void 0,s)}}const Lr=class AC extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,d){let h=s,g=c||(()=>null),v=d;if(s&&"object"==typeof s){const x=s;h=x.next?.bind(x),g=x.error?.bind(x),v=x.complete?.bind(x)}this.__isAsync&&(g=S_(g),h&&(h=S_(h)),v&&(v=S_(v)));const E=super.subscribe({next:h,error:g,complete:v});return s instanceof ee.w0&&s.add(E),E}};function MC(){return this._results[Symbol.iterator]()}class I_{get changes(){return this._changes||(this._changes=new Lr)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=I_.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=MC)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const d=this;d.dirty=!1;const h=function Ni(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function da(o,s,c){if(o.length!==s.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],g=s[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sh=(()=>{class o{}return o.__NG_ELEMENT_ID__=No,o})();const RC=Sh,T_=class extends RC{constructor(s,c,d){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(s,c){const d=this._declarationTContainer.tView,h=cv(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,null,c||null);h[Gs]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Wi];return null!==v&&(h[Wi]=v.createEmbeddedView(d)),co(d,h,s),new xg(h)}};function No(){return Ip(li(),Ae())}function Ip(o,s){return 4&o.type?new T_(s,o,Fu(o,s)):null}let Tp=(()=>{class o{}return o.__NG_ELEMENT_ID__=Ih,o})();function Ih(){return OC(li(),Ae())}const UI=Tp,kC=class extends UI{constructor(s,c,d){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=d}get element(){return Fu(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Jo(this._hostTNode,this._hostLView);if(su(s)){const c=ia(s,this._hostLView),d=na(s);return new Pi(c[tt].data[d+8],c)}return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=A_(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-_i}createEmbeddedView(s,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=s.createEmbeddedView(c||{},g);return this.insert(v,h),v}createComponent(s,c,d,h,g){const v=s&&!function Ao(o){return"function"==typeof o}(s);let E;if(v)E=c;else{const L=c||{};E=L.index,d=L.injector,h=L.projectableNodes,g=L.environmentInjector||L.ngModuleRef}const x=v?s:new Vu(on(s)),T=d||this.parentInjector;if(!g&&null==x.ngModule){const $=(v?T:this.parentInjector).get(Ou,null);$&&(g=$)}const k=x.create(T,h,void 0,g);return this.insert(k.hostView,E),k}insert(s,c){const d=s._lView,h=d[tt];if(function ja(o){return dr(o[bn])}(d)){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const L=d[bn],$=new kC(L,L[$n],L[bn]);$.detach($.indexOf(s))}}const g=this._adjustIndex(c),v=this._lContainer;!function Ly(o,s,c,d){const h=_i+d,g=c.length;d>0&&(c[h-1][cr]=s),d<g-_i?(s[cr]=c[h],cu(c,_i+d,s)):(c.push(s),s[cr]=null),s[bn]=c;const v=s[Gs];null!==v&&c!==v&&function Bm(o,s){const c=o[qs];s[gi]!==s[bn][bn][gi]&&(o[Rl]=!0),null===c?o[qs]=[s]:c.push(s)}(v,s);const E=s[Wi];null!==E&&E.insertView(o),s[Ut]|=64}(h,d,v,g);const E=Xd(g,v),x=d[Wt],T=wu(x,v[_s]);return null!==T&&function Zd(o,s,c,d,h,g){d[xr]=h,d[$n]=s,al(o,d,c,1,h,g)}(h,v[$n],x,d,T,E),s.attachToViewContainerRef(),cu(Ob(v),g,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=A_(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),d=_u(this._lContainer,c);d&&(Ja(Ob(this._lContainer),c),yu(d[tt],d))}detach(s){const c=this._adjustIndex(s,-1),d=_u(this._lContainer,c);return d&&null!=Ja(Ob(this._lContainer),c)?new xg(d):null}_adjustIndex(s,c=0){return s??this.length+c}};function A_(o){return o[Dr]}function Ob(o){return o[Dr]||(o[Dr]=[])}function OC(o,s){let c;const d=s[o.index];if(dr(d))c=d;else{let h;if(8&o.type)h=Nn(d);else{const g=s[Wt];h=g.createComment("");const v=Fi(o,s);ba(g,wu(g,v),h,function Hm(o,s){return o.nextSibling(s)}(g,v),!1)}s[o.index]=c=wv(d,s,h,o),Ev(s,c)}return new kC(c,o,s)}class M_{constructor(s){this.queryList=s,this.matches=null}clone(){return new M_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const d=null!==s.contentQueries?s.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Fb(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==Te(s,c).matches&&this.queries[c].setDirty()}}class Ap{constructor(s,c,d=null){this.predicate=s,this.flags=c,this.read=d}}class Pb{constructor(s=[]){this.queries=s}elementStart(s,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(s,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Pb(c):null}template(s,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class R_{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new R_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(s,c,nr(c,g)),this.matchTNodeWithReadOption(s,c,Zl(c,s,g,!1,!1))}else d===Sh?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,Zl(c,s,d,!1,!1))}matchTNodeWithReadOption(s,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===ul||h===Tp||h===Sh&&4&c.type)this.addMatch(c.index,-2);else{const g=Zl(c,s,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function nr(o,s){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===s)return c[d+1];return null}function Sc(o,s,c,d){return-1===c?function Th(o,s){return 11&o.type?Fu(o,s):4&o.type?Ip(o,s):null}(s,o):-2===c?function Nb(o,s,c){return c===ul?Fu(s,o):c===Sh?Ip(s,o):c===Tp?OC(s,o):void 0}(o,s,d):Ss(o,o[tt],c,s)}function FC(o,s,c,d){const h=s[Wi].queries[d];if(null===h.matches){const g=o.data,v=c.matches,E=[];for(let x=0;x<v.length;x+=2){const T=v[x];E.push(T<0?null:Sc(s,g[T],v[x+1],c.metadata.read))}h.matches=E}return h.matches}function Fe(o,s,c,d){const h=o.queries.getByIndex(c),g=h.matches;if(null!==g){const v=FC(o,s,h,c);for(let E=0;E<g.length;E+=2){const x=g[E];if(x>0)d.push(v[E/2]);else{const T=g[E+1],k=s[-x];for(let L=_i;L<k.length;L++){const $=k[L];$[Gs]===$[bn]&&Fe($[tt],$,T,d)}if(null!==k[qs]){const L=k[qs];for(let $=0;$<L.length;$++){const te=L[$];Fe(te[tt],te,T,d)}}}}}return d}function hi(o){const s=Ae(),c=sn(),d=Jc();Gl(d+1);const h=Te(c,d);if(o.dirty&&function Zc(o){return 4==(4&o[Ut])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?Fe(c,s,d,[]):FC(c,s,h,d);o.reset(g,ww),o.notifyOnChanges()}return!0}return!1}function Vs(o,s,c){const d=sn();d.firstCreatePass&&(Qe(d,new Ap(o,s,c),-1),2==(2&s)&&(d.staticViewQueries=!0)),PC(d,Ae(),s)}function k_(o,s,c,d){const h=sn();if(h.firstCreatePass){const g=li();Qe(h,new Ap(s,c,d),g.index),function le(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}PC(h,Ae(),c)}function at(){return function Ct(o,s){return o[Wi].queries[s].queryList}(Ae(),Jc())}function PC(o,s,c){const d=new I_(4==(4&c));vr(o,s,d,d.destroy),null===s[Wi]&&(s[Wi]=new Fb),s[Wi].queries.push(new M_(d))}function Qe(o,s,c){null===o.queries&&(o.queries=new Pb),o.queries.track(new R_(s,c))}function Te(o,s){return o.queries.getByIndex(s)}function Ii(o,s){return Ip(o,s)}function Vb(o){return!!si(o)}function H_(...o){}const qC=new wn("Application Initializer");let j_=(()=>{class o{constructor(c){this.appInits=c,this.resolve=H_,this.reject=H_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Bv(g))c.push(g);else if(_E(g)){const v=new Promise((E,x)=>{g.subscribe({complete:E,error:x})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Ge(qC,8))},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const WC=new wn("AppId",{providedIn:"root",factory:function ZC(){return`${zb()}${zb()}${zb()}`}});function zb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const YC=new wn("Platform Initializer"),YI=new wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),KI=new wn("AnimationModuleType");let QI=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const kp=new wn("LocaleId",{providedIn:"root",factory:()=>st(kp,wt.Optional|wt.SkipSelf)||function XI(){return typeof $localize<"u"&&$localize.locale||_h}()}),JI=new wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class $b{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}let ir=(()=>{class o{compileModuleSync(c){return new g_(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=xa(si(c).declarations).reduce((v,E)=>{const x=on(E);return x&&v.push(new Vu(x)),v},[]);return new $b(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const XC=(()=>Promise.resolve(0))();function Ac(o){typeof Zone>"u"?XC.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class as{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lr(!1),this.onMicrotaskEmpty=new Lr(!1),this.onStable=new Lr(!1),this.onError=new Lr(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function mo(){let o=Vt.requestAnimationFrame,s=Vt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function fi(o){const s=()=>{!function Mc(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Vt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,wl(o),o.isCheckStableRunning=!0,Gb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),wl(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,v,E)=>{try{return z_(o),c.invokeTask(h,g,v,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&s(),qb(o)}},onInvoke:(c,d,h,g,v,E,x)=>{try{return z_(o),c.invoke(h,g,v,E,x)}finally{o.shouldCoalesceRunChangeDetection&&s(),qb(o)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,wl(o),Gb(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!as.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(as.isInAngularZone())throw new pe(909,!1)}run(s,c,d){return this._inner.run(s,c,d)}runTask(s,c,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,s,Ui,H_,H_);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(s,c,d){return this._inner.runGuarded(s,c,d)}runOutsideAngular(s){return this._outer.run(s)}}const Ui={};function Gb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function wl(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function z_(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function qb(o){o._nesting--,Gb(o)}class Fp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lr,this.onMicrotaskEmpty=new Lr,this.onStable=new Lr,this.onError=new Lr}run(s,c,d){return s.apply(c,d)}runGuarded(s,c,d){return s.apply(c,d)}runOutsideAngular(s){return s()}runTask(s,c,d,h){return s.apply(c,d)}}const JC=new wn(""),El=new wn("");let ls,Rc=(()=>{class o{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ls||(function ed(o){ls=o}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{as.assertNotInAngularZone(),Ac(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ac(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(Ge(as),Ge(Pp),Ge(El))},o.\u0275prov=it({token:o,factory:o.\u0275fac}),o})(),Pp=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return ls?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Bo=!1;let Zr=null;const Wb=new wn("AllowMultipleToken"),kc=new wn("PlatformDestroyListeners"),$_=new wn("appBootstrapListener");class tx{constructor(s,c){this.name=s,this.token=c}}function ix(o,s,c=[]){const d=`Platform: ${s}`,h=new wn(d);return(g=[])=>{let v=Ti();if(!v||v.injector.get(Wb,!1)){const E=[...c,...g,{provide:h,useValue:!0}];o?o(E):function nx(o){if(Zr&&!Zr.get(Wb,!1))throw new pe(400,!1);Zr=o;const s=o.get(Yb);(function kh(o){const s=o.get(YC,null);s&&s.forEach(c=>c())})(o)}(function Zb(o=[],s){return ih.create({name:s,providers:[{provide:Zy,useValue:"platform"},{provide:kc,useValue:new Set([()=>Zr=null])},...o]})}(E,d))}return function iT(o){const s=Ti();if(!s)throw new pe(401,!1);return s}()}}function Ti(){return Zr?.get(Yb)??null}let Yb=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function Cl(o,s){let c;return c="noop"===o?new Fp:("zone.js"===o?void 0:o)||new as(s),c}(d?.ngZone,function Vn(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:as,useValue:h}];return h.run(()=>{const v=ih.create({providers:g,parent:this.injector,name:c.moduleType.name}),E=c.create(v),x=E.injector.get(Uf,null);if(!x)throw new pe(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:k=>{x.handleError(k)}});E.onDestroy(()=>{q_(this._modules,E),T.unsubscribe()})}),function Kb(o,s,c){try{const d=c();return Bv(d)?d.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>o.handleError(d)),d}}(x,h,()=>{const T=E.injector.get(j_);return T.runInitializers(),T.donePromise.then(()=>(function n_(o){et(o,"Expected localeId to be defined"),"string"==typeof o&&(t_=o.toLowerCase().replace(/_/g,"-"))}(E.injector.get(kp,_h)||_h),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,d=[]){const h=Qb({},d);return function td(o,s,c){const d=new g_(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(xl);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new pe(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(kc,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Ge(ih))},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Qb(o,s){return Array.isArray(s)?s.reduce(Qb,o):{...o,...s}}let xl=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new N.y(E=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{as.assertNotInAngularZone(),Ac(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{as.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{x.unsubscribe(),T.unsubscribe()}});this.isStable=(0,re.T)(g,v.pipe((0,oe.B)()))}bootstrap(c,d){const h=c instanceof vw;if(!this._injector.get(j_).done){!h&&Go(c);throw new pe(405,Bo)}let v;v=h?c:this._injector.get(gc).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const E=function Np(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Ls),T=v.create(ih.NULL,[],d||v.selector,E),k=T.location.nativeElement,L=T.injector.get(JC,null);return L?.registerApplication(k),T.onDestroy(()=>{this.detachView(T.hostView),q_(this.components,T),L?.unregisterApplication(k)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;q_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get($_,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>q_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new pe(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(Ge(as),Ge(Ou),Ge(Uf))},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function q_(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}function En(){return!1}let e0=(()=>{class o{}return o.__NG_ELEMENT_ID__=sx,o})();function sx(o){return function ax(o,s,c){if(kl(o)&&!c){const d=ai(o.index,s);return new xg(d,d)}return 47&o.type?new xg(s[gi],s):null}(li(),Ae(),16==(16&o))}class Up{constructor(){}supports(s){return Rg(s)}create(s){return new id(s)}}const t0=(o,s)=>s;class id{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||t0}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<Fh(d,h,g)?c:d,E=Fh(v,h,g),x=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{g||(g=[]);const T=E-h,k=x-h;if(T!=k){for(let $=0;$<T;$++){const te=$<g.length?g[$]:g[$]=0,ge=te+$;k<=ge&&ge<T&&(g[$]=te+1)}g[v.previousIndex]=k-T}}E!==x&&s(v,E,x)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!Rg(s))throw new pe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,v,c=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)g=s[E],v=this._trackByFn(E,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,E)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,E),d=!0),c=c._next}else h=0,function uE(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Symbol.iterator]();let d;for(;!(d=c.next()).done;)s(d.value)}}(s,E=>{v=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,E,v,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,d,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,g,h)):s=this._addAfter(new Yr(c,d),g,h),s}_verifyReinsertion(s,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,c,d),this._addToMoves(s,d),s}_moveAfter(s,c,d){return this._unlink(s),this._insertAfter(s,c,d),this._addToMoves(s,d),s}_addAfter(s,c,d){return this._insertAfter(s,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,d){const h=null===c?this._itHead:c._next;return s._next=h,s._prev=c,null===h?this._itTail=s:h._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new Hp),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,d=s._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hp),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Yr{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class n0{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const c=s._prevDup,d=s._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Hp{constructor(){this.map=new Map}put(s){const c=s.trackById;let d=this.map.get(c);d||(d=new n0,this.map.set(c,d)),d.add(s)}get(s,c){const h=this.map.get(s);return h?h.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fh(o,s,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+s+h}class r0{constructor(){}supports(s){return s instanceof Map||Rv(s)}create(){return new o0}}class o0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||Rv(s)))throw new pe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const d=s._prev;return c._next=s,c._prev=d,s._prev=c,d&&(d._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,c);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new jp(s);return this._records.set(s,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(d=>c(s[d],d))}}class jp{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function s0(){return new K_([new Up])}let K_=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||s0()),deps:[[o,new D,new oo]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new pe(901,!1)}}return o.\u0275prov=it({token:o,providedIn:"root",factory:s0}),o})();function Sl(){return new a0([new r0])}let a0=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Sl()),deps:[[o,new D,new oo]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new pe(901,!1)}}return o.\u0275prov=it({token:o,providedIn:"root",factory:Sl}),o})();const Ta=ix(null,"core",[]);let dx=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Ge(xl))},o.\u0275mod=Ml({type:o}),o.\u0275inj=Yn({}),o})();function zp(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(_t,Ee,P)=>{P.d(Ee,{Z:()=>qe});var l=P(2090),ee=P(4859),N=P(9681),re=P(1877);class oe{constructor(pe,Se){this._delegate=pe,this.firebase=Se,(0,N._addComponent)(pe,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(pe,Se=N._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(pe);return!Le.isInitialized()&&"EXPLICIT"===(null===(Ie=Le.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:Se})}_removeServiceInstance(pe,Se=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Se)}_addComponent(pe){(0,N._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,N._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function de(){const dt=function he(dt){const pe={},Se={__esModule:!0,initializeApp:function xe(Pe,H={}){const ve=N.initializeApp(Pe,H);if((0,l.r3)(pe,ve.name))return pe[ve.name];const He=new dt(ve,Se);return pe[ve.name]=He,He},app:Le,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Me(Pe){const H=Pe.name,ve=H.replace("-compat","");if(N._registerComponent(Pe)&&"PUBLIC"===Pe.type){const He=(Ze=Le())=>{if("function"!=typeof Ze[ve])throw me.create("invalid-app-argument",{appName:H});return Ze[ve]()};void 0!==Pe.serviceProps&&(0,l.ZB)(He,Pe.serviceProps),Se[ve]=He,dt.prototype[ve]=function(...Ze){return this._getService.bind(this,H).apply(this,Pe.multipleInstances?Ze:[])}}return"PUBLIC"===Pe.type?Se[ve]:null},removeApp:function Ie(Pe){delete pe[Pe]},useAsService:function Ue(Pe,H){return"serverAuth"===H?null:H},modularAPIs:N}};function Le(Pe){if(!(0,l.r3)(pe,Pe=Pe||N._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Pe});return pe[Pe]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function we(){return Object.keys(pe).map(Pe=>pe[Pe])}}),Le.App=dt,Se}(oe);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function pe(Se){(0,l.ZB)(dt,Se)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),dt}(),q=new re.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=z;!function De(dt){(0,N.registerVersion)("@firebase/app-compat","0.2.7",dt)}()},9681:(_t,Ee,P)=>{P.r(Ee),P.d(Ee,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Er,_DEFAULT_ENTRY_NAME:()=>Ve,_addComponent:()=>dn,_addOrOverwriteComponent:()=>It,_apps:()=>et,_clearComponents:()=>Yn,_components:()=>Xe,_getProvider:()=>it,_registerComponent:()=>an,_removeServiceInstance:()=>Rt,deleteApp:()=>zo,getApp:()=>Cr,getApps:()=>ar,initializeApp:()=>ds,onLog:()=>wt,registerVersion:()=>lr,setLogLevel:()=>$o});var l=P(5861),ee=P(4859),N=P(1877),re=P(2090),oe=P(8766);class J{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function me(Ge){return"VERSION"===Ge.getComponent()?.type}(st)){const Mt=st.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(st=>st).join(" ")}}const he="@firebase/app",z=new N.Yd("@firebase/app"),Ve="[DEFAULT]",$e={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Xe=new Map;function dn(Ge,Ce){try{Ge.container.addComponent(Ce)}catch(st){z.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Ge.name}`,st)}}function It(Ge,Ce){Ge.container.addOrOverwriteComponent(Ce)}function an(Ge){const Ce=Ge.name;if(Xe.has(Ce))return z.debug(`There were multiple attempts to register component ${Ce}.`),!1;Xe.set(Ce,Ge);for(const st of et.values())dn(st,Ge);return!0}function it(Ge,Ce){const st=Ge.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),Ge.container.getProvider(Ce)}function Rt(Ge,Ce,st=Ve){it(Ge,Ce).clearInstance(st)}function Yn(){Xe.clear()}const Tn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class On{constructor(Ce,st,Mt){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}const Er="9.19.1";function ds(Ge,Ce={}){let st=Ge;"object"!=typeof Ce&&(Ce={name:Ce});const Mt=Object.assign({name:Ve,automaticDataCollectionEnabled:!1},Ce),Lt=Mt.name;if("string"!=typeof Lt||!Lt)throw Tn.create("bad-app-name",{appName:String(Lt)});if(st||(st=(0,re.aH)()),!st)throw Tn.create("no-options");const $t=et.get(Lt);if($t){if((0,re.vZ)(st,$t.options)&&(0,re.vZ)(Mt,$t.config))return $t;throw Tn.create("duplicate-app",{appName:Lt})}const Ri=new ee.H0(Lt);for(const U of Xe.values())Ri.addComponent(U);const j=new On(st,Mt,Ri);return et.set(Lt,j),j}function Cr(Ge=Ve){const Ce=et.get(Ge);if(!Ce&&Ge===Ve)return ds();if(!Ce)throw Tn.create("no-app",{appName:Ge});return Ce}function ar(){return Array.from(et.values())}function zo(Ge){return An.apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(Ge){const Ce=Ge.name;et.has(Ce)&&(et.delete(Ce),yield Promise.all(Ge.container.getProviders().map(st=>st.delete())),Ge.isDeleted=!0)})).apply(this,arguments)}function lr(Ge,Ce,st){var Mt;let Lt=null!==(Mt=$e[Ge])&&void 0!==Mt?Mt:Ge;st&&(Lt+=`-${st}`);const $t=Lt.match(/\s|\//),Ri=Ce.match(/\s|\//);if($t||Ri){const j=[`Unable to register library "${Lt}" with version "${Ce}":`];return $t&&j.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),$t&&Ri&&j.push("and"),Ri&&j.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void z.warn(j.join(" "))}an(new ee.wA(`${Lt}-version`,()=>({library:Lt,version:Ce}),"VERSION"))}function wt(Ge,Ce){if(null!==Ge&&"function"!=typeof Ge)throw Tn.create("invalid-log-argument");(0,N.Am)(Ge,Ce)}function $o(Ge){(0,N.Ub)(Ge)}const $r="firebase-heartbeat-database",Fn=1,Ai="firebase-heartbeat-store";let hs=null;function Vt(){return hs||(hs=(0,oe.X3)($r,Fn,{upgrade:(Ge,Ce)=>{0===Ce&&Ge.createObjectStore(Ai)}}).catch(Ge=>{throw Tn.create("idb-open",{originalErrorMessage:Ge.message})})),hs}function kt(){return(kt=(0,l.Z)(function*(Ge){try{return(yield Vt()).transaction(Ai).objectStore(Ai).get(Kn(Ge))}catch(Ce){if(Ce instanceof re.ZR)z.warn(Ce.message);else{const st=Tn.create("idb-get",{originalErrorMessage:Ce?.message});z.warn(st.message)}}})).apply(this,arguments)}function fs(Ge,Ce){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(Ge,Ce){try{const Mt=(yield Vt()).transaction(Ai,"readwrite");return yield Mt.objectStore(Ai).put(Ce,Kn(Ge)),Mt.done}catch(st){if(st instanceof re.ZR)z.warn(st.message);else{const Mt=Tn.create("idb-set",{originalErrorMessage:st?.message});z.warn(Mt.message)}}})).apply(this,arguments)}function Kn(Ge){return`${Ge.name}!${Ge.options.appId}`}class Oa{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new rn(st),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var Ce=this;return(0,l.Z)(function*(){const Mt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=pn();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!Ce._heartbeatsCache.heartbeats.some($t=>$t.date===Lt))return Ce._heartbeatsCache.heartbeats.push({date:Lt,agent:Mt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter($t=>{const Ri=new Date($t.date).valueOf();return Date.now()-Ri<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,l.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const st=pn(),{heartbeatsToSend:Mt,unsentEntries:Lt}=function vo(Ge,Ce=1024){const st=[];let Mt=Ge.slice();for(const Lt of Ge){const $t=st.find(Ri=>Ri.agent===Lt.agent);if($t){if($t.dates.push(Lt.date),Gi(st)>Ce){$t.dates.pop();break}}else if(st.push({agent:Lt.agent,dates:[Lt.date]}),Gi(st)>Ce){st.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:st,unsentEntries:Mt}}(Ce._heartbeatsCache.heartbeats),$t=(0,re.L)(JSON.stringify({version:2,heartbeats:Mt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=st,Lt.length>0?(Ce._heartbeatsCache.heartbeats=Lt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),$t})()}}function pn(){return(new Date).toISOString().substring(0,10)}class rn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,l.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function Dt(Ge){return kt.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var st=this;return(0,l.Z)(function*(){var Mt;if(yield st._canUseIndexedDBPromise){const $t=yield st.read();return fs(st.app,{lastSentHeartbeatDate:null!==(Mt=Ce.lastSentHeartbeatDate)&&void 0!==Mt?Mt:$t.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var st=this;return(0,l.Z)(function*(){var Mt;if(yield st._canUseIndexedDBPromise){const $t=yield st.read();return fs(st.app,{lastSentHeartbeatDate:null!==(Mt=Ce.lastSentHeartbeatDate)&&void 0!==Mt?Mt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...Ce.heartbeats]})}})()}}function Gi(Ge){return(0,re.L)(JSON.stringify({version:2,heartbeats:Ge})).length}!function Xr(Ge){an(new ee.wA("platform-logger",Ce=>new J(Ce),"PRIVATE")),an(new ee.wA("heartbeat",Ce=>new Oa(Ce),"PRIVATE")),lr(he,"0.9.7",Ge),lr(he,"0.9.7","esm2017"),lr("fire-js","")}("")},4859:(_t,Ee,P)=>{P.d(Ee,{H0:()=>he,wA:()=>N});var l=P(5861),ee=P(2090);class N{constructor(z,q,Q){this.name=z,this.instanceFactory=q,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const re="[DEFAULT]";class oe{constructor(z,q){this.name=z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const q=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(q)){const Q=new ee.BH;if(this.instancesDeferred.set(q,Q),this.isInitialized(q)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:q});ze&&Q.resolve(ze)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(z){var q;const Q=this.normalizeInstanceIdentifier(z?.identifier),ze=null!==(q=z?.optional)&&void 0!==q&&q;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(De){if(ze)return null;throw De}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function me(de){return"EAGER"===de.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[q,Q]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(q);try{const De=this.getOrInitializeService({instanceIdentifier:ze});Q.resolve(De)}catch{}}}}clearInstance(z=re){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,l.Z)(function*(){const q=Array.from(z.instances.values());yield Promise.all([...q.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...q.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=re){return this.instances.has(z)}getOptions(z=re){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:q={}}=z,Q=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Q,options:q});for(const[De,qe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(De)&&qe.resolve(ze);return ze}onInit(z,q){var Q;const ze=this.normalizeInstanceIdentifier(q),De=null!==(Q=this.onInitCallbacks.get(ze))&&void 0!==Q?Q:new Set;De.add(z),this.onInitCallbacks.set(ze,De);const qe=this.instances.get(ze);return qe&&z(qe,ze),()=>{De.delete(z)}}invokeOnInitCallbacks(z,q){const Q=this.onInitCallbacks.get(q);if(Q)for(const ze of Q)try{ze(z,q)}catch{}}getOrInitializeService({instanceIdentifier:z,options:q={}}){let Q=this.instances.get(z);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(de=z,de===re?void 0:de),options:q}),this.instances.set(z,Q),this.instancesOptions.set(z,q),this.invokeOnInitCallbacks(Q,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,Q)}catch{}var de;return Q||null}normalizeInstanceIdentifier(z=re){return this.component?this.component.multipleInstances?z:re:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const q=this.getProvider(z.name);if(q.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);q.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const q=new oe(z,this);return this.providers.set(z,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(_t,Ee,P)=>{P.d(Ee,{Am:()=>de,Ub:()=>he,Yd:()=>me,in:()=>ee});const l=[];var ee=(()=>{return(z=ee||(ee={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",ee;var z})();const N={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},re=ee.INFO,oe={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},J=(z,q,...Q)=>{if(q<z.logLevel)return;const ze=(new Date).toISOString(),De=oe[q];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[De](`[${ze}]  ${z.name}:`,...Q)};class me{constructor(q){this.name=q,this._logLevel=re,this._logHandler=J,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in ee))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?N[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...q),this._logHandler(this,ee.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...q),this._logHandler(this,ee.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...q),this._logHandler(this,ee.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...q),this._logHandler(this,ee.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...q),this._logHandler(this,ee.ERROR,...q)}}function he(z){l.forEach(q=>{q.setLogLevel(z)})}function de(z,q){for(const Q of l){let ze=null;q&&q.level&&(ze=N[q.level]),Q.userLogHandler=null===z?null:(De,qe,...dt)=>{const pe=dt.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");qe>=(ze??De.logLevel)&&z({level:ee[qe].toLowerCase(),message:pe,args:dt,type:De.name})}}}},259:(_t,Ee,P)=>{P.d(Ee,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=P(9681);(0,l.registerVersion)("firebase","9.19.1","app")},9260:(_t,Ee,P)=>{P.d(Ee,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.19.1","app-compat")},9800:(_t,Ee,P)=>{P.r(Ee);var l=P(5861),ee=P(3942),N=P(2090),re=P(9681),oe=P(1877),J=P(655),me=P(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q_EMAIL_SIGNIN="EMAIL_SIGNIN",Q_PASSWORD_RESET="PASSWORD_RESET",Q_RECOVER_EMAIL="RECOVER_EMAIL",Q_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Q_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Q_VERIFY_EMAIL="VERIFY_EMAIL";const qe=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},dt=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new oe.Yd("@firebase/auth");function Le(y,...p){Ie.logLevel<=oe.in.ERROR&&Ie.error(`Auth (${re.SDK_VERSION}): ${y}`,...p)}function xe(y,...p){throw Pe(y,...p)}function we(y,...p){return Pe(y,...p)}function Me(y,p,m){const w=Object.assign(Object.assign({},dt()),{[p]:m});return new N.LL("auth","Firebase",w).create(p,{appName:y.name})}function Ue(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&xe(y,"argument-error"),Me(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pe(y,...p){if("string"!=typeof y){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(m,...w)}return pe.create(y,...p)}function H(y,p,...m){if(!y)throw Pe(p,...m)}function ve(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Le(p),new Error(p)}function He(y,p){y||ve(p)}const Ze=new Map;function yt(y){He(y instanceof Function,"Expected a class definition");let p=Ze.get(y);return p?(He(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Ze.set(y,p),p)}function fe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function be(){return"http:"===Re()||"https:"===Re()}function Re(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class et{constructor(p,m){this.shortDelay=p,this.longDelay=m,He(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Ve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(be()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xe(y,p){He(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class dn{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const It={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new et(3e4,6e4);function it(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Rt(y,p,m,w){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(y,p,m,w,I={}){return vn(y,I,(0,l.Z)(function*(){let O={},K={};w&&("GET"===p?K=w:O={body:JSON.stringify(w)});const ue=(0,N.xO)(Object.assign({key:y.config.apiKey},K)).slice(1),je=yield y._getAdditionalHeaders();return je["Content-Type"]="application/json",y.languageCode&&(je["X-Firebase-Locale"]=y.languageCode),dn.fetch()(ds(y,y.config.apiHost,m,ue),Object.assign({method:p,headers:je,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function vn(y,p,m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(y,p,m){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},It),p);try{const I=new Cr(y),O=yield Promise.race([m(),I.promise]);I.clearNetworkTimeout();const K=yield O.json();if("needConfirmation"in K)throw ar(y,"account-exists-with-different-credential",K);if(O.ok&&!("errorMessage"in K))return K;{const ue=O.ok?K.errorMessage:K.error.message,[je,nt]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw ar(y,"credential-already-in-use",K);if("EMAIL_EXISTS"===je)throw ar(y,"email-already-in-use",K);if("USER_DISABLED"===je)throw ar(y,"user-disabled",K);const vt=w[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Me(y,vt,nt);xe(y,vt)}}catch(I){if(I instanceof N.ZR)throw I;xe(y,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function On(y,p,m,w){return Er.apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(y,p,m,w,I={}){const O=yield Rt(y,p,m,w,I);return"mfaPendingCredential"in O&&xe(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function ds(y,p,m,w){const I=`${p}${m}?${w}`;return y.config.emulator?Xe(y.config,I):`${y.config.apiScheme}://${I}`}class Cr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(we(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ar(y,p,m){const w={appName:y.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const I=we(y,p,w);return I.customData._tokenResponse=m,I}function An(){return(An=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Fn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Vt(){return(Vt=(0,l.Z)(function*(y,p=!1){const m=(0,N.m9)(y),w=yield m.getIdToken(p),I=kt(w);H(I&&I.exp&&I.auth_time&&I.iat,m.auth,"internal-error");const O="object"==typeof I.firebase?I.firebase:void 0,K=O?.sign_in_provider;return{claims:I,token:w,authTime:Fn(Dt(I.auth_time)),issuedAtTime:Fn(Dt(I.iat)),expirationTime:Fn(Dt(I.exp)),signInProvider:K||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Dt(y){return 1e3*Number(y)}function kt(y){const[p,m,w]=y.split(".");if(void 0===p||void 0===m||void 0===w)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,N.tV)(m);return I?JSON.parse(I):(Le("Failed to decode base64 JWT payload"),null)}catch(I){return Le("Caught error parsing JWT payload as JSON",I?.toString()),null}}function xn(y,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof N.ZR&&function $i({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class Mi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const I=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Oa{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fn(this.lastLoginAt),this.creationTime=Fn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pn(y){return vo.apply(this,arguments)}function vo(){return vo=(0,l.Z)(function*(y){var p;const m=y.auth,w=yield y.getIdToken(),I=yield xn(y,function $o(y,p){return $r.apply(this,arguments)}(m,{idToken:w}));H(I?.users.length,m,"internal-error");const O=I.users[0];y._notifyReloadListener(O);const K=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function Ge(y){return y.map(p=>{var{providerId:m}=p,w=(0,J._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(O.providerUserInfo):[],ue=function Xr(y,p){return[...y.filter(w=>!p.some(I=>I.providerId===w.providerId)),...p]}(y.providerData,K),vt=!!y.isAnonymous&&!(y.email&&O.passwordHash||ue?.length),mt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ue,metadata:new Oa(O.createdAt,O.lastLoginAt),isAnonymous:vt};Object.assign(y,mt)}),vo.apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(y){const p=(0,N.m9)(y);yield pn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(y,p){const m=yield vn(y,{},(0,l.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:I,apiKey:O}=y.config,K=ds(y,I,"/v1/token",`key=${O}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",dn.fetch()(K,{method:"POST",headers:ue,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Mt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){H(p.idToken,"internal-error"),H(typeof p.idToken<"u","internal-error"),H(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function fs(y){const p=kt(y);return H(p,"internal-error"),H(typeof p.exp<"u","internal-error"),H(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,l.Z)(function*(){return H(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,l.Z)(function*(){const{accessToken:I,refreshToken:O,expiresIn:K}=yield function Ce(y,p){return st.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(I,O,Number(K))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:I,expirationTime:O}=m,K=new Mt;return w&&(H("string"==typeof w,"internal-error",{appName:p}),K.refreshToken=w),I&&(H("string"==typeof I,"internal-error",{appName:p}),K.accessToken=I),O&&(H("number"==typeof O,"internal-error",{appName:p}),K.expirationTime=O),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Mt,this.toJSON())}_performRefresh(){return ve("not implemented")}}function Lt(y,p){H("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class $t{constructor(p){var{uid:m,auth:w,stsTokenManager:I}=p,O=(0,J._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Oa(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const w=yield xn(m,m.stsTokenManager.getToken(m.auth,p));return H(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function hs(y){return Vt.apply(this,arguments)}(this,p)}reload(){return function rn(y){return Gi.apply(this,arguments)}(this)}_assign(p){this!==p&&(H(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new $t(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,l.Z)(function*(){let I=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),I=!0),m&&(yield pn(w)),yield w.auth._persistUserIfCurrent(w),I&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield xn(p,function zo(y,p){return An.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,I,O,K,ue,je,nt,vt;const mt=null!==(w=m.displayName)&&void 0!==w?w:void 0,ui=null!==(I=m.email)&&void 0!==I?I:void 0,ao=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,cl=null!==(K=m.photoURL)&&void 0!==K?K:void 0,Qm=null!==(ue=m.tenantId)&&void 0!==ue?ue:void 0,Ff=null!==(je=m._redirectEventId)&&void 0!==je?je:void 0,Xm=null!==(nt=m.createdAt)&&void 0!==nt?nt:void 0,Au=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Mu,emailVerified:Ru,isAnonymous:eh,providerData:fc,stsTokenManager:Jm}=m;H(Mu&&Jm,p,"internal-error");const Hy=Mt.fromJSON(this.name,Jm);H("string"==typeof Mu,p,"internal-error"),Lt(mt,p.name),Lt(ui,p.name),H("boolean"==typeof Ru,p,"internal-error"),H("boolean"==typeof eh,p,"internal-error"),Lt(ao,p.name),Lt(cl,p.name),Lt(Qm,p.name),Lt(Ff,p.name),Lt(Xm,p.name),Lt(Au,p.name);const ku=new $t({uid:Mu,auth:p,email:ui,emailVerified:Ru,displayName:mt,isAnonymous:eh,photoURL:cl,phoneNumber:ao,tenantId:Qm,stsTokenManager:Hy,createdAt:Xm,lastLoginAt:Au});return fc&&Array.isArray(fc)&&(ku.providerData=fc.map(eg=>Object.assign({},eg))),Ff&&(ku._redirectEventId=Ff),ku}static _fromIdTokenResponse(p,m,w=!1){return(0,l.Z)(function*(){const I=new Mt;I.updateFromServerResponse(m);const O=new $t({uid:m.localId,auth:p,stsTokenManager:I,isAnonymous:w});return yield pn(O),O})()}}const j=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,w){var I=this;return(0,l.Z)(function*(){I.storage[m]=w})()}_get(m){var w=this;return(0,l.Z)(function*(){const I=w.storage[m];return void 0===I?null:I})()}_remove(m){var w=this;return(0,l.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return y.type="NONE",y})();function U(y,p,m){return`firebase:${y}:${p}:${m}`}class Y{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:I,name:O}=this.auth;this.fullUserKey=U(this.userKey,I.apiKey,O),this.fullPersistenceKey=U("persistence",I.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?$t._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Y(yt(j),p,w);const I=(yield Promise.all(m.map(function(){var nt=(0,l.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let O=I[0]||yt(j);const K=U(w,p.config.apiKey,p.name);let ue=null;for(const nt of m)try{const vt=yield nt._get(K);if(vt){const mt=$t._fromJSON(p,vt);nt!==O&&(ue=mt),O=nt;break}}catch{}const je=I.filter(nt=>nt._shouldAllowMigration);return O._shouldAllowMigration&&je.length?(O=je[0],ue&&(yield O._set(K,ue.toJSON())),yield Promise.all(m.map(function(){var nt=(0,l.Z)(function*(vt){if(vt!==O)try{yield vt._remove(K)}catch{}});return function(vt){return nt.apply(this,arguments)}}())),new Y(O,p,w)):new Y(O,p,w)})()}}function _e(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(_n(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ne(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Bn(p))return"Blackberry";if(oi(p))return"Webos";if(rt(p))return"Safari";if((p.includes("chrome/")||Ye(p))&&!p.includes("edge/"))return"Chrome";if(Pn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function ne(y=(0,N.z$)()){return/firefox\//i.test(y)}function rt(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ye(y=(0,N.z$)()){return/crios\//i.test(y)}function _n(y=(0,N.z$)()){return/iemobile/i.test(y)}function Pn(y=(0,N.z$)()){return/android/i.test(y)}function Bn(y=(0,N.z$)()){return/blackberry/i.test(y)}function oi(y=(0,N.z$)()){return/webos/i.test(y)}function Bt(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Qh(y=(0,N.z$)()){return Bt(y)||Pn(y)||oi(y)||Bn(y)||/windows phone/i.test(y)||_n(y)}function Al(y,p=[]){let m;switch(y){case"Browser":m=_e((0,N.z$)());break;case"Worker":m=`${_e((0,N.z$)())}-${y}`;break;default:m=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${re.SDK_VERSION}/${w}`}class Ml{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=O=>new Promise((K,ue)=>{try{K(p(O))}catch(je){ue(je)}});w.onAbort=m,this.queue.push(w);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===p)return;const w=[];try{for(const I of m.queue)yield I(p),I.onAbort&&w.push(I.onAbort)}catch(I){w.reverse();for(const O of w)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}class Xh{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uc(this),this.idTokenSubscription=new Uc(this),this.beforeStateQueue=new Ml(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=yt(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var I,O;if(!w._deleted&&(w.persistenceManager=yield Y.create(w,p),!w._deleted)){if(null!==(I=w._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var w;const I=yield m.assertedPersistence.getCurrentUser();let O=I,K=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ue=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,je=O?._redirectEventId,nt=yield m.tryRedirectSignIn(p);(!ue||ue===je)&&nt?.user&&(O=nt.user,K=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(K)try{yield m.beforeStateQueue.runMiddleware(O)}catch(ue){O=I,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ue))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return H(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){try{yield pn(p)}catch(w){if("auth/network-request-failed"!==w?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function $e(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const w=p?(0,N.m9)(p):null;return w&&H(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&H(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(yt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,l.Z)(function*(){const I=yield w.getOrInitRedirectPersistenceManager(m);return null===p?I.removeCurrentUser():I.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&yt(p)||m._popupRedirectResolver;H(w,m,"argument-error"),m.redirectPersistenceManager=yield Y.create(m,[yt(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var w,I;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,I){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return H(K,this,"internal-error"),K.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,w,I):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Al(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const I=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return I&&(w["X-Firebase-Client"]=I),w})()}}function Un(y){return(0,N.m9)(y)}class Uc{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function on(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function mi(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class si{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ve("not implemented")}_getIdTokenResponse(p){return ve("not implemented")}_linkToIdToken(p,m){return ve("not implemented")}_getReauthenticationResolver(p){return ve("not implemented")}}function ki(y,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:resetPassword",it(y,p))})).apply(this,arguments)}function ps(y,p){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",it(y,p))})).apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithPassword",it(y,p))})).apply(this,arguments)}function eo(y,p){return $n.apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:sendOobCode",it(y,p))})).apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(y,p){return eo(y,p)})).apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(y,p){return eo(y,p)})).apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(y,p){return eo(y,p)})).apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(y,p){return eo(y,p)})).apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithEmailLink",it(y,p))})).apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithEmailLink",it(y,p))})).apply(this,arguments)}class Wi extends si{constructor(p,m,w,I=null){super("password",w),this._email=p,this._password=m,this._tenantId=I}static _fromEmailAndPassword(p,m){return new Wi(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Wi(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function bn(y,p){return cr.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Na(y,p){return gi.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:xe(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return ps(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Gs(y,p){return Wo.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:xe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Zi(y,p){return jc.apply(this,arguments)}function jc(){return(jc=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithIdp",it(y,p))})).apply(this,arguments)}class wo extends si{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new wo(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):xe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:I}=m,O=(0,J._T)(m,["providerId","signInMethod"]);if(!w||!I)return null;const K=new wo(w,I);return K.idToken=O.idToken||void 0,K.accessToken=O.accessToken||void 0,K.secret=O.secret,K.nonce=O.nonce,K.pendingToken=O.pendingToken||null,K}_getIdTokenResponse(p){return Zi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Zi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Zi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,N.xO)(m)}return p}}function Rl(){return(Rl=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:sendVerificationCode",it(y,p))})).apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithPhoneNumber",it(y,p))})).apply(this,arguments)}function _i(){return(_i=(0,l.Z)(function*(y,p){const m=yield On(y,"POST","/v1/accounts:signInWithPhoneNumber",it(y,p));if(m.temporaryProof)throw ar(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const gm={USER_NOT_FOUND:"user-not-found"};function dr(){return(dr=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithPhoneNumber",it(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),gm)})).apply(this,arguments)}class Eo extends si{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Eo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Eo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function _s(y,p){return Dr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function qs(y,p){return _i.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ur(y,p){return dr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:I}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:I}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:I,temporaryProof:O}=p;return w||m||I||O?new Eo({verificationId:m,verificationCode:w,phoneNumber:I,temporaryProof:O}):null}}class Oi{constructor(p){var m,w,I,O,K,ue;const je=(0,N.zd)((0,N.pd)(p)),nt=null!==(m=je.apiKey)&&void 0!==m?m:null,vt=null!==(w=je.oobCode)&&void 0!==w?w:null,mt=function kl(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=je.mode)&&void 0!==I?I:null);H(nt&&vt&&mt,"argument-error"),this.apiKey=nt,this.operation=mt,this.code=vt,this.continueUrl=null!==(O=je.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(K=je.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ue=je.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const m=function ys(y){const p=(0,N.zd)((0,N.pd)(y)).link,m=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||m||p||y}(p);try{return new Oi(m)}catch{return null}}}let vd=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,w){return Wi._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const I=Oi.parseLink(w);return H(I,"argument-error"),Wi._fromEmailAndCode(m,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Co{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class vs extends Co{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class La extends vs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return H("providerId"in m&&"signInMethod"in m,"argument-error"),wo._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return H(p.idToken||p.accessToken,"argument-error"),wo._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return La.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return La.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:I,pendingToken:O,nonce:K,providerId:ue}=p;if(!w&&!I&&!m&&!O||!ue)return null;try{return new La(ue)._credential({idToken:m,accessToken:w,nonce:K,pendingToken:O})}catch{return null}}}let $c=(()=>{class y extends vs{constructor(){super("facebook.com")}static credential(m){return wo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Jh=(()=>{class y extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return wo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:I}=m;if(!w&&!I)return null;try{return y.credential(w,I)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ef=(()=>{class y extends vs{constructor(){super("github.com")}static credential(m){return wo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ws extends si{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Zi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Zi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Zi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:I,pendingToken:O}=m;return w&&I&&O&&w===I?new Ws(w,O):null}static _create(p,m){return new Ws(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Sr extends Co{constructor(p){H(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Sr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Sr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Ws.fromJSON(p);return H(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Ws._create(w,m)}catch{return null}}}let ym=(()=>{class y extends vs{constructor(){super("twitter.com")}static credential(m,w){return wo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:I}=m;if(!w||!I)return null;try{return y.credential(w,I)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function xo(y,p){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signUp",it(y,p))})).apply(this,arguments)}class Ir{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,I=!1){return(0,l.Z)(function*(){const O=yield $t._fromIdTokenResponse(p,w,I),K=qc(w);return new Ir({user:O,providerId:K,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const I=qc(w);return new Ir({user:p,providerId:I,_tokenResponse:w,operationType:m})})()}}function qc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function bd(){return(bd=(0,l.Z)(function*(y){var p;const m=Un(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Ir({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield xo(m,{returnSecureToken:!0}),I=yield Ir._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(I.user),I})).apply(this,arguments)}class Fl extends N.ZR{constructor(p,m,w,I){var O;super(m.code,m.message),this.operationType=w,this.user=I,Object.setPrototypeOf(this,Fl.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,I){return new Fl(p,m,w,I)}}function vm(y,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Fl._fromErrorAndOperation(y,O,p,w):O})}function hr(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ws(){return ws=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y);yield Ys(!0,m,p);const{providerUserInfo:w}=yield function lr(y,p){return wt.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),I=hr(w||[]);return m.providerData=m.providerData.filter(O=>I.has(O.providerId)),I.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),ws.apply(this,arguments)}function Va(y,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(y,p,m=!1){const w=yield xn(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Ir._forOperation(y,"link",w)})).apply(this,arguments)}function Ys(y,p,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,l.Z)(function*(y,p,m){yield pn(p);const I=!1===y?"provider-already-linked":"no-such-provider";H(hr(p.providerData).has(m)===y,p.auth,I)})).apply(this,arguments)}function Pl(y,p){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,l.Z)(function*(y,p,m=!1){const{auth:w}=y,I="reauthenticate";try{const O=yield xn(y,vm(w,I,p,y),m);H(O.idToken,w,"internal-error");const K=kt(O.idToken);H(K,w,"internal-error");const{sub:ue}=K;return H(y.uid===ue,w,"user-mismatch"),Ir._forOperation(y,I,O)}catch(O){throw"auth/user-not-found"===O?.code&&xe(w,"user-mismatch"),O}})).apply(this,arguments)}function Zo(y,p){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,l.Z)(function*(y,p,m=!1){const w="signIn",I=yield vm(y,w,p),O=yield Ir._fromIdTokenResponse(y,w,I);return m||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function cn(y,p){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,l.Z)(function*(y,p){return Zo(Un(y),p)})).apply(this,arguments)}function Ua(y,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y);return yield Ys(!1,m,p.providerId),Va(m,p)})).apply(this,arguments)}function Vl(y,p){return to.apply(this,arguments)}function to(){return(to=(0,l.Z)(function*(y,p){return Pl((0,N.m9)(y),p)})).apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(y,p){return On(y,"POST","/v1/accounts:signInWithCustomToken",it(y,p))})).apply(this,arguments)}function no(){return no=(0,l.Z)(function*(y,p){const m=Un(y),w=yield function Fi(y,p){return Ha.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),I=yield Ir._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(I.user),I}),no.apply(this,arguments)}class ai{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Zc._fromServerResponse(p,m):"totpInfo"in m?Ks._fromServerResponse(p,m):xe(p,"internal-error")}}class Zc extends ai{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Zc(m)}}class Ks extends ai{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Ks(m)}}function ja(y,p,m){var w;H((null===(w=m.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),H(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(H(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(H(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Qs(){return Qs=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),I={requestType:"PASSWORD_RESET",email:p};m&&ja(w,I,m),yield function bo(y,p){return Pa.apply(this,arguments)}(w,I)}),Qs.apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(y,p,m){yield ki((0,N.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Bl(){return Bl=(0,l.Z)(function*(y,p){yield function tt(y,p){return Ut.apply(this,arguments)}((0,N.m9)(y),{oobCode:p})}),Bl.apply(this,arguments)}function xd(y,p){return za.apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y),w=yield ki(m,{oobCode:p}),I=w.requestType;switch(H(I,m,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(w.mfaInfo,m,"internal-error");default:H(w.email,m,"internal-error")}let O=null;return w.mfaInfo&&(O=ai._fromServerResponse(Un(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:I}})).apply(this,arguments)}function Ul(){return(Ul=(0,l.Z)(function*(y,p){const{data:m}=yield xd((0,N.m9)(y),p);return m.email})).apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(y,p,m){const w=Un(y),I=yield xo(w,{returnSecureToken:!0,email:p,password:m}),O=yield Ir._fromIdTokenResponse(w,"signIn",I);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function Hl(){return Hl=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),I={requestType:"EMAIL_SIGNIN",email:p};H(m.handleCodeInApp,w,"argument-error"),m&&ja(w,I,m),yield function Wt(y,p){return $s.apply(this,arguments)}(w,I)}),Hl.apply(this,arguments)}function Kc(){return(Kc=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),I=vd.credentialWithLink(p,m||fe());return H(I._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),cn(w,I)})).apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:createAuthUri",it(y,p))})).apply(this,arguments)}function Js(){return Js=(0,l.Z)(function*(y,p){const w={identifier:p,continueUri:be()?fe():"http://localhost"},{signinMethods:I}=yield function Xs(y,p){return fr.apply(this,arguments)}((0,N.m9)(y),w);return I||[]}),Js.apply(this,arguments)}function jl(){return jl=(0,l.Z)(function*(y,p){const m=(0,N.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ja(m.auth,I,p);const{email:O}=yield function ms(y,p){return Mn.apply(this,arguments)}(m.auth,I);O!==y.email&&(yield y.reload())}),jl.apply(this,arguments)}function Hn(){return Hn=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&ja(w.auth,O,m);const{email:K}=yield function gs(y,p){return qo.apply(this,arguments)}(w.auth,O);K!==y.email&&(yield y.reload())}),Hn.apply(this,arguments)}function $a(){return($a=(0,l.Z)(function*(y,p){return Rt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Tr(){return Tr=(0,l.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,N.m9)(y),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},K=yield xn(w,function pr(y,p){return $a.apply(this,arguments)}(w.auth,O));w.displayName=K.displayName||null,w.photoURL=K.photoUrl||null;const ue=w.providerData.find(({providerId:je})=>"password"===je);ue&&(ue.displayName=w.displayName,ue.photoURL=w.photoURL),yield w._updateTokensIfNecessary(K)}),Tr.apply(this,arguments)}function Td(y,p,m){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,l.Z)(function*(y,p,m){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const K=yield xn(y,ps(w,O));yield y._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Es{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Jc extends Es{constructor(p,m,w,I){super(p,m,w),this.username=I}}class Gl extends Es{constructor(p,m){super(p,"facebook.com",m)}}class bm extends Jc{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class eu extends Es{constructor(p,m){super(p,"google.com",m)}}class Ad extends Jc{constructor(p,m,w){super(p,"twitter.com",m,w)}}function wm(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function $l(y){var p,m;if(!y)return null;const{providerId:w}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const K=null===(m=null===(p=kt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new Es(O,"anonymous"!==K&&"custom"!==K?K:null)}if(!w)return null;switch(w){case"facebook.com":return new Gl(O,I);case"github.com":return new bm(O,I);case"google.com":return new eu(O,I);case"twitter.com":return new Ad(O,I,y.screenName||null);case"custom":case"anonymous":return new Es(O,null);default:return new Es(O,w,I)}}(m)}class Yo{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new Yo("enroll",p,m)}static _fromMfaPendingCredential(p){return new Yo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Yo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Yo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Xn{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Un(p),I=m.customData._serverResponse,O=(I.mfaInfo||[]).map(ue=>ai._fromServerResponse(w,ue));H(I.mfaPendingCredential,w,"internal-error");const K=Yo._fromMfaPendingCredential(I.mfaPendingCredential);return new Xn(K,O,function(){var ue=(0,l.Z)(function*(je){const nt=yield je._process(w,K);delete I.mfaInfo,delete I.mfaPendingCredential;const vt=Object.assign(Object.assign({},I),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(m.operationType){case"signIn":const mt=yield Ir._fromIdTokenResponse(w,m.operationType,vt);return yield w._updateCurrentUser(mt.user),mt;case"reauthenticate":return H(m.user,w,"internal-error"),Ir._forOperation(m.user,m.operationType,vt);default:xe(w,"internal-error")}});return function(je){return ue.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}class ea{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>ai._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new ea(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Yo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,l.Z)(function*(){const I=p,O=yield w.getSession(),K=yield xn(w.user,I._process(w.user.auth,O,m));return yield w.user._updateTokensIfNecessary(K),w.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,I=yield m.user.getIdToken();try{const O=yield xn(m.user,function iu(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",it(y,p))}(m.user.auth,{idToken:I,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==w),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const Cs=new WeakMap,ql="__sak";class Ar{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ql,"1"),this.storage.removeItem(ql),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ru=(()=>{class y extends Ar{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wa(){const y=(0,N.z$)();return rt(y)||Bt(y)}()&&function Bc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qh(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const I=this.storage.getItem(w),O=this.localCache[w];I!==O&&m(w,O,I)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ue,je,nt)=>{this.notifyListeners(ue,nt)});const I=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(I);if(m.newValue!==ue)null!==m.newValue?this.storage.setItem(I,m.newValue):this.storage.removeItem(I);else if(this.localCache[I]===m.newValue&&!w)return}const O=()=>{const ue=this.storage.getItem(I);!w&&this.localCache[I]===ue||this.notifyListeners(I,ue)},K=this.storage.getItem(I);!function Tl(){return(0,N.w1)()&&10===document.documentMode}()||K===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,w){this.localCache[m]=w;const I=this.listeners[m];if(I)for(const O of Array.from(I))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var I=()=>super._set,O=this;return(0,l.Z)(function*(){yield I().call(O,m,w),O.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,I=this;return(0,l.Z)(function*(){const O=yield w().call(I,m);return I.localCache[m]=JSON.stringify(O),O})()}_remove(m){var w=()=>super._remove,I=this;return(0,l.Z)(function*(){yield w().call(I,m),delete I.localCache[m]})()}}return y.type="LOCAL",y})(),Mr=(()=>{class y extends Ar{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return y.type="SESSION",y})();let af=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(O=>O.isListeningto(m));if(w)return w;const I=new y(m);return this.receivers.push(I),I}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,l.Z)(function*(){const I=m,{eventId:O,eventType:K,data:ue}=I.data,je=w.handlersMap[K];if(!je?.size)return;I.ports[0].postMessage({status:"ack",eventId:O,eventType:K});const nt=Array.from(je).map(function(){var mt=(0,l.Z)(function*(ui){return ui(I.origin,ue)});return function(ui){return mt.apply(this,arguments)}}()),vt=yield function ou(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(nt);I.ports[0].postMessage({status:"done",eventId:O,eventType:K,response:vt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function io(y="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return y+m}class ta{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var I=this;return(0,l.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let K,ue;return new Promise((je,nt)=>{const vt=io("",20);O.port1.start();const mt=setTimeout(()=>{nt(new Error("unsupported_event"))},w);ue={messageChannel:O,onMessage(ui){const ao=ui;if(ao.data.eventId===vt)switch(ao.data.status){case"ack":clearTimeout(mt),K=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),je(ao.data.response);break;default:clearTimeout(mt),clearTimeout(K),nt(new Error("invalid_response"))}}},I.handlers.add(ue),O.port1.addEventListener("message",ue.onMessage),I.target.postMessage({eventType:p,eventId:vt,data:m},[O.port2])}).finally(()=>{ue&&I.removeMessageHandler(ue)})})()}}function Sn(){return window}function xs(){return typeof Sn().WorkerGlobalScope<"u"&&"function"==typeof Sn().importScripts}function na(){return(na=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Za="firebaseLocalStorageDb",ra=1,au="firebaseLocalStorage",oa="fbase_key";class Ds{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function So(y,p){return y.transaction([au],p?"readwrite":"readonly").objectStore(au)}function Ya(){const y=indexedDB.open(Za,ra);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(au,{keyPath:oa})}catch(I){m(I)}}),y.addEventListener("success",(0,l.Z)(function*(){const w=y.result;w.objectStoreNames.contains(au)?p(w):(w.close(),yield function Rr(){const y=indexedDB.deleteDatabase(Za);return new Ds(y).toPromise()}(),p(yield Ya()))}))})}function sa(y,p,m){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,l.Z)(function*(y,p,m){const w=So(y,!0).put({[oa]:p,value:m});return new Ds(w).toPromise()})).apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(y,p){const m=So(y,!1).get(p),w=yield new Ds(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function aa(y,p){const m=So(y,!0).delete(p);return new Ds(m).toPromise()}const Io=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield Ya()),m.db})()}_withRetries(m){var w=this;return(0,l.Z)(function*(){let I=0;for(;;)try{const O=yield w._openDb();return yield m(O)}catch(O){if(I++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return xs()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=af._getInstance(function ia(){return xs()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(I,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(I,O){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(I,O){return["keyChanged"]});return function(I,O){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var w,I;if(m.activeServiceWorker=yield function su(){return na.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ta(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);O&&null!==(w=O[0])&&void 0!==w&&w.fulfilled&&null!==(I=O[0])&&void 0!==I&&I.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function lf(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ya();return yield sa(m,ql,"1"),yield aa(m,ql),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var I=this;return(0,l.Z)(function*(){return I._withPendingWrite((0,l.Z)(function*(){return yield I._withRetries(O=>sa(O,m,w)),I.localCache[m]=w,I.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,l.Z)(function*(){const I=yield w._withRetries(O=>function Wl(y,p){return Jo.apply(this,arguments)}(O,m));return w.localCache[m]=I,I})()}_remove(m){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(I=>aa(I,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const w=yield m._withRetries(K=>{const ue=So(K,!1).getAll();return new Ds(ue).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const I=[],O=new Set;for(const{fbase_key:K,value:ue}of w)O.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(ue)&&(m.notifyListeners(K,ue),I.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!O.has(K)&&(m.notifyListeners(K,null),I.push(K));return I})()}notifyListeners(m,w){this.localCache[m]=w;const I=this.listeners[m];if(I)for(const O of Array.from(I))O(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Is(){return(Is=(0,l.Z)(function*(y){return(yield Rt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Yl(y){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=I=>{const O=we("internal-error");O.customData=I,m(O)},w.type="text/javascript",w.charset="UTF-8",function Fd(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Pi(y){return`__${y}${Math.floor(1e6*Math.random())}`}const la=1e12;class Nd{constructor(p){this.auth=p,this.counter=la,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Ld(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||la;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||la))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var w;return null===(w=m._widgets.get(p||la))||void 0===w||w.execute(),""})()}}class Ld{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof p?document.getElementById(p):p;H(I,"argument-error",{appName:m}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kl(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const To=Pi("rcb"),Ts=new et(3e4,6e4);class Am{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Sn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return H(function Vd(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Sn().grecaptcha):new Promise((w,I)=>{const O=Sn().setTimeout(()=>{I(we(p,"network-request-failed"))},Ts.get());Sn()[To]=()=>{Sn().clearTimeout(O),delete Sn()[To];const ue=Sn().grecaptcha;if(!ue)return void I(we(p,"internal-error"));const je=ue.render;ue.render=(nt,vt)=>{const mt=je(nt,vt);return this.counter++,mt},this.hostLanguage=m,w(ue)},Yl(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:To,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),I(we(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Sn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ca{load(p){return(0,l.Z)(function*(){return new Nd(p)})()}clearedOneInstance(){}}const df="recaptcha",es={theme:"light",type:"image"};class wn{constructor(p,m=Object.assign({},es),w){this.parameters=m,this.type=df,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Un(w),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof p?document.getElementById(p):p;H(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ca:new Am,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(O=>{const K=ue=>{ue&&(p.tokenChangeListeners.delete(K),O(ue))};p.tokenChangeListeners.add(K),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Sn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){H(be()&&!xs(),p.auth,"internal-error"),yield function hf(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Ss(y){return Is.apply(this,arguments)}(p.auth);H(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xa{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Eo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function pf(){return(pf=(0,l.Z)(function*(y,p,m){const w=Un(y),I=yield gf(w,p,(0,N.m9)(m));return new Xa(I,O=>cn(w,O))})).apply(this,arguments)}function mf(){return(mf=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);yield Ys(!1,w,"phone");const I=yield gf(w.auth,p,(0,N.m9)(m));return new Xa(I,O=>Ua(w,O))})).apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y),I=yield gf(w.auth,p,(0,N.m9)(m));return new Xa(I,O=>Vl(w,O))})).apply(this,arguments)}function gf(y,p,m){return _f.apply(this,arguments)}function _f(){return _f=(0,l.Z)(function*(y,p,m){var w;const I=yield m.verify();try{let O;if(H("string"==typeof I,y,"argument-error"),H(m.type===df,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const K=O.session;if("phoneNumber"in O)return H("enroll"===K.type,y,"internal-error"),(yield function mr(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:start",it(y,p))}(y,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{H("signin"===K.type,y,"internal-error");const ue=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return H(ue,y,"missing-multi-factor-info"),(yield function Od(y,p){return Rt(y,"POST","/v2/accounts/mfaSignIn:start",it(y,p))}(y,{mfaPendingCredential:K.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield function zc(y,p){return Rl.apply(this,arguments)}(y,{phoneNumber:O.phoneNumber,recaptchaToken:I});return K}}finally{m._reset()}}),_f.apply(this,arguments)}function Ql(){return(Ql=(0,l.Z)(function*(y,p){yield Va((0,N.m9)(y),p)})).apply(this,arguments)}let Ao=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Un(m)}verifyPhoneNumber(m,w){return gf(this.auth,m,(0,N.m9)(w))}static credential(m,w){return Eo._fromVerification(m,w)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:I}=m;return w&&I?Eo._fromTokenResponse(w,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function da(y,p){return p?yt(p):(H(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ni extends si{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Zi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Zi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Zi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ts(y){return Zo(y.auth,new Ni(y),y.bypassAuthState)}function cu(y){const{auth:p,user:m}=y;return H(m,p,"internal-error"),Pl(m,new Ni(y),y.bypassAuthState)}function Ja(y){return ns.apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(y){const{auth:p,user:m}=y;return H(m,p,"internal-error"),Va(m,new Ni(y),y.bypassAuthState)})).apply(this,arguments)}class ha{constructor(p,m,w,I,O=!1){this.auth=p,this.resolver=w,this.user=I,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(w,I){p.pendingPromise={resolve:w,reject:I};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,I){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:I,postBody:O,tenantId:K,error:ue,type:je}=p;if(ue)return void m.reject(ue);const nt={auth:m.auth,requestUri:w,sessionId:I,tenantId:K||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(je)(nt))}catch(vt){m.reject(vt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ts;case"linkViaPopup":case"linkViaRedirect":return Ja;case"reauthViaPopup":case"reauthViaRedirect":return cu;default:xe(this.auth,"internal-error")}}resolve(p){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bd=new et(2e3,1e4);function Rm(){return(Rm=(0,l.Z)(function*(y,p,m){const w=Un(y);Ue(y,p,Co);const I=da(w,m);return new yi(w,"signInViaPopup",p,I).executeNotNull()})).apply(this,arguments)}function ro(){return(ro=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Ue(w.auth,p,Co);const I=da(w.auth,m);return new yi(w.auth,"reauthViaPopup",p,I,w).executeNotNull()})).apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Ue(w.auth,p,Co);const I=da(w.auth,m);return new yi(w.auth,"linkViaPopup",p,I,w).executeNotNull()})).apply(this,arguments)}let yi=(()=>{class y extends ha{constructor(m,w,I,O,K){super(m,w,O,K),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const w=yield m.execute();return H(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,l.Z)(function*(){He(1===m.filter.length,"Popup operations only handle one event");const w=io();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(I=>{m.reject(I)}),m.resolver._isIframeWebStorageSupported(m.auth,I=>{I||m.reject(we(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,I;this.pollId=null!==(I=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Bd.get())};m()}}return y.currentPopupAction=null,y})();const vf="pendingRedirect",is=new Map;class In extends ha{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let w=is.get(m.auth._key());if(!w){try{const O=(yield function bf(y,p){return Mo.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(O)}catch(I){w=()=>Promise.reject(I)}is.set(m.auth._key(),w)}return m.bypassAuthState||is.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const I=yield w.auth._redirectUserForId(p.eventId);if(I)return w.user=I,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Mo(){return(Mo=(0,l.Z)(function*(y,p){const m=pt(p),w=oo(y);if(!(yield w._isAvailable()))return!1;const I="true"===(yield w._get(m));return yield w._remove(m),I})).apply(this,arguments)}function Ud(y,p){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,l.Z)(function*(y,p){return oo(y)._set(pt(p),"true")})).apply(this,arguments)}function pa(y,p){is.set(y._key(),p)}function oo(y){return yt(y._redirectPersistence)}function pt(y){return U(vf,y.config.apiKey,y.name)}function D(y,p,m){return function S(y,p,m){return R.apply(this,arguments)}(y,p,m)}function R(){return(R=(0,l.Z)(function*(y,p,m){const w=Un(y);Ue(y,p,Co),yield w._initializationPromise;const I=da(w,m);return yield Ud(I,w),I._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function V(y,p,m){return function W(y,p,m){return ie.apply(this,arguments)}(y,p,m)}function ie(){return(ie=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Ue(w.auth,p,Co),yield w.auth._initializationPromise;const I=da(w.auth,m);yield Ud(I,w.auth);const O=yield Gn(w);return I._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function ke(y,p,m){return function ct(y,p,m){return ut.apply(this,arguments)}(y,p,m)}function ut(){return(ut=(0,l.Z)(function*(y,p,m){const w=(0,N.m9)(y);Ue(w.auth,p,Co),yield w.auth._initializationPromise;const I=da(w.auth,m);yield Ys(!1,w,p.providerId),yield Ud(I,w.auth);const O=yield Gn(w);return I._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(y,p){return yield Un(y)._initializationPromise,Tt(y,p,!1)})).apply(this,arguments)}function Tt(y,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(y,p,m=!1){const w=Un(y),I=da(w,p),K=yield new In(w,I,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield w._persistUserIfCurrent(K.user),yield w._setRedirectUser(null,p)),K})).apply(this,arguments)}function Gn(y){return el.apply(this,arguments)}function el(){return(el=(0,l.Z)(function*(y){const p=io(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class qr{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function jn(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jn(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Jn(p)){const I=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(we(this.auth,I))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qn(p))}saveEventToCache(p){this.cachedEventUids.add(qn(p)),this.lastProcessedEventTime=Date.now()}}function qn(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Jn({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Hd(y){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,l.Z)(function*(y,p={}){return Rt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const ei=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qi=/^https?/;function vi(){return(vi=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Hd(y);for(const m of p)try{if(Li(m))return}catch{}xe(y,"unauthorized-domain")})).apply(this,arguments)}function Li(y){const p=fe(),{protocol:m,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const K=new URL(y);return""===K.hostname&&""===w?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===w}if(!Qi.test(m))return!1;if(ei.test(y))return w===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(w)}const tc=new et(3e4,6e4);function km(){const y=Sn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let kr=null;const bi=new et(5e3,15e3),ma="__/auth/iframe",sw="emulator/auth/iframe",jd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ef(y){const p=y.config;H(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Xe(p,sw):`https://${y.config.authDomain}/${ma}`,w={apiKey:p.apiKey,appName:y.name,v:re.SDK_VERSION},I=wf.get(y.config.apiHost);I&&(w.eid=I);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${m}?${(0,N.xO)(w).slice(1)}`}function uu(){return uu=(0,l.Z)(function*(y){const p=yield function tl(y){return kr=kr||function ow(y){return new Promise((p,m)=>{var w,I,O;function K(){km(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{km(),m(we(y,"network-request-failed"))},timeout:tc.get()})}if(null!==(I=null===(w=Sn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==I&&I.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Sn().gapi)||void 0===O||!O.load){const ue=Pi("iframefcb");return Sn()[ue]=()=>{gapi.load?K():m(we(y,"network-request-failed"))},Yl(`https://apis.google.com/js/api.js?onload=${ue}`).catch(je=>m(je))}K()}}).catch(p=>{throw kr=null,p})}(y),kr}(y),m=Sn().gapi;return H(m,y,"internal-error"),p.open({where:document.body,url:Ef(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jd,dontclear:!0},w=>new Promise(function(){var I=(0,l.Z)(function*(O,K){yield w.restyle({setHideOnLeave:!1});const ue=we(y,"network-request-failed"),je=Sn().setTimeout(()=>{K(ue)},bi.get());function nt(){Sn().clearTimeout(je),O(w)}w.ping(nt).then(nt,()=>{K(ue)})});return function(O,K){return I.apply(this,arguments)}}()))}),uu.apply(this,arguments)}const du={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jt=500,Or=600,Ry="_blank",nc="http://localhost";class Om{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Pm="__/auth/handler",Nm="emulator/auth/handler";function zd(y,p,m,w,I,O){H(y.config.authDomain,y,"auth-domain-config-required"),H(y.config.apiKey,y,"invalid-api-key");const K={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:w,v:re.SDK_VERSION,eventId:I};if(p instanceof Co){p.setDefaultLanguage(y.languageCode),K.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[je,nt]of Object.entries(O||{}))K[je]=nt}if(p instanceof vs){const je=p.getScopes().filter(nt=>""!==nt);je.length>0&&(K.scopes=je.join(","))}y.tenantId&&(K.tid=y.tenantId);const ue=K;for(const je of Object.keys(ue))void 0===ue[je]&&delete ue[je];return`${function ky({config:y}){return y.emulator?Xe(y,Nm):`https://${y.authDomain}/${Pm}`}(y)}?${(0,N.xO)(ue).slice(1)}`}const wi="webStorageSupport",Di=class ga{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mr,this._completeRedirectFn=Tt,this._overrideRedirectResult=pa}_openPopup(p,m,w,I){var O=this;return(0,l.Z)(function*(){var K;He(null===(K=O.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ue=zd(p,m,w,fe(),I);return function Fm(y,p,m,w=jt,I=Or){const O=Math.max((window.screen.availHeight-I)/2,0).toString(),K=Math.max((window.screen.availWidth-w)/2,0).toString();let ue="";const je=Object.assign(Object.assign({},du),{width:w.toString(),height:I.toString(),top:O,left:K}),nt=(0,N.z$)().toLowerCase();m&&(ue=Ye(nt)?Ry:m),ne(nt)&&(p=p||nc,je.scrollbars="yes");const vt=Object.entries(je).reduce((ui,[ao,cl])=>`${ui}${ao}=${cl},`,"");if(function Jr(y=(0,N.z$)()){var p;return Bt(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(nt)&&"_self"!==ue)return function so(y,p){const m=document.createElement("a");m.href=y,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ue),new Om(null);const mt=window.open(p||"",ue,vt);H(mt,y,"popup-blocked");try{mt.focus()}catch{}return new Om(mt)}(p,ue,io())})()}_openRedirect(p,m,w,I){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(p),function Qo(y){Sn().location.href=y}(zd(p,m,w,fe(),I)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:I,promise:O}=this.eventManagers[m];return I?Promise.resolve(I):(He(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const w=yield function Cf(y){return uu.apply(this,arguments)}(p),I=new qr(p);return w.register("authEvent",O=>(H(O?.authEvent,p,"invalid-auth-event"),{status:I.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:I},m.iframes[p._key()]=w,I})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(wi,{type:wi},I=>{var O;const K=null===(O=I?.[0])||void 0===O?void 0:O[wi];void 0!==K&&m(!!K),xe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ec(y){return vi.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Qh()||rt()||Bt()}};class xf{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return ve("unexpected MultiFactorSessionType")}}}class hu extends xf{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new hu(p)}_finalizeEnroll(p,m,w){return function Dm(y,p){return Rt(y,"POST","/v2/accounts/mfaEnrollment:finalize",it(y,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Gr(y,p){return Rt(y,"POST","/v2/accounts/mfaSignIn:finalize",it(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $d=(()=>{class y{constructor(){}static assertion(m){return hu._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Sf="@firebase/auth";class ya{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rl(){return window}(0,N.Pz)("authIdTokenMaxAge"),function fu(y){(0,re._registerComponent)(new me.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),I=p.getProvider("heartbeat"),{apiKey:O,authDomain:K}=w.options;return((ue,je)=>{H(O&&!O.includes(":"),"invalid-api-key",{appName:ue.name}),H(!K?.includes(":"),"argument-error",{appName:ue.name});const nt={apiKey:O,authDomain:K,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Al(y)},vt=new Xh(ue,je,nt);return function ae(y,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(yt);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(vt,m),vt})(w,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new me.wA("auth-internal",p=>{const m=Un(p.getProvider("auth").getImmediate());return new ya(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(Sf,"0.22.0",function Jt(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,re.registerVersion)(Sf,"0.22.0","esm2017")}("Browser");const va=2e3;function qd(){return qd=(0,l.Z)(function*(y,p,m){var w;const{BuildInfo:I}=rl();He(p.sessionId,"AuthEvent did not contain a session ID");const O=yield function Oy(y){return gu.apply(this,arguments)}(p.sessionId),K={};return Bt()?K.ibi=I.packageName:Pn()?K.apn=I.packageName:xe(y,"operation-not-supported-in-this-environment"),I.displayName&&(K.appDisplayName=I.displayName),K.sessionId=O,zd(y,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,K)}),qd.apply(this,arguments)}function mu(){return(mu=(0,l.Z)(function*(y){const{BuildInfo:p}=rl(),m={};Bt()?m.iosBundleId=p.packageName:Pn()?m.androidPackageName=p.packageName:xe(y,"operation-not-supported-in-this-environment"),yield Hd(y,m)})).apply(this,arguments)}function sc(){return(sc=(0,l.Z)(function*(y,p,m){const{cordova:w}=rl();let I=()=>{};try{yield new Promise((O,K)=>{let ue=null;function je(){var mt;O();const ui=null===(mt=w.plugins.browsertab)||void 0===mt?void 0:mt.close;"function"==typeof ui&&ui(),"function"==typeof m?.close&&m.close()}function nt(){ue||(ue=window.setTimeout(()=>{K(we(y,"redirect-cancelled-by-user"))},va))}function vt(){"visible"===document?.visibilityState&&nt()}p.addPassiveListener(je),document.addEventListener("resume",nt,!1),Pn()&&document.addEventListener("visibilitychange",vt,!1),I=()=>{p.removePassiveListener(je),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",vt,!1),ue&&window.clearTimeout(ue)}})}finally{I()}})).apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(y){const p=function Fy(y){if(He(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let w=0;w<y.length;w++)m[w]=y.charCodeAt(w);return m}(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Zd=20;class Py extends qr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function Bm(y){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,l.Z)(function*(y){const p=yield vu()._get(Ms(y));return p&&(yield vu()._remove(Ms(y))),p})).apply(this,arguments)}function yu(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<Zd;m++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function vu(){return yt(ru)}function Ms(y){return U("authEvent",y.config.apiKey,y.name)}function ac(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,N.zd)(m.join("?"))}const lc=class Um{constructor(){this._redirectPersistence=Mr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tt,this._overrideRedirectResult=pa}_initialize(p){var m=this;return(0,l.Z)(function*(){const w=p._key();let I=m.eventManagers.get(w);return I||(I=new Py(p),m.eventManagers.set(w,I),m.attachCallbackListeners(p,I)),I})()}_openPopup(p){xe(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,I){var O=this;return(0,l.Z)(function*(){!function If(y){var p,m,w,I,O,K,ue,je,nt,vt;const mt=rl();H("function"==typeof(null===(p=mt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof(null===(m=mt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(O=null===(I=null===(w=mt?.cordova)||void 0===w?void 0:w.plugins)||void 0===I?void 0:I.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(je=null===(ue=null===(K=mt?.cordova)||void 0===K?void 0:K.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===je?void 0:je.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(vt=null===(nt=mt?.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===vt?void 0:vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const K=yield O._initialize(p);yield K.initialized(),K.resetRedirect(),function fa(){is.clear()}(),yield O._originValidation(p);const ue=function Ny(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:yu(),postBody:null,tenantId:y.tenantId,error:we(y,"no-auth-event")}}(p,w,I);yield function Ly(y,p){return vu()._set(Ms(y),p)}(p,ue);const je=yield function pu(y,p,m){return qd.apply(this,arguments)}(p,ue,m),nt=yield function Wd(y){const{cordova:p}=rl();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let I=null;w?p.plugins.browsertab.openUrl(y):I=p.InAppBrowser.open(y,function qi(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(I)})})}(je);return function As(y,p,m){return sc.apply(this,arguments)}(p,K,nt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function oc(y){return mu.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:I,BuildInfo:O}=rl(),K=setTimeout((0,l.Z)(function*(){yield Bm(p),m.onEvent(cc())}),500),ue=function(){var vt=(0,l.Z)(function*(mt){clearTimeout(K);const ui=yield Bm(p);let ao=null;ui&&mt?.url&&(ao=function _u(y,p){var m,w;const I=function Vy(y){const p=ac(y),m=p.link?decodeURIComponent(p.link):void 0,w=ac(m).link,I=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ac(I).link||I||w||m||y}(p);if(I.includes("/__/auth/callback")){const O=ac(I),K=O.firebaseError?function Tf(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ue=null===(w=null===(m=K?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],je=ue?we(ue):null;return je?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(ui,mt.url)),m.onEvent(ao||cc())});return function(ui){return vt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ue);const je=I,nt=`${O.packageName.toLowerCase()}://`;rl().handleOpenURL=function(){var vt=(0,l.Z)(function*(mt){if(mt.toLowerCase().startsWith(nt)&&ue({url:mt}),"function"==typeof je)try{je(mt)}catch(ui){console.error(ui)}});return function(mt){return vt.apply(this,arguments)}}()}};function cc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}const Af=1e3;function Ro(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Kd(y=(0,N.z$)()){return!("file:"!==Ro()&&"ionic:"!==Ro()&&"capacitor:"!==Ro()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xd(){try{const y=self.localStorage,p=io();if(y)return y.setItem(p,"1"),y.removeItem(p),!function ol(y=(0,N.z$)()){return function Qd(){return(0,N.w1)()&&11===document?.documentMode}()||function uc(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return sl()&&(0,N.hl)()}return!1}function sl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Eu(){return(function jm(){return"http:"===Ro()||"https:"===Ro()}()||(0,N.ru)()||Kd())&&!function Mf(){return(0,N.b$)()||(0,N.UG)()}()&&Xd()&&!sl()}function al(){return Kd()&&typeof document<"u"}function wa(){return(wa=(0,l.Z)(function*(){return!!al()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},Af);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const _r={LOCAL:"local",NONE:"none",SESSION:"session"},ko=H,dc="persistence";function Ea(y){return xu.apply(this,arguments)}function xu(){return(xu=(0,l.Z)(function*(y){yield y._initializationPromise;const p=$m(),m=U(dc,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function $m(){var y;try{return(null===(y=function rs(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const By=H;class ll{constructor(){this.browserResolver=yt(Di),this.cordovaResolver=yt(lc),this.underlyingResolver=null,this._redirectPersistence=Mr,this._completeRedirectFn=Tt,this._overrideRedirectResult=pa}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,I){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,m,w,I)})()}_openRedirect(p,m,w,I){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,m,w,I)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return al()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return By(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function zm(){return wa.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Gm(y){return y.unwrap()}function Uy(y){return Du(y)}function Du(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Ao.credentialFromResult(y);const m=p.providerId;if(!m||m===de.PASSWORD)return null;let w;switch(m){case de.GOOGLE:w=Jh;break;case de.FACEBOOK:w=$c;break;case de.GITHUB:w=ef;break;case de.TWITTER:w=ym;break;default:const{oauthIdToken:I,oauthAccessToken:O,oauthTokenSecret:K,pendingToken:ue,nonce:je}=p;return O||K||I||ue?ue?m.startsWith("saml.")?Ws._create(m,ue):wo._fromParams({providerId:m,signInMethod:m,pendingToken:ue,idToken:I,accessToken:O}):new La(m).credential({idToken:I,accessToken:O,rawNonce:je}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Xi(y,p){return p.catch(m=>{throw m instanceof N.ZR&&function qm(y,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Wm(y,function xm(y,p){var m;const w=(0,N.m9)(y),I=p;return H(p.customData.operationType,w,"argument-error"),H(null===(m=I.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Xn._fromError(w,I)}(y,p));else if(w){const I=Du(p),O=p;I&&(O.credential=I,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(y,m),m}).then(m=>{const I=m.user;return{operationType:m.operationType,credential:Uy(m),additionalUserInfo:wm(m),user:yr.getOrCreate(I)}})}function Su(y,p){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,l.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Xi(y,m.confirm(w))}})).apply(this,arguments)}class Wm{constructor(p,m){this.resolver=m,this.auth=function Rf(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Xi(Gm(this.auth),this.resolver.resolveSignIn(p))}}class yr{constructor(p){this._delegate=p,this.multiFactor=function Ko(y){const p=(0,N.m9)(y);return Cs.has(p)||Cs.set(p,ea._fromUser(p)),Cs.get(p)}(p)}static getOrCreate(p){return yr.USER_MAP.has(p)||yr.USER_MAP.set(p,new yr(p)),yr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return Xi(m.auth,Ua(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,l.Z)(function*(){return Su(w.auth,function My(y,p,m){return mf.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return Xi(m.auth,function Ke(y,p,m){return Xt.apply(this,arguments)}(m._delegate,p,ll))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield Ea(Un(m.auth)),ke(m._delegate,p,ll)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return Xi(m.auth,Vl(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Su(this.auth,function Mm(y,p,m){return ua.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Xi(this.auth,function Qt(y,p,m){return ro.apply(this,arguments)}(this._delegate,p,ll))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield Ea(Un(m.auth)),V(m._delegate,p,ll)})()}sendEmailVerification(p){return function Sd(y,p){return jl.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function wd(y,p){return ws.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function zl(y,p){return Td((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Id(y,p){return Td((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function ci(y,p){return Ql.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Ga(y,p){return Tr.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Qc(y,p,m){return Hn.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yr.USER_MAP=new WeakMap;const Iu=H;let Zm=(()=>{class y{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=m.options;Iu(I,"invalid-api-key",{appName:m.name}),Iu(I,"invalid-api-key",{appName:m.name});const O=typeof window<"u"?ll:void 0;this._delegate=w.initialize({options:{persistence:Of(I,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Hc(y,p,m){const w=Un(y);H(w._canInitEmulator,w,"emulator-config-failed"),H(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const I=!!m?.disableWarnings,O=on(p),{host:K,port:ue}=function Qn(y){const p=on(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(w);if(I){const O=I[1];return{host:O,port:mi(w.substr(O.length+1))}}{const[O,K]=w.split(":");return{host:O,port:mi(K)}}}(p);w.config.emulator={url:`${O}//${K}${null===ue?"":`:${ue}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:K,port:ue,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function Go(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,w)}applyActionCode(m){return function Cd(y,p){return Bl.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return xd(this._delegate,m)}confirmPasswordReset(m,w){return function Yc(y,p,m){return Ot.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var I=this;return(0,l.Z)(function*(){return Xi(I._delegate,function nf(y,p,m){return Rn.apply(this,arguments)}(I._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Dd(y,p){return Js.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function rf(y,p){return"EMAIL_SIGNIN"===Oi.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){Iu(Eu(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function gt(y,p){return Kt.apply(this,arguments)}(m._delegate,ll);return w?Xi(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function bu(y,p){Un(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,I){const{next:O,error:K,complete:ue}=kf(m,w,I);return this._delegate.onAuthStateChanged(O,K,ue)}onIdTokenChanged(m,w,I){const{next:O,error:K,complete:ue}=kf(m,w,I);return this._delegate.onIdTokenChanged(O,K,ue)}sendSignInLinkToEmail(m,w){return function sn(y,p,m){return Hl.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function Do(y,p,m){return Qs.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,l.Z)(function*(){let I;switch(function Cu(y,p){ko(Object.values(_r).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?ko(p!==_r.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?ko(p===_r.NONE,y,"unsupported-persistence-type"):sl()?ko(p===_r.NONE||p===_r.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):ko(p===_r.NONE||Xd(),y,"unsupported-persistence-type")}(w._delegate,m),m){case _r.SESSION:I=Mr;break;case _r.LOCAL:I=(yield yt(Io)._isAvailable())?Io:ru;break;case _r.NONE:I=j;break;default:return xe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Xi(this._delegate,function Ol(y){return bd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Xi(this._delegate,cn(this._delegate,m))}signInWithCustomToken(m){return Xi(this._delegate,function Wc(y,p){return no.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Xi(this._delegate,function Ae(y,p,m){return cn((0,N.m9)(y),vd.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Xi(this._delegate,function li(y,p,m){return Kc.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Su(this._delegate,function ff(y,p,m){return pf.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,l.Z)(function*(){return Iu(Eu(),w._delegate,"operation-not-supported-in-this-environment"),Xi(w._delegate,function yf(y,p,m){return Rm.apply(this,arguments)}(w._delegate,m,ll))})()}signInWithRedirect(m){var w=this;return(0,l.Z)(function*(){return Iu(Eu(),w._delegate,"operation-not-supported-in-this-environment"),yield Ea(w._delegate),D(w._delegate,m,ll)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function tf(y,p){return Ul.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=_r,y})();function kf(y,p,m){let w=y;"function"!=typeof y&&({next:w,error:p,complete:m}=y);const I=w;return{next:K=>I(K&&yr.getOrCreate(K)),error:p,complete:m}}function Of(y,p){const m=function hc(y,p){const m=$m();if(!m)return[];const w=U(dc,y,p);switch(m.getItem(w)){case _r.NONE:return[j];case _r.LOCAL:return[Io,Mr];case _r.SESSION:return[Mr];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(Io)&&m.push(Io),typeof window<"u")for(const w of[ru,Mr])m.includes(w)||m.push(w);return m.includes(j)||m.push(j),m}class Tu{constructor(){this.providerId="phone",this._delegate=new Ao(Gm(ee.Z.auth()))}static credential(p,m){return Ao.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Tu.PHONE_SIGN_IN_METHOD=Ao.PHONE_SIGN_IN_METHOD,Tu.PROVIDER_ID=Ao.PROVIDER_ID;const Vi=H;class Oo{constructor(p,m,w=ee.Z.app()){var I;Vi(null===(I=w.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new wn(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Km(y){y.INTERNAL.registerComponent(new me.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Zm(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Q_EMAIL_SIGNIN,PASSWORD_RESET:Q_PASSWORD_RESET,RECOVER_EMAIL:Q_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Q_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Q_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Q_VERIFY_EMAIL}},EmailAuthProvider:vd,FacebookAuthProvider:$c,GithubAuthProvider:ef,GoogleAuthProvider:Jh,OAuthProvider:La,SAMLAuthProvider:Sr,PhoneAuthProvider:Tu,PhoneMultiFactorGenerator:$d,RecaptchaVerifier:Oo,TwitterAuthProvider:ym,Auth:Zm,AuthCredential:si,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.7")}(ee.Z)},8766:(_t,Ee,P)=>{P.d(Ee,{Lj:()=>xe,X3:()=>Le});var l=P(5861);const ee=(H,ve)=>ve.some(He=>H instanceof He);let N,re;const me=new WeakMap,he=new WeakMap,de=new WeakMap,z=new WeakMap,q=new WeakMap;let De={get(H,ve,He){if(H instanceof IDBTransaction){if("done"===ve)return he.get(H);if("objectStoreNames"===ve)return H.objectStoreNames||de.get(H);if("store"===ve)return He.objectStoreNames[1]?void 0:He.objectStore(He.objectStoreNames[0])}return Se(H[ve])},set:(H,ve,He)=>(H[ve]=He,!0),has:(H,ve)=>H instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in H};function pe(H){return"function"==typeof H?function dt(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...ve){return H.apply(Ie(this),ve),Se(me.get(this))}:function(...ve){return Se(H.apply(Ie(this),ve))}:function(ve,...He){const Ze=H.call(Ie(this),ve,...He);return de.set(Ze,ve.sort?ve.sort():[ve]),Se(Ze)}}(H):(H instanceof IDBTransaction&&function ze(H){if(he.has(H))return;const ve=new Promise((He,Ze)=>{const yt=()=>{H.removeEventListener("complete",ot),H.removeEventListener("error",ae),H.removeEventListener("abort",ae)},ot=()=>{He(),yt()},ae=()=>{Ze(H.error||new DOMException("AbortError","AbortError")),yt()};H.addEventListener("complete",ot),H.addEventListener("error",ae),H.addEventListener("abort",ae)});he.set(H,ve)}(H),ee(H,function oe(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,De):H)}function Se(H){if(H instanceof IDBRequest)return function Q(H){const ve=new Promise((He,Ze)=>{const yt=()=>{H.removeEventListener("success",ot),H.removeEventListener("error",ae)},ot=()=>{He(Se(H.result)),yt()},ae=()=>{Ze(H.error),yt()};H.addEventListener("success",ot),H.addEventListener("error",ae)});return ve.then(He=>{He instanceof IDBCursor&&me.set(He,H)}).catch(()=>{}),q.set(ve,H),ve}(H);if(z.has(H))return z.get(H);const ve=pe(H);return ve!==H&&(z.set(H,ve),q.set(ve,H)),ve}const Ie=H=>q.get(H);function Le(H,ve,{blocked:He,upgrade:Ze,blocking:yt,terminated:ot}={}){const ae=indexedDB.open(H,ve),fe=Se(ae);return Ze&&ae.addEventListener("upgradeneeded",be=>{Ze(Se(ae.result),be.oldVersion,be.newVersion,Se(ae.transaction))}),He&&ae.addEventListener("blocked",()=>He()),fe.then(be=>{ot&&be.addEventListener("close",()=>ot()),yt&&be.addEventListener("versionchange",()=>yt())}).catch(()=>{}),fe}function xe(H,{blocked:ve}={}){const He=indexedDB.deleteDatabase(H);return ve&&He.addEventListener("blocked",()=>ve()),Se(He).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],Ue=new Map;function Pe(H,ve){if(!(H instanceof IDBDatabase)||ve in H||"string"!=typeof ve)return;if(Ue.get(ve))return Ue.get(ve);const He=ve.replace(/FromIndex$/,""),Ze=ve!==He,yt=Me.includes(He);if(!(He in(Ze?IDBIndex:IDBObjectStore).prototype)||!yt&&!we.includes(He))return;const ot=function(){var ae=(0,l.Z)(function*(fe,...be){const Re=this.transaction(fe,yt?"readwrite":"readonly");let Ve=Re.store;return Ze&&(Ve=Ve.index(be.shift())),(yield Promise.all([Ve[He](...be),yt&&Re.done]))[0]});return function(be){return ae.apply(this,arguments)}}();return Ue.set(ve,ot),ot}!function qe(H){De=H(De)}(H=>({...H,get:(ve,He,Ze)=>Pe(ve,He)||H.get(ve,He,Ze),has:(ve,He)=>!!Pe(ve,He)||H.has(ve,He)}))},5861:(_t,Ee,P)=>{function l(N,re,oe,J,me,he,de){try{var z=N[he](de),q=z.value}catch(Q){return void oe(Q)}z.done?re(q):Promise.resolve(q).then(J,me)}function ee(N){return function(){var re=this,oe=arguments;return new Promise(function(J,me){var he=N.apply(re,oe);function de(q){l(he,J,me,de,z,"next",q)}function z(q){l(he,J,me,de,z,"throw",q)}de(void 0)})}}P.d(Ee,{Z:()=>ee})}},_t=>{_t(_t.s=2630)}]);